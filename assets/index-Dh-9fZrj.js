var xK=Object.defineProperty;var zI=t=>{throw TypeError(t)};var bK=(t,e,r)=>e in t?xK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var mn=(t,e,r)=>bK(t,typeof e!="symbol"?e+"":e,r),d1=(t,e,r)=>e.has(t)||zI("Cannot "+r);var xe=(t,e,r)=>(d1(t,e,"read from private field"),r?r.call(t):e.get(t)),Yt=(t,e,r)=>e.has(t)?zI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),wt=(t,e,r,n)=>(d1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Nn=(t,e,r)=>(d1(t,e,"access private method"),r);var wv=(t,e,r,n)=>({set _(s){wt(t,e,s,r)},get _(){return xe(t,e,n)}});function wK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f1={exports:{}},Uh={},h1={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function _K(){if(qI)return At;qI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function y(H,Q,re){this.props=H,this.context=Q,this.refs=b,this.updater=re||x}y.prototype.isReactComponent={},y.prototype.setState=function(H,Q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Q,"setState")},y.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=y.prototype;function S(H,Q,re){this.props=H,this.context=Q,this.refs=b,this.updater=re||x}var T=S.prototype=new N;T.constructor=S,_(T,y.prototype),T.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(H,Q,re){var Z,me={},pe=null,fe=null;if(Q!=null)for(Z in Q.ref!==void 0&&(fe=Q.ref),Q.key!==void 0&&(pe=""+Q.key),Q)C.call(Q,Z)&&!k.hasOwnProperty(Z)&&(me[Z]=Q[Z]);var we=arguments.length-2;if(we===1)me.children=re;else if(1<we){for(var ce=Array(we),be=0;be<we;be++)ce[be]=arguments[be+2];me.children=ce}if(H&&H.defaultProps)for(Z in we=H.defaultProps,we)me[Z]===void 0&&(me[Z]=we[Z]);return{$$typeof:t,type:H,key:pe,ref:fe,props:me,_owner:O.current}}function M(H,Q){return{$$typeof:t,type:H.type,key:Q,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var Q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(re){return Q[re]})}var D=/\/+/g;function L(H,Q){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):Q.toString(36)}function B(H,Q,re,Z,me){var pe=typeof H;(pe==="undefined"||pe==="boolean")&&(H=null);var fe=!1;if(H===null)fe=!0;else switch(pe){case"string":case"number":fe=!0;break;case"object":switch(H.$$typeof){case t:case e:fe=!0}}if(fe)return fe=H,me=me(fe),H=Z===""?"."+L(fe,0):Z,E(me)?(re="",H!=null&&(re=H.replace(D,"$&/")+"/"),B(me,Q,re,"",function(be){return be})):me!=null&&(V(me)&&(me=M(me,re+(!me.key||fe&&fe.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+H)),Q.push(me)),1;if(fe=0,Z=Z===""?".":Z+":",E(H))for(var we=0;we<H.length;we++){pe=H[we];var ce=Z+L(pe,we);fe+=B(pe,Q,re,ce,me)}else if(ce=p(H),typeof ce=="function")for(H=ce.call(H),we=0;!(pe=H.next()).done;)pe=pe.value,ce=Z+L(pe,we++),fe+=B(pe,Q,re,ce,me);else if(pe==="object")throw Q=String(H),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return fe}function G(H,Q,re){if(H==null)return H;var Z=[],me=0;return B(H,Z,"","",function(pe){return Q.call(re,pe,me++)}),Z}function q(H){if(H._status===-1){var Q=H._result;Q=Q(),Q.then(function(re){(H._status===0||H._status===-1)&&(H._status=1,H._result=re)},function(re){(H._status===0||H._status===-1)&&(H._status=2,H._result=re)}),H._status===-1&&(H._status=0,H._result=Q)}if(H._status===1)return H._result.default;throw H._result}var Y={current:null},z={transition:null},J={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:z,ReactCurrentOwner:O};function ne(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:G,forEach:function(H,Q,re){G(H,function(){Q.apply(this,arguments)},re)},count:function(H){var Q=0;return G(H,function(){Q++}),Q},toArray:function(H){return G(H,function(Q){return Q})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},At.Component=y,At.Fragment=r,At.Profiler=s,At.PureComponent=S,At.StrictMode=n,At.Suspense=u,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,At.act=ne,At.cloneElement=function(H,Q,re){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Z=_({},H.props),me=H.key,pe=H.ref,fe=H._owner;if(Q!=null){if(Q.ref!==void 0&&(pe=Q.ref,fe=O.current),Q.key!==void 0&&(me=""+Q.key),H.type&&H.type.defaultProps)var we=H.type.defaultProps;for(ce in Q)C.call(Q,ce)&&!k.hasOwnProperty(ce)&&(Z[ce]=Q[ce]===void 0&&we!==void 0?we[ce]:Q[ce])}var ce=arguments.length-2;if(ce===1)Z.children=re;else if(1<ce){we=Array(ce);for(var be=0;be<ce;be++)we[be]=arguments[be+2];Z.children=we}return{$$typeof:t,type:H.type,key:me,ref:pe,props:Z,_owner:fe}},At.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},At.createElement=R,At.createFactory=function(H){var Q=R.bind(null,H);return Q.type=H,Q},At.createRef=function(){return{current:null}},At.forwardRef=function(H){return{$$typeof:l,render:H}},At.isValidElement=V,At.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:q}},At.memo=function(H,Q){return{$$typeof:d,type:H,compare:Q===void 0?null:Q}},At.startTransition=function(H){var Q=z.transition;z.transition={};try{H()}finally{z.transition=Q}},At.unstable_act=ne,At.useCallback=function(H,Q){return Y.current.useCallback(H,Q)},At.useContext=function(H){return Y.current.useContext(H)},At.useDebugValue=function(){},At.useDeferredValue=function(H){return Y.current.useDeferredValue(H)},At.useEffect=function(H,Q){return Y.current.useEffect(H,Q)},At.useId=function(){return Y.current.useId()},At.useImperativeHandle=function(H,Q,re){return Y.current.useImperativeHandle(H,Q,re)},At.useInsertionEffect=function(H,Q){return Y.current.useInsertionEffect(H,Q)},At.useLayoutEffect=function(H,Q){return Y.current.useLayoutEffect(H,Q)},At.useMemo=function(H,Q){return Y.current.useMemo(H,Q)},At.useReducer=function(H,Q,re){return Y.current.useReducer(H,Q,re)},At.useRef=function(H){return Y.current.useRef(H)},At.useState=function(H){return Y.current.useState(H)},At.useSyncExternalStore=function(H,Q,re){return Y.current.useSyncExternalStore(H,Q,re)},At.useTransition=function(){return Y.current.useTransition()},At.version="18.3.1",At}var HI;function ST(){return HI||(HI=1,h1.exports=_K()),h1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI;function jK(){if(WI)return Uh;WI=1;var t=ST(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,m={},p=null,x=null;d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(x=u.ref);for(h in u)n.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:e,type:l,key:p,ref:x,props:m,_owner:s.current}}return Uh.Fragment=r,Uh.jsx=o,Uh.jsxs=o,Uh}var GI;function SK(){return GI||(GI=1,f1.exports=jK()),f1.exports}var a=SK(),jv={},m1={exports:{}},is={},p1={exports:{}},g1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI;function NK(){return KI||(KI=1,function(t){function e(z,J){var ne=z.length;z.push(J);e:for(;0<ne;){var H=ne-1>>>1,Q=z[H];if(0<s(Q,J))z[H]=J,z[ne]=Q,ne=H;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],ne=z.pop();if(ne!==J){z[0]=ne;e:for(var H=0,Q=z.length,re=Q>>>1;H<re;){var Z=2*(H+1)-1,me=z[Z],pe=Z+1,fe=z[pe];if(0>s(me,ne))pe<Q&&0>s(fe,me)?(z[H]=fe,z[pe]=ne,H=pe):(z[H]=me,z[Z]=ne,H=Z);else if(pe<Q&&0>s(fe,ne))z[H]=fe,z[pe]=ne,H=pe;else break e}}return J}function s(z,J){var ne=z.sortIndex-J.sortIndex;return ne!==0?ne:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,m=null,p=3,x=!1,_=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var J=r(d);J!==null;){if(J.callback===null)n(d);else if(J.startTime<=z)n(d),J.sortIndex=J.expirationTime,e(u,J);else break;J=r(d)}}function E(z){if(b=!1,T(z),!_)if(r(u)!==null)_=!0,q(C);else{var J=r(d);J!==null&&Y(E,J.startTime-z)}}function C(z,J){_=!1,b&&(b=!1,N(R),R=-1),x=!0;var ne=p;try{for(T(J),m=r(u);m!==null&&(!(m.expirationTime>J)||z&&!$());){var H=m.callback;if(typeof H=="function"){m.callback=null,p=m.priorityLevel;var Q=H(m.expirationTime<=J);J=t.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(u)&&n(u),T(J)}else n(u);m=r(u)}if(m!==null)var re=!0;else{var Z=r(d);Z!==null&&Y(E,Z.startTime-J),re=!1}return re}finally{m=null,p=ne,x=!1}}var O=!1,k=null,R=-1,M=5,V=-1;function $(){return!(t.unstable_now()-V<M)}function D(){if(k!==null){var z=t.unstable_now();V=z;var J=!0;try{J=k(!0,z)}finally{J?L():(O=!1,k=null)}}else O=!1}var L;if(typeof S=="function")L=function(){S(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=D,L=function(){G.postMessage(null)}}else L=function(){y(D,0)};function q(z){k=z,O||(O=!0,L())}function Y(z,J){R=y(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,q(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var ne=p;p=J;try{return z()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=p;p=z;try{return J()}finally{p=ne}},t.unstable_scheduleCallback=function(z,J,ne){var H=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?H+ne:H):ne=H,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ne+Q,z={id:h++,callback:J,priorityLevel:z,startTime:ne,expirationTime:Q,sortIndex:-1},ne>H?(z.sortIndex=ne,e(d,z),r(u)===null&&z===r(d)&&(b?(N(R),R=-1):b=!0,Y(E,ne-H))):(z.sortIndex=Q,e(u,z),_||x||(_=!0,q(C))),z},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(z){var J=p;return function(){var ne=p;p=J;try{return z.apply(this,arguments)}finally{p=ne}}}}(g1)),g1}var YI;function EK(){return YI||(YI=1,p1.exports=NK()),p1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI;function AK(){if(QI)return is;QI=1;var t=ST(),e=EK();function r(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,f){o(c,f),o(c+"Capture",f)}function o(c,f){for(s[c]=f,c=0;c<f.length;c++)n.add(f[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(c){return u.call(m,c)?!0:u.call(h,c)?!1:d.test(c)?m[c]=!0:(h[c]=!0,!1)}function x(c,f,g,w){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function _(c,f,g,w){if(f===null||typeof f>"u"||x(c,f,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function b(c,f,g,w,A,I,U){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=c,this.type=f,this.sanitizeURL=I,this.removeEmptyString=U}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];y[f]=new b(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(N,S);y[f]=new b(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(N,S);y[f]=new b(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(N,S);y[f]=new b(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function T(c,f,g,w){var A=y.hasOwnProperty(f)?y[f]:null;(A!==null?A.type!==0:w||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(_(f,g,A,w)&&(g=null),w||A===null?p(f)&&(g===null?c.removeAttribute(f):c.setAttribute(f,""+g)):A.mustUseProperty?c[A.propertyName]=g===null?A.type===3?!1:"":g:(f=A.attributeName,w=A.attributeNamespace,g===null?c.removeAttribute(f):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,w?c.setAttributeNS(w,f,g):c.setAttribute(f,g))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),z=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=z&&c[z]||c["@@iterator"],typeof c=="function"?c:null)}var ne=Object.assign,H;function Q(c){if(H===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);H=f&&f[1]||""}return`
`+H+c}var re=!1;function Z(c,f){if(!c||re)return"";re=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(de){var w=de}Reflect.construct(c,[],f)}else{try{f.call()}catch(de){w=de}c.call(f.prototype)}else{try{throw Error()}catch(de){w=de}c()}}catch(de){if(de&&w&&typeof de.stack=="string"){for(var A=de.stack.split(`
`),I=w.stack.split(`
`),U=A.length-1,X=I.length-1;1<=U&&0<=X&&A[U]!==I[X];)X--;for(;1<=U&&0<=X;U--,X--)if(A[U]!==I[X]){if(U!==1||X!==1)do if(U--,X--,0>X||A[U]!==I[X]){var ee=`
`+A[U].replace(" at new "," at ");return c.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",c.displayName)),ee}while(1<=U&&0<=X);break}}}finally{re=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?Q(c):""}function me(c){switch(c.tag){case 5:return Q(c.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return c=Z(c.type,!1),c;case 11:return c=Z(c.type.render,!1),c;case 1:return c=Z(c.type,!0),c;default:return""}}function pe(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case O:return"Portal";case M:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case $:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case D:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case G:return f=c.displayName||null,f!==null?f:pe(c.type)||"Memo";case q:f=c._payload,c=c._init;try{return pe(c(f))}catch{}}return null}function fe(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(f);case 8:return f===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function we(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ce(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function be(c){var f=ce(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),w=""+c[f];if(!c.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,I=g.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return A.call(this)},set:function(U){w=""+U,I.call(this,U)}}),Object.defineProperty(c,f,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(U){w=""+U},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Ee(c){c._valueTracker||(c._valueTracker=be(c))}function ue(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),w="";return c&&(w=ce(c)?c.checked?"true":"false":c.value),c=w,c!==g?(f.setValue(c),!0):!1}function Ke(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ve(c,f){var g=f.checked;return ne({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Ge(c,f){var g=f.defaultValue==null?"":f.defaultValue,w=f.checked!=null?f.checked:f.defaultChecked;g=we(f.value!=null?f.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function ut(c,f){f=f.checked,f!=null&&T(c,"checked",f,!1)}function Gt(c,f){ut(c,f);var g=we(f.value),w=f.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?kt(c,f.type,g):f.hasOwnProperty("defaultValue")&&kt(c,f.type,we(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function kr(c,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var w=f.type;if(!(w!=="submit"&&w!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,g||f===c.value||(c.value=f),c.defaultValue=f}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function kt(c,f,g){(f!=="number"||Ke(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Zt=Array.isArray;function Ie(c,f,g,w){if(c=c.options,f){f={};for(var A=0;A<g.length;A++)f["$"+g[A]]=!0;for(g=0;g<c.length;g++)A=f.hasOwnProperty("$"+c[g].value),c[g].selected!==A&&(c[g].selected=A),A&&w&&(c[g].defaultSelected=!0)}else{for(g=""+we(g),f=null,A=0;A<c.length;A++){if(c[A].value===g){c[A].selected=!0,w&&(c[A].defaultSelected=!0);return}f!==null||c[A].disabled||(f=c[A])}f!==null&&(f.selected=!0)}}function tt(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function et(c,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(r(92));if(Zt(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),g=f}c._wrapperState={initialValue:we(g)}}function Kt(c,f){var g=we(f.value),w=we(f.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),f.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Et(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function Rt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?Rt(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var bt,ur=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,w,A){MSApp.execUnsafeLocalFunction(function(){return c(f,g,w,A)})}:c}(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=bt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function Yn(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(c){ps.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),ui[f]=ui[c]})});function Vs(c,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||ui.hasOwnProperty(c)&&ui[c]?(""+f).trim():f+"px"}function Ia(c,f){c=c.style;for(var g in f)if(f.hasOwnProperty(g)){var w=g.indexOf("--")===0,A=Vs(g,f[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,A):c[g]=A}}var Wr=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(c,f){if(f){if(Wr[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function Ji(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ze=null;function mt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ot=null,dr=null,jr=null;function gs(c){if(c=Ah(c)){if(typeof Ot!="function")throw Error(r(280));var f=c.stateNode;f&&(f=Dg(f),Ot(c.stateNode,c.type,f))}}function Dn(c){dr?jr?jr.push(c):jr=[c]:dr=c}function Do(){if(dr){var c=dr,f=jr;if(jr=dr=null,gs(c),f)for(c=0;c<f.length;c++)gs(f[c])}}function Ra(c,f){return c(f)}function mc(){}var di=!1;function pc(c,f,g){if(di)return c(f,g);di=!0;try{return Ra(c,f,g)}finally{di=!1,(dr!==null||jr!==null)&&(mc(),Do())}}function Sr(c,f){var g=c.stateNode;if(g===null)return null;var w=Dg(g);if(w===null)return null;g=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var Lo=!1;if(l)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Lo=!1}function Ce(c,f,g,w,A,I,U,X,ee){var de=Array.prototype.slice.call(arguments,3);try{f.apply(g,de)}catch(Se){this.onError(Se)}}var Pe=!1,pt=null,ot=!1,Qn=null,Fo={onError:function(c){Pe=!0,pt=c}};function fi(c,f,g,w,A,I,U,X,ee){Pe=!1,pt=null,Ce.apply(Fo,arguments)}function Xn(c,f,g,w,A,I,U,X,ee){if(fi.apply(this,arguments),Pe){if(Pe){var de=pt;Pe=!1,pt=null}else throw Error(r(198));ot||(ot=!0,Qn=de)}}function vs(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function gc(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function hi(c){if(vs(c)!==c)throw Error(r(188))}function lg(c){var f=c.alternate;if(!f){if(f=vs(c),f===null)throw Error(r(188));return f!==c?null:c}for(var g=c,w=f;;){var A=g.return;if(A===null)break;var I=A.alternate;if(I===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===g)return hi(A),c;if(I===w)return hi(A),f;I=I.sibling}throw Error(r(188))}if(g.return!==w.return)g=A,w=I;else{for(var U=!1,X=A.child;X;){if(X===g){U=!0,g=A,w=I;break}if(X===w){U=!0,w=A,g=I;break}X=X.sibling}if(!U){for(X=I.child;X;){if(X===g){U=!0,g=I,w=A;break}if(X===w){U=!0,w=I,g=A;break}X=X.sibling}if(!U)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:f}function lh(c){return c=lg(c),c!==null?ku(c):null}function ku(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=ku(c);if(f!==null)return f;c=c.sibling}return null}var Pu=e.unstable_scheduleCallback,ch=e.unstable_cancelCallback,cg=e.unstable_shouldYield,V0=e.unstable_requestPaint,ar=e.unstable_now,ug=e.unstable_getCurrentPriorityLevel,vc=e.unstable_ImmediatePriority,$o=e.unstable_UserBlockingPriority,Bs=e.unstable_NormalPriority,uh=e.unstable_LowPriority,dg=e.unstable_IdlePriority,yc=null,ys=null;function fg(c){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(yc,c,void 0,(c.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:mg,dh=Math.log,hg=Math.LN2;function mg(c){return c>>>=0,c===0?32:31-(dh(c)/hg|0)|0}var Iu=64,Ru=4194304;function Vo(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function xc(c,f){var g=c.pendingLanes;if(g===0)return 0;var w=0,A=c.suspendedLanes,I=c.pingedLanes,U=g&268435455;if(U!==0){var X=U&~A;X!==0?w=Vo(X):(I&=U,I!==0&&(w=Vo(I)))}else U=g&~A,U!==0?w=Vo(U):I!==0&&(w=Vo(I));if(w===0)return 0;if(f!==0&&f!==w&&(f&A)===0&&(A=w&-w,I=f&-f,A>=I||A===16&&(I&4194240)!==0))return f;if((w&4)!==0&&(w|=g&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)g=31-Ln(f),A=1<<g,w|=c[g],f&=~A;return w}function B0(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(c,f){for(var g=c.suspendedLanes,w=c.pingedLanes,A=c.expirationTimes,I=c.pendingLanes;0<I;){var U=31-Ln(I),X=1<<U,ee=A[U];ee===-1?((X&g)===0||(X&w)!==0)&&(A[U]=B0(X,f)):ee<=f&&(c.expiredLanes|=X),I&=~X}}function xs(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function bc(){var c=Iu;return Iu<<=1,(Iu&4194240)===0&&(Iu=64),c}function Bo(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function Uo(c,f,g){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Ln(f),c[f]=g}function rr(c,f){var g=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var A=31-Ln(g),I=1<<A;f[A]=0,w[A]=-1,c[A]=-1,g&=~I}}function zo(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var w=31-Ln(g),A=1<<w;A&f|c[w]&f&&(c[w]|=f),g&=~A}}var Mt=0;function qo(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var pg,Ou,gg,vg,yg,fh=!1,Zi=[],un=null,mi=null,pi=null,Ho=new Map,Us=new Map,ea=[],U0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xg(c,f){switch(c){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Ho.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(f.pointerId)}}function Jn(c,f,g,w,A,I){return c===null||c.nativeEvent!==I?(c={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:I,targetContainers:[A]},f!==null&&(f=Ah(f),f!==null&&Ou(f)),c):(c.eventSystemFlags|=w,f=c.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),c)}function z0(c,f,g,w,A){switch(f){case"focusin":return un=Jn(un,c,f,g,w,A),!0;case"dragenter":return mi=Jn(mi,c,f,g,w,A),!0;case"mouseover":return pi=Jn(pi,c,f,g,w,A),!0;case"pointerover":var I=A.pointerId;return Ho.set(I,Jn(Ho.get(I)||null,c,f,g,w,A)),!0;case"gotpointercapture":return I=A.pointerId,Us.set(I,Jn(Us.get(I)||null,c,f,g,w,A)),!0}return!1}function bg(c){var f=Nc(c.target);if(f!==null){var g=vs(f);if(g!==null){if(f=g.tag,f===13){if(f=gc(g),f!==null){c.blockedOn=f,yg(c.priority,function(){gg(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ma(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=Mu(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);Ze=w,g.target.dispatchEvent(w),Ze=null}else return f=Ah(g),f!==null&&Ou(f),c.blockedOn=g,!1;f.shift()}return!0}function wc(c,f,g){Ma(c)&&g.delete(f)}function wg(){fh=!1,un!==null&&Ma(un)&&(un=null),mi!==null&&Ma(mi)&&(mi=null),pi!==null&&Ma(pi)&&(pi=null),Ho.forEach(wc),Us.forEach(wc)}function gi(c,f){c.blockedOn===f&&(c.blockedOn=null,fh||(fh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wg)))}function vi(c){function f(A){return gi(A,c)}if(0<Zi.length){gi(Zi[0],c);for(var g=1;g<Zi.length;g++){var w=Zi[g];w.blockedOn===c&&(w.blockedOn=null)}}for(un!==null&&gi(un,c),mi!==null&&gi(mi,c),pi!==null&&gi(pi,c),Ho.forEach(f),Us.forEach(f),g=0;g<ea.length;g++)w=ea[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<ea.length&&(g=ea[0],g.blockedOn===null);)bg(g),g.blockedOn===null&&ea.shift()}var Da=E.ReactCurrentBatchConfig,Wo=!0;function vr(c,f,g,w){var A=Mt,I=Da.transition;Da.transition=null;try{Mt=1,hh(c,f,g,w)}finally{Mt=A,Da.transition=I}}function q0(c,f,g,w){var A=Mt,I=Da.transition;Da.transition=null;try{Mt=4,hh(c,f,g,w)}finally{Mt=A,Da.transition=I}}function hh(c,f,g,w){if(Wo){var A=Mu(c,f,g,w);if(A===null)tw(c,f,w,_c,g),xg(c,w);else if(z0(A,c,f,g,w))w.stopPropagation();else if(xg(c,w),f&4&&-1<U0.indexOf(c)){for(;A!==null;){var I=Ah(A);if(I!==null&&pg(I),I=Mu(c,f,g,w),I===null&&tw(c,f,w,_c,g),I===A)break;A=I}A!==null&&w.stopPropagation()}else tw(c,f,w,null,g)}}var _c=null;function Mu(c,f,g,w){if(_c=null,c=mt(w),c=Nc(c),c!==null)if(f=vs(c),f===null)c=null;else if(g=f.tag,g===13){if(c=gc(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return _c=c,null}function mh(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ug()){case vc:return 1;case $o:return 4;case Bs:case uh:return 16;case dg:return 536870912;default:return 16}default:return 16}}var bs=null,Du=null,Zn=null;function ph(){if(Zn)return Zn;var c,f=Du,g=f.length,w,A="value"in bs?bs.value:bs.textContent,I=A.length;for(c=0;c<g&&f[c]===A[c];c++);var U=g-c;for(w=1;w<=U&&f[g-w]===A[I-w];w++);return Zn=A.slice(c,1<w?1-w:void 0)}function Lu(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function ta(){return!0}function gh(){return!1}function dn(c){function f(g,w,A,I,U){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=I,this.target=U,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(g=c[X],this[X]=g?g(I):I[X]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ta:gh,this.isPropagationStopped=gh,this}return ne(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),f}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=dn(yi),ra=ne({},yi,{view:0,detail:0}),H0=dn(ra),$u,La,Go,jc=ne({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Go&&(Go&&c.type==="mousemove"?($u=c.screenX-Go.screenX,La=c.screenY-Go.screenY):La=$u=0,Go=c),$u)},movementY:function(c){return"movementY"in c?c.movementY:La}}),Vu=dn(jc),vh=ne({},jc,{dataTransfer:0}),_g=dn(vh),Bu=ne({},ra,{relatedTarget:0}),Uu=dn(Bu),jg=ne({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=dn(jg),Sg=ne({},yi,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Ng=dn(Sg),Eg=ne({},yi,{data:0}),yh=dn(Eg),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Ag[c])?!!f[c]:!1}function na(){return Tg}var v=ne({},ra,{key:function(c){if(c.key){var f=zu[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Lu(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Fn[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(c){return c.type==="keypress"?Lu(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Lu(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),P=dn(v),F=ne({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=dn(F),ae=ne({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),he=dn(ae),ke=ne({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jt=dn(ke),Gr=ne({},jc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Lt=dn(Gr),tn=[9,13,27,32],Fr=l&&"CompositionEvent"in window,zs=null;l&&"documentMode"in document&&(zs=document.documentMode);var ws=l&&"TextEvent"in window&&!zs,Sc=l&&(!Fr||zs&&8<zs&&11>=zs),qu=" ",Lk=!1;function Fk(c,f){switch(c){case"keyup":return tn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $k(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Hu=!1;function gG(c,f){switch(c){case"compositionend":return $k(f);case"keypress":return f.which!==32?null:(Lk=!0,qu);case"textInput":return c=f.data,c===qu&&Lk?null:c;default:return null}}function vG(c,f){if(Hu)return c==="compositionend"||!Fr&&Fk(c,f)?(c=ph(),Zn=Du=bs=null,Hu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Sc&&f.locale!=="ko"?null:f.data;default:return null}}var yG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vk(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!yG[c.type]:f==="textarea"}function Bk(c,f,g,w){Dn(w),f=Rg(f,"onChange"),0<f.length&&(g=new Fu("onChange","change",null,g,w),c.push({event:g,listeners:f}))}var xh=null,bh=null;function xG(c){iP(c,0)}function Cg(c){var f=Qu(c);if(ue(f))return c}function bG(c,f){if(c==="change")return f}var Uk=!1;if(l){var W0;if(l){var G0="oninput"in document;if(!G0){var zk=document.createElement("div");zk.setAttribute("oninput","return;"),G0=typeof zk.oninput=="function"}W0=G0}else W0=!1;Uk=W0&&(!document.documentMode||9<document.documentMode)}function qk(){xh&&(xh.detachEvent("onpropertychange",Hk),bh=xh=null)}function Hk(c){if(c.propertyName==="value"&&Cg(bh)){var f=[];Bk(f,bh,c,mt(c)),pc(xG,f)}}function wG(c,f,g){c==="focusin"?(qk(),xh=f,bh=g,xh.attachEvent("onpropertychange",Hk)):c==="focusout"&&qk()}function _G(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Cg(bh)}function jG(c,f){if(c==="click")return Cg(f)}function SG(c,f){if(c==="input"||c==="change")return Cg(f)}function NG(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var xi=typeof Object.is=="function"?Object.is:NG;function wh(c,f){if(xi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!u.call(f,A)||!xi(c[A],f[A]))return!1}return!0}function Wk(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Gk(c,f){var g=Wk(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=f&&w>=f)return{node:g,offset:f-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Wk(g)}}function Kk(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Kk(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Yk(){for(var c=window,f=Ke();f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=Ke(c.document)}return f}function K0(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function EG(c){var f=Yk(),g=c.focusedElem,w=c.selectionRange;if(f!==g&&g&&g.ownerDocument&&Kk(g.ownerDocument.documentElement,g)){if(w!==null&&K0(g)){if(f=w.start,c=w.end,c===void 0&&(c=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(c,g.value.length);else if(c=(f=g.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var A=g.textContent.length,I=Math.min(w.start,A);w=w.end===void 0?I:Math.min(w.end,A),!c.extend&&I>w&&(A=w,w=I,I=A),A=Gk(g,I);var U=Gk(g,w);A&&U&&(c.rangeCount!==1||c.anchorNode!==A.node||c.anchorOffset!==A.offset||c.focusNode!==U.node||c.focusOffset!==U.offset)&&(f=f.createRange(),f.setStart(A.node,A.offset),c.removeAllRanges(),I>w?(c.addRange(f),c.extend(U.node,U.offset)):(f.setEnd(U.node,U.offset),c.addRange(f)))}}for(f=[],c=g;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)c=f[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var AG=l&&"documentMode"in document&&11>=document.documentMode,Wu=null,Y0=null,_h=null,Q0=!1;function Qk(c,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Q0||Wu==null||Wu!==Ke(w)||(w=Wu,"selectionStart"in w&&K0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),_h&&wh(_h,w)||(_h=w,w=Rg(Y0,"onSelect"),0<w.length&&(f=new Fu("onSelect","select",null,f,g),c.push({event:f,listeners:w}),f.target=Wu)))}function kg(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var Gu={animationend:kg("Animation","AnimationEnd"),animationiteration:kg("Animation","AnimationIteration"),animationstart:kg("Animation","AnimationStart"),transitionend:kg("Transition","TransitionEnd")},X0={},Xk={};l&&(Xk=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function Pg(c){if(X0[c])return X0[c];if(!Gu[c])return c;var f=Gu[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in Xk)return X0[c]=f[g];return c}var Jk=Pg("animationend"),Zk=Pg("animationiteration"),eP=Pg("animationstart"),tP=Pg("transitionend"),rP=new Map,nP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(c,f){rP.set(c,f),i(f,[c])}for(var J0=0;J0<nP.length;J0++){var Z0=nP[J0],TG=Z0.toLowerCase(),CG=Z0[0].toUpperCase()+Z0.slice(1);Ko(TG,"on"+CG)}Ko(Jk,"onAnimationEnd"),Ko(Zk,"onAnimationIteration"),Ko(eP,"onAnimationStart"),Ko("dblclick","onDoubleClick"),Ko("focusin","onFocus"),Ko("focusout","onBlur"),Ko(tP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kG=new Set("cancel close invalid load scroll toggle".split(" ").concat(jh));function sP(c,f,g){var w=c.type||"unknown-event";c.currentTarget=g,Xn(w,f,void 0,c),c.currentTarget=null}function iP(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],A=w.event;w=w.listeners;e:{var I=void 0;if(f)for(var U=w.length-1;0<=U;U--){var X=w[U],ee=X.instance,de=X.currentTarget;if(X=X.listener,ee!==I&&A.isPropagationStopped())break e;sP(A,X,de),I=ee}else for(U=0;U<w.length;U++){if(X=w[U],ee=X.instance,de=X.currentTarget,X=X.listener,ee!==I&&A.isPropagationStopped())break e;sP(A,X,de),I=ee}}}if(ot)throw c=Qn,ot=!1,Qn=null,c}function fr(c,f){var g=f[ow];g===void 0&&(g=f[ow]=new Set);var w=c+"__bubble";g.has(w)||(aP(f,c,2,!1),g.add(w))}function ew(c,f,g){var w=0;f&&(w|=4),aP(g,c,w,f)}var Ig="_reactListening"+Math.random().toString(36).slice(2);function Sh(c){if(!c[Ig]){c[Ig]=!0,n.forEach(function(g){g!=="selectionchange"&&(kG.has(g)||ew(g,!1,c),ew(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Ig]||(f[Ig]=!0,ew("selectionchange",!1,f))}}function aP(c,f,g,w){switch(mh(f)){case 1:var A=vr;break;case 4:A=q0;break;default:A=hh}g=A.bind(null,f,g,c),A=void 0,!Lo||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),w?A!==void 0?c.addEventListener(f,g,{capture:!0,passive:A}):c.addEventListener(f,g,!0):A!==void 0?c.addEventListener(f,g,{passive:A}):c.addEventListener(f,g,!1)}function tw(c,f,g,w,A){var I=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var U=w.tag;if(U===3||U===4){var X=w.stateNode.containerInfo;if(X===A||X.nodeType===8&&X.parentNode===A)break;if(U===4)for(U=w.return;U!==null;){var ee=U.tag;if((ee===3||ee===4)&&(ee=U.stateNode.containerInfo,ee===A||ee.nodeType===8&&ee.parentNode===A))return;U=U.return}for(;X!==null;){if(U=Nc(X),U===null)return;if(ee=U.tag,ee===5||ee===6){w=I=U;continue e}X=X.parentNode}}w=w.return}pc(function(){var de=I,Se=mt(g),Ne=[];e:{var _e=rP.get(c);if(_e!==void 0){var Oe=Fu,Be=c;switch(c){case"keypress":if(Lu(g)===0)break e;case"keydown":case"keyup":Oe=P;break;case"focusin":Be="focus",Oe=Uu;break;case"focusout":Be="blur",Oe=Uu;break;case"beforeblur":case"afterblur":Oe=Uu;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=he;break;case Jk:case Zk:case eP:Oe=Fa;break;case tP:Oe=Jt;break;case"scroll":Oe=H0;break;case"wheel":Oe=Lt;break;case"copy":case"cut":case"paste":Oe=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=W}var ze=(f&4)!==0,Or=!ze&&c==="scroll",oe=ze?_e!==null?_e+"Capture":null:_e;ze=[];for(var se=de,le;se!==null;){le=se;var Ae=le.stateNode;if(le.tag===5&&Ae!==null&&(le=Ae,oe!==null&&(Ae=Sr(se,oe),Ae!=null&&ze.push(Nh(se,Ae,le)))),Or)break;se=se.return}0<ze.length&&(_e=new Oe(_e,Be,null,g,Se),Ne.push({event:_e,listeners:ze}))}}if((f&7)===0){e:{if(_e=c==="mouseover"||c==="pointerover",Oe=c==="mouseout"||c==="pointerout",_e&&g!==Ze&&(Be=g.relatedTarget||g.fromElement)&&(Nc(Be)||Be[$a]))break e;if((Oe||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,Oe?(Be=g.relatedTarget||g.toElement,Oe=de,Be=Be?Nc(Be):null,Be!==null&&(Or=vs(Be),Be!==Or||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Oe=null,Be=de),Oe!==Be)){if(ze=Vu,Ae="onMouseLeave",oe="onMouseEnter",se="mouse",(c==="pointerout"||c==="pointerover")&&(ze=W,Ae="onPointerLeave",oe="onPointerEnter",se="pointer"),Or=Oe==null?_e:Qu(Oe),le=Be==null?_e:Qu(Be),_e=new ze(Ae,se+"leave",Oe,g,Se),_e.target=Or,_e.relatedTarget=le,Ae=null,Nc(Se)===de&&(ze=new ze(oe,se+"enter",Be,g,Se),ze.target=le,ze.relatedTarget=Or,Ae=ze),Or=Ae,Oe&&Be)t:{for(ze=Oe,oe=Be,se=0,le=ze;le;le=Ku(le))se++;for(le=0,Ae=oe;Ae;Ae=Ku(Ae))le++;for(;0<se-le;)ze=Ku(ze),se--;for(;0<le-se;)oe=Ku(oe),le--;for(;se--;){if(ze===oe||oe!==null&&ze===oe.alternate)break t;ze=Ku(ze),oe=Ku(oe)}ze=null}else ze=null;Oe!==null&&oP(Ne,_e,Oe,ze,!1),Be!==null&&Or!==null&&oP(Ne,Or,Be,ze,!0)}}e:{if(_e=de?Qu(de):window,Oe=_e.nodeName&&_e.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&_e.type==="file")var He=bG;else if(Vk(_e))if(Uk)He=SG;else{He=_G;var Xe=wG}else(Oe=_e.nodeName)&&Oe.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(He=jG);if(He&&(He=He(c,de))){Bk(Ne,He,g,Se);break e}Xe&&Xe(c,_e,de),c==="focusout"&&(Xe=_e._wrapperState)&&Xe.controlled&&_e.type==="number"&&kt(_e,"number",_e.value)}switch(Xe=de?Qu(de):window,c){case"focusin":(Vk(Xe)||Xe.contentEditable==="true")&&(Wu=Xe,Y0=de,_h=null);break;case"focusout":_h=Y0=Wu=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,Qk(Ne,g,Se);break;case"selectionchange":if(AG)break;case"keydown":case"keyup":Qk(Ne,g,Se)}var Je;if(Fr)e:{switch(c){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Hu?Fk(c,g)&&(lt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(lt="onCompositionStart");lt&&(Sc&&g.locale!=="ko"&&(Hu||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Hu&&(Je=ph()):(bs=Se,Du="value"in bs?bs.value:bs.textContent,Hu=!0)),Xe=Rg(de,lt),0<Xe.length&&(lt=new yh(lt,c,null,g,Se),Ne.push({event:lt,listeners:Xe}),Je?lt.data=Je:(Je=$k(g),Je!==null&&(lt.data=Je)))),(Je=ws?gG(c,g):vG(c,g))&&(de=Rg(de,"onBeforeInput"),0<de.length&&(Se=new yh("onBeforeInput","beforeinput",null,g,Se),Ne.push({event:Se,listeners:de}),Se.data=Je))}iP(Ne,f)})}function Nh(c,f,g){return{instance:c,listener:f,currentTarget:g}}function Rg(c,f){for(var g=f+"Capture",w=[];c!==null;){var A=c,I=A.stateNode;A.tag===5&&I!==null&&(A=I,I=Sr(c,g),I!=null&&w.unshift(Nh(c,I,A)),I=Sr(c,f),I!=null&&w.push(Nh(c,I,A))),c=c.return}return w}function Ku(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function oP(c,f,g,w,A){for(var I=f._reactName,U=[];g!==null&&g!==w;){var X=g,ee=X.alternate,de=X.stateNode;if(ee!==null&&ee===w)break;X.tag===5&&de!==null&&(X=de,A?(ee=Sr(g,I),ee!=null&&U.unshift(Nh(g,ee,X))):A||(ee=Sr(g,I),ee!=null&&U.push(Nh(g,ee,X)))),g=g.return}U.length!==0&&c.push({event:f,listeners:U})}var PG=/\r\n?/g,IG=/\u0000|\uFFFD/g;function lP(c){return(typeof c=="string"?c:""+c).replace(PG,`
`).replace(IG,"")}function Og(c,f,g){if(f=lP(f),lP(c)!==f&&g)throw Error(r(425))}function Mg(){}var rw=null,nw=null;function sw(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var iw=typeof setTimeout=="function"?setTimeout:void 0,RG=typeof clearTimeout=="function"?clearTimeout:void 0,cP=typeof Promise=="function"?Promise:void 0,OG=typeof queueMicrotask=="function"?queueMicrotask:typeof cP<"u"?function(c){return cP.resolve(null).then(c).catch(MG)}:iw;function MG(c){setTimeout(function(){throw c})}function aw(c,f){var g=f,w=0;do{var A=g.nextSibling;if(c.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(w===0){c.removeChild(A),vi(f);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=A}while(g);vi(f)}function Yo(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function uP(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return c;f--}else g==="/$"&&f++}c=c.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),sa="__reactFiber$"+Yu,Eh="__reactProps$"+Yu,$a="__reactContainer$"+Yu,ow="__reactEvents$"+Yu,DG="__reactListeners$"+Yu,LG="__reactHandles$"+Yu;function Nc(c){var f=c[sa];if(f)return f;for(var g=c.parentNode;g;){if(f=g[$a]||g[sa]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=uP(c);c!==null;){if(g=c[sa])return g;c=uP(c)}return f}c=g,g=c.parentNode}return null}function Ah(c){return c=c[sa]||c[$a],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Qu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Dg(c){return c[Eh]||null}var lw=[],Xu=-1;function Qo(c){return{current:c}}function hr(c){0>Xu||(c.current=lw[Xu],lw[Xu]=null,Xu--)}function or(c,f){Xu++,lw[Xu]=c.current,c.current=f}var Xo={},wn=Qo(Xo),es=Qo(!1),Ec=Xo;function Ju(c,f){var g=c.type.contextTypes;if(!g)return Xo;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var A={},I;for(I in g)A[I]=f[I];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=A),A}function ts(c){return c=c.childContextTypes,c!=null}function Lg(){hr(es),hr(wn)}function dP(c,f,g){if(wn.current!==Xo)throw Error(r(168));or(wn,f),or(es,g)}function fP(c,f,g){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var A in w)if(!(A in f))throw Error(r(108,fe(c)||"Unknown",A));return ne({},g,w)}function Fg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Xo,Ec=wn.current,or(wn,c),or(es,es.current),!0}function hP(c,f,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=fP(c,f,Ec),w.__reactInternalMemoizedMergedChildContext=c,hr(es),hr(wn),or(wn,c)):hr(es),or(es,g)}var Va=null,$g=!1,cw=!1;function mP(c){Va===null?Va=[c]:Va.push(c)}function FG(c){$g=!0,mP(c)}function Jo(){if(!cw&&Va!==null){cw=!0;var c=0,f=Mt;try{var g=Va;for(Mt=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}Va=null,$g=!1}catch(A){throw Va!==null&&(Va=Va.slice(c+1)),Pu(vc,Jo),A}finally{Mt=f,cw=!1}}return null}var Zu=[],ed=0,Vg=null,Bg=0,qs=[],Hs=0,Ac=null,Ba=1,Ua="";function Tc(c,f){Zu[ed++]=Bg,Zu[ed++]=Vg,Vg=c,Bg=f}function pP(c,f,g){qs[Hs++]=Ba,qs[Hs++]=Ua,qs[Hs++]=Ac,Ac=c;var w=Ba;c=Ua;var A=32-Ln(w)-1;w&=~(1<<A),g+=1;var I=32-Ln(f)+A;if(30<I){var U=A-A%5;I=(w&(1<<U)-1).toString(32),w>>=U,A-=U,Ba=1<<32-Ln(f)+A|g<<A|w,Ua=I+c}else Ba=1<<I|g<<A|w,Ua=c}function uw(c){c.return!==null&&(Tc(c,1),pP(c,1,0))}function dw(c){for(;c===Vg;)Vg=Zu[--ed],Zu[ed]=null,Bg=Zu[--ed],Zu[ed]=null;for(;c===Ac;)Ac=qs[--Hs],qs[Hs]=null,Ua=qs[--Hs],qs[Hs]=null,Ba=qs[--Hs],qs[Hs]=null}var _s=null,js=null,yr=!1,bi=null;function gP(c,f){var g=Ys(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=c,f=c.deletions,f===null?(c.deletions=[g],c.flags|=16):f.push(g)}function vP(c,f){switch(c.tag){case 5:var g=c.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,_s=c,js=Yo(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,_s=c,js=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=Ac!==null?{id:Ba,overflow:Ua}:null,c.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Ys(18,null,null,0),g.stateNode=f,g.return=c,c.child=g,_s=c,js=null,!0):!1;default:return!1}}function fw(c){return(c.mode&1)!==0&&(c.flags&128)===0}function hw(c){if(yr){var f=js;if(f){var g=f;if(!vP(c,f)){if(fw(c))throw Error(r(418));f=Yo(g.nextSibling);var w=_s;f&&vP(c,f)?gP(w,g):(c.flags=c.flags&-4097|2,yr=!1,_s=c)}}else{if(fw(c))throw Error(r(418));c.flags=c.flags&-4097|2,yr=!1,_s=c}}}function yP(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;_s=c}function Ug(c){if(c!==_s)return!1;if(!yr)return yP(c),yr=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!sw(c.type,c.memoizedProps)),f&&(f=js)){if(fw(c))throw xP(),Error(r(418));for(;f;)gP(c,f),f=Yo(f.nextSibling)}if(yP(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(f===0){js=Yo(c.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}c=c.nextSibling}js=null}}else js=_s?Yo(c.stateNode.nextSibling):null;return!0}function xP(){for(var c=js;c;)c=Yo(c.nextSibling)}function td(){js=_s=null,yr=!1}function mw(c){bi===null?bi=[c]:bi.push(c)}var $G=E.ReactCurrentBatchConfig;function Th(c,f,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var A=w,I=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function(U){var X=A.refs;U===null?delete X[I]:X[I]=U},f._stringRef=I,f)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function zg(c,f){throw c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function bP(c){var f=c._init;return f(c._payload)}function wP(c){function f(oe,se){if(c){var le=oe.deletions;le===null?(oe.deletions=[se],oe.flags|=16):le.push(se)}}function g(oe,se){if(!c)return null;for(;se!==null;)f(oe,se),se=se.sibling;return null}function w(oe,se){for(oe=new Map;se!==null;)se.key!==null?oe.set(se.key,se):oe.set(se.index,se),se=se.sibling;return oe}function A(oe,se){return oe=al(oe,se),oe.index=0,oe.sibling=null,oe}function I(oe,se,le){return oe.index=le,c?(le=oe.alternate,le!==null?(le=le.index,le<se?(oe.flags|=2,se):le):(oe.flags|=2,se)):(oe.flags|=1048576,se)}function U(oe){return c&&oe.alternate===null&&(oe.flags|=2),oe}function X(oe,se,le,Ae){return se===null||se.tag!==6?(se=i1(le,oe.mode,Ae),se.return=oe,se):(se=A(se,le),se.return=oe,se)}function ee(oe,se,le,Ae){var He=le.type;return He===k?Se(oe,se,le.props.children,Ae,le.key):se!==null&&(se.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===q&&bP(He)===se.type)?(Ae=A(se,le.props),Ae.ref=Th(oe,se,le),Ae.return=oe,Ae):(Ae=hv(le.type,le.key,le.props,null,oe.mode,Ae),Ae.ref=Th(oe,se,le),Ae.return=oe,Ae)}function de(oe,se,le,Ae){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=a1(le,oe.mode,Ae),se.return=oe,se):(se=A(se,le.children||[]),se.return=oe,se)}function Se(oe,se,le,Ae,He){return se===null||se.tag!==7?(se=Dc(le,oe.mode,Ae,He),se.return=oe,se):(se=A(se,le),se.return=oe,se)}function Ne(oe,se,le){if(typeof se=="string"&&se!==""||typeof se=="number")return se=i1(""+se,oe.mode,le),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case C:return le=hv(se.type,se.key,se.props,null,oe.mode,le),le.ref=Th(oe,null,se),le.return=oe,le;case O:return se=a1(se,oe.mode,le),se.return=oe,se;case q:var Ae=se._init;return Ne(oe,Ae(se._payload),le)}if(Zt(se)||J(se))return se=Dc(se,oe.mode,le,null),se.return=oe,se;zg(oe,se)}return null}function _e(oe,se,le,Ae){var He=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return He!==null?null:X(oe,se,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return le.key===He?ee(oe,se,le,Ae):null;case O:return le.key===He?de(oe,se,le,Ae):null;case q:return He=le._init,_e(oe,se,He(le._payload),Ae)}if(Zt(le)||J(le))return He!==null?null:Se(oe,se,le,Ae,null);zg(oe,le)}return null}function Oe(oe,se,le,Ae,He){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return oe=oe.get(le)||null,X(se,oe,""+Ae,He);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case C:return oe=oe.get(Ae.key===null?le:Ae.key)||null,ee(se,oe,Ae,He);case O:return oe=oe.get(Ae.key===null?le:Ae.key)||null,de(se,oe,Ae,He);case q:var Xe=Ae._init;return Oe(oe,se,le,Xe(Ae._payload),He)}if(Zt(Ae)||J(Ae))return oe=oe.get(le)||null,Se(se,oe,Ae,He,null);zg(se,Ae)}return null}function Be(oe,se,le,Ae){for(var He=null,Xe=null,Je=se,lt=se=0,sn=null;Je!==null&&lt<le.length;lt++){Je.index>lt?(sn=Je,Je=null):sn=Je.sibling;var zt=_e(oe,Je,le[lt],Ae);if(zt===null){Je===null&&(Je=sn);break}c&&Je&&zt.alternate===null&&f(oe,Je),se=I(zt,se,lt),Xe===null?He=zt:Xe.sibling=zt,Xe=zt,Je=sn}if(lt===le.length)return g(oe,Je),yr&&Tc(oe,lt),He;if(Je===null){for(;lt<le.length;lt++)Je=Ne(oe,le[lt],Ae),Je!==null&&(se=I(Je,se,lt),Xe===null?He=Je:Xe.sibling=Je,Xe=Je);return yr&&Tc(oe,lt),He}for(Je=w(oe,Je);lt<le.length;lt++)sn=Oe(Je,oe,lt,le[lt],Ae),sn!==null&&(c&&sn.alternate!==null&&Je.delete(sn.key===null?lt:sn.key),se=I(sn,se,lt),Xe===null?He=sn:Xe.sibling=sn,Xe=sn);return c&&Je.forEach(function(ol){return f(oe,ol)}),yr&&Tc(oe,lt),He}function ze(oe,se,le,Ae){var He=J(le);if(typeof He!="function")throw Error(r(150));if(le=He.call(le),le==null)throw Error(r(151));for(var Xe=He=null,Je=se,lt=se=0,sn=null,zt=le.next();Je!==null&&!zt.done;lt++,zt=le.next()){Je.index>lt?(sn=Je,Je=null):sn=Je.sibling;var ol=_e(oe,Je,zt.value,Ae);if(ol===null){Je===null&&(Je=sn);break}c&&Je&&ol.alternate===null&&f(oe,Je),se=I(ol,se,lt),Xe===null?He=ol:Xe.sibling=ol,Xe=ol,Je=sn}if(zt.done)return g(oe,Je),yr&&Tc(oe,lt),He;if(Je===null){for(;!zt.done;lt++,zt=le.next())zt=Ne(oe,zt.value,Ae),zt!==null&&(se=I(zt,se,lt),Xe===null?He=zt:Xe.sibling=zt,Xe=zt);return yr&&Tc(oe,lt),He}for(Je=w(oe,Je);!zt.done;lt++,zt=le.next())zt=Oe(Je,oe,lt,zt.value,Ae),zt!==null&&(c&&zt.alternate!==null&&Je.delete(zt.key===null?lt:zt.key),se=I(zt,se,lt),Xe===null?He=zt:Xe.sibling=zt,Xe=zt);return c&&Je.forEach(function(yK){return f(oe,yK)}),yr&&Tc(oe,lt),He}function Or(oe,se,le,Ae){if(typeof le=="object"&&le!==null&&le.type===k&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case C:e:{for(var He=le.key,Xe=se;Xe!==null;){if(Xe.key===He){if(He=le.type,He===k){if(Xe.tag===7){g(oe,Xe.sibling),se=A(Xe,le.props.children),se.return=oe,oe=se;break e}}else if(Xe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===q&&bP(He)===Xe.type){g(oe,Xe.sibling),se=A(Xe,le.props),se.ref=Th(oe,Xe,le),se.return=oe,oe=se;break e}g(oe,Xe);break}else f(oe,Xe);Xe=Xe.sibling}le.type===k?(se=Dc(le.props.children,oe.mode,Ae,le.key),se.return=oe,oe=se):(Ae=hv(le.type,le.key,le.props,null,oe.mode,Ae),Ae.ref=Th(oe,se,le),Ae.return=oe,oe=Ae)}return U(oe);case O:e:{for(Xe=le.key;se!==null;){if(se.key===Xe)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){g(oe,se.sibling),se=A(se,le.children||[]),se.return=oe,oe=se;break e}else{g(oe,se);break}else f(oe,se);se=se.sibling}se=a1(le,oe.mode,Ae),se.return=oe,oe=se}return U(oe);case q:return Xe=le._init,Or(oe,se,Xe(le._payload),Ae)}if(Zt(le))return Be(oe,se,le,Ae);if(J(le))return ze(oe,se,le,Ae);zg(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,se!==null&&se.tag===6?(g(oe,se.sibling),se=A(se,le),se.return=oe,oe=se):(g(oe,se),se=i1(le,oe.mode,Ae),se.return=oe,oe=se),U(oe)):g(oe,se)}return Or}var rd=wP(!0),_P=wP(!1),qg=Qo(null),Hg=null,nd=null,pw=null;function gw(){pw=nd=Hg=null}function vw(c){var f=qg.current;hr(qg),c._currentValue=f}function yw(c,f,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===g)break;c=c.return}}function sd(c,f){Hg=c,pw=nd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(rs=!0),c.firstContext=null)}function Ws(c){var f=c._currentValue;if(pw!==c)if(c={context:c,memoizedValue:f,next:null},nd===null){if(Hg===null)throw Error(r(308));nd=c,Hg.dependencies={lanes:0,firstContext:c}}else nd=nd.next=c;return f}var Cc=null;function xw(c){Cc===null?Cc=[c]:Cc.push(c)}function jP(c,f,g,w){var A=f.interleaved;return A===null?(g.next=g,xw(f)):(g.next=A.next,A.next=g),f.interleaved=g,za(c,w)}function za(c,f){c.lanes|=f;var g=c.alternate;for(g!==null&&(g.lanes|=f),g=c,c=c.return;c!==null;)c.childLanes|=f,g=c.alternate,g!==null&&(g.childLanes|=f),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Zo=!1;function bw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SP(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function qa(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function el(c,f,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(Vt&2)!==0){var A=w.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),w.pending=f,za(c,g)}return A=w.interleaved,A===null?(f.next=f,xw(w)):(f.next=A.next,A.next=f),w.interleaved=f,za(c,g)}function Wg(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,zo(c,g)}}function NP(c,f){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var U={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?A=I=U:I=I.next=U,g=g.next}while(g!==null);I===null?A=I=f:I=I.next=f}else A=I=f;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function Gg(c,f,g,w){var A=c.updateQueue;Zo=!1;var I=A.firstBaseUpdate,U=A.lastBaseUpdate,X=A.shared.pending;if(X!==null){A.shared.pending=null;var ee=X,de=ee.next;ee.next=null,U===null?I=de:U.next=de,U=ee;var Se=c.alternate;Se!==null&&(Se=Se.updateQueue,X=Se.lastBaseUpdate,X!==U&&(X===null?Se.firstBaseUpdate=de:X.next=de,Se.lastBaseUpdate=ee))}if(I!==null){var Ne=A.baseState;U=0,Se=de=ee=null,X=I;do{var _e=X.lane,Oe=X.eventTime;if((w&_e)===_e){Se!==null&&(Se=Se.next={eventTime:Oe,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Be=c,ze=X;switch(_e=f,Oe=g,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){Ne=Be.call(Oe,Ne,_e);break e}Ne=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,_e=typeof Be=="function"?Be.call(Oe,Ne,_e):Be,_e==null)break e;Ne=ne({},Ne,_e);break e;case 2:Zo=!0}}X.callback!==null&&X.lane!==0&&(c.flags|=64,_e=A.effects,_e===null?A.effects=[X]:_e.push(X))}else Oe={eventTime:Oe,lane:_e,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Se===null?(de=Se=Oe,ee=Ne):Se=Se.next=Oe,U|=_e;if(X=X.next,X===null){if(X=A.shared.pending,X===null)break;_e=X,X=_e.next,_e.next=null,A.lastBaseUpdate=_e,A.shared.pending=null}}while(!0);if(Se===null&&(ee=Ne),A.baseState=ee,A.firstBaseUpdate=de,A.lastBaseUpdate=Se,f=A.shared.interleaved,f!==null){A=f;do U|=A.lane,A=A.next;while(A!==f)}else I===null&&(A.shared.lanes=0);Ic|=U,c.lanes=U,c.memoizedState=Ne}}function EP(c,f,g){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],A=w.callback;if(A!==null){if(w.callback=null,w=g,typeof A!="function")throw Error(r(191,A));A.call(w)}}}var Ch={},ia=Qo(Ch),kh=Qo(Ch),Ph=Qo(Ch);function kc(c){if(c===Ch)throw Error(r(174));return c}function ww(c,f){switch(or(Ph,f),or(kh,c),or(ia,Ch),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:rt(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=rt(f,c)}hr(ia),or(ia,f)}function id(){hr(ia),hr(kh),hr(Ph)}function AP(c){kc(Ph.current);var f=kc(ia.current),g=rt(f,c.type);f!==g&&(or(kh,c),or(ia,g))}function _w(c){kh.current===c&&(hr(ia),hr(kh))}var Nr=Qo(0);function Kg(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var jw=[];function Sw(){for(var c=0;c<jw.length;c++)jw[c]._workInProgressVersionPrimary=null;jw.length=0}var Yg=E.ReactCurrentDispatcher,Nw=E.ReactCurrentBatchConfig,Pc=0,Er=null,Kr=null,rn=null,Qg=!1,Ih=!1,Rh=0,VG=0;function _n(){throw Error(r(321))}function Ew(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!xi(c[g],f[g]))return!1;return!0}function Aw(c,f,g,w,A,I){if(Pc=I,Er=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Yg.current=c===null||c.memoizedState===null?qG:HG,c=g(w,A),Ih){I=0;do{if(Ih=!1,Rh=0,25<=I)throw Error(r(301));I+=1,rn=Kr=null,f.updateQueue=null,Yg.current=WG,c=g(w,A)}while(Ih)}if(Yg.current=Zg,f=Kr!==null&&Kr.next!==null,Pc=0,rn=Kr=Er=null,Qg=!1,f)throw Error(r(300));return c}function Tw(){var c=Rh!==0;return Rh=0,c}function aa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Er.memoizedState=rn=c:rn=rn.next=c,rn}function Gs(){if(Kr===null){var c=Er.alternate;c=c!==null?c.memoizedState:null}else c=Kr.next;var f=rn===null?Er.memoizedState:rn.next;if(f!==null)rn=f,Kr=c;else{if(c===null)throw Error(r(310));Kr=c,c={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},rn===null?Er.memoizedState=rn=c:rn=rn.next=c}return rn}function Oh(c,f){return typeof f=="function"?f(c):f}function Cw(c){var f=Gs(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=Kr,A=w.baseQueue,I=g.pending;if(I!==null){if(A!==null){var U=A.next;A.next=I.next,I.next=U}w.baseQueue=A=I,g.pending=null}if(A!==null){I=A.next,w=w.baseState;var X=U=null,ee=null,de=I;do{var Se=de.lane;if((Pc&Se)===Se)ee!==null&&(ee=ee.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),w=de.hasEagerState?de.eagerState:c(w,de.action);else{var Ne={lane:Se,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ee===null?(X=ee=Ne,U=w):ee=ee.next=Ne,Er.lanes|=Se,Ic|=Se}de=de.next}while(de!==null&&de!==I);ee===null?U=w:ee.next=X,xi(w,f.memoizedState)||(rs=!0),f.memoizedState=w,f.baseState=U,f.baseQueue=ee,g.lastRenderedState=w}if(c=g.interleaved,c!==null){A=c;do I=A.lane,Er.lanes|=I,Ic|=I,A=A.next;while(A!==c)}else A===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function kw(c){var f=Gs(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,A=g.pending,I=f.memoizedState;if(A!==null){g.pending=null;var U=A=A.next;do I=c(I,U.action),U=U.next;while(U!==A);xi(I,f.memoizedState)||(rs=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),g.lastRenderedState=I}return[I,w]}function TP(){}function CP(c,f){var g=Er,w=Gs(),A=f(),I=!xi(w.memoizedState,A);if(I&&(w.memoizedState=A,rs=!0),w=w.queue,Pw(IP.bind(null,g,w,c),[c]),w.getSnapshot!==f||I||rn!==null&&rn.memoizedState.tag&1){if(g.flags|=2048,Mh(9,PP.bind(null,g,w,A,f),void 0,null),nn===null)throw Error(r(349));(Pc&30)!==0||kP(g,f,A)}return A}function kP(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=Er.updateQueue,f===null?(f={lastEffect:null,stores:null},Er.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function PP(c,f,g,w){f.value=g,f.getSnapshot=w,RP(f)&&OP(c)}function IP(c,f,g){return g(function(){RP(f)&&OP(c)})}function RP(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!xi(c,g)}catch{return!0}}function OP(c){var f=za(c,1);f!==null&&Si(f,c,1,-1)}function MP(c){var f=aa();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:c},f.queue=c,c=c.dispatch=zG.bind(null,Er,c),[f.memoizedState,c]}function Mh(c,f,g,w){return c={tag:c,create:f,destroy:g,deps:w,next:null},f=Er.updateQueue,f===null?(f={lastEffect:null,stores:null},Er.updateQueue=f,f.lastEffect=c.next=c):(g=f.lastEffect,g===null?f.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,f.lastEffect=c)),c}function DP(){return Gs().memoizedState}function Xg(c,f,g,w){var A=aa();Er.flags|=c,A.memoizedState=Mh(1|f,g,void 0,w===void 0?null:w)}function Jg(c,f,g,w){var A=Gs();w=w===void 0?null:w;var I=void 0;if(Kr!==null){var U=Kr.memoizedState;if(I=U.destroy,w!==null&&Ew(w,U.deps)){A.memoizedState=Mh(f,g,I,w);return}}Er.flags|=c,A.memoizedState=Mh(1|f,g,I,w)}function LP(c,f){return Xg(8390656,8,c,f)}function Pw(c,f){return Jg(2048,8,c,f)}function FP(c,f){return Jg(4,2,c,f)}function $P(c,f){return Jg(4,4,c,f)}function VP(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function BP(c,f,g){return g=g!=null?g.concat([c]):null,Jg(4,4,VP.bind(null,f,c),g)}function Iw(){}function UP(c,f){var g=Gs();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&Ew(f,w[1])?w[0]:(g.memoizedState=[c,f],c)}function zP(c,f){var g=Gs();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&Ew(f,w[1])?w[0]:(c=c(),g.memoizedState=[c,f],c)}function qP(c,f,g){return(Pc&21)===0?(c.baseState&&(c.baseState=!1,rs=!0),c.memoizedState=g):(xi(g,f)||(g=bc(),Er.lanes|=g,Ic|=g,c.baseState=!0),f)}function BG(c,f){var g=Mt;Mt=g!==0&&4>g?g:4,c(!0);var w=Nw.transition;Nw.transition={};try{c(!1),f()}finally{Mt=g,Nw.transition=w}}function HP(){return Gs().memoizedState}function UG(c,f,g){var w=sl(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},WP(c))GP(f,g);else if(g=jP(c,f,g,w),g!==null){var A=Vn();Si(g,c,w,A),KP(g,f,w)}}function zG(c,f,g){var w=sl(c),A={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(WP(c))GP(f,A);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var U=f.lastRenderedState,X=I(U,g);if(A.hasEagerState=!0,A.eagerState=X,xi(X,U)){var ee=f.interleaved;ee===null?(A.next=A,xw(f)):(A.next=ee.next,ee.next=A),f.interleaved=A;return}}catch{}finally{}g=jP(c,f,A,w),g!==null&&(A=Vn(),Si(g,c,w,A),KP(g,f,w))}}function WP(c){var f=c.alternate;return c===Er||f!==null&&f===Er}function GP(c,f){Ih=Qg=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function KP(c,f,g){if((g&4194240)!==0){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,zo(c,g)}}var Zg={readContext:Ws,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},qG={readContext:Ws,useCallback:function(c,f){return aa().memoizedState=[c,f===void 0?null:f],c},useContext:Ws,useEffect:LP,useImperativeHandle:function(c,f,g){return g=g!=null?g.concat([c]):null,Xg(4194308,4,VP.bind(null,f,c),g)},useLayoutEffect:function(c,f){return Xg(4194308,4,c,f)},useInsertionEffect:function(c,f){return Xg(4,2,c,f)},useMemo:function(c,f){var g=aa();return f=f===void 0?null:f,c=c(),g.memoizedState=[c,f],c},useReducer:function(c,f,g){var w=aa();return f=g!==void 0?g(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=UG.bind(null,Er,c),[w.memoizedState,c]},useRef:function(c){var f=aa();return c={current:c},f.memoizedState=c},useState:MP,useDebugValue:Iw,useDeferredValue:function(c){return aa().memoizedState=c},useTransition:function(){var c=MP(!1),f=c[0];return c=BG.bind(null,c[1]),aa().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,g){var w=Er,A=aa();if(yr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),nn===null)throw Error(r(349));(Pc&30)!==0||kP(w,f,g)}A.memoizedState=g;var I={value:g,getSnapshot:f};return A.queue=I,LP(IP.bind(null,w,I,c),[c]),w.flags|=2048,Mh(9,PP.bind(null,w,I,g,f),void 0,null),g},useId:function(){var c=aa(),f=nn.identifierPrefix;if(yr){var g=Ua,w=Ba;g=(w&~(1<<32-Ln(w)-1)).toString(32)+g,f=":"+f+"R"+g,g=Rh++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=VG++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},HG={readContext:Ws,useCallback:UP,useContext:Ws,useEffect:Pw,useImperativeHandle:BP,useInsertionEffect:FP,useLayoutEffect:$P,useMemo:zP,useReducer:Cw,useRef:DP,useState:function(){return Cw(Oh)},useDebugValue:Iw,useDeferredValue:function(c){var f=Gs();return qP(f,Kr.memoizedState,c)},useTransition:function(){var c=Cw(Oh)[0],f=Gs().memoizedState;return[c,f]},useMutableSource:TP,useSyncExternalStore:CP,useId:HP,unstable_isNewReconciler:!1},WG={readContext:Ws,useCallback:UP,useContext:Ws,useEffect:Pw,useImperativeHandle:BP,useInsertionEffect:FP,useLayoutEffect:$P,useMemo:zP,useReducer:kw,useRef:DP,useState:function(){return kw(Oh)},useDebugValue:Iw,useDeferredValue:function(c){var f=Gs();return Kr===null?f.memoizedState=c:qP(f,Kr.memoizedState,c)},useTransition:function(){var c=kw(Oh)[0],f=Gs().memoizedState;return[c,f]},useMutableSource:TP,useSyncExternalStore:CP,useId:HP,unstable_isNewReconciler:!1};function wi(c,f){if(c&&c.defaultProps){f=ne({},f),c=c.defaultProps;for(var g in c)f[g]===void 0&&(f[g]=c[g]);return f}return f}function Rw(c,f,g,w){f=c.memoizedState,g=g(w,f),g=g==null?f:ne({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var ev={isMounted:function(c){return(c=c._reactInternals)?vs(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var w=Vn(),A=sl(c),I=qa(w,A);I.payload=f,g!=null&&(I.callback=g),f=el(c,I,A),f!==null&&(Si(f,c,A,w),Wg(f,c,A))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var w=Vn(),A=sl(c),I=qa(w,A);I.tag=1,I.payload=f,g!=null&&(I.callback=g),f=el(c,I,A),f!==null&&(Si(f,c,A,w),Wg(f,c,A))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Vn(),w=sl(c),A=qa(g,w);A.tag=2,f!=null&&(A.callback=f),f=el(c,A,w),f!==null&&(Si(f,c,w,g),Wg(f,c,w))}};function YP(c,f,g,w,A,I,U){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,I,U):f.prototype&&f.prototype.isPureReactComponent?!wh(g,w)||!wh(A,I):!0}function QP(c,f,g){var w=!1,A=Xo,I=f.contextType;return typeof I=="object"&&I!==null?I=Ws(I):(A=ts(f)?Ec:wn.current,w=f.contextTypes,I=(w=w!=null)?Ju(c,A):Xo),f=new f(g,I),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ev,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=I),f}function XP(c,f,g,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==c&&ev.enqueueReplaceState(f,f.state,null)}function Ow(c,f,g,w){var A=c.stateNode;A.props=g,A.state=c.memoizedState,A.refs={},bw(c);var I=f.contextType;typeof I=="object"&&I!==null?A.context=Ws(I):(I=ts(f)?Ec:wn.current,A.context=Ju(c,I)),A.state=c.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(Rw(c,f,I,g),A.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(f=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),f!==A.state&&ev.enqueueReplaceState(A,A.state,null),Gg(c,g,A,w),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308)}function ad(c,f){try{var g="",w=f;do g+=me(w),w=w.return;while(w);var A=g}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:f,stack:A,digest:null}}function Mw(c,f,g){return{value:c,source:null,stack:g??null,digest:f??null}}function Dw(c,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var GG=typeof WeakMap=="function"?WeakMap:Map;function JP(c,f,g){g=qa(-1,g),g.tag=3,g.payload={element:null};var w=f.value;return g.callback=function(){ov||(ov=!0,Xw=w),Dw(c,f)},g}function ZP(c,f,g){g=qa(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var A=f.value;g.payload=function(){return w(A)},g.callback=function(){Dw(c,f)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Dw(c,f),typeof w!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var U=f.stack;this.componentDidCatch(f.value,{componentStack:U!==null?U:""})}),g}function eI(c,f,g){var w=c.pingCache;if(w===null){w=c.pingCache=new GG;var A=new Set;w.set(f,A)}else A=w.get(f),A===void 0&&(A=new Set,w.set(f,A));A.has(g)||(A.add(g),c=oK.bind(null,c,f,g),f.then(c,c))}function tI(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function rI(c,f,g,w,A){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=qa(-1,1),f.tag=2,el(g,f,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=A,c)}var KG=E.ReactCurrentOwner,rs=!1;function $n(c,f,g,w){f.child=c===null?_P(f,null,g,w):rd(f,c.child,g,w)}function nI(c,f,g,w,A){g=g.render;var I=f.ref;return sd(f,A),w=Aw(c,f,g,w,I,A),g=Tw(),c!==null&&!rs?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~A,Ha(c,f,A)):(yr&&g&&uw(f),f.flags|=1,$n(c,f,w,A),f.child)}function sI(c,f,g,w,A){if(c===null){var I=g.type;return typeof I=="function"&&!s1(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=I,iI(c,f,I,w,A)):(c=hv(g.type,null,w,f,f.mode,A),c.ref=f.ref,c.return=f,f.child=c)}if(I=c.child,(c.lanes&A)===0){var U=I.memoizedProps;if(g=g.compare,g=g!==null?g:wh,g(U,w)&&c.ref===f.ref)return Ha(c,f,A)}return f.flags|=1,c=al(I,w),c.ref=f.ref,c.return=f,f.child=c}function iI(c,f,g,w,A){if(c!==null){var I=c.memoizedProps;if(wh(I,w)&&c.ref===f.ref)if(rs=!1,f.pendingProps=w=I,(c.lanes&A)!==0)(c.flags&131072)!==0&&(rs=!0);else return f.lanes=c.lanes,Ha(c,f,A)}return Lw(c,f,g,w,A)}function aI(c,f,g){var w=f.pendingProps,A=w.children,I=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(ld,Ss),Ss|=g;else{if((g&1073741824)===0)return c=I!==null?I.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,or(ld,Ss),Ss|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=I!==null?I.baseLanes:g,or(ld,Ss),Ss|=w}else I!==null?(w=I.baseLanes|g,f.memoizedState=null):w=g,or(ld,Ss),Ss|=w;return $n(c,f,A,g),f.child}function oI(c,f){var g=f.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function Lw(c,f,g,w,A){var I=ts(g)?Ec:wn.current;return I=Ju(f,I),sd(f,A),g=Aw(c,f,g,w,I,A),w=Tw(),c!==null&&!rs?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~A,Ha(c,f,A)):(yr&&w&&uw(f),f.flags|=1,$n(c,f,g,A),f.child)}function lI(c,f,g,w,A){if(ts(g)){var I=!0;Fg(f)}else I=!1;if(sd(f,A),f.stateNode===null)rv(c,f),QP(f,g,w),Ow(f,g,w,A),w=!0;else if(c===null){var U=f.stateNode,X=f.memoizedProps;U.props=X;var ee=U.context,de=g.contextType;typeof de=="object"&&de!==null?de=Ws(de):(de=ts(g)?Ec:wn.current,de=Ju(f,de));var Se=g.getDerivedStateFromProps,Ne=typeof Se=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ne||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==w||ee!==de)&&XP(f,U,w,de),Zo=!1;var _e=f.memoizedState;U.state=_e,Gg(f,w,U,A),ee=f.memoizedState,X!==w||_e!==ee||es.current||Zo?(typeof Se=="function"&&(Rw(f,g,Se,w),ee=f.memoizedState),(X=Zo||YP(f,g,X,w,_e,ee,de))?(Ne||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(f.flags|=4194308)):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=ee),U.props=w,U.state=ee,U.context=de,w=X):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{U=f.stateNode,SP(c,f),X=f.memoizedProps,de=f.type===f.elementType?X:wi(f.type,X),U.props=de,Ne=f.pendingProps,_e=U.context,ee=g.contextType,typeof ee=="object"&&ee!==null?ee=Ws(ee):(ee=ts(g)?Ec:wn.current,ee=Ju(f,ee));var Oe=g.getDerivedStateFromProps;(Se=typeof Oe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==Ne||_e!==ee)&&XP(f,U,w,ee),Zo=!1,_e=f.memoizedState,U.state=_e,Gg(f,w,U,A);var Be=f.memoizedState;X!==Ne||_e!==Be||es.current||Zo?(typeof Oe=="function"&&(Rw(f,g,Oe,w),Be=f.memoizedState),(de=Zo||YP(f,g,de,w,_e,Be,ee)||!1)?(Se||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Be,ee),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Be,ee)),typeof U.componentDidUpdate=="function"&&(f.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof U.componentDidUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Be),U.props=w,U.state=Be,U.context=ee,w=de):(typeof U.componentDidUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(f.flags|=1024),w=!1)}return Fw(c,f,g,w,I,A)}function Fw(c,f,g,w,A,I){oI(c,f);var U=(f.flags&128)!==0;if(!w&&!U)return A&&hP(f,g,!1),Ha(c,f,I);w=f.stateNode,KG.current=f;var X=U&&typeof g.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&U?(f.child=rd(f,c.child,null,I),f.child=rd(f,null,X,I)):$n(c,f,X,I),f.memoizedState=w.state,A&&hP(f,g,!0),f.child}function cI(c){var f=c.stateNode;f.pendingContext?dP(c,f.pendingContext,f.pendingContext!==f.context):f.context&&dP(c,f.context,!1),ww(c,f.containerInfo)}function uI(c,f,g,w,A){return td(),mw(A),f.flags|=256,$n(c,f,g,w),f.child}var $w={dehydrated:null,treeContext:null,retryLane:0};function Vw(c){return{baseLanes:c,cachePool:null,transitions:null}}function dI(c,f,g){var w=f.pendingProps,A=Nr.current,I=!1,U=(f.flags&128)!==0,X;if((X=U)||(X=c!==null&&c.memoizedState===null?!1:(A&2)!==0),X?(I=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(A|=1),or(Nr,A&1),c===null)return hw(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(U=w.children,c=w.fallback,I?(w=f.mode,I=f.child,U={mode:"hidden",children:U},(w&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=U):I=mv(U,w,0,null),c=Dc(c,w,g,null),I.return=f,c.return=f,I.sibling=c,f.child=I,f.child.memoizedState=Vw(g),f.memoizedState=$w,c):Bw(f,U));if(A=c.memoizedState,A!==null&&(X=A.dehydrated,X!==null))return YG(c,f,U,w,X,A,g);if(I){I=w.fallback,U=f.mode,A=c.child,X=A.sibling;var ee={mode:"hidden",children:w.children};return(U&1)===0&&f.child!==A?(w=f.child,w.childLanes=0,w.pendingProps=ee,f.deletions=null):(w=al(A,ee),w.subtreeFlags=A.subtreeFlags&14680064),X!==null?I=al(X,I):(I=Dc(I,U,g,null),I.flags|=2),I.return=f,w.return=f,w.sibling=I,f.child=w,w=I,I=f.child,U=c.child.memoizedState,U=U===null?Vw(g):{baseLanes:U.baseLanes|g,cachePool:null,transitions:U.transitions},I.memoizedState=U,I.childLanes=c.childLanes&~g,f.memoizedState=$w,w}return I=c.child,c=I.sibling,w=al(I,{mode:"visible",children:w.children}),(f.mode&1)===0&&(w.lanes=g),w.return=f,w.sibling=null,c!==null&&(g=f.deletions,g===null?(f.deletions=[c],f.flags|=16):g.push(c)),f.child=w,f.memoizedState=null,w}function Bw(c,f){return f=mv({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function tv(c,f,g,w){return w!==null&&mw(w),rd(f,c.child,null,g),c=Bw(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function YG(c,f,g,w,A,I,U){if(g)return f.flags&256?(f.flags&=-257,w=Mw(Error(r(422))),tv(c,f,U,w)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(I=w.fallback,A=f.mode,w=mv({mode:"visible",children:w.children},A,0,null),I=Dc(I,A,U,null),I.flags|=2,w.return=f,I.return=f,w.sibling=I,f.child=w,(f.mode&1)!==0&&rd(f,c.child,null,U),f.child.memoizedState=Vw(U),f.memoizedState=$w,I);if((f.mode&1)===0)return tv(c,f,U,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var X=w.dgst;return w=X,I=Error(r(419)),w=Mw(I,w,void 0),tv(c,f,U,w)}if(X=(U&c.childLanes)!==0,rs||X){if(w=nn,w!==null){switch(U&-U){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|U))!==0?0:A,A!==0&&A!==I.retryLane&&(I.retryLane=A,za(c,A),Si(w,c,A,-1))}return n1(),w=Mw(Error(r(421))),tv(c,f,U,w)}return A.data==="$?"?(f.flags|=128,f.child=c.child,f=lK.bind(null,c),A._reactRetry=f,null):(c=I.treeContext,js=Yo(A.nextSibling),_s=f,yr=!0,bi=null,c!==null&&(qs[Hs++]=Ba,qs[Hs++]=Ua,qs[Hs++]=Ac,Ba=c.id,Ua=c.overflow,Ac=f),f=Bw(f,w.children),f.flags|=4096,f)}function fI(c,f,g){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),yw(c.return,f,g)}function Uw(c,f,g,w,A){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=g,I.tailMode=A)}function hI(c,f,g){var w=f.pendingProps,A=w.revealOrder,I=w.tail;if($n(c,f,w.children,g),w=Nr.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&fI(c,g,f);else if(c.tag===19)fI(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(or(Nr,w),(f.mode&1)===0)f.memoizedState=null;else switch(A){case"forwards":for(g=f.child,A=null;g!==null;)c=g.alternate,c!==null&&Kg(c)===null&&(A=g),g=g.sibling;g=A,g===null?(A=f.child,f.child=null):(A=g.sibling,g.sibling=null),Uw(f,!1,A,g,I);break;case"backwards":for(g=null,A=f.child,f.child=null;A!==null;){if(c=A.alternate,c!==null&&Kg(c)===null){f.child=A;break}c=A.sibling,A.sibling=g,g=A,A=c}Uw(f,!0,g,null,I);break;case"together":Uw(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function rv(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function Ha(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),Ic|=f.lanes,(g&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,g=al(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=al(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function QG(c,f,g){switch(f.tag){case 3:cI(f),td();break;case 5:AP(f);break;case 1:ts(f.type)&&Fg(f);break;case 4:ww(f,f.stateNode.containerInfo);break;case 10:var w=f.type._context,A=f.memoizedProps.value;or(qg,w._currentValue),w._currentValue=A;break;case 13:if(w=f.memoizedState,w!==null)return w.dehydrated!==null?(or(Nr,Nr.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?dI(c,f,g):(or(Nr,Nr.current&1),c=Ha(c,f,g),c!==null?c.sibling:null);or(Nr,Nr.current&1);break;case 19:if(w=(g&f.childLanes)!==0,(c.flags&128)!==0){if(w)return hI(c,f,g);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),or(Nr,Nr.current),w)break;return null;case 22:case 23:return f.lanes=0,aI(c,f,g)}return Ha(c,f,g)}var mI,zw,pI,gI;mI=function(c,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},zw=function(){},pI=function(c,f,g,w){var A=c.memoizedProps;if(A!==w){c=f.stateNode,kc(ia.current);var I=null;switch(g){case"input":A=Ve(c,A),w=Ve(c,w),I=[];break;case"select":A=ne({},A,{value:void 0}),w=ne({},w,{value:void 0}),I=[];break;case"textarea":A=tt(c,A),w=tt(c,w),I=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=Mg)}cn(g,w);var U;g=null;for(de in A)if(!w.hasOwnProperty(de)&&A.hasOwnProperty(de)&&A[de]!=null)if(de==="style"){var X=A[de];for(U in X)X.hasOwnProperty(U)&&(g||(g={}),g[U]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(s.hasOwnProperty(de)?I||(I=[]):(I=I||[]).push(de,null));for(de in w){var ee=w[de];if(X=A!=null?A[de]:void 0,w.hasOwnProperty(de)&&ee!==X&&(ee!=null||X!=null))if(de==="style")if(X){for(U in X)!X.hasOwnProperty(U)||ee&&ee.hasOwnProperty(U)||(g||(g={}),g[U]="");for(U in ee)ee.hasOwnProperty(U)&&X[U]!==ee[U]&&(g||(g={}),g[U]=ee[U])}else g||(I||(I=[]),I.push(de,g)),g=ee;else de==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,X=X?X.__html:void 0,ee!=null&&X!==ee&&(I=I||[]).push(de,ee)):de==="children"?typeof ee!="string"&&typeof ee!="number"||(I=I||[]).push(de,""+ee):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(s.hasOwnProperty(de)?(ee!=null&&de==="onScroll"&&fr("scroll",c),I||X===ee||(I=[])):(I=I||[]).push(de,ee))}g&&(I=I||[]).push("style",g);var de=I;(f.updateQueue=de)&&(f.flags|=4)}},gI=function(c,f,g,w){g!==w&&(f.flags|=4)};function Dh(c,f){if(!yr)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function jn(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(f)for(var A=c.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=w,c.childLanes=g,f}function XG(c,f,g){var w=f.pendingProps;switch(dw(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(f),null;case 1:return ts(f.type)&&Lg(),jn(f),null;case 3:return w=f.stateNode,id(),hr(es),hr(wn),Sw(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Ug(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,bi!==null&&(e1(bi),bi=null))),zw(c,f),jn(f),null;case 5:_w(f);var A=kc(Ph.current);if(g=f.type,c!==null&&f.stateNode!=null)pI(c,f,g,w,A),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(r(166));return jn(f),null}if(c=kc(ia.current),Ug(f)){w=f.stateNode,g=f.type;var I=f.memoizedProps;switch(w[sa]=f,w[Eh]=I,c=(f.mode&1)!==0,g){case"dialog":fr("cancel",w),fr("close",w);break;case"iframe":case"object":case"embed":fr("load",w);break;case"video":case"audio":for(A=0;A<jh.length;A++)fr(jh[A],w);break;case"source":fr("error",w);break;case"img":case"image":case"link":fr("error",w),fr("load",w);break;case"details":fr("toggle",w);break;case"input":Ge(w,I),fr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!I.multiple},fr("invalid",w);break;case"textarea":et(w,I),fr("invalid",w)}cn(g,I),A=null;for(var U in I)if(I.hasOwnProperty(U)){var X=I[U];U==="children"?typeof X=="string"?w.textContent!==X&&(I.suppressHydrationWarning!==!0&&Og(w.textContent,X,c),A=["children",X]):typeof X=="number"&&w.textContent!==""+X&&(I.suppressHydrationWarning!==!0&&Og(w.textContent,X,c),A=["children",""+X]):s.hasOwnProperty(U)&&X!=null&&U==="onScroll"&&fr("scroll",w)}switch(g){case"input":Ee(w),kr(w,I,!0);break;case"textarea":Ee(w),Et(w);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(w.onclick=Mg)}w=A,f.updateQueue=w,w!==null&&(f.flags|=4)}else{U=A.nodeType===9?A:A.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Rt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=U.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=U.createElement(g,{is:w.is}):(c=U.createElement(g),g==="select"&&(U=c,w.multiple?U.multiple=!0:w.size&&(U.size=w.size))):c=U.createElementNS(c,g),c[sa]=f,c[Eh]=w,mI(c,f,!1,!1),f.stateNode=c;e:{switch(U=Ji(g,w),g){case"dialog":fr("cancel",c),fr("close",c),A=w;break;case"iframe":case"object":case"embed":fr("load",c),A=w;break;case"video":case"audio":for(A=0;A<jh.length;A++)fr(jh[A],c);A=w;break;case"source":fr("error",c),A=w;break;case"img":case"image":case"link":fr("error",c),fr("load",c),A=w;break;case"details":fr("toggle",c),A=w;break;case"input":Ge(c,w),A=Ve(c,w),fr("invalid",c);break;case"option":A=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},A=ne({},w,{value:void 0}),fr("invalid",c);break;case"textarea":et(c,w),A=tt(c,w),fr("invalid",c);break;default:A=w}cn(g,A),X=A;for(I in X)if(X.hasOwnProperty(I)){var ee=X[I];I==="style"?Ia(c,ee):I==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&ur(c,ee)):I==="children"?typeof ee=="string"?(g!=="textarea"||ee!=="")&&Yn(c,ee):typeof ee=="number"&&Yn(c,""+ee):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(s.hasOwnProperty(I)?ee!=null&&I==="onScroll"&&fr("scroll",c):ee!=null&&T(c,I,ee,U))}switch(g){case"input":Ee(c),kr(c,w,!1);break;case"textarea":Ee(c),Et(c);break;case"option":w.value!=null&&c.setAttribute("value",""+we(w.value));break;case"select":c.multiple=!!w.multiple,I=w.value,I!=null?Ie(c,!!w.multiple,I,!1):w.defaultValue!=null&&Ie(c,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(c.onclick=Mg)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return jn(f),null;case 6:if(c&&f.stateNode!=null)gI(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(r(166));if(g=kc(Ph.current),kc(ia.current),Ug(f)){if(w=f.stateNode,g=f.memoizedProps,w[sa]=f,(I=w.nodeValue!==g)&&(c=_s,c!==null))switch(c.tag){case 3:Og(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Og(w.nodeValue,g,(c.mode&1)!==0)}I&&(f.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[sa]=f,f.stateNode=w}return jn(f),null;case 13:if(hr(Nr),w=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(yr&&js!==null&&(f.mode&1)!==0&&(f.flags&128)===0)xP(),td(),f.flags|=98560,I=!1;else if(I=Ug(f),w!==null&&w.dehydrated!==null){if(c===null){if(!I)throw Error(r(318));if(I=f.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[sa]=f}else td(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;jn(f),I=!1}else bi!==null&&(e1(bi),bi=null),I=!0;if(!I)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=g,f):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(Nr.current&1)!==0?Yr===0&&(Yr=3):n1())),f.updateQueue!==null&&(f.flags|=4),jn(f),null);case 4:return id(),zw(c,f),c===null&&Sh(f.stateNode.containerInfo),jn(f),null;case 10:return vw(f.type._context),jn(f),null;case 17:return ts(f.type)&&Lg(),jn(f),null;case 19:if(hr(Nr),I=f.memoizedState,I===null)return jn(f),null;if(w=(f.flags&128)!==0,U=I.rendering,U===null)if(w)Dh(I,!1);else{if(Yr!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(U=Kg(c),U!==null){for(f.flags|=128,Dh(I,!1),w=U.updateQueue,w!==null&&(f.updateQueue=w,f.flags|=4),f.subtreeFlags=0,w=g,g=f.child;g!==null;)I=g,c=w,I.flags&=14680066,U=I.alternate,U===null?(I.childLanes=0,I.lanes=c,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=U.childLanes,I.lanes=U.lanes,I.child=U.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=U.memoizedProps,I.memoizedState=U.memoizedState,I.updateQueue=U.updateQueue,I.type=U.type,c=U.dependencies,I.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return or(Nr,Nr.current&1|2),f.child}c=c.sibling}I.tail!==null&&ar()>cd&&(f.flags|=128,w=!0,Dh(I,!1),f.lanes=4194304)}else{if(!w)if(c=Kg(U),c!==null){if(f.flags|=128,w=!0,g=c.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),Dh(I,!0),I.tail===null&&I.tailMode==="hidden"&&!U.alternate&&!yr)return jn(f),null}else 2*ar()-I.renderingStartTime>cd&&g!==1073741824&&(f.flags|=128,w=!0,Dh(I,!1),f.lanes=4194304);I.isBackwards?(U.sibling=f.child,f.child=U):(g=I.last,g!==null?g.sibling=U:f.child=U,I.last=U)}return I.tail!==null?(f=I.tail,I.rendering=f,I.tail=f.sibling,I.renderingStartTime=ar(),f.sibling=null,g=Nr.current,or(Nr,w?g&1|2:g&1),f):(jn(f),null);case 22:case 23:return r1(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&(f.mode&1)!==0?(Ss&1073741824)!==0&&(jn(f),f.subtreeFlags&6&&(f.flags|=8192)):jn(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function JG(c,f){switch(dw(f),f.tag){case 1:return ts(f.type)&&Lg(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return id(),hr(es),hr(wn),Sw(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return _w(f),null;case 13:if(hr(Nr),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));td()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return hr(Nr),null;case 4:return id(),null;case 10:return vw(f.type._context),null;case 22:case 23:return r1(),null;case 24:return null;default:return null}}var nv=!1,Sn=!1,ZG=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function od(c,f){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Pr(c,f,w)}else g.current=null}function qw(c,f,g){try{g()}catch(w){Pr(c,f,w)}}var vI=!1;function eK(c,f){if(rw=Wo,c=Yk(),K0(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,I=w.focusNode;w=w.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var U=0,X=-1,ee=-1,de=0,Se=0,Ne=c,_e=null;t:for(;;){for(var Oe;Ne!==g||A!==0&&Ne.nodeType!==3||(X=U+A),Ne!==I||w!==0&&Ne.nodeType!==3||(ee=U+w),Ne.nodeType===3&&(U+=Ne.nodeValue.length),(Oe=Ne.firstChild)!==null;)_e=Ne,Ne=Oe;for(;;){if(Ne===c)break t;if(_e===g&&++de===A&&(X=U),_e===I&&++Se===w&&(ee=U),(Oe=Ne.nextSibling)!==null)break;Ne=_e,_e=Ne.parentNode}Ne=Oe}g=X===-1||ee===-1?null:{start:X,end:ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(nw={focusedElem:c,selectionRange:g},Wo=!1,Fe=f;Fe!==null;)if(f=Fe,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,Fe=c;else for(;Fe!==null;){f=Fe;try{var Be=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,Or=Be.memoizedState,oe=f.stateNode,se=oe.getSnapshotBeforeUpdate(f.elementType===f.type?ze:wi(f.type,ze),Or);oe.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var le=f.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ae){Pr(f,f.return,Ae)}if(c=f.sibling,c!==null){c.return=f.return,Fe=c;break}Fe=f.return}return Be=vI,vI=!1,Be}function Lh(c,f,g){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&c)===c){var I=A.destroy;A.destroy=void 0,I!==void 0&&qw(f,g,I)}A=A.next}while(A!==w)}}function sv(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==f)}}function Hw(c){var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof f=="function"?f(c):f.current=c}}function yI(c){var f=c.alternate;f!==null&&(c.alternate=null,yI(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[sa],delete f[Eh],delete f[ow],delete f[DG],delete f[LG])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function xI(c){return c.tag===5||c.tag===3||c.tag===4}function bI(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||xI(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ww(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(c,f):g.insertBefore(c,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(c,g)):(f=g,f.appendChild(c)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Mg));else if(w!==4&&(c=c.child,c!==null))for(Ww(c,f,g),c=c.sibling;c!==null;)Ww(c,f,g),c=c.sibling}function Gw(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Gw(c,f,g),c=c.sibling;c!==null;)Gw(c,f,g),c=c.sibling}var fn=null,_i=!1;function tl(c,f,g){for(g=g.child;g!==null;)wI(c,f,g),g=g.sibling}function wI(c,f,g){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(yc,g)}catch{}switch(g.tag){case 5:Sn||od(g,f);case 6:var w=fn,A=_i;fn=null,tl(c,f,g),fn=w,_i=A,fn!==null&&(_i?(c=fn,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):fn.removeChild(g.stateNode));break;case 18:fn!==null&&(_i?(c=fn,g=g.stateNode,c.nodeType===8?aw(c.parentNode,g):c.nodeType===1&&aw(c,g),vi(c)):aw(fn,g.stateNode));break;case 4:w=fn,A=_i,fn=g.stateNode.containerInfo,_i=!0,tl(c,f,g),fn=w,_i=A;break;case 0:case 11:case 14:case 15:if(!Sn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var I=A,U=I.destroy;I=I.tag,U!==void 0&&((I&2)!==0||(I&4)!==0)&&qw(g,f,U),A=A.next}while(A!==w)}tl(c,f,g);break;case 1:if(!Sn&&(od(g,f),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(X){Pr(g,f,X)}tl(c,f,g);break;case 21:tl(c,f,g);break;case 22:g.mode&1?(Sn=(w=Sn)||g.memoizedState!==null,tl(c,f,g),Sn=w):tl(c,f,g);break;default:tl(c,f,g)}}function _I(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new ZG),f.forEach(function(w){var A=cK.bind(null,c,w);g.has(w)||(g.add(w),w.then(A,A))})}}function ji(c,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w];try{var I=c,U=f,X=U;e:for(;X!==null;){switch(X.tag){case 5:fn=X.stateNode,_i=!1;break e;case 3:fn=X.stateNode.containerInfo,_i=!0;break e;case 4:fn=X.stateNode.containerInfo,_i=!0;break e}X=X.return}if(fn===null)throw Error(r(160));wI(I,U,A),fn=null,_i=!1;var ee=A.alternate;ee!==null&&(ee.return=null),A.return=null}catch(de){Pr(A,f,de)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)jI(f,c),f=f.sibling}function jI(c,f){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ji(f,c),oa(c),w&4){try{Lh(3,c,c.return),sv(3,c)}catch(ze){Pr(c,c.return,ze)}try{Lh(5,c,c.return)}catch(ze){Pr(c,c.return,ze)}}break;case 1:ji(f,c),oa(c),w&512&&g!==null&&od(g,g.return);break;case 5:if(ji(f,c),oa(c),w&512&&g!==null&&od(g,g.return),c.flags&32){var A=c.stateNode;try{Yn(A,"")}catch(ze){Pr(c,c.return,ze)}}if(w&4&&(A=c.stateNode,A!=null)){var I=c.memoizedProps,U=g!==null?g.memoizedProps:I,X=c.type,ee=c.updateQueue;if(c.updateQueue=null,ee!==null)try{X==="input"&&I.type==="radio"&&I.name!=null&&ut(A,I),Ji(X,U);var de=Ji(X,I);for(U=0;U<ee.length;U+=2){var Se=ee[U],Ne=ee[U+1];Se==="style"?Ia(A,Ne):Se==="dangerouslySetInnerHTML"?ur(A,Ne):Se==="children"?Yn(A,Ne):T(A,Se,Ne,de)}switch(X){case"input":Gt(A,I);break;case"textarea":Kt(A,I);break;case"select":var _e=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!I.multiple;var Oe=I.value;Oe!=null?Ie(A,!!I.multiple,Oe,!1):_e!==!!I.multiple&&(I.defaultValue!=null?Ie(A,!!I.multiple,I.defaultValue,!0):Ie(A,!!I.multiple,I.multiple?[]:"",!1))}A[Eh]=I}catch(ze){Pr(c,c.return,ze)}}break;case 6:if(ji(f,c),oa(c),w&4){if(c.stateNode===null)throw Error(r(162));A=c.stateNode,I=c.memoizedProps;try{A.nodeValue=I}catch(ze){Pr(c,c.return,ze)}}break;case 3:if(ji(f,c),oa(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{vi(f.containerInfo)}catch(ze){Pr(c,c.return,ze)}break;case 4:ji(f,c),oa(c);break;case 13:ji(f,c),oa(c),A=c.child,A.flags&8192&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(Qw=ar())),w&4&&_I(c);break;case 22:if(Se=g!==null&&g.memoizedState!==null,c.mode&1?(Sn=(de=Sn)||Se,ji(f,c),Sn=de):ji(f,c),oa(c),w&8192){if(de=c.memoizedState!==null,(c.stateNode.isHidden=de)&&!Se&&(c.mode&1)!==0)for(Fe=c,Se=c.child;Se!==null;){for(Ne=Fe=Se;Fe!==null;){switch(_e=Fe,Oe=_e.child,_e.tag){case 0:case 11:case 14:case 15:Lh(4,_e,_e.return);break;case 1:od(_e,_e.return);var Be=_e.stateNode;if(typeof Be.componentWillUnmount=="function"){w=_e,g=_e.return;try{f=w,Be.props=f.memoizedProps,Be.state=f.memoizedState,Be.componentWillUnmount()}catch(ze){Pr(w,g,ze)}}break;case 5:od(_e,_e.return);break;case 22:if(_e.memoizedState!==null){EI(Ne);continue}}Oe!==null?(Oe.return=_e,Fe=Oe):EI(Ne)}Se=Se.sibling}e:for(Se=null,Ne=c;;){if(Ne.tag===5){if(Se===null){Se=Ne;try{A=Ne.stateNode,de?(I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(X=Ne.stateNode,ee=Ne.memoizedProps.style,U=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,X.style.display=Vs("display",U))}catch(ze){Pr(c,c.return,ze)}}}else if(Ne.tag===6){if(Se===null)try{Ne.stateNode.nodeValue=de?"":Ne.memoizedProps}catch(ze){Pr(c,c.return,ze)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===c)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===c)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===c)break e;Se===Ne&&(Se=null),Ne=Ne.return}Se===Ne&&(Se=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:ji(f,c),oa(c),w&4&&_I(c);break;case 21:break;default:ji(f,c),oa(c)}}function oa(c){var f=c.flags;if(f&2){try{e:{for(var g=c.return;g!==null;){if(xI(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(Yn(A,""),w.flags&=-33);var I=bI(c);Gw(c,I,A);break;case 3:case 4:var U=w.stateNode.containerInfo,X=bI(c);Ww(c,X,U);break;default:throw Error(r(161))}}catch(ee){Pr(c,c.return,ee)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function tK(c,f,g){Fe=c,SI(c)}function SI(c,f,g){for(var w=(c.mode&1)!==0;Fe!==null;){var A=Fe,I=A.child;if(A.tag===22&&w){var U=A.memoizedState!==null||nv;if(!U){var X=A.alternate,ee=X!==null&&X.memoizedState!==null||Sn;X=nv;var de=Sn;if(nv=U,(Sn=ee)&&!de)for(Fe=A;Fe!==null;)U=Fe,ee=U.child,U.tag===22&&U.memoizedState!==null?AI(A):ee!==null?(ee.return=U,Fe=ee):AI(A);for(;I!==null;)Fe=I,SI(I),I=I.sibling;Fe=A,nv=X,Sn=de}NI(c)}else(A.subtreeFlags&8772)!==0&&I!==null?(I.return=A,Fe=I):NI(c)}}function NI(c){for(;Fe!==null;){var f=Fe;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Sn||sv(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!Sn)if(g===null)w.componentDidMount();else{var A=f.elementType===f.type?g.memoizedProps:wi(f.type,g.memoizedProps);w.componentDidUpdate(A,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&EP(f,I,w);break;case 3:var U=f.updateQueue;if(U!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}EP(f,U,g)}break;case 5:var X=f.stateNode;if(g===null&&f.flags&4){g=X;var ee=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&g.focus();break;case"img":ee.src&&(g.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var de=f.alternate;if(de!==null){var Se=de.memoizedState;if(Se!==null){var Ne=Se.dehydrated;Ne!==null&&vi(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Sn||f.flags&512&&Hw(f)}catch(_e){Pr(f,f.return,_e)}}if(f===c){Fe=null;break}if(g=f.sibling,g!==null){g.return=f.return,Fe=g;break}Fe=f.return}}function EI(c){for(;Fe!==null;){var f=Fe;if(f===c){Fe=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Fe=g;break}Fe=f.return}}function AI(c){for(;Fe!==null;){var f=Fe;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{sv(4,f)}catch(ee){Pr(f,g,ee)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var A=f.return;try{w.componentDidMount()}catch(ee){Pr(f,A,ee)}}var I=f.return;try{Hw(f)}catch(ee){Pr(f,I,ee)}break;case 5:var U=f.return;try{Hw(f)}catch(ee){Pr(f,U,ee)}}}catch(ee){Pr(f,f.return,ee)}if(f===c){Fe=null;break}var X=f.sibling;if(X!==null){X.return=f.return,Fe=X;break}Fe=f.return}}var rK=Math.ceil,iv=E.ReactCurrentDispatcher,Kw=E.ReactCurrentOwner,Ks=E.ReactCurrentBatchConfig,Vt=0,nn=null,$r=null,hn=0,Ss=0,ld=Qo(0),Yr=0,Fh=null,Ic=0,av=0,Yw=0,$h=null,ns=null,Qw=0,cd=1/0,Wa=null,ov=!1,Xw=null,rl=null,lv=!1,nl=null,cv=0,Vh=0,Jw=null,uv=-1,dv=0;function Vn(){return(Vt&6)!==0?ar():uv!==-1?uv:uv=ar()}function sl(c){return(c.mode&1)===0?1:(Vt&2)!==0&&hn!==0?hn&-hn:$G.transition!==null?(dv===0&&(dv=bc()),dv):(c=Mt,c!==0||(c=window.event,c=c===void 0?16:mh(c.type)),c)}function Si(c,f,g,w){if(50<Vh)throw Vh=0,Jw=null,Error(r(185));Uo(c,g,w),((Vt&2)===0||c!==nn)&&(c===nn&&((Vt&2)===0&&(av|=g),Yr===4&&il(c,hn)),ss(c,w),g===1&&Vt===0&&(f.mode&1)===0&&(cd=ar()+500,$g&&Jo()))}function ss(c,f){var g=c.callbackNode;Oa(c,f);var w=xc(c,c===nn?hn:0);if(w===0)g!==null&&ch(g),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(g!=null&&ch(g),f===1)c.tag===0?FG(CI.bind(null,c)):mP(CI.bind(null,c)),OG(function(){(Vt&6)===0&&Jo()}),g=null;else{switch(qo(w)){case 1:g=vc;break;case 4:g=$o;break;case 16:g=Bs;break;case 536870912:g=dg;break;default:g=Bs}g=LI(g,TI.bind(null,c))}c.callbackPriority=f,c.callbackNode=g}}function TI(c,f){if(uv=-1,dv=0,(Vt&6)!==0)throw Error(r(327));var g=c.callbackNode;if(ud()&&c.callbackNode!==g)return null;var w=xc(c,c===nn?hn:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||f)f=fv(c,w);else{f=w;var A=Vt;Vt|=2;var I=PI();(nn!==c||hn!==f)&&(Wa=null,cd=ar()+500,Oc(c,f));do try{iK();break}catch(X){kI(c,X)}while(!0);gw(),iv.current=I,Vt=A,$r!==null?f=0:(nn=null,hn=0,f=Yr)}if(f!==0){if(f===2&&(A=xs(c),A!==0&&(w=A,f=Zw(c,A))),f===1)throw g=Fh,Oc(c,0),il(c,w),ss(c,ar()),g;if(f===6)il(c,w);else{if(A=c.current.alternate,(w&30)===0&&!nK(A)&&(f=fv(c,w),f===2&&(I=xs(c),I!==0&&(w=I,f=Zw(c,I))),f===1))throw g=Fh,Oc(c,0),il(c,w),ss(c,ar()),g;switch(c.finishedWork=A,c.finishedLanes=w,f){case 0:case 1:throw Error(r(345));case 2:Mc(c,ns,Wa);break;case 3:if(il(c,w),(w&130023424)===w&&(f=Qw+500-ar(),10<f)){if(xc(c,0)!==0)break;if(A=c.suspendedLanes,(A&w)!==w){Vn(),c.pingedLanes|=c.suspendedLanes&A;break}c.timeoutHandle=iw(Mc.bind(null,c,ns,Wa),f);break}Mc(c,ns,Wa);break;case 4:if(il(c,w),(w&4194240)===w)break;for(f=c.eventTimes,A=-1;0<w;){var U=31-Ln(w);I=1<<U,U=f[U],U>A&&(A=U),w&=~I}if(w=A,w=ar()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*rK(w/1960))-w,10<w){c.timeoutHandle=iw(Mc.bind(null,c,ns,Wa),w);break}Mc(c,ns,Wa);break;case 5:Mc(c,ns,Wa);break;default:throw Error(r(329))}}}return ss(c,ar()),c.callbackNode===g?TI.bind(null,c):null}function Zw(c,f){var g=$h;return c.current.memoizedState.isDehydrated&&(Oc(c,f).flags|=256),c=fv(c,f),c!==2&&(f=ns,ns=g,f!==null&&e1(f)),c}function e1(c){ns===null?ns=c:ns.push.apply(ns,c)}function nK(c){for(var f=c;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var A=g[w],I=A.getSnapshot;A=A.value;try{if(!xi(I(),A))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function il(c,f){for(f&=~Yw,f&=~av,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var g=31-Ln(f),w=1<<g;c[g]=-1,f&=~w}}function CI(c){if((Vt&6)!==0)throw Error(r(327));ud();var f=xc(c,0);if((f&1)===0)return ss(c,ar()),null;var g=fv(c,f);if(c.tag!==0&&g===2){var w=xs(c);w!==0&&(f=w,g=Zw(c,w))}if(g===1)throw g=Fh,Oc(c,0),il(c,f),ss(c,ar()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Mc(c,ns,Wa),ss(c,ar()),null}function t1(c,f){var g=Vt;Vt|=1;try{return c(f)}finally{Vt=g,Vt===0&&(cd=ar()+500,$g&&Jo())}}function Rc(c){nl!==null&&nl.tag===0&&(Vt&6)===0&&ud();var f=Vt;Vt|=1;var g=Ks.transition,w=Mt;try{if(Ks.transition=null,Mt=1,c)return c()}finally{Mt=w,Ks.transition=g,Vt=f,(Vt&6)===0&&Jo()}}function r1(){Ss=ld.current,hr(ld)}function Oc(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,RG(g)),$r!==null)for(g=$r.return;g!==null;){var w=g;switch(dw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Lg();break;case 3:id(),hr(es),hr(wn),Sw();break;case 5:_w(w);break;case 4:id();break;case 13:hr(Nr);break;case 19:hr(Nr);break;case 10:vw(w.type._context);break;case 22:case 23:r1()}g=g.return}if(nn=c,$r=c=al(c.current,null),hn=Ss=f,Yr=0,Fh=null,Yw=av=Ic=0,ns=$h=null,Cc!==null){for(f=0;f<Cc.length;f++)if(g=Cc[f],w=g.interleaved,w!==null){g.interleaved=null;var A=w.next,I=g.pending;if(I!==null){var U=I.next;I.next=A,w.next=U}g.pending=w}Cc=null}return c}function kI(c,f){do{var g=$r;try{if(gw(),Yg.current=Zg,Qg){for(var w=Er.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Qg=!1}if(Pc=0,rn=Kr=Er=null,Ih=!1,Rh=0,Kw.current=null,g===null||g.return===null){Yr=1,Fh=f,$r=null;break}e:{var I=c,U=g.return,X=g,ee=f;if(f=hn,X.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var de=ee,Se=X,Ne=Se.tag;if((Se.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Oe=tI(U);if(Oe!==null){Oe.flags&=-257,rI(Oe,U,X,I,f),Oe.mode&1&&eI(I,de,f),f=Oe,ee=de;var Be=f.updateQueue;if(Be===null){var ze=new Set;ze.add(ee),f.updateQueue=ze}else Be.add(ee);break e}else{if((f&1)===0){eI(I,de,f),n1();break e}ee=Error(r(426))}}else if(yr&&X.mode&1){var Or=tI(U);if(Or!==null){(Or.flags&65536)===0&&(Or.flags|=256),rI(Or,U,X,I,f),mw(ad(ee,X));break e}}I=ee=ad(ee,X),Yr!==4&&(Yr=2),$h===null?$h=[I]:$h.push(I),I=U;do{switch(I.tag){case 3:I.flags|=65536,f&=-f,I.lanes|=f;var oe=JP(I,ee,f);NP(I,oe);break e;case 1:X=ee;var se=I.type,le=I.stateNode;if((I.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(rl===null||!rl.has(le)))){I.flags|=65536,f&=-f,I.lanes|=f;var Ae=ZP(I,X,f);NP(I,Ae);break e}}I=I.return}while(I!==null)}RI(g)}catch(He){f=He,$r===g&&g!==null&&($r=g=g.return);continue}break}while(!0)}function PI(){var c=iv.current;return iv.current=Zg,c===null?Zg:c}function n1(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),nn===null||(Ic&268435455)===0&&(av&268435455)===0||il(nn,hn)}function fv(c,f){var g=Vt;Vt|=2;var w=PI();(nn!==c||hn!==f)&&(Wa=null,Oc(c,f));do try{sK();break}catch(A){kI(c,A)}while(!0);if(gw(),Vt=g,iv.current=w,$r!==null)throw Error(r(261));return nn=null,hn=0,Yr}function sK(){for(;$r!==null;)II($r)}function iK(){for(;$r!==null&&!cg();)II($r)}function II(c){var f=DI(c.alternate,c,Ss);c.memoizedProps=c.pendingProps,f===null?RI(c):$r=f,Kw.current=null}function RI(c){var f=c;do{var g=f.alternate;if(c=f.return,(f.flags&32768)===0){if(g=XG(g,f,Ss),g!==null){$r=g;return}}else{if(g=JG(g,f),g!==null){g.flags&=32767,$r=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Yr=6,$r=null;return}}if(f=f.sibling,f!==null){$r=f;return}$r=f=c}while(f!==null);Yr===0&&(Yr=5)}function Mc(c,f,g){var w=Mt,A=Ks.transition;try{Ks.transition=null,Mt=1,aK(c,f,g,w)}finally{Ks.transition=A,Mt=w}return null}function aK(c,f,g,w){do ud();while(nl!==null);if((Vt&6)!==0)throw Error(r(327));g=c.finishedWork;var A=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var I=g.lanes|g.childLanes;if(rr(c,I),c===nn&&($r=nn=null,hn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||lv||(lv=!0,LI(Bs,function(){return ud(),null})),I=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||I){I=Ks.transition,Ks.transition=null;var U=Mt;Mt=1;var X=Vt;Vt|=4,Kw.current=null,eK(c,g),jI(g,c),EG(nw),Wo=!!rw,nw=rw=null,c.current=g,tK(g),V0(),Vt=X,Mt=U,Ks.transition=I}else c.current=g;if(lv&&(lv=!1,nl=c,cv=A),I=c.pendingLanes,I===0&&(rl=null),fg(g.stateNode),ss(c,ar()),f!==null)for(w=c.onRecoverableError,g=0;g<f.length;g++)A=f[g],w(A.value,{componentStack:A.stack,digest:A.digest});if(ov)throw ov=!1,c=Xw,Xw=null,c;return(cv&1)!==0&&c.tag!==0&&ud(),I=c.pendingLanes,(I&1)!==0?c===Jw?Vh++:(Vh=0,Jw=c):Vh=0,Jo(),null}function ud(){if(nl!==null){var c=qo(cv),f=Ks.transition,g=Mt;try{if(Ks.transition=null,Mt=16>c?16:c,nl===null)var w=!1;else{if(c=nl,nl=null,cv=0,(Vt&6)!==0)throw Error(r(331));var A=Vt;for(Vt|=4,Fe=c.current;Fe!==null;){var I=Fe,U=I.child;if((Fe.flags&16)!==0){var X=I.deletions;if(X!==null){for(var ee=0;ee<X.length;ee++){var de=X[ee];for(Fe=de;Fe!==null;){var Se=Fe;switch(Se.tag){case 0:case 11:case 15:Lh(8,Se,I)}var Ne=Se.child;if(Ne!==null)Ne.return=Se,Fe=Ne;else for(;Fe!==null;){Se=Fe;var _e=Se.sibling,Oe=Se.return;if(yI(Se),Se===de){Fe=null;break}if(_e!==null){_e.return=Oe,Fe=_e;break}Fe=Oe}}}var Be=I.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var Or=ze.sibling;ze.sibling=null,ze=Or}while(ze!==null)}}Fe=I}}if((I.subtreeFlags&2064)!==0&&U!==null)U.return=I,Fe=U;else e:for(;Fe!==null;){if(I=Fe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Lh(9,I,I.return)}var oe=I.sibling;if(oe!==null){oe.return=I.return,Fe=oe;break e}Fe=I.return}}var se=c.current;for(Fe=se;Fe!==null;){U=Fe;var le=U.child;if((U.subtreeFlags&2064)!==0&&le!==null)le.return=U,Fe=le;else e:for(U=se;Fe!==null;){if(X=Fe,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:sv(9,X)}}catch(He){Pr(X,X.return,He)}if(X===U){Fe=null;break e}var Ae=X.sibling;if(Ae!==null){Ae.return=X.return,Fe=Ae;break e}Fe=X.return}}if(Vt=A,Jo(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(yc,c)}catch{}w=!0}return w}finally{Mt=g,Ks.transition=f}}return!1}function OI(c,f,g){f=ad(g,f),f=JP(c,f,1),c=el(c,f,1),f=Vn(),c!==null&&(Uo(c,1,f),ss(c,f))}function Pr(c,f,g){if(c.tag===3)OI(c,c,g);else for(;f!==null;){if(f.tag===3){OI(f,c,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(rl===null||!rl.has(w))){c=ad(g,c),c=ZP(f,c,1),f=el(f,c,1),c=Vn(),f!==null&&(Uo(f,1,c),ss(f,c));break}}f=f.return}}function oK(c,f,g){var w=c.pingCache;w!==null&&w.delete(f),f=Vn(),c.pingedLanes|=c.suspendedLanes&g,nn===c&&(hn&g)===g&&(Yr===4||Yr===3&&(hn&130023424)===hn&&500>ar()-Qw?Oc(c,0):Yw|=g),ss(c,f)}function MI(c,f){f===0&&((c.mode&1)===0?f=1:(f=Ru,Ru<<=1,(Ru&130023424)===0&&(Ru=4194304)));var g=Vn();c=za(c,f),c!==null&&(Uo(c,f,g),ss(c,g))}function lK(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),MI(c,g)}function cK(c,f){var g=0;switch(c.tag){case 13:var w=c.stateNode,A=c.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(f),MI(c,g)}var DI;DI=function(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps||es.current)rs=!0;else{if((c.lanes&g)===0&&(f.flags&128)===0)return rs=!1,QG(c,f,g);rs=(c.flags&131072)!==0}else rs=!1,yr&&(f.flags&1048576)!==0&&pP(f,Bg,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;rv(c,f),c=f.pendingProps;var A=Ju(f,wn.current);sd(f,g),A=Aw(null,f,w,c,A,g);var I=Tw();return f.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,ts(w)?(I=!0,Fg(f)):I=!1,f.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,bw(f),A.updater=ev,f.stateNode=A,A._reactInternals=f,Ow(f,w,c,g),f=Fw(null,f,w,!0,I,g)):(f.tag=0,yr&&I&&uw(f),$n(null,f,A,g),f=f.child),f;case 16:w=f.elementType;e:{switch(rv(c,f),c=f.pendingProps,A=w._init,w=A(w._payload),f.type=w,A=f.tag=dK(w),c=wi(w,c),A){case 0:f=Lw(null,f,w,c,g);break e;case 1:f=lI(null,f,w,c,g);break e;case 11:f=nI(null,f,w,c,g);break e;case 14:f=sI(null,f,w,wi(w.type,c),g);break e}throw Error(r(306,w,""))}return f;case 0:return w=f.type,A=f.pendingProps,A=f.elementType===w?A:wi(w,A),Lw(c,f,w,A,g);case 1:return w=f.type,A=f.pendingProps,A=f.elementType===w?A:wi(w,A),lI(c,f,w,A,g);case 3:e:{if(cI(f),c===null)throw Error(r(387));w=f.pendingProps,I=f.memoizedState,A=I.element,SP(c,f),Gg(f,w,null,g);var U=f.memoizedState;if(w=U.element,I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){A=ad(Error(r(423)),f),f=uI(c,f,w,g,A);break e}else if(w!==A){A=ad(Error(r(424)),f),f=uI(c,f,w,g,A);break e}else for(js=Yo(f.stateNode.containerInfo.firstChild),_s=f,yr=!0,bi=null,g=_P(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(td(),w===A){f=Ha(c,f,g);break e}$n(c,f,w,g)}f=f.child}return f;case 5:return AP(f),c===null&&hw(f),w=f.type,A=f.pendingProps,I=c!==null?c.memoizedProps:null,U=A.children,sw(w,A)?U=null:I!==null&&sw(w,I)&&(f.flags|=32),oI(c,f),$n(c,f,U,g),f.child;case 6:return c===null&&hw(f),null;case 13:return dI(c,f,g);case 4:return ww(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=rd(f,null,w,g):$n(c,f,w,g),f.child;case 11:return w=f.type,A=f.pendingProps,A=f.elementType===w?A:wi(w,A),nI(c,f,w,A,g);case 7:return $n(c,f,f.pendingProps,g),f.child;case 8:return $n(c,f,f.pendingProps.children,g),f.child;case 12:return $n(c,f,f.pendingProps.children,g),f.child;case 10:e:{if(w=f.type._context,A=f.pendingProps,I=f.memoizedProps,U=A.value,or(qg,w._currentValue),w._currentValue=U,I!==null)if(xi(I.value,U)){if(I.children===A.children&&!es.current){f=Ha(c,f,g);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var X=I.dependencies;if(X!==null){U=I.child;for(var ee=X.firstContext;ee!==null;){if(ee.context===w){if(I.tag===1){ee=qa(-1,g&-g),ee.tag=2;var de=I.updateQueue;if(de!==null){de=de.shared;var Se=de.pending;Se===null?ee.next=ee:(ee.next=Se.next,Se.next=ee),de.pending=ee}}I.lanes|=g,ee=I.alternate,ee!==null&&(ee.lanes|=g),yw(I.return,g,f),X.lanes|=g;break}ee=ee.next}}else if(I.tag===10)U=I.type===f.type?null:I.child;else if(I.tag===18){if(U=I.return,U===null)throw Error(r(341));U.lanes|=g,X=U.alternate,X!==null&&(X.lanes|=g),yw(U,g,f),U=I.sibling}else U=I.child;if(U!==null)U.return=I;else for(U=I;U!==null;){if(U===f){U=null;break}if(I=U.sibling,I!==null){I.return=U.return,U=I;break}U=U.return}I=U}$n(c,f,A.children,g),f=f.child}return f;case 9:return A=f.type,w=f.pendingProps.children,sd(f,g),A=Ws(A),w=w(A),f.flags|=1,$n(c,f,w,g),f.child;case 14:return w=f.type,A=wi(w,f.pendingProps),A=wi(w.type,A),sI(c,f,w,A,g);case 15:return iI(c,f,f.type,f.pendingProps,g);case 17:return w=f.type,A=f.pendingProps,A=f.elementType===w?A:wi(w,A),rv(c,f),f.tag=1,ts(w)?(c=!0,Fg(f)):c=!1,sd(f,g),QP(f,w,A),Ow(f,w,A,g),Fw(null,f,w,!0,c,g);case 19:return hI(c,f,g);case 22:return aI(c,f,g)}throw Error(r(156,f.tag))};function LI(c,f){return Pu(c,f)}function uK(c,f,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(c,f,g,w){return new uK(c,f,g,w)}function s1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function dK(c){if(typeof c=="function")return s1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===D)return 11;if(c===G)return 14}return 2}function al(c,f){var g=c.alternate;return g===null?(g=Ys(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function hv(c,f,g,w,A,I){var U=2;if(w=c,typeof c=="function")s1(c)&&(U=1);else if(typeof c=="string")U=5;else e:switch(c){case k:return Dc(g.children,A,I,f);case R:U=8,A|=8;break;case M:return c=Ys(12,g,f,A|2),c.elementType=M,c.lanes=I,c;case L:return c=Ys(13,g,f,A),c.elementType=L,c.lanes=I,c;case B:return c=Ys(19,g,f,A),c.elementType=B,c.lanes=I,c;case Y:return mv(g,A,I,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:U=10;break e;case $:U=9;break e;case D:U=11;break e;case G:U=14;break e;case q:U=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return f=Ys(U,g,f,A),f.elementType=c,f.type=w,f.lanes=I,f}function Dc(c,f,g,w){return c=Ys(7,c,w,f),c.lanes=g,c}function mv(c,f,g,w){return c=Ys(22,c,w,f),c.elementType=Y,c.lanes=g,c.stateNode={isHidden:!1},c}function i1(c,f,g){return c=Ys(6,c,null,f),c.lanes=g,c}function a1(c,f,g){return f=Ys(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function fK(c,f,g,w,A){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function o1(c,f,g,w,A,I,U,X,ee){return c=new fK(c,f,g,X,ee),f===1?(f=1,I===!0&&(f|=8)):f=0,I=Ys(3,null,null,f),c.current=I,I.stateNode=c,I.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},bw(I),c}function hK(c,f,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:w==null?null:""+w,children:c,containerInfo:f,implementation:g}}function FI(c){if(!c)return Xo;c=c._reactInternals;e:{if(vs(c)!==c||c.tag!==1)throw Error(r(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(ts(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(ts(g))return fP(c,g,f)}return f}function $I(c,f,g,w,A,I,U,X,ee){return c=o1(g,w,!0,c,A,I,U,X,ee),c.context=FI(null),g=c.current,w=Vn(),A=sl(g),I=qa(w,A),I.callback=f??null,el(g,I,A),c.current.lanes=A,Uo(c,A,w),ss(c,w),c}function pv(c,f,g,w){var A=f.current,I=Vn(),U=sl(A);return g=FI(g),f.context===null?f.context=g:f.pendingContext=g,f=qa(I,U),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),c=el(A,f,U),c!==null&&(Si(c,A,U,I),Wg(c,A,U)),U}function gv(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function VI(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function l1(c,f){VI(c,f),(c=c.alternate)&&VI(c,f)}function mK(){return null}var BI=typeof reportError=="function"?reportError:function(c){console.error(c)};function c1(c){this._internalRoot=c}vv.prototype.render=c1.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));pv(c,f,null,null)},vv.prototype.unmount=c1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;Rc(function(){pv(null,c,null,null)}),f[$a]=null}};function vv(c){this._internalRoot=c}vv.prototype.unstable_scheduleHydration=function(c){if(c){var f=vg();c={blockedOn:null,target:c,priority:f};for(var g=0;g<ea.length&&f!==0&&f<ea[g].priority;g++);ea.splice(g,0,c),g===0&&bg(c)}};function u1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function yv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function UI(){}function pK(c,f,g,w,A){if(A){if(typeof w=="function"){var I=w;w=function(){var de=gv(U);I.call(de)}}var U=$I(f,w,c,0,null,!1,!1,"",UI);return c._reactRootContainer=U,c[$a]=U.current,Sh(c.nodeType===8?c.parentNode:c),Rc(),U}for(;A=c.lastChild;)c.removeChild(A);if(typeof w=="function"){var X=w;w=function(){var de=gv(ee);X.call(de)}}var ee=o1(c,0,!1,null,null,!1,!1,"",UI);return c._reactRootContainer=ee,c[$a]=ee.current,Sh(c.nodeType===8?c.parentNode:c),Rc(function(){pv(f,ee,g,w)}),ee}function xv(c,f,g,w,A){var I=g._reactRootContainer;if(I){var U=I;if(typeof A=="function"){var X=A;A=function(){var ee=gv(U);X.call(ee)}}pv(f,U,c,A)}else U=pK(g,f,c,A,w);return gv(U)}pg=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var g=Vo(f.pendingLanes);g!==0&&(zo(f,g|1),ss(f,ar()),(Vt&6)===0&&(cd=ar()+500,Jo()))}break;case 13:Rc(function(){var w=za(c,1);if(w!==null){var A=Vn();Si(w,c,1,A)}}),l1(c,1)}},Ou=function(c){if(c.tag===13){var f=za(c,134217728);if(f!==null){var g=Vn();Si(f,c,134217728,g)}l1(c,134217728)}},gg=function(c){if(c.tag===13){var f=sl(c),g=za(c,f);if(g!==null){var w=Vn();Si(g,c,f,w)}l1(c,f)}},vg=function(){return Mt},yg=function(c,f){var g=Mt;try{return Mt=c,f()}finally{Mt=g}},Ot=function(c,f,g){switch(f){case"input":if(Gt(c,g),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var w=g[f];if(w!==c&&w.form===c.form){var A=Dg(w);if(!A)throw Error(r(90));ue(w),Gt(w,A)}}}break;case"textarea":Kt(c,g);break;case"select":f=g.value,f!=null&&Ie(c,!!g.multiple,f,!1)}},Ra=t1,mc=Rc;var gK={usingClientEntryPoint:!1,Events:[Ah,Qu,Dg,Dn,Do,t1]},Bh={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vK={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=lh(c),c===null?null:c.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||mK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bv.isDisabled&&bv.supportsFiber)try{yc=bv.inject(vK),ys=bv}catch{}}return is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gK,is.createPortal=function(c,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u1(f))throw Error(r(200));return hK(c,f,null,g)},is.createRoot=function(c,f){if(!u1(c))throw Error(r(299));var g=!1,w="",A=BI;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),f=o1(c,1,!1,null,null,g,!1,w,A),c[$a]=f.current,Sh(c.nodeType===8?c.parentNode:c),new c1(f)},is.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=lh(f),c=c===null?null:c.stateNode,c},is.flushSync=function(c){return Rc(c)},is.hydrate=function(c,f,g){if(!yv(f))throw Error(r(200));return xv(null,c,f,!0,g)},is.hydrateRoot=function(c,f,g){if(!u1(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,A=!1,I="",U=BI;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(U=g.onRecoverableError)),f=$I(f,null,c,1,g??null,A,!1,I,U),c[$a]=f.current,Sh(c),w)for(c=0;c<w.length;c++)g=w[c],A=g._getVersion,A=A(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,A]:f.mutableSourceEagerHydrationData.push(g,A);return new vv(f)},is.render=function(c,f,g){if(!yv(f))throw Error(r(200));return xv(null,c,f,!1,g)},is.unmountComponentAtNode=function(c){if(!yv(c))throw Error(r(40));return c._reactRootContainer?(Rc(function(){xv(null,null,c,!1,function(){c._reactRootContainer=null,c[$a]=null})}),!0):!1},is.unstable_batchedUpdates=t1,is.unstable_renderSubtreeIntoContainer=function(c,f,g,w){if(!yv(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return xv(c,f,g,!1,w)},is.version="18.3.1-next-f1338f8080-20240426",is}var XI;function $$(){if(XI)return m1.exports;XI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m1.exports=AK(),m1.exports}var JI;function TK(){if(JI)return jv;JI=1;var t=$$();return jv.createRoot=t.createRoot,jv.hydrateRoot=t.hydrateRoot,jv}var CK=TK(),j=ST();const K=tr(j),V$=wK({__proto__:null,default:K},[j]),kK=1,PK=1e6;let v1=0;function IK(){return v1=(v1+1)%Number.MAX_SAFE_INTEGER,v1.toString()}const y1=new Map,ZI=t=>{if(y1.has(t))return;const e=setTimeout(()=>{y1.delete(t),mm({type:"REMOVE_TOAST",toastId:t})},PK);y1.set(t,e)},RK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,kK)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ZI(r):t.toasts.forEach(n=>{ZI(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Zv=[];let ey={toasts:[]};function mm(t){ey=RK(ey,t),Zv.forEach(e=>{e(ey)})}function OK({...t}){const e=IK(),r=s=>mm({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>mm({type:"DISMISS_TOAST",toastId:e});return mm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function ir(){const[t,e]=j.useState(ey);return j.useEffect(()=>(Zv.push(e),()=>{const r=Zv.indexOf(e);r>-1&&Zv.splice(r,1)}),[t]),{...t,toast:OK,dismiss:r=>mm({type:"DISMISS_TOAST",toastId:r})}}var Mf=$$();const B$=tr(Mf);function Ue(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function MK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function U$(...t){return e=>t.forEach(r=>MK(r,e))}function Ct(...t){return j.useCallback(U$(...t),t)}function DK(t,e=[]){let r=[];function n(i,o){const l=j.createContext(o),u=r.length;r=[...r,o];function d(m){const{scope:p,children:x,..._}=m,b=(p==null?void 0:p[t][u])||l,y=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:y,children:x})}function h(m,p){const x=(p==null?void 0:p[t][u])||l,_=j.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[n,LK(s,...e)]}function LK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var au=j.forwardRef((t,e)=>{const{children:r,...n}=t,s=j.Children.toArray(r),i=s.find(FK);if(i){const o=i.props.children,l=s.map(u=>u===i?j.Children.count(o)>1?j.Children.only(null):j.isValidElement(o)?o.props.children:null:u);return a.jsx(XN,{...n,ref:e,children:j.isValidElement(o)?j.cloneElement(o,void 0,l):null})}return a.jsx(XN,{...n,ref:e,children:r})});au.displayName="Slot";var XN=j.forwardRef((t,e)=>{const{children:r,...n}=t;if(j.isValidElement(r)){const s=VK(r);return j.cloneElement(r,{...$K(n,r.props),ref:e?U$(e,s):s})}return j.Children.count(r)>1?j.Children.only(null):null});XN.displayName="SlotClone";var z$=({children:t})=>a.jsx(a.Fragment,{children:t});function FK(t){return j.isValidElement(t)&&t.type===z$}function $K(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function VK(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Mp(t){const e=t+"CollectionProvider",[r,n]=DK(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:b}=x,y=K.useRef(null),N=K.useRef(new Map).current;return a.jsx(s,{scope:_,itemMap:N,collectionRef:y,children:b})};o.displayName=e;const l=t+"CollectionSlot",u=K.forwardRef((x,_)=>{const{scope:b,children:y}=x,N=i(l,b),S=Ct(_,N.collectionRef);return a.jsx(au,{ref:S,children:y})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=K.forwardRef((x,_)=>{const{scope:b,children:y,...N}=x,S=K.useRef(null),T=Ct(_,S),E=i(d,b);return K.useEffect(()=>(E.itemMap.set(S,{ref:S,...N}),()=>void E.itemMap.delete(S))),a.jsx(au,{[h]:"",ref:T,children:y})});m.displayName=d;function p(x){const _=i(t+"CollectionConsumer",x);return K.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const N=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((E,C)=>N.indexOf(E.ref.current)-N.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,n]}function BK(t,e){const r=j.createContext(e),n=i=>{const{children:o,...l}=i,u=j.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function s(i){const o=j.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function $s(t,e=[]){let r=[];function n(i,o){const l=j.createContext(o),u=r.length;r=[...r,o];const d=m=>{var N;const{scope:p,children:x,..._}=m,b=((N=p==null?void 0:p[t])==null?void 0:N[u])||l,y=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:y,children:x})};d.displayName=i+"Provider";function h(m,p){var b;const x=((b=p==null?void 0:p[t])==null?void 0:b[u])||l,_=j.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[n,UK(s,...e)]}function UK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var zK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=zK.reduce((t,e)=>{const r=j.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?au:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function q$(t,e){t&&Mf.flushSync(()=>t.dispatchEvent(e))}function Gn(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function qK(t,e=globalThis==null?void 0:globalThis.document){const r=Gn(t);j.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var HK="DismissableLayer",JN="dismissableLayer.update",WK="dismissableLayer.pointerDownOutside",GK="dismissableLayer.focusOutside",eR,H$=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dp=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,d=j.useContext(H$),[h,m]=j.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=j.useState({}),_=Ct(e,k=>m(k)),b=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(y),S=h?b.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,E=S>=N,C=YK(k=>{const R=k.target,M=[...d.branches].some(V=>V.contains(R));!E||M||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),O=QK(k=>{const R=k.target;[...d.branches].some(V=>V.contains(R))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return qK(k=>{S===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),j.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(eR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),tR(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=eR)}},[h,p,r,d]),j.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),tR())},[h,d]),j.useEffect(()=>{const k=()=>x({});return document.addEventListener(JN,k),()=>document.removeEventListener(JN,k)},[]),a.jsx(qe.div,{...u,ref:_,style:{pointerEvents:T?E?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,C.onPointerDownCapture)})});Dp.displayName=HK;var KK="DismissableLayerBranch",W$=j.forwardRef((t,e)=>{const r=j.useContext(H$),n=j.useRef(null),s=Ct(e,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(qe.div,{...t,ref:s})});W$.displayName=KK;function YK(t,e=globalThis==null?void 0:globalThis.document){const r=Gn(t),n=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){G$(WK,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function QK(t,e=globalThis==null?void 0:globalThis.document){const r=Gn(t),n=j.useRef(!1);return j.useEffect(()=>{const s=i=>{i.target&&!n.current&&G$(GK,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tR(){const t=new CustomEvent(JN);document.dispatchEvent(t)}function G$(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?q$(s,i):s.dispatchEvent(i)}var XK=Dp,JK=W$,Zr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},ZK="Portal",tb=j.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=j.useState(!1);Zr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?B$.createPortal(a.jsx(qe.div,{...n,ref:e}),o):null});tb.displayName=ZK;function eY(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var Ca=t=>{const{present:e,children:r}=t,n=tY(e),s=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=Ct(n.ref,rY(s));return typeof r=="function"||n.isPresent?j.cloneElement(s,{ref:i}):null};Ca.displayName="Presence";function tY(t){const[e,r]=j.useState(),n=j.useRef({}),s=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[l,u]=eY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=Sv(n.current);i.current=l==="mounted"?d:"none"},[l]),Zr(()=>{const d=n.current,h=s.current;if(h!==t){const p=i.current,x=Sv(d);t?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&p!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Zr(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=x=>{const b=Sv(n.current).includes(x.animationName);if(x.target===e&&b&&(u("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=x=>{x.target===e&&(i.current=Sv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Sv(t){return(t==null?void 0:t.animationName)||"none"}function rY(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ds({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=nY({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,l=Gn(r),u=j.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else s(d)},[i,t,s,l]);return[o,u]}function nY({defaultProp:t,onChange:e}){const r=j.useState(t),[n]=r,s=j.useRef(n),i=Gn(e);return j.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var sY="VisuallyHidden",Lp=j.forwardRef((t,e)=>a.jsx(qe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Lp.displayName=sY;var iY=Lp,NT="ToastProvider",[ET,aY,oY]=Mp("Toast"),[K$,UTe]=$s("Toast",[oY]),[lY,rb]=K$(NT),Y$=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=j.useState(null),[d,h]=j.useState(0),m=j.useRef(!1),p=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${NT}\`. Expected non-empty \`string\`.`),a.jsx(ET.Provider,{scope:e,children:a.jsx(lY,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:j.useCallback(()=>h(x=>x+1),[]),onToastRemove:j.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};Y$.displayName=NT;var Q$="ToastViewport",cY=["F8"],ZN="toast.viewportPause",eE="toast.viewportResume",X$=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=cY,label:s="Notifications ({hotkey})",...i}=t,o=rb(Q$,r),l=aY(r),u=j.useRef(null),d=j.useRef(null),h=j.useRef(null),m=j.useRef(null),p=Ct(e,m,o.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;j.useEffect(()=>{const y=N=>{var T;n.length!==0&&n.every(E=>N[E]||N.code===E)&&((T=m.current)==null||T.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),j.useEffect(()=>{const y=u.current,N=m.current;if(_&&y&&N){const S=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(ZN);N.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(eE);N.dispatchEvent(O),o.isClosePausedRef.current=!1}},E=O=>{!y.contains(O.relatedTarget)&&T()},C=()=>{y.contains(document.activeElement)||T()};return y.addEventListener("focusin",S),y.addEventListener("focusout",E),y.addEventListener("pointermove",S),y.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",T),()=>{y.removeEventListener("focusin",S),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",S),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",T)}}},[_,o.isClosePausedRef]);const b=j.useCallback(({tabbingDirection:y})=>{const S=l().map(T=>{const E=T.ref.current,C=[E,..._Y(E)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?S.reverse():S).flat()},[l]);return j.useEffect(()=>{const y=m.current;if(y){const N=S=>{var C,O,k;const T=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!T){const R=document.activeElement,M=S.shiftKey;if(S.target===y&&M){(C=d.current)==null||C.focus();return}const D=b({tabbingDirection:M?"backwards":"forwards"}),L=D.findIndex(B=>B===R);x1(D.slice(L+1))?S.preventDefault():M?(O=d.current)==null||O.focus():(k=h.current)==null||k.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,b]),a.jsxs(JK,{ref:u,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&a.jsx(tE,{ref:d,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"forwards"});x1(y)}}),a.jsx(ET.Slot,{scope:r,children:a.jsx(qe.ol,{tabIndex:-1,...i,ref:p})}),_&&a.jsx(tE,{ref:h,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"backwards"});x1(y)}})]})});X$.displayName=Q$;var J$="ToastFocusProxy",tE=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=rb(J$,r);return a.jsx(Lp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});tE.displayName=J$;var nb="Toast",uY="toast.swipeStart",dY="toast.swipeMove",fY="toast.swipeCancel",hY="toast.swipeEnd",Z$=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,u]=ds({prop:n,defaultProp:s,onChange:i});return a.jsx(Ca,{present:r||l,children:a.jsx(gY,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:Gn(t.onPause),onResume:Gn(t.onResume),onSwipeStart:Ue(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});Z$.displayName=nb;var[mY,pY]=K$(nb,{onClose(){}}),gY=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:x,..._}=t,b=rb(nb,r),[y,N]=j.useState(null),S=Ct(e,B=>N(B)),T=j.useRef(null),E=j.useRef(null),C=s||b.duration,O=j.useRef(0),k=j.useRef(C),R=j.useRef(0),{onToastAdd:M,onToastRemove:V}=b,$=Gn(()=>{var G;(y==null?void 0:y.contains(document.activeElement))&&((G=b.viewport)==null||G.focus()),o()}),D=j.useCallback(B=>{!B||B===1/0||(window.clearTimeout(R.current),O.current=new Date().getTime(),R.current=window.setTimeout($,B))},[$]);j.useEffect(()=>{const B=b.viewport;if(B){const G=()=>{D(k.current),d==null||d()},q=()=>{const Y=new Date().getTime()-O.current;k.current=k.current-Y,window.clearTimeout(R.current),u==null||u()};return B.addEventListener(ZN,q),B.addEventListener(eE,G),()=>{B.removeEventListener(ZN,q),B.removeEventListener(eE,G)}}},[b.viewport,C,u,d,D]),j.useEffect(()=>{i&&!b.isClosePausedRef.current&&D(C)},[i,C,b.isClosePausedRef,D]),j.useEffect(()=>(M(),()=>V()),[M,V]);const L=j.useMemo(()=>y?a6(y):null,[y]);return b.viewport?a.jsxs(a.Fragment,{children:[L&&a.jsx(vY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),a.jsx(mY,{scope:r,onClose:$,children:Mf.createPortal(a.jsx(ET.ItemSlot,{scope:r,children:a.jsx(XK,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||$(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,..._,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ue(t.onPointerDown,B=>{B.button===0&&(T.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ue(t.onPointerMove,B=>{if(!T.current)return;const G=B.clientX-T.current.x,q=B.clientY-T.current.y,Y=!!E.current,z=["left","right"].includes(b.swipeDirection),J=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ne=z?J(0,G):0,H=z?0:J(0,q),Q=B.pointerType==="touch"?10:2,re={x:ne,y:H},Z={originalEvent:B,delta:re};Y?(E.current=re,Nv(dY,m,Z,{discrete:!1})):rR(re,b.swipeDirection,Q)?(E.current=re,Nv(uY,h,Z,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>Q||Math.abs(q)>Q)&&(T.current=null)}),onPointerUp:Ue(t.onPointerUp,B=>{const G=E.current,q=B.target;if(q.hasPointerCapture(B.pointerId)&&q.releasePointerCapture(B.pointerId),E.current=null,T.current=null,G){const Y=B.currentTarget,z={originalEvent:B,delta:G};rR(G,b.swipeDirection,b.swipeThreshold)?Nv(hY,x,z,{discrete:!0}):Nv(fY,p,z,{discrete:!0}),Y.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),vY=t=>{const{__scopeToast:e,children:r,...n}=t,s=rb(nb,e),[i,o]=j.useState(!1),[l,u]=j.useState(!1);return bY(()=>o(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(tb,{asChild:!0,children:a.jsx(Lp,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},yY="ToastTitle",e6=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(qe.div,{...n,ref:e})});e6.displayName=yY;var xY="ToastDescription",t6=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(qe.div,{...n,ref:e})});t6.displayName=xY;var r6="ToastAction",n6=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(i6,{altText:r,asChild:!0,children:a.jsx(AT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${r6}\`. Expected non-empty \`string\`.`),null)});n6.displayName=r6;var s6="ToastClose",AT=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=pY(s6,r);return a.jsx(i6,{asChild:!0,children:a.jsx(qe.button,{type:"button",...n,ref:e,onClick:Ue(t.onClick,s.onClose)})})});AT.displayName=s6;var i6=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function a6(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wY(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...a6(n))}}),e}function Nv(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?q$(s,i):s.dispatchEvent(i)}var rR=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function bY(t=()=>{}){const e=Gn(t);Zr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function wY(t){return t.nodeType===t.ELEMENT_NODE}function _Y(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function x1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var jY=Y$,o6=X$,l6=Z$,c6=e6,u6=t6,d6=n6,f6=AT;function h6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=h6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=h6(t))&&(n&&(n+=" "),n+=e);return n}const nR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sR=$t,sb=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return sR(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],m=i==null?void 0:i[d];if(h===null)return null;const p=nR(h)||nR(m);return s[d][p]}),l=r&&Object.entries(r).reduce((d,h)=>{let[m,p]=h;return p===void 0||(d[m]=p),d},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:m,className:p,...x}=h;return Object.entries(x).every(_=>{let[b,y]=_;return Array.isArray(y)?y.includes({...i,...l}[b]):{...i,...l}[b]===y})?[...d,m,p]:d},[]);return sR(t,o,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},u)=>j.createElement("svg",{ref:u,...NY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:m6("lucide",s),...l},[...o.map(([d,h])=>j.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=j.forwardRef(({className:n,...s},i)=>j.createElement(EY,{ref:i,iconNode:e,className:m6(`lucide-${SY(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=je("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=je("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=je("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=je("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=je("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=je("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=je("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=je("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=je("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=je("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=je("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=je("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=je("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=je("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=je("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=je("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=je("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=je("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=je("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=je("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=je("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=je("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=je("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=je("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=je("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=je("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=je("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=je("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=je("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=je("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=je("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=je("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=je("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=je("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=je("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=je("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=je("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=je("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=je("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=je("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=je("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=je("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=je("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=je("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=je("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=je("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=je("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=je("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=je("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),MT="-",eQ=t=>{const e=rQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(MT);return l[0]===""&&l.length!==1&&l.shift(),C6(l,e)||tQ(o)},getConflictingClassGroupIds:(o,l)=>{const u=r[o]||[];return l&&n[o]?[...u,...n[o]]:u}}},C6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?C6(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(MT);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},dR=/^\[(.+)\]$/,tQ=t=>{if(dR.test(t)){const e=dR.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},rQ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return sQ(Object.entries(t.classGroups),r).forEach(([i,o])=>{oE(o,n,i,e)}),n},oE=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:fR(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(nQ(s)){oE(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{oE(o,fR(e,i),r,n)})})},fR=(t,e)=>{let r=t;return e.split(MT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nQ=t=>t.isThemeGetter,sQ=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,iQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},k6="!",aQ=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,h=0,m;for(let y=0;y<l.length;y++){let N=l[y];if(d===0){if(N===s&&(n||l.slice(y,y+i)===e)){u.push(l.slice(h,y)),h=y+i;continue}if(N==="/"){m=y;continue}}N==="["?d++:N==="]"&&d--}const p=u.length===0?l:l.substring(h),x=p.startsWith(k6),_=x?p.substring(1):p,b=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},oQ=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},lQ=t=>({cache:iQ(t.cacheSize),parseClassName:aQ(t),...eQ(t)}),cQ=/\s+/,uQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(cQ);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}=r(d);let _=!!x,b=n(_?p.substring(0,x):p);if(!b){if(!_){l=d+(l.length>0?" "+l:l);continue}if(b=n(p),!b){l=d+(l.length>0?" "+l:l);continue}_=!1}const y=oQ(h).join(":"),N=m?y+k6:y,S=N+b;if(i.includes(S))continue;i.push(S);const T=s(b,_);for(let E=0;E<T.length;++E){const C=T[E];i.push(N+C)}l=d+(l.length>0?" "+l:l)}return l};function dQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=P6(e))&&(n&&(n+=" "),n+=r);return n}const P6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=P6(t[n]))&&(r&&(r+=" "),r+=e);return r};function fQ(t,...e){let r,n,s,i=o;function o(u){const d=e.reduce((h,m)=>m(h),t());return r=lQ(d),n=r.cache.get,s=r.cache.set,i=l,l(u)}function l(u){const d=n(u);if(d)return d;const h=uQ(u,r);return s(u,h),h}return function(){return i(dQ.apply(null,arguments))}}const mr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},I6=/^\[(?:([a-z-]+):)?(.+)\]$/i,hQ=/^\d+\/\d+$/,mQ=new Set(["px","full","screen"]),pQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=t=>Cd(t)||mQ.has(t)||hQ.test(t),ll=t=>Df(t,"length",AQ),Cd=t=>!!t&&!Number.isNaN(Number(t)),_1=t=>Df(t,"number",Cd),zh=t=>!!t&&Number.isInteger(Number(t)),bQ=t=>t.endsWith("%")&&Cd(t.slice(0,-1)),gt=t=>I6.test(t),cl=t=>pQ.test(t),wQ=new Set(["length","size","percentage"]),_Q=t=>Df(t,wQ,R6),jQ=t=>Df(t,"position",R6),SQ=new Set(["image","url"]),NQ=t=>Df(t,SQ,CQ),EQ=t=>Df(t,"",TQ),qh=()=>!0,Df=(t,e,r)=>{const n=I6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},AQ=t=>gQ.test(t)&&!vQ.test(t),R6=()=>!1,TQ=t=>yQ.test(t),CQ=t=>xQ.test(t),kQ=()=>{const t=mr("colors"),e=mr("spacing"),r=mr("blur"),n=mr("brightness"),s=mr("borderColor"),i=mr("borderRadius"),o=mr("borderSpacing"),l=mr("borderWidth"),u=mr("contrast"),d=mr("grayscale"),h=mr("hueRotate"),m=mr("invert"),p=mr("gap"),x=mr("gradientColorStops"),_=mr("gradientColorStopPositions"),b=mr("inset"),y=mr("margin"),N=mr("opacity"),S=mr("padding"),T=mr("saturate"),E=mr("scale"),C=mr("sepia"),O=mr("skew"),k=mr("space"),R=mr("translate"),M=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",gt,e],D=()=>[gt,e],L=()=>["",Ga,ll],B=()=>["auto",Cd,gt],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",gt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Cd,gt];return{cacheSize:500,separator:":",theme:{colors:[qh],spacing:[Ga,ll],blur:["none","",cl,gt],brightness:H(),borderColor:[t],borderRadius:["none","","full",cl,gt],borderSpacing:D(),borderWidth:L(),contrast:H(),grayscale:J(),hueRotate:H(),invert:J(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[bQ,ll],inset:$(),margin:$(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:J(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",gt]}],container:["container"],columns:[{columns:[cl]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),gt]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zh,gt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",zh,gt]}],"grid-cols":[{"grid-cols":[qh]}],"col-start-end":[{col:["auto",{span:["full",zh,gt]},gt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[qh]}],"row-start-end":[{row:["auto",{span:[zh,gt]},gt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gt,e]}],"min-w":[{"min-w":[gt,e,"min","max","fit"]}],"max-w":[{"max-w":[gt,e,"none","full","min","max","fit","prose",{screen:[cl]},cl]}],h:[{h:[gt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cl,ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_1]}],"font-family":[{font:[qh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gt]}],"line-clamp":[{"line-clamp":["none",Cd,_1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ga,gt]}],"list-image":[{"list-image":["none",gt]}],"list-style-type":[{list:["none","disc","decimal",gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ga,ll]}],"underline-offset":[{"underline-offset":["auto",Ga,gt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),jQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_Q]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ga,gt]}],"outline-w":[{outline:[Ga,ll]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Ga,ll]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cl,EQ]}],"shadow-color":[{shadow:[qh]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",cl,gt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[T]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",gt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[zh,gt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ga,ll,_1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PQ=fQ(kQ);function Qe(...t){return PQ($t(t))}const IQ=jY,O6=j.forwardRef(({className:t,...e},r)=>a.jsx(o6,{ref:r,className:Qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));O6.displayName=o6.displayName;const RQ=sb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M6=j.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(l6,{ref:n,className:Qe(RQ({variant:e}),t),...r}));M6.displayName=l6.displayName;const OQ=j.forwardRef(({className:t,...e},r)=>a.jsx(d6,{ref:r,className:Qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));OQ.displayName=d6.displayName;const D6=j.forwardRef(({className:t,...e},r)=>a.jsx(f6,{ref:r,className:Qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(xn,{className:"h-4 w-4"})}));D6.displayName=f6.displayName;const L6=j.forwardRef(({className:t,...e},r)=>a.jsx(c6,{ref:r,className:Qe("text-sm font-semibold",t),...e}));L6.displayName=c6.displayName;const F6=j.forwardRef(({className:t,...e},r)=>a.jsx(u6,{ref:r,className:Qe("text-sm opacity-90",t),...e}));F6.displayName=u6.displayName;function MQ(){const{toasts:t}=ir();return a.jsxs(IQ,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return a.jsxs(M6,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(L6,{children:r}),n&&a.jsx(F6,{children:n})]}),s,a.jsx(D6,{})]},e)}),a.jsx(O6,{})]})}var hR=["light","dark"],DQ="(prefers-color-scheme: dark)",LQ=j.createContext(void 0),FQ={setTheme:t=>{},themes:[]},$Q=()=>{var t;return(t=j.useContext(LQ))!=null?t:FQ};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let d=i==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=s?hR.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(_,b=!1,y=!0)=>{let N=o?o[_]:_,S=b?_+"|| ''":`'${N}'`,T="";return s&&y&&!b&&hR.includes(_)&&(T+=`d.style.colorScheme = '${_}';`),r==="class"?b||N?T+=`c.add(${S})`:T+="null":N&&(T+=`d[s](n,${S})`),T},x=t?`!function(){${h}${p(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${DQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${m}}catch(t){}}();`;return j.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:x}})});var VQ=t=>{switch(t){case"success":return zQ;case"info":return HQ;case"warning":return qQ;case"error":return WQ;default:return null}},BQ=Array(12).fill(0),UQ=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},BQ.map((e,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GQ=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},lE=1,KQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lE++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async i=>{if(QQ(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=e.finally)==null||i.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||lE++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},As=new KQ,YQ=(t,e)=>{let r=(e==null?void 0:e.id)||lE++;return As.addToast({title:t,...e,id:r}),r},QQ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",XQ=YQ,JQ=()=>As.toasts;Object.assign(XQ,{success:As.success,info:As.info,warning:As.warning,error:As.error,custom:As.custom,message:As.message,promise:As.promise,dismiss:As.dismiss,loading:As.loading},{getHistory:JQ});function ZQ(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}ZQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Av(t){return t.label!==void 0}var eX=3,tX="32px",rX=4e3,nX=356,sX=14,iX=20,aX=200;function oX(...t){return t.filter(Boolean).join(" ")}var lX=t=>{var e,r,n,s,i,o,l,u,d,h;let{invert:m,toast:p,unstyled:x,interacting:_,setHeights:b,visibleToasts:y,heights:N,index:S,toasts:T,expanded:E,removeToast:C,defaultRichColors:O,closeButton:k,style:R,cancelButtonStyle:M,actionButtonStyle:V,className:$="",descriptionClassName:D="",duration:L,position:B,gap:G,loadingIcon:q,expandByDefault:Y,classNames:z,icons:J,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:H,cn:Q}=t,[re,Z]=K.useState(!1),[me,pe]=K.useState(!1),[fe,we]=K.useState(!1),[ce,be]=K.useState(!1),[Ee,ue]=K.useState(0),[Ke,Ve]=K.useState(0),Ge=K.useRef(null),ut=K.useRef(null),Gt=S===0,kr=S+1<=y,kt=p.type,Zt=p.dismissible!==!1,Ie=p.className||"",tt=p.descriptionClassName||"",et=K.useMemo(()=>N.findIndex(Ze=>Ze.toastId===p.id)||0,[N,p.id]),Kt=K.useMemo(()=>{var Ze;return(Ze=p.closeButton)!=null?Ze:k},[p.closeButton,k]),Et=K.useMemo(()=>p.duration||L||rX,[p.duration,L]),Rt=K.useRef(0),rt=K.useRef(0),bt=K.useRef(0),ur=K.useRef(null),[Yn,ui]=B.split("-"),ps=K.useMemo(()=>N.reduce((Ze,mt,Ot)=>Ot>=et?Ze:Ze+mt.height,0),[N,et]),Vs=GQ(),Ia=p.invert||m,Wr=kt==="loading";rt.current=K.useMemo(()=>et*G+ps,[et,ps]),K.useEffect(()=>{Z(!0)},[]),K.useLayoutEffect(()=>{if(!re)return;let Ze=ut.current,mt=Ze.style.height;Ze.style.height="auto";let Ot=Ze.getBoundingClientRect().height;Ze.style.height=mt,Ve(Ot),b(dr=>dr.find(jr=>jr.toastId===p.id)?dr.map(jr=>jr.toastId===p.id?{...jr,height:Ot}:jr):[{toastId:p.id,height:Ot,position:p.position},...dr])},[re,p.title,p.description,b,p.id]);let cn=K.useCallback(()=>{pe(!0),ue(rt.current),b(Ze=>Ze.filter(mt=>mt.toastId!==p.id)),setTimeout(()=>{C(p)},aX)},[p,C,b,rt]);K.useEffect(()=>{if(p.promise&&kt==="loading"||p.duration===1/0||p.type==="loading")return;let Ze,mt=Et;return E||_||H&&Vs?(()=>{if(bt.current<Rt.current){let Ot=new Date().getTime()-Rt.current;mt=mt-Ot}bt.current=new Date().getTime()})():mt!==1/0&&(Rt.current=new Date().getTime(),Ze=setTimeout(()=>{var Ot;(Ot=p.onAutoClose)==null||Ot.call(p,p),cn()},mt)),()=>clearTimeout(Ze)},[E,_,Y,p,Et,cn,p.promise,kt,H,Vs]),K.useEffect(()=>{let Ze=ut.current;if(Ze){let mt=Ze.getBoundingClientRect().height;return Ve(mt),b(Ot=>[{toastId:p.id,height:mt,position:p.position},...Ot]),()=>b(Ot=>Ot.filter(dr=>dr.toastId!==p.id))}},[b,p.id]),K.useEffect(()=>{p.delete&&cn()},[cn,p.delete]);function Ji(){return J!=null&&J.loading?K.createElement("div",{className:"sonner-loader","data-visible":kt==="loading"},J.loading):q?K.createElement("div",{className:"sonner-loader","data-visible":kt==="loading"},q):K.createElement(UQ,{visible:kt==="loading"})}return K.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ut,className:Q($,Ie,z==null?void 0:z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[kt],(r=p==null?void 0:p.classNames)==null?void 0:r[kt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:O,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":re,"data-promise":!!p.promise,"data-removed":me,"data-visible":kr,"data-y-position":Yn,"data-x-position":ui,"data-index":S,"data-front":Gt,"data-swiping":fe,"data-dismissible":Zt,"data-type":kt,"data-invert":Ia,"data-swipe-out":ce,"data-expanded":!!(E||Y&&re),style:{"--index":S,"--toasts-before":S,"--z-index":T.length-S,"--offset":`${me?Ee:rt.current}px`,"--initial-height":Y?"auto":`${Ke}px`,...R,...p.style},onPointerDown:Ze=>{Wr||!Zt||(Ge.current=new Date,ue(rt.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(we(!0),ur.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,mt,Ot,dr;if(ce||!Zt)return;ur.current=null;let jr=Number(((Ze=ut.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount").replace("px",""))||0),gs=new Date().getTime()-((mt=Ge.current)==null?void 0:mt.getTime()),Dn=Math.abs(jr)/gs;if(Math.abs(jr)>=iX||Dn>.11){ue(rt.current),(Ot=p.onDismiss)==null||Ot.call(p,p),cn(),be(!0);return}(dr=ut.current)==null||dr.style.setProperty("--swipe-amount","0px"),we(!1)},onPointerMove:Ze=>{var mt;if(!ur.current||!Zt)return;let Ot=Ze.clientY-ur.current.y,dr=Ze.clientX-ur.current.x,jr=(Yn==="top"?Math.min:Math.max)(0,Ot),gs=Ze.pointerType==="touch"?10:2;Math.abs(jr)>gs?(mt=ut.current)==null||mt.style.setProperty("--swipe-amount",`${Ot}px`):Math.abs(dr)>gs&&(ur.current=null)}},Kt&&!p.jsx?K.createElement("button",{"aria-label":ne,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!Zt?()=>{}:()=>{var Ze;cn(),(Ze=p.onDismiss)==null||Ze.call(p,p)},className:Q(z==null?void 0:z.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||K.isValidElement(p.title)?p.jsx||p.title:K.createElement(K.Fragment,null,kt||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:Q(z==null?void 0:z.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ji():null,p.type!=="loading"?p.icon||(J==null?void 0:J[kt])||VQ(kt):null):null,K.createElement("div",{"data-content":"",className:Q(z==null?void 0:z.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:Q(z==null?void 0:z.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?K.createElement("div",{"data-description":"",className:Q(D,tt,z==null?void 0:z.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},p.description):null),K.isValidElement(p.cancel)?p.cancel:p.cancel&&Av(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:Ze=>{var mt,Ot;Av(p.cancel)&&Zt&&((Ot=(mt=p.cancel).onClick)==null||Ot.call(mt,Ze),cn())},className:Q(z==null?void 0:z.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,K.isValidElement(p.action)?p.action:p.action&&Av(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||V,onClick:Ze=>{var mt,Ot;Av(p.action)&&(Ze.defaultPrevented||((Ot=(mt=p.action).onClick)==null||Ot.call(mt,Ze),cn()))},className:Q(z==null?void 0:z.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function mR(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var cX=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:p=eX,toastOptions:x,dir:_=mR(),gap:b=sX,loadingIcon:y,icons:N,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:T,cn:E=oX}=t,[C,O]=K.useState([]),k=K.useMemo(()=>Array.from(new Set([r].concat(C.filter(H=>H.position).map(H=>H.position)))),[C,r]),[R,M]=K.useState([]),[V,$]=K.useState(!1),[D,L]=K.useState(!1),[B,G]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=K.useRef(null),Y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=K.useRef(null),J=K.useRef(!1),ne=K.useCallback(H=>{var Q;(Q=C.find(re=>re.id===H.id))!=null&&Q.delete||As.dismiss(H.id),O(re=>re.filter(({id:Z})=>Z!==H.id))},[C]);return K.useEffect(()=>As.subscribe(H=>{if(H.dismiss){O(Q=>Q.map(re=>re.id===H.id?{...re,delete:!0}:re));return}setTimeout(()=>{B$.flushSync(()=>{O(Q=>{let re=Q.findIndex(Z=>Z.id===H.id);return re!==-1?[...Q.slice(0,re),{...Q[re],...H},...Q.slice(re+1)]:[H,...Q]})})})}),[]),K.useEffect(()=>{if(u!=="system"){G(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{G(H?"dark":"light")})},[u]),K.useEffect(()=>{C.length<=1&&$(!1)},[C]),K.useEffect(()=>{let H=Q=>{var re,Z;n.every(me=>Q[me]||Q.code===me)&&($(!0),(re=q.current)==null||re.focus()),Q.code==="Escape"&&(document.activeElement===q.current||(Z=q.current)!=null&&Z.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[n]),K.useEffect(()=>{if(q.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,J.current=!1)}},[q.current]),C.length?K.createElement("section",{"aria-label":`${S} ${Y}`,tabIndex:-1},k.map((H,Q)=>{var re;let[Z,me]=H.split("-");return K.createElement("ol",{key:H,dir:_==="auto"?mR():_,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Z,"data-x-position":me,style:{"--front-toast-height":`${((re=R[0])==null?void 0:re.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||tX,"--width":`${nX}px`,"--gap":`${b}px`,...m},onBlur:pe=>{J.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(J.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||J.current||(J.current=!0,z.current=pe.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{D||$(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},C.filter(pe=>!pe.position&&Q===0||pe.position===H).map((pe,fe)=>{var we,ce;return K.createElement(lX,{key:pe.id,icons:N,index:fe,toast:pe,defaultRichColors:d,duration:(we=x==null?void 0:x.duration)!=null?we:h,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:e,visibleToasts:p,closeButton:(ce=x==null?void 0:x.closeButton)!=null?ce:i,interacting:D,position:H,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ne,toasts:C.filter(be=>be.position==pe.position),heights:R.filter(be=>be.position==pe.position),setHeights:M,expandByDefault:s,gap:b,loadingIcon:y,expanded:V,pauseWhenPageIsHidden:T,cn:E})}))})):null};const uX=({...t})=>{const{theme:e="system"}=$Q();return a.jsx(cX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var dX=V$.useId||(()=>{}),fX=0;function $i(t){const[e,r]=j.useState(dX());return Zr(()=>{r(n=>n??String(fX++))},[t]),e?`radix-${e}`:""}const hX=["top","right","bottom","left"],Ul=Math.min,Cs=Math.max,wy=Math.round,Tv=Math.floor,zl=t=>({x:t,y:t}),mX={left:"right",right:"left",bottom:"top",top:"bottom"},pX={start:"end",end:"start"};function cE(t,e,r){return Cs(t,Ul(e,r))}function mo(t,e){return typeof t=="function"?t(e):t}function po(t){return t.split("-")[0]}function Lf(t){return t.split("-")[1]}function DT(t){return t==="x"?"y":"x"}function LT(t){return t==="y"?"height":"width"}function ql(t){return["top","bottom"].includes(po(t))?"y":"x"}function FT(t){return DT(ql(t))}function gX(t,e,r){r===void 0&&(r=!1);const n=Lf(t),s=FT(t),i=LT(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=_y(o)),[o,_y(o)]}function vX(t){const e=_y(t);return[uE(t),e,uE(e)]}function uE(t){return t.replace(/start|end/g,e=>pX[e])}function yX(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function xX(t,e,r,n){const s=Lf(t);let i=yX(po(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(uE)))),i}function _y(t){return t.replace(/left|right|bottom|top/g,e=>mX[e])}function bX(t){return{top:0,right:0,bottom:0,left:0,...t}}function $6(t){return typeof t!="number"?bX(t):{top:t,right:t,bottom:t,left:t}}function jy(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function pR(t,e,r){let{reference:n,floating:s}=t;const i=ql(e),o=FT(e),l=LT(o),u=po(e),d=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let x;switch(u){case"top":x={x:h,y:n.y-s.height};break;case"bottom":x={x:h,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:m};break;case"left":x={x:n.x-s.width,y:m};break;default:x={x:n.x,y:n.y}}switch(Lf(e)){case"start":x[o]-=p*(r&&d?-1:1);break;case"end":x[o]+=p*(r&&d?-1:1);break}return x}const wX=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=pR(d,n,u),p=n,x={},_=0;for(let b=0;b<l.length;b++){const{name:y,fn:N}=l[b],{x:S,y:T,data:E,reset:C}=await N({x:h,y:m,initialPlacement:n,placement:p,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});h=S??h,m=T??m,x={...x,[y]:{...x[y],...E}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:h,y:m}=pR(d,p,u)),b=-1)}return{x:h,y:m,placement:p,strategy:s,middlewareData:x}};async function Om(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:x=0}=mo(e,t),_=$6(x),y=l[p?m==="floating"?"reference":"floating":m],N=jy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),S=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},C=jy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:T,strategy:u}):S);return{top:(N.top-C.top+_.top)/E.y,bottom:(C.bottom-N.bottom+_.bottom)/E.y,left:(N.left-C.left+_.left)/E.x,right:(C.right-N.right+_.right)/E.x}}const _X=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=mo(t,e)||{};if(d==null)return{};const m=$6(h),p={x:r,y:n},x=FT(s),_=LT(x),b=await o.getDimensions(d),y=x==="y",N=y?"top":"left",S=y?"bottom":"right",T=y?"clientHeight":"clientWidth",E=i.reference[_]+i.reference[x]-p[x]-i.floating[_],C=p[x]-i.reference[x],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=O?O[T]:0;(!k||!await(o.isElement==null?void 0:o.isElement(O)))&&(k=l.floating[T]||i.floating[_]);const R=E/2-C/2,M=k/2-b[_]/2-1,V=Ul(m[N],M),$=Ul(m[S],M),D=V,L=k-b[_]-$,B=k/2-b[_]/2+R,G=cE(D,B,L),q=!u.arrow&&Lf(s)!=null&&B!==G&&i.reference[_]/2-(B<D?V:$)-b[_]/2<0,Y=q?B<D?B-D:B-L:0;return{[x]:p[x]+Y,data:{[x]:G,centerOffset:B-G-Y,...q&&{alignmentOffset:Y}},reset:q}}}),jX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...y}=mo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=po(s),S=ql(l),T=po(l)===l,E=await(u.isRTL==null?void 0:u.isRTL(d.floating)),C=p||(T||!b?[_y(l)]:vX(l)),O=_!=="none";!p&&O&&C.push(...xX(l,b,_,E));const k=[l,...C],R=await Om(e,y),M=[];let V=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&M.push(R[N]),m){const B=gX(s,o,E);M.push(R[B[0]],R[B[1]])}if(V=[...V,{placement:s,overflows:M}],!M.every(B=>B<=0)){var $,D;const B=((($=i.flip)==null?void 0:$.index)||0)+1,G=k[B];if(G)return{data:{index:B,overflows:V},reset:{placement:G}};let q=(D=V.filter(Y=>Y.overflows[0]<=0).sort((Y,z)=>Y.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(x){case"bestFit":{var L;const Y=(L=V.filter(z=>{if(O){const J=ql(z.placement);return J===S||J==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(J=>J>0).reduce((J,ne)=>J+ne,0)]).sort((z,J)=>z[1]-J[1])[0])==null?void 0:L[0];Y&&(q=Y);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function gR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vR(t){return hX.some(e=>t[e]>=0)}const SX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=mo(t,e);switch(n){case"referenceHidden":{const i=await Om(e,{...s,elementContext:"reference"}),o=gR(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vR(o)}}}case"escaped":{const i=await Om(e,{...s,altBoundary:!0}),o=gR(i,r.floating);return{data:{escapedOffsets:o,escaped:vR(o)}}}default:return{}}}}};async function NX(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=po(r),l=Lf(r),u=ql(r)==="y",d=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,m=mo(e,t);let{mainAxis:p,crossAxis:x,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),u?{x:x*h,y:p*d}:{x:p*d,y:x*h}}const EX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await NX(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},AX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:S}=y;return{x:N,y:S}}},...u}=mo(t,e),d={x:r,y:n},h=await Om(e,u),m=ql(po(s)),p=DT(m);let x=d[p],_=d[m];if(i){const y=p==="y"?"top":"left",N=p==="y"?"bottom":"right",S=x+h[y],T=x-h[N];x=cE(S,x,T)}if(o){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",S=_+h[y],T=_-h[N];_=cE(S,_,T)}const b=l.fn({...e,[p]:x,[m]:_});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:i,[m]:o}}}}}},TX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=mo(t,e),h={x:r,y:n},m=ql(s),p=DT(m);let x=h[p],_=h[m];const b=mo(l,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const T=p==="y"?"height":"width",E=i.reference[p]-i.floating[T]+y.mainAxis,C=i.reference[p]+i.reference[T]-y.mainAxis;x<E?x=E:x>C&&(x=C)}if(d){var N,S;const T=p==="y"?"width":"height",E=["top","left"].includes(po(s)),C=i.reference[m]-i.floating[T]+(E&&((N=o.offset)==null?void 0:N[m])||0)+(E?0:y.crossAxis),O=i.reference[m]+i.reference[T]+(E?0:((S=o.offset)==null?void 0:S[m])||0)-(E?y.crossAxis:0);_<C?_=C:_>O&&(_=O)}return{[p]:x,[m]:_}}}},CX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=mo(t,e),h=await Om(e,d),m=po(s),p=Lf(s),x=ql(s)==="y",{width:_,height:b}=i.floating;let y,N;m==="top"||m==="bottom"?(y=m,N=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=m,y=p==="end"?"top":"bottom");const S=b-h.top-h.bottom,T=_-h.left-h.right,E=Ul(b-h[y],S),C=Ul(_-h[N],T),O=!e.middlewareData.shift;let k=E,R=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=S),O&&!p){const V=Cs(h.left,0),$=Cs(h.right,0),D=Cs(h.top,0),L=Cs(h.bottom,0);x?R=_-2*(V!==0||$!==0?V+$:Cs(h.left,h.right)):k=b-2*(D!==0||L!==0?D+L:Cs(h.top,h.bottom))}await u({...e,availableWidth:R,availableHeight:k});const M=await o.getDimensions(l.floating);return _!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function ob(){return typeof window<"u"}function Ff(t){return V6(t)?(t.nodeName||"").toLowerCase():"#document"}function Os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ka(t){var e;return(e=(V6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function V6(t){return ob()?t instanceof Node||t instanceof Os(t).Node:!1}function qi(t){return ob()?t instanceof Element||t instanceof Os(t).Element:!1}function ja(t){return ob()?t instanceof HTMLElement||t instanceof Os(t).HTMLElement:!1}function yR(t){return!ob()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Os(t).ShadowRoot}function Fp(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Hi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function kX(t){return["table","td","th"].includes(Ff(t))}function lb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $T(t){const e=VT(),r=qi(t)?Hi(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function PX(t){let e=Hl(t);for(;ja(e)&&!ef(e);){if($T(e))return e;if(lb(e))return null;e=Hl(e)}return null}function VT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ef(t){return["html","body","#document"].includes(Ff(t))}function Hi(t){return Os(t).getComputedStyle(t)}function cb(t){return qi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hl(t){if(Ff(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yR(t)&&t.host||ka(t);return yR(e)?e.host:e}function B6(t){const e=Hl(t);return ef(e)?t.ownerDocument?t.ownerDocument.body:t.body:ja(e)&&Fp(e)?e:B6(e)}function Mm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=B6(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Os(s);if(i){const l=dE(o);return e.concat(o,o.visualViewport||[],Fp(s)?s:[],l&&r?Mm(l):[])}return e.concat(s,Mm(s,[],r))}function dE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U6(t){const e=Hi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ja(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=wy(r)!==i||wy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function BT(t){return qi(t)?t:t.contextElement}function kd(t){const e=BT(t);if(!ja(e))return zl(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=U6(e);let o=(i?wy(r.width):r.width)/n,l=(i?wy(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const IX=zl(0);function z6(t){const e=Os(t);return!VT()||!e.visualViewport?IX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Os(t)?!1:e}function cu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=BT(t);let o=zl(1);e&&(n?qi(n)&&(o=kd(n)):o=kd(t));const l=RX(i,r,n)?z6(i):zl(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const p=Os(i),x=n&&qi(n)?Os(n):n;let _=p,b=dE(_);for(;b&&n&&x!==_;){const y=kd(b),N=b.getBoundingClientRect(),S=Hi(b),T=N.left+(b.clientLeft+parseFloat(S.paddingLeft))*y.x,E=N.top+(b.clientTop+parseFloat(S.paddingTop))*y.y;u*=y.x,d*=y.y,h*=y.x,m*=y.y,u+=T,d+=E,_=Os(b),b=dE(_)}}return jy({width:h,height:m,x:u,y:d})}function OX(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=ka(n),l=e?lb(e.floating):!1;if(n===o||l&&i)return r;let u={scrollLeft:0,scrollTop:0},d=zl(1);const h=zl(0),m=ja(n);if((m||!m&&!i)&&((Ff(n)!=="body"||Fp(o))&&(u=cb(n)),ja(n))){const p=cu(n);d=kd(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+h.x,y:r.y*d.y-u.scrollTop*d.y+h.y}}function MX(t){return Array.from(t.getClientRects())}function fE(t,e){const r=cb(t).scrollLeft;return e?e.left+r:cu(ka(t)).left+r}function DX(t){const e=ka(t),r=cb(t),n=t.ownerDocument.body,s=Cs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Cs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+fE(t);const l=-r.scrollTop;return Hi(n).direction==="rtl"&&(o+=Cs(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function LX(t,e){const r=Os(t),n=ka(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=VT();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}function FX(t,e){const r=cu(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=ja(t)?kd(t):zl(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,d=n*i.y;return{width:o,height:l,x:u,y:d}}function xR(t,e,r){let n;if(e==="viewport")n=LX(t,r);else if(e==="document")n=DX(ka(t));else if(qi(e))n=FX(e,r);else{const s=z6(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return jy(n)}function q6(t,e){const r=Hl(t);return r===e||!qi(r)||ef(r)?!1:Hi(r).position==="fixed"||q6(r,e)}function $X(t,e){const r=e.get(t);if(r)return r;let n=Mm(t,[],!1).filter(l=>qi(l)&&Ff(l)!=="body"),s=null;const i=Hi(t).position==="fixed";let o=i?Hl(t):t;for(;qi(o)&&!ef(o);){const l=Hi(o),u=$T(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fp(o)&&!u&&q6(t,o))?n=n.filter(h=>h!==o):s=l,o=Hl(o)}return e.set(t,n),n}function VX(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?lb(e)?[]:$X(e,this._c):[].concat(r),n],l=o[0],u=o.reduce((d,h)=>{const m=xR(e,h,s);return d.top=Cs(m.top,d.top),d.right=Ul(m.right,d.right),d.bottom=Ul(m.bottom,d.bottom),d.left=Cs(m.left,d.left),d},xR(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function BX(t){const{width:e,height:r}=U6(t);return{width:e,height:r}}function UX(t,e,r){const n=ja(e),s=ka(e),i=r==="fixed",o=cu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=zl(0);if(n||!n&&!i)if((Ff(e)!=="body"||Fp(s))&&(l=cb(e)),n){const x=cu(e,!0,i,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else s&&(u.x=fE(s));let d=0,h=0;if(s&&!n&&!i){const x=s.getBoundingClientRect();h=x.top+l.scrollTop,d=x.left+l.scrollLeft-fE(s,x)}const m=o.left+l.scrollLeft-u.x-d,p=o.top+l.scrollTop-u.y-h;return{x:m,y:p,width:o.width,height:o.height}}function j1(t){return Hi(t).position==="static"}function bR(t,e){if(!ja(t)||Hi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ka(t)===r&&(r=r.ownerDocument.body),r}function H6(t,e){const r=Os(t);if(lb(t))return r;if(!ja(t)){let s=Hl(t);for(;s&&!ef(s);){if(qi(s)&&!j1(s))return s;s=Hl(s)}return r}let n=bR(t,e);for(;n&&kX(n)&&j1(n);)n=bR(n,e);return n&&ef(n)&&j1(n)&&!$T(n)?r:n||PX(t)||r}const zX=async function(t){const e=this.getOffsetParent||H6,r=this.getDimensions,n=await r(t.floating);return{reference:UX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qX(t){return Hi(t).direction==="rtl"}const HX={convertOffsetParentRelativeRectToViewportRelativeRect:OX,getDocumentElement:ka,getClippingRect:VX,getOffsetParent:H6,getElementRects:zX,getClientRects:MX,getDimensions:BX,getScale:kd,isElement:qi,isRTL:qX};function WX(t,e){let r=null,n;const s=ka(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const{left:d,top:h,width:m,height:p}=t.getBoundingClientRect();if(l||e(),!m||!p)return;const x=Tv(h),_=Tv(s.clientWidth-(d+m)),b=Tv(s.clientHeight-(h+p)),y=Tv(d),S={rootMargin:-x+"px "+-_+"px "+-b+"px "+-y+"px",threshold:Cs(0,Ul(1,u))||1};let T=!0;function E(C){const O=C[0].intersectionRatio;if(O!==u){if(!T)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{r=new IntersectionObserver(E,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,S)}r.observe(t)}return o(!0),i}function GX(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=BT(t),h=s||i?[...d?Mm(d):[],...Mm(e)]:[];h.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=d&&l?WX(d,r):null;let p=-1,x=null;o&&(x=new ResizeObserver(N=>{let[S]=N;S&&S.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),r()}),d&&!u&&x.observe(d),x.observe(e));let _,b=u?cu(t):null;u&&y();function y(){const N=cu(t);b&&(N.x!==b.x||N.y!==b.y||N.width!==b.width||N.height!==b.height)&&r(),b=N,_=requestAnimationFrame(y)}return r(),()=>{var N;h.forEach(S=>{s&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),m==null||m(),(N=x)==null||N.disconnect(),x=null,u&&cancelAnimationFrame(_)}}const KX=EX,YX=AX,QX=jX,XX=CX,JX=SX,wR=_X,ZX=TX,eJ=(t,e,r)=>{const n=new Map,s={platform:HX,...r},i={...s.platform,_c:n};return wX(t,e,{...s,platform:i})};var ry=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Sy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Sy(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Sy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function W6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _R(t,e){const r=W6(t);return Math.round(e*r)/r}function S1(t){const e=j.useRef(t);return ry(()=>{e.current=t}),e}function tJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,m]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,x]=j.useState(n);Sy(p,n)||x(n);const[_,b]=j.useState(null),[y,N]=j.useState(null),S=j.useCallback(z=>{z!==O.current&&(O.current=z,b(z))},[]),T=j.useCallback(z=>{z!==k.current&&(k.current=z,N(z))},[]),E=i||_,C=o||y,O=j.useRef(null),k=j.useRef(null),R=j.useRef(h),M=u!=null,V=S1(u),$=S1(s),D=S1(d),L=j.useCallback(()=>{if(!O.current||!k.current)return;const z={placement:e,strategy:r,middleware:p};$.current&&(z.platform=$.current),eJ(O.current,k.current,z).then(J=>{const ne={...J,isPositioned:D.current!==!1};B.current&&!Sy(R.current,ne)&&(R.current=ne,Mf.flushSync(()=>{m(ne)}))})},[p,e,r,$,D]);ry(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const B=j.useRef(!1);ry(()=>(B.current=!0,()=>{B.current=!1}),[]),ry(()=>{if(E&&(O.current=E),C&&(k.current=C),E&&C){if(V.current)return V.current(E,C,L);L()}},[E,C,L,V,M]);const G=j.useMemo(()=>({reference:O,floating:k,setReference:S,setFloating:T}),[S,T]),q=j.useMemo(()=>({reference:E,floating:C}),[E,C]),Y=j.useMemo(()=>{const z={position:r,left:0,top:0};if(!q.floating)return z;const J=_R(q.floating,h.x),ne=_R(q.floating,h.y);return l?{...z,transform:"translate("+J+"px, "+ne+"px)",...W6(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:ne}},[r,l,q.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:L,refs:G,elements:q,floatingStyles:Y}),[h,L,G,q,Y])}const rJ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?wR({element:n.current,padding:s}).fn(r):{}:n?wR({element:n,padding:s}).fn(r):{}}}},nJ=(t,e)=>({...KX(t),options:[t,e]}),sJ=(t,e)=>({...YX(t),options:[t,e]}),iJ=(t,e)=>({...ZX(t),options:[t,e]}),aJ=(t,e)=>({...QX(t),options:[t,e]}),oJ=(t,e)=>({...XX(t),options:[t,e]}),lJ=(t,e)=>({...JX(t),options:[t,e]}),cJ=(t,e)=>({...rJ(t),options:[t,e]});var uJ="Arrow",G6=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(qe.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});G6.displayName=uJ;var dJ=G6;function fJ(t,e=[]){let r=[];function n(i,o){const l=j.createContext(o),u=r.length;r=[...r,o];function d(m){const{scope:p,children:x,..._}=m,b=(p==null?void 0:p[t][u])||l,y=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:y,children:x})}function h(m,p){const x=(p==null?void 0:p[t][u])||l,_=j.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[n,hJ(s,...e)]}function hJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function $p(t){const[e,r]=j.useState(void 0);return Zr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var UT="Popper",[K6,ub]=fJ(UT),[mJ,Y6]=K6(UT),Q6=t=>{const{__scopePopper:e,children:r}=t,[n,s]=j.useState(null);return a.jsx(mJ,{scope:e,anchor:n,onAnchorChange:s,children:r})};Q6.displayName=UT;var X6="PopperAnchor",J6=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=Y6(X6,r),o=j.useRef(null),l=Ct(e,o);return j.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(qe.div,{...s,ref:l})});J6.displayName=X6;var zT="PopperContent",[pJ,gJ]=K6(zT),Z6=j.forwardRef((t,e)=>{var fe,we,ce,be,Ee,ue;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:_,...b}=t,y=Y6(zT,r),[N,S]=j.useState(null),T=Ct(e,Ke=>S(Ke)),[E,C]=j.useState(null),O=$p(E),k=(O==null?void 0:O.width)??0,R=(O==null?void 0:O.height)??0,M=n+(i!=="center"?"-"+i:""),V=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(d)?d:[d],D=$.length>0,L={padding:V,boundary:$.filter(yJ),altBoundary:D},{refs:B,floatingStyles:G,placement:q,isPositioned:Y,middlewareData:z}=tJ({strategy:"fixed",placement:M,whileElementsMounted:(...Ke)=>GX(...Ke,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[nJ({mainAxis:s+R,alignmentAxis:o}),u&&sJ({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?iJ():void 0,...L}),u&&aJ({...L}),oJ({...L,apply:({elements:Ke,rects:Ve,availableWidth:Ge,availableHeight:ut})=>{const{width:Gt,height:kr}=Ve.reference,kt=Ke.floating.style;kt.setProperty("--radix-popper-available-width",`${Ge}px`),kt.setProperty("--radix-popper-available-height",`${ut}px`),kt.setProperty("--radix-popper-anchor-width",`${Gt}px`),kt.setProperty("--radix-popper-anchor-height",`${kr}px`)}}),E&&cJ({element:E,padding:l}),xJ({arrowWidth:k,arrowHeight:R}),p&&lJ({strategy:"referenceHidden",...L})]}),[J,ne]=rV(q),H=Gn(_);Zr(()=>{Y&&(H==null||H())},[Y,H]);const Q=(fe=z.arrow)==null?void 0:fe.x,re=(we=z.arrow)==null?void 0:we.y,Z=((ce=z.arrow)==null?void 0:ce.centerOffset)!==0,[me,pe]=j.useState();return Zr(()=>{N&&pe(window.getComputedStyle(N).zIndex)},[N]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Y?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(be=z.transformOrigin)==null?void 0:be.x,(Ee=z.transformOrigin)==null?void 0:Ee.y].join(" "),...((ue=z.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(pJ,{scope:r,placedSide:J,onArrowChange:C,arrowX:Q,arrowY:re,shouldHideArrow:Z,children:a.jsx(qe.div,{"data-side":J,"data-align":ne,...b,ref:T,style:{...b.style,animation:Y?void 0:"none"}})})})});Z6.displayName=zT;var eV="PopperArrow",vJ={top:"bottom",right:"left",bottom:"top",left:"right"},tV=j.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=gJ(eV,n),o=vJ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(dJ,{...s,ref:r,style:{...s.style,display:"block"}})})});tV.displayName=eV;function yJ(t){return t!==null}var xJ=t=>({name:"transformOrigin",options:t,fn(e){var y,N,S;const{placement:r,rects:n,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=rV(r),m={start:"0%",center:"50%",end:"100%"}[h],p=(((N=s.arrow)==null?void 0:N.x)??0)+l/2,x=(((S=s.arrow)==null?void 0:S.y)??0)+u/2;let _="",b="";return d==="bottom"?(_=o?m:`${p}px`,b=`${-u}px`):d==="top"?(_=o?m:`${p}px`,b=`${n.floating.height+u}px`):d==="right"?(_=`${-u}px`,b=o?m:`${x}px`):d==="left"&&(_=`${n.floating.width+u}px`,b=o?m:`${x}px`),{data:{x:_,y:b}}}});function rV(t){const[e,r="center"]=t.split("-");return[e,r]}var nV=Q6,sV=J6,iV=Z6,aV=tV,[fb,zTe]=$s("Tooltip",[ub]),hb=ub(),oV="TooltipProvider",bJ=700,hE="tooltip.open",[wJ,qT]=fb(oV),lV=t=>{const{__scopeTooltip:e,delayDuration:r=bJ,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=j.useState(!0),u=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),a.jsx(wJ,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:j.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:i})};lV.displayName=oV;var mb="Tooltip",[_J,pb]=fb(mb),cV=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,u=qT(mb,t.__scopeTooltip),d=hb(e),[h,m]=j.useState(null),p=$i(),x=j.useRef(0),_=o??u.disableHoverableContent,b=l??u.delayDuration,y=j.useRef(!1),[N=!1,S]=ds({prop:n,defaultProp:s,onChange:k=>{k?(u.onOpen(),document.dispatchEvent(new CustomEvent(hE))):u.onClose(),i==null||i(k)}}),T=j.useMemo(()=>N?y.current?"delayed-open":"instant-open":"closed",[N]),E=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,y.current=!1,S(!0)},[S]),C=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,S(!1)},[S]),O=j.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{y.current=!0,S(!0),x.current=0},b)},[b,S]);return j.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),a.jsx(nV,{...d,children:a.jsx(_J,{scope:e,contentId:p,open:N,stateAttribute:T,trigger:h,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{u.isOpenDelayed?O():E()},[u.isOpenDelayed,O,E]),onTriggerLeave:j.useCallback(()=>{_?C():(window.clearTimeout(x.current),x.current=0)},[C,_]),onOpen:E,onClose:C,disableHoverableContent:_,children:r})})};cV.displayName=mb;var mE="TooltipTrigger",uV=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=pb(mE,r),i=qT(mE,r),o=hb(r),l=j.useRef(null),u=Ct(e,l,s.onTriggerChange),d=j.useRef(!1),h=j.useRef(!1),m=j.useCallback(()=>d.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(sV,{asChild:!0,...o,children:a.jsx(qe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:Ue(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ue(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ue(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ue(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ue(t.onBlur,s.onClose),onClick:Ue(t.onClick,s.onClose)})})});uV.displayName=mE;var jJ="TooltipPortal",[qTe,SJ]=fb(jJ,{forceMount:void 0}),tf="TooltipContent",dV=j.forwardRef((t,e)=>{const r=SJ(tf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=pb(tf,t.__scopeTooltip);return a.jsx(Ca,{present:n||o.open,children:o.disableHoverableContent?a.jsx(fV,{side:s,...i,ref:e}):a.jsx(NJ,{side:s,...i,ref:e})})}),NJ=j.forwardRef((t,e)=>{const r=pb(tf,t.__scopeTooltip),n=qT(tf,t.__scopeTooltip),s=j.useRef(null),i=Ct(e,s),[o,l]=j.useState(null),{trigger:u,onClose:d}=r,h=s.current,{onPointerInTransitChange:m}=n,p=j.useCallback(()=>{l(null),m(!1)},[m]),x=j.useCallback((_,b)=>{const y=_.currentTarget,N={x:_.clientX,y:_.clientY},S=CJ(N,y.getBoundingClientRect()),T=kJ(N,S),E=PJ(b.getBoundingClientRect()),C=RJ([...T,...E]);l(C),m(!0)},[m]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(u&&h){const _=y=>x(y,h),b=y=>x(y,u);return u.addEventListener("pointerleave",_),h.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",b)}}},[u,h,x,p]),j.useEffect(()=>{if(o){const _=b=>{const y=b.target,N={x:b.clientX,y:b.clientY},S=(u==null?void 0:u.contains(y))||(h==null?void 0:h.contains(y)),T=!IJ(N,o);S?p():T&&(p(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,h,o,d,p]),a.jsx(fV,{...t,ref:i})}),[EJ,AJ]=fb(mb,{isInside:!1}),fV=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=pb(tf,r),d=hb(r),{onClose:h}=u;return j.useEffect(()=>(document.addEventListener(hE,h),()=>document.removeEventListener(hE,h)),[h]),j.useEffect(()=>{if(u.trigger){const m=p=>{const x=p.target;x!=null&&x.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),a.jsx(Dp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:a.jsxs(iV,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(z$,{children:n}),a.jsx(EJ,{scope:r,isInside:!0,children:a.jsx(iY,{id:u.contentId,role:"tooltip",children:s||n})})]})})});dV.displayName=tf;var hV="TooltipArrow",TJ=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=hb(r);return AJ(hV,r).isInside?null:a.jsx(aV,{...s,...n,ref:e})});TJ.displayName=hV;function CJ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function kJ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function PJ(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function IJ(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,u=e[i].y,d=e[o].x,h=e[o].y;u>n!=h>n&&r<(d-l)*(n-u)/(h-u)+l&&(s=!s)}return s}function RJ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),OJ(e)}function OJ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var MJ=lV,DJ=cV,LJ=uV,mV=dV;const Pd=MJ,gm=DJ,vm=LJ,Id=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(mV,{ref:n,sideOffset:e,className:Qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Id.displayName=mV.displayName;const FJ=sb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?au:"button";return a.jsx(o,{className:Qe(FJ({variant:e,size:r,className:t})),ref:i,...s})});te.displayName="Button";const Re=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Qe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Re.displayName="Card";const _t=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Qe("flex flex-col space-y-1.5 p-6",t),...e}));_t.displayName="CardHeader";const yt=j.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:Qe("text-2xl font-semibold leading-none tracking-tight",t),...e}));yt.displayName="CardTitle";const Wl=j.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:Qe("text-sm text-muted-foreground",t),...e}));Wl.displayName="CardDescription";const ct=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Qe("p-6 pt-0",t),...e}));ct.displayName="CardContent";const go=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Qe("flex items-center p-6 pt-0",t),...e}));go.displayName="CardFooter";class $J extends j.Component{constructor(){super(...arguments);mn(this,"state",{hasError:!1,error:null,errorInfo:null});mn(this,"handleReload",()=>{window.location.reload()});mn(this,"handleGoHome",()=>{window.location.href="/SafeBite-V1/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(Re,{className:"w-full max-w-md border-safebite-teal/50 bg-safebite-card-bg",children:[a.jsx(_t,{children:a.jsx(yt,{className:"text-safebite-text text-xl",children:"Something went wrong"})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"We're sorry, but an error occurred while loading the application."}),this.state.error&&a.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md overflow-auto max-h-40",children:a.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})})]})}),a.jsxs(go,{className:"flex justify-between",children:[a.jsx(te,{variant:"outline",onClick:this.handleGoHome,children:"Go to Home"}),a.jsx(te,{onClick:this.handleReload,children:"Reload Page"})]})]})}):this.props.children}}var gb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vb=typeof window>"u"||"Deno"in globalThis;function ki(){}function VJ(t,e){return typeof t=="function"?t(e):t}function BJ(t){return typeof t=="number"&&t>=0&&t!==1/0}function UJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jR(t,e){return typeof t=="function"?t(e):t}function zJ(t,e){return typeof t=="function"?t(e):t}function SR(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==HT(o,e.options))return!1}else if(!Lm(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function NR(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Dm(e.options.mutationKey)!==Dm(i))return!1}else if(!Lm(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function HT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Dm)(t)}function Dm(t){return JSON.stringify(t,(e,r)=>pE(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Lm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Lm(t[r],e[r])):!1}function pV(t,e){if(t===e)return t;const r=ER(t)&&ER(e);if(r||pE(t)&&pE(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{};let u=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=pV(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function ER(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pE(t){if(!AR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!AR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function AR(t){return Object.prototype.toString.call(t)==="[object Object]"}function qJ(t){return new Promise(e=>{setTimeout(e,t)})}function HJ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?pV(t,e):e}function WJ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function GJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var WT=Symbol();function gV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===WT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Qc,wl,qd,P$,KJ=(P$=class extends gb{constructor(){super();Yt(this,Qc);Yt(this,wl);Yt(this,qd);wt(this,qd,e=>{if(!vb&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){xe(this,wl)||this.setEventListener(xe(this,qd))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,wl))==null||e.call(this),wt(this,wl,void 0))}setEventListener(e){var r;wt(this,qd,e),(r=xe(this,wl))==null||r.call(this),wt(this,wl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){xe(this,Qc)!==e&&(wt(this,Qc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof xe(this,Qc)=="boolean"?xe(this,Qc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qc=new WeakMap,wl=new WeakMap,qd=new WeakMap,P$),vV=new KJ,Hd,_l,Wd,I$,YJ=(I$=class extends gb{constructor(){super();Yt(this,Hd,!0);Yt(this,_l);Yt(this,Wd);wt(this,Wd,e=>{if(!vb&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,_l)||this.setEventListener(xe(this,Wd))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,_l))==null||e.call(this),wt(this,_l,void 0))}setEventListener(e){var r;wt(this,Wd,e),(r=xe(this,_l))==null||r.call(this),wt(this,_l,e(this.setOnline.bind(this)))}setOnline(e){xe(this,Hd)!==e&&(wt(this,Hd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return xe(this,Hd)}},Hd=new WeakMap,_l=new WeakMap,Wd=new WeakMap,I$),Ny=new YJ;function QJ(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function XJ(t){return Math.min(1e3*2**t,3e4)}function yV(t){return(t??"online")==="online"?Ny.isOnline():!0}var xV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function N1(t){return t instanceof xV}function bV(t){let e=!1,r=0,n=!1,s;const i=QJ(),o=b=>{var y;n||(p(new xV(b)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},u=()=>{e=!1},d=()=>vV.isFocused()&&(t.networkMode==="always"||Ny.isOnline())&&t.canRun(),h=()=>yV(t.networkMode)&&t.canRun(),m=b=>{var y;n||(n=!0,(y=t.onSuccess)==null||y.call(t,b),s==null||s(),i.resolve(b))},p=b=>{var y;n||(n=!0,(y=t.onError)==null||y.call(t,b),s==null||s(),i.reject(b))},x=()=>new Promise(b=>{var y;s=N=>{(n||d())&&b(N)},(y=t.onPause)==null||y.call(t)}).then(()=>{var b;s=void 0,n||(b=t.onContinue)==null||b.call(t)}),_=()=>{if(n)return;let b;const y=r===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(N){b=Promise.reject(N)}Promise.resolve(b).then(m).catch(N=>{var O;if(n)return;const S=t.retry??(vb?0:3),T=t.retryDelay??XJ,E=typeof T=="function"?T(r,N):T,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,N);if(e||!C){p(N);return}r++,(O=t.onFail)==null||O.call(t,r,N),qJ(E).then(()=>d()?void 0:x()).then(()=>{e?p(N):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?_():x().then(_),i)}}function JJ(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var zn=JJ(),Xc,R$,wV=(R$=class{constructor(){Yt(this,Xc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BJ(this.gcTime)&&wt(this,Xc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vb?1/0:5*60*1e3))}clearGcTimeout(){xe(this,Xc)&&(clearTimeout(xe(this,Xc)),wt(this,Xc,void 0))}},Xc=new WeakMap,R$),Gd,Kd,Js,An,Rp,Jc,Pi,Qa,O$,ZJ=(O$=class extends wV{constructor(r){super();Yt(this,Pi);Yt(this,Gd);Yt(this,Kd);Yt(this,Js);Yt(this,An);Yt(this,Rp);Yt(this,Jc);wt(this,Jc,!1),wt(this,Rp,r.defaultOptions),this.setOptions(r.options),this.observers=[],wt(this,Js,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,wt(this,Gd,tZ(this.options)),this.state=r.state??xe(this,Gd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=xe(this,An))==null?void 0:r.promise}setOptions(r){this.options={...xe(this,Rp),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Js).remove(this)}setData(r,n){const s=HJ(this.state.data,r,this.options);return Nn(this,Pi,Qa).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(r,n){Nn(this,Pi,Qa).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var s,i;const n=(s=xe(this,An))==null?void 0:s.promise;return(i=xe(this,An))==null||i.cancel(r),n?n.then(ki).catch(ki):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,Gd))}isActive(){return this.observers.some(r=>zJ(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===WT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!UJ(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=xe(this,An))==null||n.continue()}onOnline(){var n;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=xe(this,An))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),xe(this,Js).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(xe(this,An)&&(xe(this,Jc)?xe(this,An).cancel({revert:!0}):xe(this,An).cancelRetry()),this.scheduleGc()),xe(this,Js).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nn(this,Pi,Qa).call(this,{type:"invalidate"})}fetch(r,n){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(xe(this,An))return xe(this,An).continueRetry(),xe(this,An).promise}if(r&&this.setOptions(r),!this.options.queryFn){const p=this.observers.find(x=>x.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(wt(this,Jc,!0),s.signal)})},o=()=>{const p=gV(this.options,n),x={queryKey:this.queryKey,meta:this.meta};return i(x),wt(this,Jc,!1),this.options.persister?this.options.persister(p,x,this):p(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),wt(this,Kd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Nn(this,Pi,Qa).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=p=>{var x,_,b,y;N1(p)&&p.silent||Nn(this,Pi,Qa).call(this,{type:"error",error:p}),N1(p)||((_=(x=xe(this,Js).config).onError)==null||_.call(x,p,this),(y=(b=xe(this,Js).config).onSettled)==null||y.call(b,this.state.data,p,this)),this.scheduleGc()};return wt(this,An,bV({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var x,_,b,y;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(N){u(N);return}(_=(x=xe(this,Js).config).onSuccess)==null||_.call(x,p,this),(y=(b=xe(this,Js).config).onSettled)==null||y.call(b,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,x)=>{Nn(this,Pi,Qa).call(this,{type:"failed",failureCount:p,error:x})},onPause:()=>{Nn(this,Pi,Qa).call(this,{type:"pause"})},onContinue:()=>{Nn(this,Pi,Qa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xe(this,An).start()}},Gd=new WeakMap,Kd=new WeakMap,Js=new WeakMap,An=new WeakMap,Rp=new WeakMap,Jc=new WeakMap,Pi=new WeakSet,Qa=function(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eZ(s.data,this.options),fetchMeta:r.meta??null};case"success":return{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=r.error;return N1(i)&&i.revert&&xe(this,Kd)?{...xe(this,Kd),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),xe(this,Js).notify({query:this,type:"updated",action:r})})},O$);function eZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var da,M$,rZ=(M$=class extends gb{constructor(e={}){super();Yt(this,da);this.config=e,wt(this,da,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??HT(s,r);let o=this.get(i);return o||(o=new ZJ({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){xe(this,da).has(e.queryHash)||(xe(this,da).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=xe(this,da).get(e.queryHash);r&&(e.destroy(),r===e&&xe(this,da).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return xe(this,da).get(e)}getAll(){return[...xe(this,da).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>SR(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>SR(e,n)):r}notify(e){zn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},da=new WeakMap,M$),fa,Un,Zc,ha,fl,D$,nZ=(D$=class extends wV{constructor(r){super();Yt(this,ha);Yt(this,fa);Yt(this,Un);Yt(this,Zc);this.mutationId=r.mutationId,wt(this,Un,r.mutationCache),wt(this,fa,[]),this.state=r.state||sZ(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){xe(this,fa).includes(r)||(xe(this,fa).push(r),this.clearGcTimeout(),xe(this,Un).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){wt(this,fa,xe(this,fa).filter(n=>n!==r)),this.scheduleGc(),xe(this,Un).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){xe(this,fa).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Un).remove(this))}continue(){var r;return((r=xe(this,Zc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var i,o,l,u,d,h,m,p,x,_,b,y,N,S,T,E,C,O,k,R;wt(this,Zc,bV({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(M,V)=>{Nn(this,ha,fl).call(this,{type:"failed",failureCount:M,error:V})},onPause:()=>{Nn(this,ha,fl).call(this,{type:"pause"})},onContinue:()=>{Nn(this,ha,fl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Un).canRun(this)}));const n=this.state.status==="pending",s=!xe(this,Zc).canStart();try{if(!n){Nn(this,ha,fl).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(i=xe(this,Un).config).onMutate)==null?void 0:o.call(i,r,this));const V=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,r));V!==this.state.context&&Nn(this,ha,fl).call(this,{type:"pending",context:V,variables:r,isPaused:s})}const M=await xe(this,Zc).start();return await((h=(d=xe(this,Un).config).onSuccess)==null?void 0:h.call(d,M,r,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,M,r,this.state.context)),await((_=(x=xe(this,Un).config).onSettled)==null?void 0:_.call(x,M,null,this.state.variables,this.state.context,this)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,M,null,r,this.state.context)),Nn(this,ha,fl).call(this,{type:"success",data:M}),M}catch(M){try{throw await((S=(N=xe(this,Un).config).onError)==null?void 0:S.call(N,M,r,this.state.context,this)),await((E=(T=this.options).onError)==null?void 0:E.call(T,M,r,this.state.context)),await((O=(C=xe(this,Un).config).onSettled)==null?void 0:O.call(C,void 0,M,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,M,r,this.state.context)),M}finally{Nn(this,ha,fl).call(this,{type:"error",error:M})}}finally{xe(this,Un).runNext(this)}}},fa=new WeakMap,Un=new WeakMap,Zc=new WeakMap,ha=new WeakSet,fl=function(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zn.batch(()=>{xe(this,fa).forEach(s=>{s.onMutationUpdate(r)}),xe(this,Un).notify({mutation:this,type:"updated",action:r})})},D$);function sZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Es,Op,L$,iZ=(L$=class extends gb{constructor(e={}){super();Yt(this,Es);Yt(this,Op);this.config=e,wt(this,Es,new Map),wt(this,Op,Date.now())}build(e,r,n){const s=new nZ({mutationCache:this,mutationId:++wv(this,Op)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Cv(e),n=xe(this,Es).get(r)??[];n.push(e),xe(this,Es).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Cv(e);if(xe(this,Es).has(r)){const s=(n=xe(this,Es).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?xe(this,Es).delete(r):xe(this,Es).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=xe(this,Es).get(Cv(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=xe(this,Es).get(Cv(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...xe(this,Es).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>NR(r,n))}findAll(e={}){return this.getAll().filter(r=>NR(e,r))}notify(e){zn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return zn.batch(()=>Promise.all(e.map(r=>r.continue().catch(ki))))}},Es=new WeakMap,Op=new WeakMap,L$);function Cv(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function TR(t){return{onFetch:(e,r)=>{var h,m,p,x,_;const n=e.options,s=(p=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let b=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},N=gV(e.options,e.fetchOptions),S=async(T,E,C)=>{if(b)return Promise.reject();if(E==null&&T.pages.length)return Promise.resolve(T);const O={queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};y(O);const k=await N(O),{maxPages:R}=e.options,M=C?GJ:WJ;return{pages:M(T.pages,k,R),pageParams:M(T.pageParams,E,R)}};if(s&&i.length){const T=s==="backward",E=T?aZ:CR,C={pages:i,pageParams:o},O=E(n,C);l=await S(C,O,T)}else{const T=t??i.length;do{const E=u===0?o[0]??n.initialPageParam:CR(n,l);if(u>0&&E==null)break;l=await S(l,E),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function CR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function aZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ir,jl,Sl,Yd,Qd,Nl,Xd,Jd,F$,oZ=(F$=class{constructor(t={}){Yt(this,Ir);Yt(this,jl);Yt(this,Sl);Yt(this,Yd);Yt(this,Qd);Yt(this,Nl);Yt(this,Xd);Yt(this,Jd);wt(this,Ir,t.queryCache||new rZ),wt(this,jl,t.mutationCache||new iZ),wt(this,Sl,t.defaultOptions||{}),wt(this,Yd,new Map),wt(this,Qd,new Map),wt(this,Nl,0)}mount(){wv(this,Nl)._++,xe(this,Nl)===1&&(wt(this,Xd,vV.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,Ir).onFocus())})),wt(this,Jd,Ny.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,Ir).onOnline())})))}unmount(){var t,e;wv(this,Nl)._--,xe(this,Nl)===0&&((t=xe(this,Xd))==null||t.call(this),wt(this,Xd,void 0),(e=xe(this,Jd))==null||e.call(this),wt(this,Jd,void 0))}isFetching(t){return xe(this,Ir).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return xe(this,jl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=xe(this,Ir).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=xe(this,Ir).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(jR(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return xe(this,Ir).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=xe(this,Ir).get(n.queryHash),i=s==null?void 0:s.state.data,o=VJ(e,i);if(o!==void 0)return xe(this,Ir).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return zn.batch(()=>xe(this,Ir).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=xe(this,Ir).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=xe(this,Ir);zn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=xe(this,Ir),n={type:"active",...t};return zn.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=zn.batch(()=>xe(this,Ir).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ki).catch(ki)}invalidateQueries(t={},e={}){return zn.batch(()=>{if(xe(this,Ir).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=zn.batch(()=>xe(this,Ir).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ki)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ki)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=xe(this,Ir).build(this,e);return r.isStaleByTime(jR(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ki).catch(ki)}fetchInfiniteQuery(t){return t.behavior=TR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ki).catch(ki)}ensureInfiniteQueryData(t){return t.behavior=TR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ny.isOnline()?xe(this,jl).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,Ir)}getMutationCache(){return xe(this,jl)}getDefaultOptions(){return xe(this,Sl)}setDefaultOptions(t){wt(this,Sl,t)}setQueryDefaults(t,e){xe(this,Yd).set(Dm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...xe(this,Yd).values()];let r={};return e.forEach(n=>{Lm(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){xe(this,Qd).set(Dm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...xe(this,Qd).values()];let r={};return e.forEach(n=>{Lm(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...xe(this,Sl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=HT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===WT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...xe(this,Sl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){xe(this,Ir).clear(),xe(this,jl).clear()}},Ir=new WeakMap,jl=new WeakMap,Sl=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,Nl=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,F$),lZ=j.createContext(void 0),cZ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(lZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}var Tl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tl||(Tl={}));const kR="popstate";function uZ(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return gE("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ey(s)}return fZ(e,r,null,t)}function Tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _V(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dZ(){return Math.random().toString(36).substr(2,8)}function PR(t,e){return{usr:t.state,key:t.key,idx:e}}function gE(t,e,r,n){return r===void 0&&(r=null),Fm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$f(e):e,{state:r,key:e&&e.key||n||dZ()})}function Ey(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $f(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fZ(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Tl.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(Fm({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=Tl.Pop;let y=h(),N=y==null?null:y-d;d=y,u&&u({action:l,location:b.location,delta:N})}function p(y,N){l=Tl.Push;let S=gE(b.location,y,N);d=h()+1;let T=PR(S,d),E=b.createHref(S);try{o.pushState(T,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&u&&u({action:l,location:b.location,delta:1})}function x(y,N){l=Tl.Replace;let S=gE(b.location,y,N);d=h();let T=PR(S,d),E=b.createHref(S);o.replaceState(T,"",E),i&&u&&u({action:l,location:b.location,delta:0})}function _(y){let N=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof y=="string"?y:Ey(y);return S=S.replace(/ $/,"%20"),Tr(N,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,N)}let b={get action(){return l},get location(){return t(s,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(kR,m),u=y,()=>{s.removeEventListener(kR,m),u=null}},createHref(y){return e(s,y)},createURL:_,encodeLocation(y){let N=_(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:x,go(y){return o.go(y)}};return b}var IR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IR||(IR={}));function hZ(t,e,r){return r===void 0&&(r="/"),mZ(t,e,r)}function mZ(t,e,r,n){let s=typeof e=="string"?$f(e):e,i=rf(s.pathname||"/",r);if(i==null)return null;let o=jV(t);pZ(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=EZ(i);l=SZ(o[u],d)}return l}function jV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Tr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=Rl([n,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(Tr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),jV(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:_Z(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of SV(i.path))s(i,o,u)}),e}function SV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=SV(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function pZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:jZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gZ=/^:[\w-]+$/,vZ=3,yZ=2,xZ=1,bZ=10,wZ=-2,RR=t=>t==="*";function _Z(t,e){let r=t.split("/"),n=r.length;return r.some(RR)&&(n+=wZ),e&&(n+=yZ),r.filter(s=>!RR(s)).reduce((s,i)=>s+(gZ.test(i)?vZ:i===""?xZ:bZ),n)}function jZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function SZ(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=vE({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Rl([i,m.pathname]),pathnameBase:kZ(Rl([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Rl([i,m.pathnameBase]))}return o}function vE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=NZ(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,h,m)=>{let{paramName:p,isOptional:x}=h;if(p==="*"){let b=l[m]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const _=l[m];return x&&!_?d[p]=void 0:d[p]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function NZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_V(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function EZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _V(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function AZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?$f(t):t;return{pathname:r?r.startsWith("/")?r:TZ(r,e):e,search:PZ(n),hash:IZ(s)}}function TZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function E1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function GT(t,e){let r=CZ(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function KT(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=$f(t):(s=Fm({},t),Tr(!s.pathname||!s.pathname.includes("?"),E1("?","pathname","search",s)),Tr(!s.pathname||!s.pathname.includes("#"),E1("#","pathname","hash",s)),Tr(!s.search||!s.search.includes("#"),E1("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?e[m]:"/"}let u=AZ(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const Rl=t=>t.join("/").replace(/\/\/+/g,"/"),kZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NV=["post","put","patch","delete"];new Set(NV);const OZ=["get",...NV];new Set(OZ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}const yb=j.createContext(null),EV=j.createContext(null),To=j.createContext(null),xb=j.createContext(null),ec=j.createContext({outlet:null,matches:[],isDataRoute:!1}),AV=j.createContext(null);function MZ(t,e){let{relative:r}=e===void 0?{}:e;Vf()||Tr(!1);let{basename:n,navigator:s}=j.useContext(To),{hash:i,pathname:o,search:l}=bb(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Rl([n,o])),s.createHref({pathname:u,search:l,hash:i})}function Vf(){return j.useContext(xb)!=null}function Co(){return Vf()||Tr(!1),j.useContext(xb).location}function TV(t){j.useContext(To).static||j.useLayoutEffect(t)}function _r(){let{isDataRoute:t}=j.useContext(ec);return t?KZ():DZ()}function DZ(){Vf()||Tr(!1);let t=j.useContext(yb),{basename:e,future:r,navigator:n}=j.useContext(To),{matches:s}=j.useContext(ec),{pathname:i}=Co(),o=JSON.stringify(GT(s,r.v7_relativeSplatPath)),l=j.useRef(!1);return TV(()=>{l.current=!0}),j.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=KT(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Rl([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,i,t])}function bb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(To),{matches:s}=j.useContext(ec),{pathname:i}=Co(),o=JSON.stringify(GT(s,n.v7_relativeSplatPath));return j.useMemo(()=>KT(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function LZ(t,e){return FZ(t,e)}function FZ(t,e,r,n){Vf()||Tr(!1);let{navigator:s}=j.useContext(To),{matches:i}=j.useContext(ec),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Co(),h;if(e){var m;let y=typeof e=="string"?$f(e):e;u==="/"||(m=y.pathname)!=null&&m.startsWith(u)||Tr(!1),h=y}else h=d;let p=h.pathname||"/",x=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=hZ(t,{pathname:x}),b=zZ(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Rl([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Rl([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&b?j.createElement(xb.Provider,{value:{location:$m({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Tl.Pop}},b):b}function $Z(){let t=GZ(),e=RZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:s},r):null,null)}const VZ=j.createElement($Z,null);class BZ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(ec.Provider,{value:this.props.routeContext},j.createElement(AV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UZ(t){let{routeContext:e,match:r,children:n}=t,s=j.useContext(yb);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(ec.Provider,{value:e},n)}function zZ(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Tr(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:x}=r,_=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||_){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let x,_=!1,b=null,y=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||VZ,u&&(d<0&&p===0?(YZ("route-fallback"),_=!0,y=null):d===p&&(_=!0,y=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,p+1)),S=()=>{let T;return x?T=b:_?T=y:m.route.Component?T=j.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,j.createElement(UZ,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?j.createElement(BZ,{location:r.location,revalidation:r.revalidation,component:b,error:x,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}var CV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CV||{}),kV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kV||{});function qZ(t){let e=j.useContext(yb);return e||Tr(!1),e}function HZ(t){let e=j.useContext(EV);return e||Tr(!1),e}function WZ(t){let e=j.useContext(ec);return e||Tr(!1),e}function PV(t){let e=WZ(),r=e.matches[e.matches.length-1];return r.route.id||Tr(!1),r.route.id}function GZ(){var t;let e=j.useContext(AV),r=HZ(),n=PV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function KZ(){let{router:t}=qZ(CV.UseNavigateStable),e=PV(kV.UseNavigateStable),r=j.useRef(!1);return TV(()=>{r.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$m({fromRouteId:e},i)))},[t,e])}const OR={};function YZ(t,e,r){OR[t]||(OR[t]=!0)}function QZ(t){let{to:e,replace:r,state:n,relative:s}=t;Vf()||Tr(!1);let{future:i,static:o}=j.useContext(To),{matches:l}=j.useContext(ec),{pathname:u}=Co(),d=_r(),h=KT(e,GT(l,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(h);return j.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function xr(t){Tr(!1)}function XZ(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Tl.Pop,navigator:i,static:o=!1,future:l}=t;Vf()&&Tr(!1);let u=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:u,navigator:i,static:o,future:$m({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof n=="string"&&(n=$f(n));let{pathname:h="/",search:m="",hash:p="",state:x=null,key:_="default"}=n,b=j.useMemo(()=>{let y=rf(h,u);return y==null?null:{location:{pathname:y,search:m,hash:p,state:x,key:_},navigationType:s}},[u,h,m,p,x,_,s]);return b==null?null:j.createElement(To.Provider,{value:d},j.createElement(xb.Provider,{children:r,value:b}))}function JZ(t){let{children:e,location:r}=t;return LZ(yE(e),r)}new Promise(()=>{});function yE(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,s)=>{if(!j.isValidElement(n))return;let i=[...e,s];if(n.type===j.Fragment){r.push.apply(r,yE(n.props.children,i));return}n.type!==xr&&Tr(!1),!n.props.index||!n.props.children||Tr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yE(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ay.apply(this,arguments)}function IV(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function ZZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eee(t,e){return t.button===0&&(!e||e==="_self")&&!ZZ(t)}const tee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ree=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],nee="6";try{window.__reactRouterVersion=nee}catch{}const see=j.createContext({isTransitioning:!1}),iee="startTransition",MR=V$[iee];function aee(t){let{basename:e,children:r,future:n,window:s}=t,i=j.useRef();i.current==null&&(i.current=uZ({window:s,v5Compat:!0}));let o=i.current,[l,u]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=j.useCallback(m=>{d&&MR?MR(()=>u(m)):u(m)},[u,d]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.createElement(XZ,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const oee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=j.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,p=IV(e,tee),{basename:x}=j.useContext(To),_,b=!1;if(typeof d=="string"&&lee.test(d)&&(_=d,oee))try{let T=new URL(window.location.href),E=d.startsWith("//")?new URL(T.protocol+d):new URL(d),C=rf(E.pathname,x);E.origin===T.origin&&C!=null?d=C+E.search+E.hash:b=!0}catch{}let y=MZ(d,{relative:s}),N=dee(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});function S(T){n&&n(T),T.defaultPrevented||N(T)}return j.createElement("a",Ay({},p,{href:_||y,onClick:b||i?n:S,ref:r,target:u}))}),cee=j.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h}=e,m=IV(e,ree),p=bb(u,{relative:m.relative}),x=Co(),_=j.useContext(EV),{navigator:b,basename:y}=j.useContext(To),N=_!=null&&fee(p)&&d===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=x.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(T=T.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&y&&(E=rf(E,y)||E);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=T===S||!o&&T.startsWith(S)&&T.charAt(C)==="/",k=E!=null&&(E===S||!o&&E.startsWith(S)&&E.charAt(S.length)==="/"),R={isActive:O,isPending:k,isTransitioning:N},M=O?n:void 0,V;typeof i=="function"?V=i(R):V=[i,O?"active":null,k?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(R):l;return j.createElement(qt,Ay({},m,{"aria-current":M,className:V,ref:r,style:$,to:u,viewTransition:d}),typeof h=="function"?h(R):h)});var xE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xE||(xE={}));var DR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DR||(DR={}));function uee(t){let e=j.useContext(yb);return e||Tr(!1),e}function dee(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=_r(),d=Co(),h=bb(t,{relative:o});return j.useCallback(m=>{if(eee(m,r)){m.preventDefault();let p=n!==void 0?n:Ey(d)===Ey(h);u(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,n,s,r,t,i,o,l])}function fee(t,e){e===void 0&&(e={});let r=j.useContext(see);r==null&&Tr(!1);let{basename:n}=uee(xE.useViewTransitionState),s=bb(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=rf(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=rf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vE(s.pathname,o)!=null||vE(s.pathname,i)!=null}const hee=()=>{};var LR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},mee=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],l=t[r++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},OV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(p=64)),n.push(r[h],r[m],r[p],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],l=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const m=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new pee;const p=i<<2|l>>4;if(n.push(p),d!==64){const x=l<<4&240|d>>2;if(n.push(x),m!==64){const _=d<<6&192|m;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gee=function(t){const e=RV(t);return OV.encodeByteArray(e,!0)},Ty=function(t){return gee(t).replace(/\./g,"")},MV=function(t){try{return OV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=()=>vee().__FIREBASE_DEFAULTS__,xee=()=>{if(typeof process>"u"||typeof LR>"u")return;const t=LR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MV(t[1]);return e&&JSON.parse(e)},wb=()=>{try{return hee()||yee()||xee()||bee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DV=t=>{var e,r;return(r=(e=wb())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},wee=t=>{const e=DV(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},LV=()=>{var t;return(t=wb())===null||t===void 0?void 0:t.config},FV=t=>{var e;return(e=wb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ty(JSON.stringify(r)),Ty(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function See(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function Nee(){var t;const e=(t=wb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $V(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Aee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tee(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cee(){return!Nee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VV(){try{return typeof indexedDB=="object"}catch{return!1}}function BV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function kee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pee="FirebaseError";class Ki extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Pee,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Iee(i,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ki(s,l,n)}}function Iee(t,e){return t.replace(Ree,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Ree=/\{\$([^}]+)}/g;function Oee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(FR(i)&&FR(o)){if(!vo(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function FR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function nm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function sm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Mee(t,e){const r=new Dee(t,e);return r.subscribe.bind(r)}class Dee{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Lee(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=A1),s.error===void 0&&(s.error=A1),s.complete===void 0&&(s.complete=A1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lee(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function A1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=1e3,$ee=2,Vee=4*60*60*1e3,Bee=.5;function $R(t,e=Fee,r=$ee){const n=e*Math.pow(r,t),s=Math.round(Bee*n*(Math.random()-.5)*2);return Math.min(Vee,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new _ee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qee(e))try{this.getOrInitializeService({instanceIdentifier:Fc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fc){return this.instances.has(e)}getOptions(e=Fc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zee(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Fc){return this.component?this.component.multipleInstances?e:Fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zee(t){return t===Fc?void 0:t}function qee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Uee(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pt||(Pt={}));const Wee={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Gee=Pt.INFO,Kee={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Yee=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=Kee[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _b{constructor(e){this.name=e,this._logLevel=Gee,this._logHandler=Yee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const Qee=(t,e)=>e.some(r=>t instanceof r);let VR,BR;function Xee(){return VR||(VR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jee(){return BR||(BR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UV=new WeakMap,bE=new WeakMap,zV=new WeakMap,T1=new WeakMap,YT=new WeakMap;function Zee(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Ol(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&UV.set(r,t)}).catch(()=>{}),YT.set(e,t),e}function ete(t){if(bE.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bE.set(t,e)}let wE={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return bE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ol(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tte(t){wE=t(wE)}function rte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(C1(this),e,...r);return zV.set(n,e.sort?e.sort():[e]),Ol(n)}:Jee().includes(t)?function(...e){return t.apply(C1(this),e),Ol(UV.get(this))}:function(...e){return Ol(t.apply(C1(this),e))}}function nte(t){return typeof t=="function"?rte(t):(t instanceof IDBTransaction&&ete(t),Qee(t,Xee())?new Proxy(t,wE):t)}function Ol(t){if(t instanceof IDBRequest)return Zee(t);if(T1.has(t))return T1.get(t);const e=nte(t);return e!==t&&(T1.set(t,e),YT.set(e,t)),e}const C1=t=>YT.get(t);function qV(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ol(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Ol(o.result),u.oldVersion,u.newVersion,Ol(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const ste=["get","getKey","getAll","getAllKeys","count"],ite=["put","add","delete","clear"],k1=new Map;function UR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k1.get(e))return k1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=ite.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||ste.includes(r)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),s&&u.done]))[0]};return k1.set(e,i),i}tte(t=>({...t,get:(e,r,n)=>UR(e,r)||t.get(e,r,n),has:(e,r)=>!!UR(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ote(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function ote(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _E="@firebase/app",zR="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new _b("@firebase/app"),lte="@firebase/app-compat",cte="@firebase/analytics-compat",ute="@firebase/analytics",dte="@firebase/app-check-compat",fte="@firebase/app-check",hte="@firebase/auth",mte="@firebase/auth-compat",pte="@firebase/database",gte="@firebase/data-connect",vte="@firebase/database-compat",yte="@firebase/functions",xte="@firebase/functions-compat",bte="@firebase/installations",wte="@firebase/installations-compat",_te="@firebase/messaging",jte="@firebase/messaging-compat",Ste="@firebase/performance",Nte="@firebase/performance-compat",Ete="@firebase/remote-config",Ate="@firebase/remote-config-compat",Tte="@firebase/storage",Cte="@firebase/storage-compat",kte="@firebase/firestore",Pte="@firebase/vertexai",Ite="@firebase/firestore-compat",Rte="firebase",Ote="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="[DEFAULT]",Mte={[_E]:"fire-core",[lte]:"fire-core-compat",[ute]:"fire-analytics",[cte]:"fire-analytics-compat",[fte]:"fire-app-check",[dte]:"fire-app-check-compat",[hte]:"fire-auth",[mte]:"fire-auth-compat",[pte]:"fire-rtdb",[gte]:"fire-data-connect",[vte]:"fire-rtdb-compat",[yte]:"fire-fn",[xte]:"fire-fn-compat",[bte]:"fire-iid",[wte]:"fire-iid-compat",[_te]:"fire-fcm",[jte]:"fire-fcm-compat",[Ste]:"fire-perf",[Nte]:"fire-perf-compat",[Ete]:"fire-rc",[Ate]:"fire-rc-compat",[Tte]:"fire-gcs",[Cte]:"fire-gcs-compat",[kte]:"fire-fst",[Ite]:"fire-fst-compat",[Pte]:"fire-vertex","fire-js":"fire-js",[Rte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new Map,Dte=new Map,SE=new Map;function qR(t,e){try{t.container.addComponent(e)}catch(r){yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Sa(t){const e=t.name;if(SE.has(e))return yo.debug(`There were multiple attempts to register component ${e}.`),!1;SE.set(e,t);for(const r of Cy.values())qR(r,t);for(const r of Dte.values())qR(r,t);return!0}function Su(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ks(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ml=new ju("app","Firebase",Lte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ml.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=Ote;function HV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:jE,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Ml.create("bad-app-name",{appName:String(s)});if(r||(r=LV()),!r)throw Ml.create("no-options");const i=Cy.get(s);if(i){if(vo(r,i.options)&&vo(n,i.config))return i;throw Ml.create("duplicate-app",{appName:s})}const o=new Hee(s);for(const u of SE.values())o.addComponent(u);const l=new Fte(r,n,o);return Cy.set(s,l),l}function QT(t=jE){const e=Cy.get(t);if(!e&&t===jE&&LV())return HV();if(!e)throw Ml.create("no-app",{appName:t});return e}function si(t,e,r){var n;let s=(n=Mte[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yo.warn(l.join(" "));return}Sa(new Wi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $te="firebase-heartbeat-database",Vte=1,Vm="firebase-heartbeat-store";let P1=null;function WV(){return P1||(P1=qV($te,Vte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vm)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ml.create("idb-open",{originalErrorMessage:t.message})})),P1}async function Bte(t){try{const r=(await WV()).transaction(Vm),n=await r.objectStore(Vm).get(GV(t));return await r.done,n}catch(e){if(e instanceof Ki)yo.warn(e.message);else{const r=Ml.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yo.warn(r.message)}}}async function HR(t,e){try{const n=(await WV()).transaction(Vm,"readwrite");await n.objectStore(Vm).put(e,GV(t)),await n.done}catch(r){if(r instanceof Ki)yo.warn(r.message);else{const n=Ml.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yo.warn(n.message)}}}function GV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=1024,zte=30;class qte{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Wte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zte){const o=Gte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=WR(),{heartbeatsToSend:n,unsentEntries:s}=Hte(this._heartbeatsCache.heartbeats),i=Ty(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return yo.warn(r),""}}}function WR(){return new Date().toISOString().substring(0,10)}function Hte(t,e=Ute){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),GR(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),GR(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Wte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VV()?BV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Bte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return HR(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return HR(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function GR(t){return Ty(JSON.stringify({version:2,heartbeats:t})).length}function Gte(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(t){Sa(new Wi("platform-logger",e=>new ate(e),"PRIVATE")),Sa(new Wi("heartbeat",e=>new qte(e),"PRIVATE")),si(_E,zR,t),si(_E,zR,"esm2017"),si("fire-js","")}Kte("");var ma=function(){return ma=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ma.apply(this,arguments)};function Bp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Yte(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function KV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qte=KV,YV=new ju("auth","Firebase",KV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new _b("@firebase/auth");function Xte(t,...e){ky.logLevel<=Pt.WARN&&ky.warn(`Auth (${Bf}): ${t}`,...e)}function ny(t,...e){ky.logLevel<=Pt.ERROR&&ky.error(`Auth (${Bf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,...e){throw JT(t,...e)}function Vi(t,...e){return JT(t,...e)}function XT(t,e,r){const n=Object.assign(Object.assign({},Qte()),{[e]:r});return new ju("auth","Firebase",n).create(e,{appName:t.name})}function oo(t){return XT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jte(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ai(t,"argument-error"),XT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function JT(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return YV.create(t,...e)}function nt(t,e,...r){if(!t)throw JT(e,...r)}function Za(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ny(e),new Error(e)}function xo(t,e){t||Za(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Zte(){return KR()==="http:"||KR()==="https:"}function KR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zte()||$V()||"connection"in navigator)?navigator.onLine:!0}function tre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,r){this.shortDelay=e,this.longDelay=r,xo(r>e,"Short delay should be less than long delay!"),this.isMobile=See()||Aee()}get(){return ere()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e){xo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre=new Up(3e4,6e4);function tc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rc(t,e,r,n,s={}){return XV(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const l=Vp(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return Eee()||(d.referrerPolicy="no-referrer"),QV.fetch()(JV(t,t.config.apiHost,r,l),d)})}async function XV(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},rre),e);try{const s=new ire(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw kv(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kv(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw kv(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw kv(t,"user-disabled",o);const h=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw XT(t,h,d);ai(t,h)}}catch(s){if(s instanceof Ki)throw s;ai(t,"network-request-failed",{message:String(s)})}}async function zp(t,e,r,n,s={}){const i=await rc(t,e,r,n,s);return"mfaPendingCredential"in i&&ai(t,"multi-factor-auth-required",{_serverResponse:i}),i}function JV(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?ZT(t.config,s):`${t.config.apiScheme}://${s}`}function sre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ire{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Vi(this.auth,"network-request-failed")),nre.get())})}}function kv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Vi(t,e,n);return s.customData._tokenResponse=r,s}function YR(t){return t!==void 0&&t.enterprise!==void 0}class are{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return sre(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ore(t,e){return rc(t,"GET","/v2/recaptchaConfig",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lre(t,e){return rc(t,"POST","/v1/accounts:delete",e)}async function ZV(t,e){return rc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cre(t,e=!1){const r=Lr(t),n=await r.getIdToken(e),s=eC(n);nt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:ym(I1(s.auth_time)),issuedAtTime:ym(I1(s.iat)),expirationTime:ym(I1(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function I1(t){return Number(t)*1e3}function eC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ny("JWT malformed, contained fewer than 3 sections"),null;try{const s=MV(r);return s?JSON.parse(s):(ny("Failed to decode base64 JWT payload"),null)}catch(s){return ny("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function QR(t){const e=eC(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ki&&ure(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function ure({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ym(this.lastLoginAt),this.creationTime=ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Bm(t,ZV(r,{idToken:n}));nt(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?eB(i.providerUserInfo):[],l=hre(t.providerData,o),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new EE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function fre(t){const e=Lr(t);await Py(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hre(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function eB(t){return t.map(e=>{var{providerId:r}=e,n=Bp(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mre(t,e){const r=await XV(t,{},async()=>{const n=Vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=JV(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",QV.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function pre(t,e){return rc(t,"POST","/v2/accounts:revokeToken",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const r=QR(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await mre(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Rd;return n&&(nt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(nt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(nt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rd,this.toJSON())}_performRefresh(){return Za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new EE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Bm(this,this.stsTokenManager.getToken(this.auth,e));return nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return cre(this,e)}reload(){return fre(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Py(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await Bm(this,lre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,l,u,d,h;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,x=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(l=r.tenantId)!==null&&l!==void 0?l:void 0,y=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,N=(d=r.createdAt)!==null&&d!==void 0?d:void 0,S=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:E,isAnonymous:C,providerData:O,stsTokenManager:k}=r;nt(T&&k,e,"internal-error");const R=Rd.fromJSON(this.name,k);nt(typeof T=="string",e,"internal-error"),ul(m,e.name),ul(p,e.name),nt(typeof E=="boolean",e,"internal-error"),nt(typeof C=="boolean",e,"internal-error"),ul(x,e.name),ul(_,e.name),ul(b,e.name),ul(y,e.name),ul(N,e.name),ul(S,e.name);const M=new eo({uid:T,auth:e,email:p,emailVerified:E,displayName:m,isAnonymous:C,photoURL:_,phoneNumber:x,tenantId:b,stsTokenManager:R,createdAt:N,lastLoginAt:S});return O&&Array.isArray(O)&&(M.providerData=O.map(V=>Object.assign({},V))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(e,r,n=!1){const s=new Rd;s.updateFromServerResponse(r);const i=new eo({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Py(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];nt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?eB(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Rd;l.updateFromIdToken(n);const u=new eo({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new EE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Map;function to(t){xo(t instanceof Function,"Expected a class definition");let e=XR.get(t);return e?(xo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}tB.type="NONE";const JR=tB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e,r){return`firebase:${t}:${e}:${r}`}class Od{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=sy(this.userKey,s.apiKey,i),this.fullPersistenceKey=sy("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Od(to(JR),e,n);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||to(JR);const o=sy(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const h=await d._get(o);if(h){const m=eo._fromJSON(e,h);d!==i&&(l=m),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Od(i,e,n):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Od(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oB(e))return"Blackberry";if(lB(e))return"Webos";if(nB(e))return"Safari";if((e.includes("chrome/")||sB(e))&&!e.includes("edge/"))return"Chrome";if(aB(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function rB(t=Mn()){return/firefox\//i.test(t)}function nB(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sB(t=Mn()){return/crios\//i.test(t)}function iB(t=Mn()){return/iemobile/i.test(t)}function aB(t=Mn()){return/android/i.test(t)}function oB(t=Mn()){return/blackberry/i.test(t)}function lB(t=Mn()){return/webos/i.test(t)}function tC(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gre(t=Mn()){var e;return tC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vre(){return Tee()&&document.documentMode===10}function cB(t=Mn()){return tC(t)||aB(t)||lB(t)||oB(t)||/windows phone/i.test(t)||iB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e=[]){let r;switch(t){case"Browser":r=ZR(Mn());break;case"Worker":r=`${ZR(Mn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Bf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xre(t,e={}){return rc(t,"GET","/v2/passwordPolicy",tc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bre=6;class wre{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:bre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eO(this),this.idTokenSubscription=new eO(this),this.beforeStateQueue=new yre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=to(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Od.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ZV(this,{idToken:e}),n=await eo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ks(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Py(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(oo(this));const r=e?Lr(e):null;return r&&nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xre(this),r=new wre(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await pre(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&to(e)||this._popupRedirectResolver;nt(r,this,"argument-error"),this.redirectPersistenceManager=await Od.create(this,[to(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,s);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Xte(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function nc(t){return Lr(t)}class eO{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mee(r=>this.observer=r)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jre(t){jb=t}function dB(t){return jb.loadJS(t)}function Sre(){return jb.recaptchaEnterpriseScript}function Nre(){return jb.gapiScript}function Ere(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Are{constructor(){this.enterprise=new Tre}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Tre{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Cre="recaptcha-enterprise",fB="NO_RECAPTCHA";class kre{constructor(e){this.type=Cre,this.auth=nc(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{ore(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new are(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function s(i,o,l){const u=window.grecaptcha;YR(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(fB)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Are().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(l=>{if(!r&&YR(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Sre();u.length!==0&&(u+=l),dB(u).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function tO(t,e,r,n=!1,s=!1){const i=new kre(t);let o;if(s)o=fB;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function AE(t,e,r,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tO(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await tO(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pre(t,e){const r=Su(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(vo(i,e??{}))return s;ai(s,"already-initialized")}return r.initialize({options:e})}function Ire(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(to);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Rre(t,e,r){const n=nc(t);nt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=hB(e),{host:o,port:l}=Ore(e),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){nt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),nt(vo(d,n.config.emulator)&&vo(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,Mre()}function hB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ore(t){const e=hB(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:rO(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:rO(o)}}}function rO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mre(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Za("not implemented")}_getIdTokenResponse(e){return Za("not implemented")}_linkToIdToken(e,r){return Za("not implemented")}_getReauthenticationResolver(e){return Za("not implemented")}}async function Dre(t,e){return rc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lre(t,e){return zp(t,"POST","/v1/accounts:signInWithPassword",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fre(t,e){return zp(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,e))}async function $re(t,e){return zp(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends rC{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Um(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Um(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AE(e,r,"signInWithPassword",Lre);case"emailLink":return Fre(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AE(e,n,"signUpPassword",Dre);case"emailLink":return $re(e,{idToken:r,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t,e){return zp(t,"POST","/v1/accounts:signInWithIdp",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vre="http://localhost";class uu extends rC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ai("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Bp(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new uu(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Md(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Md(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Md(e,r)}buildRequest(){const e={requestUri:Vre,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Vp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ure(t){const e=nm(sm(t)).link,r=e?nm(sm(e)).deep_link_id:null,n=nm(sm(t)).deep_link_id;return(n?nm(sm(n)).link:null)||n||r||e||t}class nC{constructor(e){var r,n,s,i,o,l;const u=nm(sm(e)),d=(r=u.apiKey)!==null&&r!==void 0?r:null,h=(n=u.oobCode)!==null&&n!==void 0?n:null,m=Bre((s=u.mode)!==null&&s!==void 0?s:null);nt(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=Ure(e);try{return new nC(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.providerId=Uf.PROVIDER_ID}static credential(e,r){return Um._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=nC.parseLink(r);return nt(n,"argument-error"),Um._fromEmailAndCode(e,n.code,n.tenantId)}}Uf.PROVIDER_ID="password";Uf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends sC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends qp{constructor(){super("facebook.com")}static credential(e){return uu._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vl.credential(e.oauthAccessToken)}catch{return null}}}vl.FACEBOOK_SIGN_IN_METHOD="facebook.com";vl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends qp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return uu._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Oi.credential(r,n)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends qp{constructor(){super("github.com")}static credential(e){return uu._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yl.credential(e.oauthAccessToken)}catch{return null}}}yl.GITHUB_SIGN_IN_METHOD="github.com";yl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends qp{constructor(){super("twitter.com")}static credential(e,r){return uu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return xl.credential(r,n)}catch{return null}}}xl.TWITTER_SIGN_IN_METHOD="twitter.com";xl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zre(t,e){return zp(t,"POST","/v1/accounts:signUp",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await eo._fromIdTokenResponse(e,n,s),o=nO(n);return new du({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=nO(n);return new du({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function nO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends Ki{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Iy.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Iy(e,r,n,s)}}function mB(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Iy._fromErrorAndOperation(t,i,e,n):i})}async function qre(t,e,r=!1){const n=await Bm(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return du._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hre(t,e,r=!1){const{auth:n}=t;if(ks(n.app))return Promise.reject(oo(n));const s="reauthenticate";try{const i=await Bm(t,mB(n,s,e,t),r);nt(i.idToken,n,"internal-error");const o=eC(i.idToken);nt(o,n,"internal-error");const{sub:l}=o;return nt(t.uid===l,n,"user-mismatch"),du._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ai(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t,e,r=!1){if(ks(t.app))return Promise.reject(oo(t));const n="signIn",s=await mB(t,n,e),i=await du._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function Wre(t,e){return pB(nc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t){const e=nc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gre(t,e,r){if(ks(t.app))return Promise.reject(oo(t));const n=nc(t),o=await AE(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zre).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&gB(t),u}),l=await du._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function Kre(t,e,r){return ks(t.app)?Promise.reject(oo(t)):Wre(Lr(t),Uf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&gB(t),n})}function Yre(t,e,r,n){return Lr(t).onIdTokenChanged(e,r,n)}function Qre(t,e,r){return Lr(t).beforeAuthStateChanged(e,r)}function Xre(t,e,r,n){return Lr(t).onAuthStateChanged(e,r,n)}function Jre(t){return Lr(t).signOut()}const Ry="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre=1e3,ene=10;class yB extends vB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);vre()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ene):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Zre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}yB.type="LOCAL";const tne=yB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB extends vB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}xB.type="SESSION";const bB=xB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Sb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(o).map(async d=>d(r.origin,i)),u=await rne(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=iC("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function sne(t){ya().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function ine(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ane(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function one(){return wB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="firebaseLocalStorageDb",lne=1,Oy="firebaseLocalStorage",jB="fbase_key";class Hp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Nb(t,e){return t.transaction([Oy],e?"readwrite":"readonly").objectStore(Oy)}function cne(){const t=indexedDB.deleteDatabase(_B);return new Hp(t).toPromise()}function TE(){const t=indexedDB.open(_B,lne);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Oy,{keyPath:jB})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Oy)?e(n):(n.close(),await cne(),e(await TE()))})})}async function sO(t,e,r){const n=Nb(t,!0).put({[jB]:e,value:r});return new Hp(n).toPromise()}async function une(t,e){const r=Nb(t,!1).get(e),n=await new Hp(r).toPromise();return n===void 0?null:n.value}function iO(t,e){const r=Nb(t,!0).delete(e);return new Hp(r).toPromise()}const dne=800,fne=3;class SB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>fne)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sb._getInstance(one()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await ine(),!this.activeServiceWorker)return;this.sender=new nne(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ane()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TE();return await sO(e,Ry,"1"),await iO(e,Ry),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>sO(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>une(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>iO(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nb(s,!1).getAll();return new Hp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SB.type="LOCAL";const hne=SB;new Up(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t,e){return e?to(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends rC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Md(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Md(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Md(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function mne(t){return pB(t.auth,new aC(t),t.bypassAuthState)}function pne(t){const{auth:e,user:r}=t;return nt(r,e,"internal-error"),Hre(r,new aC(t),t.bypassAuthState)}async function gne(t){const{auth:e,user:r}=t;return nt(r,e,"internal-error"),qre(r,new aC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mne;case"linkViaPopup":case"linkViaRedirect":return gne;case"reauthViaPopup":case"reauthViaRedirect":return pne;default:ai(this.auth,"internal-error")}}resolve(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=new Up(2e3,1e4);async function oC(t,e,r){if(ks(t.app))return Promise.reject(Vi(t,"operation-not-supported-in-this-environment"));const n=nc(t);Jte(t,e,sC);const s=NB(n,r);return new Uc(n,"signInViaPopup",e,s).executeNotNull()}class Uc extends EB{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Uc.currentPopupAction&&Uc.currentPopupAction.cancel(),Uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){xo(this.filter.length===1,"Popup operations only handle one event");const e=iC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vne.get())};e()}}Uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne="pendingRedirect",iy=new Map;class xne extends EB{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=iy.get(this.auth._key());if(!e){try{const n=await bne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}iy.set(this.auth._key(),e)}return this.bypassAuthState||iy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bne(t,e){const r=jne(e),n=_ne(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function wne(t,e){iy.set(t._key(),e)}function _ne(t){return to(t._redirectPersistence)}function jne(t){return sy(yne,t.config.apiKey,t.name)}async function Sne(t,e,r=!1){if(ks(t.app))return Promise.reject(oo(t));const n=nc(t),s=NB(n,e),o=await new xne(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne=10*60*1e3;class Ene{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ane(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!AB(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Vi(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nne&&this.cachedEventUids.clear(),this.cachedEventUids.has(aO(e))}saveEventToCache(e){this.cachedEventUids.add(aO(e)),this.lastProcessedEventTime=Date.now()}}function aO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ane(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tne(t,e={}){return rc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kne=/^https?/;async function Pne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tne(t);for(const r of e)try{if(Ine(r))return}catch{}ai(t,"unauthorized-domain")}function Ine(t){const e=NE(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!kne.test(r))return!1;if(Cne.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=new Up(3e4,6e4);function oO(){const t=ya().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function One(t){return new Promise((e,r)=>{var n,s,i;function o(){oO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oO(),r(Vi(t,"network-request-failed"))},timeout:Rne.get()})}if(!((s=(n=ya().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ya().gapi)===null||i===void 0)&&i.load)o();else{const l=Ere("iframefcb");return ya()[l]=()=>{gapi.load?o():r(Vi(t,"network-request-failed"))},dB(`${Nre()}?onload=${l}`).catch(u=>r(u))}}).catch(e=>{throw ay=null,e})}let ay=null;function Mne(t){return ay=ay||One(t),ay}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne=new Up(5e3,15e3),Lne="__/auth/iframe",Fne="emulator/auth/iframe",$ne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bne(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ZT(e,Fne):`https://${t.config.authDomain}/${Lne}`,n={apiKey:e.apiKey,appName:t.name,v:Bf},s=Vne.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Vp(n).slice(1)}`}async function Une(t){const e=await Mne(t),r=ya().gapi;return nt(r,t,"internal-error"),e.open({where:document.body,url:Bne(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$ne,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Vi(t,"network-request-failed"),l=ya().setTimeout(()=>{i(o)},Dne.get());function u(){ya().clearTimeout(l),s(n)}n.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qne=500,Hne=600,Wne="_blank",Gne="http://localhost";class lO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kne(t,e,r,n=qne,s=Hne){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u=Object.assign(Object.assign({},zne),{width:n.toString(),height:s.toString(),top:i,left:o}),d=Mn().toLowerCase();r&&(l=sB(d)?Wne:r),rB(d)&&(e=e||Gne,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[x,_])=>`${p}${x}=${_},`,"");if(gre(d)&&l!=="_self")return Yne(e||"",l),new lO(null);const m=window.open(e||"",l,h);nt(m,t,"popup-blocked");try{m.focus()}catch{}return new lO(m)}function Yne(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne="__/auth/handler",Xne="emulator/auth/handler",Jne=encodeURIComponent("fac");async function cO(t,e,r,n,s,i){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Bf,eventId:s};if(e instanceof sC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Oee(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof qp){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),d=u?`#${Jne}=${encodeURIComponent(u)}`:"";return`${Zne(t)}?${Vp(l).slice(1)}${d}`}function Zne({config:t}){return t.emulator?ZT(t,Xne):`https://${t.authDomain}/${Qne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="webStorageSupport";class ese{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bB,this._completeRedirectFn=Sne,this._overrideRedirectResult=wne}async _openPopup(e,r,n,s){var i;xo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await cO(e,r,n,NE(),s);return Kne(e,o,iC())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await cO(e,r,n,NE(),s);return sne(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(xo(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Une(e),n=new Ene(e);return r.register("authEvent",s=>(nt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(R1,{type:R1},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[R1];o!==void 0&&r(!!o),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Pne(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return cB()||nB()||tC()}}const tse=ese;var uO="@firebase/auth",dO="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sse(t){Sa(new Wi("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;nt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uB(t)},d=new _re(n,s,i,u);return Ire(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Sa(new Wi("auth-internal",e=>{const r=nc(e.getProvider("auth").getImmediate());return(n=>new rse(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(uO,dO,nse(t)),si(uO,dO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ise=5*60,ase=FV("authIdTokenMaxAge")||ise;let fO=null;const ose=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>ase)return;const s=r==null?void 0:r.token;fO!==s&&(fO=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ut(t=QT()){const e=Su(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Pre(t,{popupRedirectResolver:tse,persistence:[hne,tne,bB]}),n=FV("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=ose(i.toString());Qre(r,o,()=>o(r.currentUser)),Yre(r,l=>o(l))}}const s=DV("auth");return s&&Rre(r,`http://${s}`),r}function lse(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jre({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Vi("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",lse().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sse("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cse(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(n.next(h))}catch(m){o(m)}}function u(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?i(h.value):s(h.value).then(l,u)}d((n=n.apply(t,[])).next())})}function use(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(h){d=[6,h],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _d=function(){return _d=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_d.apply(this,arguments)},TB=function(t){return{loading:t==null,value:t}},dse=function(){return function(t,e){switch(e.type){case"error":return _d(_d({},t),{error:e.error,loading:!1,value:void 0});case"reset":return TB(e.defaultValue);case"value":return _d(_d({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},fse=function(t){var e=t?t():void 0,r=j.useReducer(dse(),TB(e)),n=r[0],s=r[1],i=j.useCallback(function(){var u=t?t():void 0;s({type:"reset",defaultValue:u})},[t]),o=j.useCallback(function(u){s({type:"error",error:u})},[]),l=j.useCallback(function(u){s({type:"value",value:u})},[]);return j.useMemo(function(){return{error:n.error,loading:n.loading,reset:i,setError:o,setValue:l,value:n.value}},[n.error,n.loading,i,o,l,n.value])},hse=function(t,e){var r=fse(function(){return t.currentUser}),n=r.error,s=r.loading,i=r.setError,o=r.setValue,l=r.value;return j.useEffect(function(){var u=Xre(t,function(d){return cse(void 0,void 0,void 0,function(){var h;return use(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(d)];case 2:return m.sent(),[3,4];case 3:return h=m.sent(),i(h),[3,4];case 4:return o(d),[2]}})})},i);return function(){u()}},[t]),[l,s,n]},mse="firebase",pse="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(mse,pse,"app");const CB="@firebase/installations",lC="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=1e4,PB=`w:${lC}`,IB="FIS_v2",gse="https://firebaseinstallations.googleapis.com/v1",vse=60*60*1e3,yse="installations",xse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fu=new ju(yse,xse,bse);function RB(t){return t instanceof Ki&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB({projectId:t}){return`${gse}/projects/${t}/installations`}function MB(t){return{token:t.token,requestStatus:2,expiresIn:_se(t.expiresIn),creationTime:Date.now()}}async function DB(t,e){const n=(await e.json()).error;return fu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function LB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wse(t,{refreshToken:e}){const r=LB(t);return r.append("Authorization",jse(e)),r}async function FB(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _se(t){return Number(t.replace("s","000"))}function jse(t){return`${IB} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sse({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=OB(t),s=LB(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:r,authVersion:IB,appId:t.appId,sdkVersion:PB},l={method:"POST",headers:s,body:JSON.stringify(o)},u=await FB(()=>fetch(n,l));if(u.ok){const d=await u.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:MB(d.authToken)}}else throw await DB("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese=/^[cdef][\w-]{21}$/,CE="";function Ase(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Tse(t);return Ese.test(r)?r:CE}catch{return CE}}function Tse(t){return Nse(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=new Map;function BB(t,e){const r=Eb(t);UB(r,e),Cse(r,e)}function UB(t,e){const r=VB.get(t);if(r)for(const n of r)n(e)}function Cse(t,e){const r=kse();r&&r.postMessage({key:t,fid:e}),Pse()}let zc=null;function kse(){return!zc&&"BroadcastChannel"in self&&(zc=new BroadcastChannel("[Firebase] FID Change"),zc.onmessage=t=>{UB(t.data.key,t.data.fid)}),zc}function Pse(){VB.size===0&&zc&&(zc.close(),zc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise="firebase-installations-database",Rse=1,hu="firebase-installations-store";let O1=null;function cC(){return O1||(O1=qV(Ise,Rse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hu)}}})),O1}async function My(t,e){const r=Eb(t),s=(await cC()).transaction(hu,"readwrite"),i=s.objectStore(hu),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&BB(t,e.fid),e}async function zB(t){const e=Eb(t),n=(await cC()).transaction(hu,"readwrite");await n.objectStore(hu).delete(e),await n.done}async function Ab(t,e){const r=Eb(t),s=(await cC()).transaction(hu,"readwrite"),i=s.objectStore(hu),o=await i.get(r),l=e(o);return l===void 0?await i.delete(r):await i.put(l,r),await s.done,l&&(!o||o.fid!==l.fid)&&BB(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t){let e;const r=await Ab(t.appConfig,n=>{const s=Ose(n),i=Mse(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===CE?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Ose(t){const e=t||{fid:Ase(),registrationStatus:0};return qB(e)}function Mse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(fu.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Dse(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Lse(t)}:{installationEntry:e}}async function Dse(t,e){try{const r=await Sse(t,e);return My(t.appConfig,r)}catch(r){throw RB(r)&&r.customData.serverCode===409?await zB(t.appConfig):await My(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Lse(t){let e=await hO(t.appConfig);for(;e.registrationStatus===1;)await $B(100),e=await hO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await uC(t);return n||r}return e}function hO(t){return Ab(t,e=>{if(!e)throw fu.create("installation-not-found");return qB(e)})}function qB(t){return Fse(t)?{fid:t.fid,registrationStatus:0}:t}function Fse(t){return t.registrationStatus===1&&t.registrationTime+kB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $se({appConfig:t,heartbeatServiceProvider:e},r){const n=Vse(t,r),s=wse(t,r),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:PB,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},u=await FB(()=>fetch(n,l));if(u.ok){const d=await u.json();return MB(d)}else throw await DB("Generate Auth Token",u)}function Vse(t,{fid:e}){return`${OB(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,e=!1){let r;const n=await Ab(t.appConfig,i=>{if(!HB(i))throw fu.create("not-registered");const o=i.authToken;if(!e&&zse(o))return i;if(o.requestStatus===1)return r=Bse(t,e),i;{if(!navigator.onLine)throw fu.create("app-offline");const l=Hse(i);return r=Use(t,l),l}});return r?await r:n.authToken}async function Bse(t,e){let r=await mO(t.appConfig);for(;r.authToken.requestStatus===1;)await $B(100),r=await mO(t.appConfig);const n=r.authToken;return n.requestStatus===0?dC(t,e):n}function mO(t){return Ab(t,e=>{if(!HB(e))throw fu.create("not-registered");const r=e.authToken;return Wse(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Use(t,e){try{const r=await $se(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await My(t.appConfig,n),r}catch(r){if(RB(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await zB(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await My(t.appConfig,n)}throw r}}function HB(t){return t!==void 0&&t.registrationStatus===2}function zse(t){return t.requestStatus===2&&!qse(t)}function qse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vse}function Hse(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Wse(t){return t.requestStatus===1&&t.requestTime+kB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gse(t){const e=t,{installationEntry:r,registrationPromise:n}=await uC(e);return n?n.catch(console.error):dC(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kse(t,e=!1){const r=t;return await Yse(r),(await dC(r,e)).token}async function Yse(t){const{registrationPromise:e}=await uC(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qse(t){if(!t||!t.options)throw M1("App Configuration");if(!t.name)throw M1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw M1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function M1(t){return fu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="installations",Xse="installations-internal",Jse=t=>{const e=t.getProvider("app").getImmediate(),r=Qse(e),n=Su(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Zse=t=>{const e=t.getProvider("app").getImmediate(),r=Su(e,WB).getImmediate();return{getId:()=>Gse(r),getToken:s=>Kse(r,s)}};function eie(){Sa(new Wi(WB,Jse,"PUBLIC")),Sa(new Wi(Xse,Zse,"PRIVATE"))}eie();si(CB,lC);si(CB,lC,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="analytics",tie="firebase_id",rie="origin",nie=60*1e3,sie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fC="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new _b("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ms=new ju("analytics","Analytics",iie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(t){if(!t.startsWith(fC)){const e=Ms.create("invalid-gtag-resource",{gtagURL:t});return us.warn(e.message),""}return t}function GB(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function oie(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function lie(t,e){const r=oie("firebase-js-sdk-policy",{createScriptURL:aie}),n=document.createElement("script"),s=`${fC}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function cie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uie(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const u=(await GB(r)).find(d=>d.measurementId===s);u&&await e[u.appId]}}catch(l){us.error(l)}t("config",s,i)}async function die(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await GB(r);for(const u of o){const d=l.find(m=>m.measurementId===u),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){us.error(i)}}function fie(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[l,u]=o;await die(t,e,r,l,u)}else if(i==="config"){const[l,u]=o;await uie(t,e,r,n,l,u)}else if(i==="consent"){const[l,u]=o;t("consent",l,u)}else if(i==="get"){const[l,u,d]=o;t("get",l,u,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){us.error(l)}}return s}function hie(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=fie(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function mie(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(fC)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=30,gie=1e3;class vie{constructor(e={},r=gie){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KB=new vie;function yie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xie(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:yie(n)},i=sie.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw Ms.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function bie(t,e=KB,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw Ms.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw Ms.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new jie;return setTimeout(async()=>{l.abort()},nie),YB({appId:n,apiKey:s,measurementId:i},o,l,e)}async function YB(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=KB){var i;const{appId:o,measurementId:l}=t;try{await wie(n,e)}catch(u){if(l)return us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await xie(t);return s.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!_ie(d)){if(s.deleteThrottleMetadata(o),l)return us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw u}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?$R(r,s.intervalMillis,pie):$R(r,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return s.setThrottleMetadata(o,m),us.debug(`Calling attemptFetch again in ${h} millis`),YB(t,m,n,s)}}function wie(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(Ms.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _ie(t){if(!(t instanceof Ki)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class jie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Sie(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nie(){if(VV())try{await BV()}catch(t){return us.warn(Ms.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return us.warn(Ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Eie(t,e,r,n,s,i,o){var l;const u=bie(t);u.then(x=>{r[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&us.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>us.error(x)),e.push(u);const d=Nie().then(x=>{if(x)return n.getId()}),[h,m]=await Promise.all([u,d]);mie(i)||lie(i,h.measurementId),s("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[rie]="firebase",p.update=!0,m!=null&&(p[tie]=m),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e){this.app=e}_delete(){return delete xm[this.app.options.appId],Promise.resolve()}}let xm={},pO=[];const gO={};let D1="dataLayer",Tie="gtag",vO,QB,yO=!1;function Cie(){const t=[];if($V()&&t.push("This is a browser extension environment."),kee()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=Ms.create("invalid-analytics-context",{errorInfo:e});us.warn(r.message)}}function kie(t,e,r){Cie();const n=t.options.appId;if(!n)throw Ms.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ms.create("no-api-key");if(xm[n]!=null)throw Ms.create("already-exists",{id:n});if(!yO){cie(D1);const{wrappedGtag:i,gtagCore:o}=hie(xm,pO,gO,D1,Tie);QB=i,vO=o,yO=!0}return xm[n]=Eie(t,pO,gO,e,vO,D1,r),new Aie(t)}function Pie(t=QT()){t=Lr(t);const e=Su(t,Dy);return e.isInitialized()?e.getImmediate():Iie(t)}function Iie(t,e={}){const r=Su(t,Dy);if(r.isInitialized()){const s=r.getImmediate();if(vo(e,r.getOptions()))return s;throw Ms.create("already-initialized")}return r.initialize({options:e})}function Rie(t,e,r,n){t=Lr(t),Sie(QB,xm[t.app.options.appId],e,r,n).catch(s=>us.error(s))}const xO="@firebase/analytics",bO="0.10.12";function Oie(){Sa(new Wi(Dy,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return kie(n,s,r)},"PUBLIC")),Sa(new Wi("analytics-internal",t,"PRIVATE")),si(xO,bO),si(xO,bO,"esm2017");function t(e){try{const r=e.getProvider(Dy).getImmediate();return{logEvent:(n,s,i)=>Rie(r,n,s,i)}}catch(r){throw Ms.create("interop-component-reg-failed",{reason:r})}}}Oie();const Mie={apiKey:"AIzaSyBuaEOWCEYeV2AknrXhqzuTdIp0rApYPw0",authDomain:"safebite-a5a03.firebaseapp.com",projectId:"safebite-a5a03",storageBucket:"safebite-a5a03.firebasestorage.app",messagingSenderId:"203093821661",appId:"1:203093821661:web:127b2d80f7e08e6c23b334",measurementId:"G-P4KG3JTM4N"},We=HV(Mie);Pie(We);const Die=Ut(We),Ly=({size:t="md",className:e=""})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-24 h-24",xl:"w-32 h-32"};return a.jsxs("div",{className:`relative ${r[t]} ${e} aspect-square`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/30 blur-md animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-safebite-teal/20 to-transparent animate-spin-slow"})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-very-slow",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"rgba(20, 184, 166, 0.3)",strokeWidth:"0.5",strokeDasharray:"8 4"}),a.jsx("path",{d:"M50 2 L50 10 M2 50 L10 50 M50 90 L50 98 M90 50 L98 50",stroke:"rgba(20, 184, 166, 0.6)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"10",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"10",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"50",cy:"90",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"90",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"})]})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-slow-reverse",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.5",strokeDasharray:"6 2"}),a.jsx("path",{d:"M50 15 L50 20 M15 50 L20 50 M50 80 L50 85 M80 50 L85 50",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"20",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"20",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"50",cy:"80",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"80",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"})]})}),a.jsx("div",{className:"absolute inset-2 rounded-full overflow-hidden border-2 border-safebite-teal/50 z-10 shadow-[0_0_10px_rgba(20,184,166,0.5)]",children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:"/SafeBite-V1/ProfilePic-AdityaShenvi.jpg",alt:"Aditya Shenvi",className:"w-[150%] h-[150%] object-cover",style:{objectPosition:"center 25%"}})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-safebite-teal/10 to-transparent"})]})}),a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"})]})},XB=({developerName:t="Aditya Shenvi",version:e="v2.3",isOpen:r,onClose:n})=>{const[s,i]=j.useState(!1),[o,l]=j.useState(!1),u=r!==void 0?r:s;j.useEffect(()=>{if(!localStorage.getItem("safebite_popup_shown")){const b=setTimeout(()=>{i(!0),localStorage.setItem("safebite_popup_shown","true")},2e3);return()=>clearTimeout(b)}},[]);const d=()=>{n?n():i(!1)},h=()=>{l(!o)};if(!u)return null;const m=["Enhanced AI chatbot with context-aware guidance","Added weekly health check-in with 8 questions","Improved dashboard with weekly check-in data visualization","Added food delivery integration with Zomato and Swiggy","Enhanced recipe search with 3x4 grid and popup details","Improved UI with sci-fi visuals and better readability","Added user activity tracking for ML personalization","Fixed Healthbox component errors and improved UI","Added guest mode for testing without authentication","Production-ready with improved error handling"],p=["Added Product Recommendations page with MongoDB integration","Implemented user activity tracking for ML personalization","Added fitness wearable data import functionality","Improved Firebase security and error handling","Enhanced dashboard with real-time data visualization","Added login prompts for guest users"],x=[{name:"SafeBite Backend API",url:"https://safebite-backend.onrender.com"},{name:"MongoDB Atlas",url:"https://www.mongodb.com/atlas/database"},{name:"Edamam Food Database API",url:"https://www.edamam.com/"},{name:"CalorieNinjas API",url:"https://calorieninjas.com/"},{name:"FatSecret Platform API",url:"https://platform.fatsecret.com/"},{name:"Open Food Facts",url:"https://world.openfoodfacts.org/"},{name:"Unsplash Images",url:"https://unsplash.com/"},{name:"Firebase",url:"https://firebase.google.com/"}];return a.jsx(a.Fragment,{children:o?a.jsx("div",{className:"fixed bottom-4 right-4 bg-safebite-teal text-safebite-dark-blue p-2 rounded-full cursor-pointer z-50 shadow-lg hover:bg-safebite-teal/90 transition-all",onClick:h,children:a.jsx(ho,{size:24})}):a.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg shadow-xl z-50 sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-safebite-card-bg-alt border-b border-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ly,{size:"sm",className:"mr-2"}),a.jsx("h3",{className:"text-safebite-text font-medium",children:"Developer Info"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:h,className:"text-safebite-text-secondary hover:text-safebite-teal p-1 rounded",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),a.jsx("button",{onClick:d,className:"text-safebite-text-secondary hover:text-red-500 p-1 rounded",children:a.jsx(xn,{size:16})})]})]}),a.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-safebite-teal/20 text-safebite-teal px-2 py-1 rounded text-xs mr-2",children:e}),a.jsx("div",{className:"bg-green-500/20 text-green-500 px-2 py-1 rounded text-xs",children:"Production Ready"})]}),a.jsxs("p",{className:"text-safebite-text mb-3 font-medium",children:["Special Project by ",a.jsx("span",{className:"text-safebite-teal",children:t})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(kn,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"What's New in ",e]}),a.jsx("div",{className:"bg-safebite-teal/10 p-2 rounded-md border border-safebite-teal/20 mb-2",children:a.jsx("p",{className:"text-xs text-safebite-teal font-medium mb-1",children:"Production Release"})}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:m.map((_,b)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:""}),a.jsx("span",{children:_})]},b))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(kn,{className:"h-4 w-4 mr-1 text-safebite-text-secondary"}),"Previous Updates (v2.2)"]}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:p.map((_,b)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-text-secondary mr-1",children:""}),a.jsx("span",{children:_})]},b))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(ho,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Data & API Credits"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"SafeBite uses data from the following sources for educational purposes:"}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:x.map((_,b)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:""}),a.jsxs("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-safebite-teal",children:[_.name,a.jsx(ei,{className:"h-3 w-3 ml-1"})]})]},b))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(te,{variant:"outline",size:"sm",className:"text-xs",onClick:d,children:"Dismiss"})})]})]})})},Tb=()=>{const[t,e]=j.useState(!1),r=_r(),n=()=>{e(!t)};return a.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-safebite-dark-blue/90 backdrop-blur-md border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(qt,{to:"/",className:"flex items-center",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:"SafeBite"})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(qt,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),a.jsx(qt,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),a.jsx(qt,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"}),a.jsxs(te,{variant:"outline",className:"sci-fi-button",onClick:()=>r("/auth/login"),children:[a.jsx(Pm,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r("/auth/signup"),children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:n,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:t?a.jsx(xn,{size:24}):a.jsx(_6,{size:24})})})]})}),t&&a.jsx("div",{className:"md:hidden bg-safebite-card-bg border-b border-safebite-card-bg-alt transition-all duration-300 ease-in-out transform origin-top",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[a.jsx(qt,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Home"}),a.jsx(qt,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Features"}),a.jsx(qt,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"About"}),a.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[a.jsxs(te,{variant:"outline",className:"sci-fi-button w-full justify-center",onClick:()=>{r("/auth/login"),e(!1)},children:[a.jsx(Pm,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full justify-center",onClick:()=>{r("/auth/signup"),e(!1)},children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})})]})};var Lie="Separator",wO="horizontal",Fie=["horizontal","vertical"],JB=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=wO,...s}=t,i=$ie(n)?n:wO,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(qe.div,{"data-orientation":i,...l,...s,ref:e})});JB.displayName=Lie;function $ie(t){return Fie.includes(t)}var ZB=JB;const hC=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>a.jsx(ZB,{ref:s,decorative:r,orientation:e,className:Qe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));hC.displayName=ZB.displayName;const Cb=()=>a.jsx("footer",{className:"bg-safebite-dark-blue border-t border-safebite-card-bg-alt py-10",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-2",children:a.jsx(Fi,{size:16,className:"text-white"})}),a.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite v2.5"})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Smart food safety and nutrition platform helping you make informed decisions about the food you consume."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(x6,{size:20})}),a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(aE,{size:20})}),a.jsx("a",{href:"mailto:contact@safebite.example.com",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(Zd,{size:20})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(qt,{to:"/about",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx(qt,{to:"/team",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Our Team"})}),a.jsx("li",{children:a.jsx(qt,{to:"/careers",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Careers"})}),a.jsx("li",{children:a.jsx(qt,{to:"/contact",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsxs(qt,{to:"/help",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(Al,{size:14,className:"mr-2"}),a.jsx("span",{children:"Help Center"})]})}),a.jsx("li",{children:a.jsxs(qt,{to:"/community",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(ty,{size:14,className:"mr-2"}),a.jsx("span",{children:"Community"})]})}),a.jsx("li",{children:a.jsxs(qt,{to:"/healthbox",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(ao,{size:14,className:"mr-2"}),a.jsx("span",{children:"Health Tools"})]})}),a.jsx("li",{children:a.jsxs(qt,{to:"/recipes",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(PT,{size:14,className:"mr-2"}),a.jsx("span",{children:"Recipes"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(qt,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(qt,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(qt,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Cookie Policy"})}),a.jsx("li",{children:a.jsx(qt,{to:"/data",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Data Protection"})}),a.jsx("li",{children:a.jsx(qt,{to:"/admin/login",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Admin Login"})})]})]})]}),a.jsx(hC,{className:"my-8 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"text-safebite-text-secondary text-sm",children:[a.jsxs("p",{children:[" ",new Date().getFullYear()," SafeBite v2.5. All rights reserved."]}),a.jsxs("p",{className:"mt-1 flex items-center",children:["Made with ",a.jsx(hs,{size:12,className:"mx-1 text-red-500"})," by",a.jsxs("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center ml-1",children:["Aditya Shenvi",a.jsx(ei,{size:10,className:"ml-1"})]})]})]}),a.jsx("div",{className:"mt-4 md:mt-0",children:a.jsxs("ul",{className:"flex space-x-6",children:[a.jsx("li",{children:a.jsx(qt,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Privacy"})}),a.jsx("li",{children:a.jsx(qt,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Terms"})}),a.jsx("li",{children:a.jsx(qt,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Cookies"})})]})})]})]})}),Ka=({title:t,description:e,icon:r,className:n})=>a.jsxs("div",{className:Qe("sci-fi-card group",n),children:[a.jsx("div",{className:"mb-4 inline-block p-3 rounded-full bg-safebite-card-bg-alt text-safebite-teal group-hover:text-safebite-dark-blue group-hover:bg-safebite-teal transition-colors duration-300",children:r}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:t}),a.jsx("p",{className:"text-safebite-text-secondary",children:e})]}),L1=({quote:t,author:e,role:r,avatar:n,className:s})=>a.jsxs("div",{className:Qe("sci-fi-card flex flex-col",s),children:[a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-safebite-text-secondary italic",children:['"',t,'"']})}),a.jsxs("div",{className:"flex items-center",children:[n?a.jsx("img",{src:n,alt:e,className:"w-12 h-12 rounded-full mr-4 border-2 border-safebite-teal"}):a.jsx("div",{className:"w-12 h-12 rounded-full mr-4 bg-safebite-card-bg-alt flex items-center justify-center border-2 border-safebite-teal",children:a.jsx("span",{className:"text-safebite-teal text-lg font-bold",children:e.charAt(0)})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-semibold",children:e}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:r})]})]})]}),Vie=()=>a.jsxs("div",{className:"relative w-full h-full min-h-[400px]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-safebite-teal/30 to-transparent rounded-xl blur-xl"}),a.jsxs("div",{className:"absolute inset-0 rounded-xl border-2 border-safebite-teal/50 bg-safebite-dark-blue/80 backdrop-blur-md overflow-hidden shadow-[0_0_30px_rgba(20,184,166,0.3)]",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[a.jsx("path",{d:"M10 0 L10 10 L0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M40 0 L40 40 L0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M25 0 L25 25 L0 25",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"25",cy:"25",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"currentColor"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"absolute inset-4 flex flex-col rounded-lg border border-safebite-card-bg-alt bg-safebite-card-bg overflow-hidden",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-3 border-b border-safebite-card-bg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal",children:a.jsx(ao,{size:16})}),a.jsx("span",{className:"ml-2 font-semibold text-safebite-text",children:"SafeBite Dashboard"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Hr,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("div",{className:"w-full h-10 pl-10 pr-4 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text-secondary flex items-center",children:"Search for food products..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(hs,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Health Score"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["87",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/100"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"87%"}})})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(cs,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Daily Goals"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["3",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/5"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"60%"}})})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 mb-4 flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:a.jsx(ao,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-safebite-text",children:"Organic Quinoa Bowl"}),a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"420 calories  High protein  Gluten-free"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal flex items-center justify-center text-safebite-dark-blue font-bold",children:"9.2"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 flex items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:"AI"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-safebite-text mb-1",children:"AI Assistant"}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Based on your recent meals, I recommend increasing your fiber intake. Consider adding more...",a.jsx("span",{className:"inline-block w-1.5 h-3 bg-safebite-teal ml-1 animate-pulse"})]})]})]})]})]}),a.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 bg-safebite-teal text-safebite-dark-blue text-xs font-bold px-2 py-1 rounded-full shadow-lg z-10",children:"v2.5"}),a.jsx("div",{className:"absolute -left-4 top-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float",children:a.jsx(ao,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -right-4 top-2/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay",children:a.jsx(hs,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -left-4 bottom-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay-2",children:a.jsx(cs,{size:20,className:"text-safebite-teal"})})]}),Bie=()=>{const t=j.useRef(null),e=j.useRef([]),r=j.useRef(null);return j.useEffect(()=>{const n=t.current;if(!n)return;const s=n.getContext("2d");if(!s)return;const i=()=>{n.width=window.innerWidth,n.height=window.innerHeight,o()},o=()=>{e.current=[];const u=Math.min(Math.floor(window.innerWidth/10),100);for(let d=0;d<u;d++)e.current.push({x:Math.random()*n.width,y:Math.random()*n.height,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,color:`rgba(20, 184, 166, ${Math.random()*.5+.1})`})},l=()=>{s.clearRect(0,0,n.width,n.height),e.current.forEach((u,d)=>{u.x+=u.speedX,u.y+=u.speedY,u.x<0&&(u.x=n.width),u.x>n.width&&(u.x=0),u.y<0&&(u.y=n.height),u.y>n.height&&(u.y=0),s.beginPath(),s.arc(u.x,u.y,u.size,0,Math.PI*2),s.fillStyle=u.color,s.fill(),e.current.forEach((h,m)=>{if(d===m)return;const p=u.x-h.x,x=u.y-h.y,_=Math.sqrt(p*p+x*x);_<100&&(s.beginPath(),s.strokeStyle=`rgba(20, 184, 166, ${.1*(1-_/100)})`,s.lineWidth=.5,s.moveTo(u.x,u.y),s.lineTo(h.x,h.y),s.stroke())})}),r.current=requestAnimationFrame(l)};return window.addEventListener("resize",i),i(),l(),()=>{window.removeEventListener("resize",i),r.current&&cancelAnimationFrame(r.current)}},[]),a.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",style:{opacity:.3}})},Uie=()=>{const[t,e]=j.useState(!1),r=_r(),n=()=>{e(!t)},s=i=>{r(i),e(!1)};return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"flex flex-col-reverse gap-3 mb-3 items-center",children:[a.jsxs("button",{onClick:()=>s("/search"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Search",children:[a.jsx(Hr,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Search"})]}),a.jsxs("button",{onClick:()=>s("/auth/login"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Login",children:[a.jsx(lu,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Login"})]}),a.jsxs("button",{onClick:()=>s("/healthbox"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Health Tools",children:[a.jsx(hs,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Health Tools"})]}),a.jsxs("button",{onClick:()=>s("/products"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Products",children:[a.jsx(ao,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Products"})]}),a.jsxs("button",{onClick:()=>s("/help"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Help",children:[a.jsx(Al,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Help"})]})]}),a.jsx("button",{onClick:n,className:`w-14 h-14 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center shadow-lg hover:bg-safebite-teal/90 transition-all ${t?"rotate-180":""}`,"aria-label":t?"Close menu":"Open menu",children:a.jsx(v6,{size:24})})]})},zie=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(""),[s,i]=j.useState(!1),[o,l]=j.useState([]),u=[{name:"Organic Quinoa",healthScore:9.5,tags:["Organic","Gluten-Free","High Protein"]},{name:"Greek Yogurt",healthScore:8.7,tags:["Probiotic","High Protein","Calcium Rich"]},{name:"Processed Cheese Slices",healthScore:4.2,tags:["Processed","High Sodium"],warning:"Contains artificial colors and preservatives"},{name:"Chocolate Cereal",healthScore:3.8,tags:["High Sugar","Processed"],warning:"High in added sugars"},{name:"Avocado",healthScore:9.8,tags:["Healthy Fats","Nutrient Dense","Fiber Rich"]}],d=()=>{e(!t),t||(n(""),l([]))},h=()=>{r.trim()&&(i(!0),setTimeout(()=>{const p=u.filter(x=>x.name.toLowerCase().includes(r.toLowerCase()));l(p),i(!1)},800))},m=p=>{p.key==="Enter"&&h()};return j.useEffect(()=>{r===""&&l([])},[r]),t?a.jsxs("div",{className:"sci-fi-card p-4 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Quick Food Search"}),a.jsx(te,{variant:"ghost",size:"icon",onClick:d,className:"h-8 w-8 rounded-full",children:a.jsx(xn,{size:16})})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Hr,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),onKeyPress:m,placeholder:"Search for a food item...",className:"w-full pl-10 pr-4 py-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text focus:border-safebite-teal focus:ring-1 focus:ring-safebite-teal outline-none transition-colors"}),a.jsx(te,{onClick:h,className:"absolute inset-y-0 right-0 px-3 bg-safebite-teal text-safebite-dark-blue rounded-r-md",children:"Search"})]}),s?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-safebite-teal border-t-transparent rounded-full"})}):o.length>0?a.jsx("div",{className:"space-y-3",children:o.map((p,x)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:p.name}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.tags.map((_,b)=>a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${_.includes("High Sugar")||_.includes("Processed")?"bg-red-500/20 text-red-500":"bg-safebite-teal/20 text-safebite-teal"}`,children:_},b))})]}),a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${p.healthScore>=7?"bg-green-500/20 text-green-500":p.healthScore>=5?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:p.healthScore.toFixed(1)})]}),p.warning&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-red-500",children:[a.jsx(Hn,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:p.warning})]}),!p.warning&&p.healthScore>=7&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-green-500",children:[a.jsx(ao,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Excellent nutritional profile"})]})]},x))}):r&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsxs("p",{children:['No results found for "',r,'"']}),a.jsx("p",{className:"text-xs mt-1",children:'Try searching for "quinoa", "yogurt", "avocado", or "cereal"'})]}),!r&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsx("p",{children:'Try searching for foods like "quinoa", "yogurt", "avocado", or "cereal"'}),a.jsx("p",{className:"text-xs mt-1",children:"This is a demo of the SafeBite food search functionality"})]})]}):a.jsxs(te,{onClick:d,variant:"outline",className:"sci-fi-button flex items-center",children:[a.jsx(Hr,{className:"mr-2 h-4 w-4"}),"Try Quick Search"]})},qie=()=>{const t=_r(),[e,r]=j.useState(!1),[n]=hse(Die);return a.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[a.jsx(Bie,{}),a.jsx(Tb,{}),a.jsx(XB,{isOpen:e,onClose:()=>r(!1)}),n&&a.jsx(Uie,{}),a.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-32 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-10 md:mb-0",children:[a.jsx("div",{className:"inline-block bg-safebite-teal text-safebite-dark-blue px-4 py-2 rounded-full text-sm font-medium mb-4 shadow-md",children:"Version 2.5 - Production Ready"}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[a.jsx("span",{className:"gradient-text animate-gradient-text",children:"Safe Food Choices"}),a.jsx("br",{}),a.jsx("span",{className:"text-safebite-text",children:"for a Healthier You"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8",children:"Know exactly what's in your food. Track nutrition, receive personalized recommendations, and make informed choices for your health journey."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-4 rounded-md shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:["Get Started Free",a.jsx(va,{className:"ml-2 h-5 w-5"})]}),a.jsxs(te,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-4 rounded-md hover:scale-105 transition-transform duration-200",children:[a.jsx(Pm,{className:"mr-2 h-5 w-5"}),"Guest Login"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(zie,{})})]}),a.jsx("div",{className:"md:w-1/2 relative",children:a.jsx(Vie,{})})]})}),a.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Powered by AI & Machine Learning"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"Intelligent Food Safety"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with nutritional science to help you make the best food choices."}),a.jsxs("div",{className:"flex items-center justify-center mt-4",children:[a.jsx(Ly,{size:"sm",className:"mr-2"}),a.jsxs("p",{className:"text-safebite-teal text-sm",children:["A Special Engineering Project by ",a.jsx("span",{className:"font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"p-6 border border-safebite-teal/30 rounded-lg bg-safebite-card-bg mb-8 sci-fi-card shadow-neon-teal",children:[a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx(kn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Featured Capabilities"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Ka,{title:"Food Safety Analysis",description:"Instantly analyze food products for additives, allergens, and harmful ingredients to make safe choices.",icon:a.jsx(ao,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"AI-Powered Recommendations",description:"Receive personalized food suggestions based on your health profile, preferences, and goals.",icon:a.jsx(yy,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"Nutritional Tracking",description:"Monitor your daily intake of calories, macros, vitamins, and minerals with detailed insights.",icon:a.jsx(hs,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(Ka,{title:"Simple Food Search",description:"Search or scan barcodes to instantly access comprehensive food information and safety ratings.",icon:a.jsx(Hr,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"Health Goal Setting",description:"Set personalized health goals and track your progress with interactive charts and reports.",icon:a.jsx(kY,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"Community Support",description:"Connect with like-minded individuals, share experiences, and get motivation from our community.",icon:a.jsx(ti,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations.",icon:a.jsx(Dr,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"Personalized Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals.",icon:a.jsx(cs,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(Ka,{title:"Food Tracker",description:"Add foods to your daily tracker to monitor your nutrition intake and stay on target with your goals.",icon:a.jsx(cs,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsxs(te,{onClick:()=>t("/features"),variant:"outline",className:"sci-fi-button hover:shadow-neon-teal transition-all duration-300",children:["View All Features",a.jsx(va,{className:"ml-2 h-5 w-5"})]})})]}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg relative",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Simple 3-Step Process"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"How SafeBite Works"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Getting started is easy. Three simple steps to transform your food choices."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"1"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(ti,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Create Your Profile"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign up and complete a short questionnaire about your health, dietary needs, and personal goals."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"2"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(Hr,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Search & Analyze"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food items or scan barcodes to instantly get detailed nutrition and safety information."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"3"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(cs,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Track & Improve"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your nutrition, view progress charts, and receive personalized recommendations to improve your health."})]})]})]})]}),a.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"User Experiences"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"What Our Users Say"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Join thousands of satisfied users who have transformed their health with SafeBite."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(L1,{quote:"SafeBite completely changed how I shop for groceries. I've discovered so many healthier alternatives to my favorite foods!",author:"Sarah M.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(L1,{quote:"As someone with multiple food allergies, this app has been a lifesaver. I can quickly check if a product is safe for me to eat.",author:"James K.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(L1,{quote:"The personalized recommendations are spot on! I've lost 15 pounds just by making smarter food choices with SafeBite.",author:"Monica R.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"})]})]}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg border-y border-safebite-teal/20 relative",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit-pattern",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"20",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("path",{d:"M50 0 L50 20 M0 50 L20 50 M50 80 L50 100 M80 50 L100 50",stroke:"currentColor",strokeWidth:"0.5"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit-pattern)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto text-center relative z-10",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Get Started Today"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 gradient-text animate-gradient-text",children:"Ready to Transform Your Food Choices?"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8 max-w-2xl mx-auto",children:"Join SafeBite today and start your journey to better health through informed food choices. It's free to get started!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6 shadow-neon-teal",children:["Sign Up Now",a.jsx(va,{className:"ml-2 h-5 w-5"})]}),a.jsxs(te,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-6",children:[a.jsx(Pm,{className:"mr-2 h-5 w-5"}),"Try as Guest"]})]})]})]}),a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsx("div",{className:"bg-safebite-dark-blue p-6 rounded-lg border border-safebite-teal/30 sci-fi-card shadow-neon-teal",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-4",children:[a.jsx(Ly,{size:"md",className:"mr-0 md:mr-3 mb-4 md:mb-0 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text text-center md:text-left",children:"Developer's Note"}),a.jsx("p",{className:"text-safebite-teal text-sm text-center md:text-left",children:"Aditya Shenvi | IFHE Hyderabad"})]}),a.jsx("div",{className:"mt-2 sm:mt-0 bg-green-500/20 text-green-500 px-3 py-1 rounded-full text-xs font-medium self-center md:self-auto",children:"Production Ready v2.5"})]}),a.jsx("p",{className:"text-safebite-text-secondary my-4 text-sm md:text-base",children:"SafeBite was developed as a special engineering project to demonstrate how technology can help people make better food choices. The application combines modern web technologies with nutritional science to create an intuitive platform for food analysis and health tracking. This release includes fixes to the AI chatbot, improved icon positioning, and overall stability improvements."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 my-6",children:[a.jsxs("div",{className:"lg:col-span-1 bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-3 text-center",children:"Tech Stack"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"MongoDB"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Flask"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Food APIs"})]})]}),a.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"New Features"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Enhanced AI chatbot"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Weekly health check-in"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Improved dashboard"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Food delivery integration"})]})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"Technical Improvements"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"MongoDB integration"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"User activity tracking"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Firebase security"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Enhanced UI/UX"})]})]})]})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm md:text-base",children:"Thank you for your support and feedback! I'm committed to improving SafeBite further."}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs(te,{variant:"outline",className:"sci-fi-button",onClick:()=>r(!0),children:[a.jsx(ho,{className:"mr-2 h-4 w-4"}),"View Full Changelog"]})})]})]})})}),a.jsx(Cb,{})]})},Kn=()=>{const[t,e]=j.useState(!1),r=Ut(We);return j.useEffect(()=>{const i=()=>{const l=r.currentUser,u=localStorage.getItem("userType"),d=sessionStorage.getItem("safebite-guest-mode");if(l)e(!1),(u==="guest"||d==="true")&&(localStorage.removeItem("userType"),sessionStorage.removeItem("safebite-guest-mode"),console.log("User is logged in, clearing guest mode flags"));else{const h=u==="guest"||d==="true";e(h),console.log("Guest mode check:",{userType:u,emergencyGuestMode:d,isGuestMode:h}),d==="true"&&console.log("Using emergency guest mode due to permission denied")}};i();const o=setInterval(i,2e3);return()=>clearInterval(o)},[r]),{isGuest:t,exitGuestMode:()=>{localStorage.removeItem("userType"),localStorage.removeItem("guestId"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),e(!1)},enterEmergencyGuestMode:()=>{r.currentUser||(sessionStorage.setItem("safebite-guest-mode","true"),e(!0))}}};var F1="focusScope.autoFocusOnMount",$1="focusScope.autoFocusOnUnmount",_O={bubbles:!1,cancelable:!0},Hie="FocusScope",mC=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,u]=j.useState(null),d=Gn(s),h=Gn(i),m=j.useRef(null),p=Ct(e,b=>u(b)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let b=function(T){if(x.paused||!l)return;const E=T.target;l.contains(E)?m.current=E:hl(m.current,{select:!0})},y=function(T){if(x.paused||!l)return;const E=T.relatedTarget;E!==null&&(l.contains(E)||hl(m.current,{select:!0}))},N=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&hl(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),S.disconnect()}}},[n,l,x.paused]),j.useEffect(()=>{if(l){SO.add(x);const b=document.activeElement;if(!l.contains(b)){const N=new CustomEvent(F1,_O);l.addEventListener(F1,d),l.dispatchEvent(N),N.defaultPrevented||(Wie(Xie(eU(l)),{select:!0}),document.activeElement===b&&hl(l))}return()=>{l.removeEventListener(F1,d),setTimeout(()=>{const N=new CustomEvent($1,_O);l.addEventListener($1,h),l.dispatchEvent(N),N.defaultPrevented||hl(b??document.body,{select:!0}),l.removeEventListener($1,h),SO.remove(x)},0)}}},[l,d,h,x]);const _=j.useCallback(b=>{if(!r&&!n||x.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(y&&N){const S=b.currentTarget,[T,E]=Gie(S);T&&E?!b.shiftKey&&N===E?(b.preventDefault(),r&&hl(T,{select:!0})):b.shiftKey&&N===T&&(b.preventDefault(),r&&hl(E,{select:!0})):N===S&&b.preventDefault()}},[r,n,x.paused]);return a.jsx(qe.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});mC.displayName=Hie;function Wie(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(hl(n,{select:e}),document.activeElement!==r)return}function Gie(t){const e=eU(t),r=jO(e,t),n=jO(e.reverse(),t);return[r,n]}function eU(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function jO(t,e){for(const r of t)if(!Kie(r,{upTo:e}))return r}function Kie(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Yie(t){return t instanceof HTMLInputElement&&"select"in t}function hl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Yie(t)&&e&&t.select()}}var SO=Qie();function Qie(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=NO(t,e),t.unshift(e)},remove(e){var r;t=NO(t,e),(r=t[0])==null||r.resume()}}}function NO(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Xie(t){return t.filter(e=>e.tagName!=="A")}var V1=0;function tU(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??EO()),document.body.insertAdjacentElement("beforeend",t[1]??EO()),V1++,()=>{V1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),V1--}},[])}function EO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var oy="right-scroll-bar-position",ly="width-before-scroll-bar",Jie="with-scroll-bars-hidden",Zie="--removed-body-scroll-bar-size";function B1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function eae(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var tae=typeof window<"u"?j.useLayoutEffect:j.useEffect,AO=new WeakMap;function rae(t,e){var r=eae(null,function(n){return t.forEach(function(s){return B1(s,n)})});return tae(function(){var n=AO.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(l){i.has(l)||B1(l,null)}),i.forEach(function(l){s.has(l)||B1(l,o)})}AO.set(r,t)},[t]),r}function nae(t){return t}function sae(t,e){e===void 0&&(e=nae);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),r}}}};return s}function iae(t){t===void 0&&(t={});var e=sae(null);return e.options=ma({async:!0,ssr:!1},t),e}var rU=function(t){var e=t.sideCar,r=Bp(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,ma({},r))};rU.isSideCarExport=!0;function aae(t,e){return t.useMedium(e),rU}var nU=iae(),U1=function(){},kb=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:U1,onWheelCapture:U1,onTouchMoveCapture:U1}),s=n[0],i=n[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,p=t.sideCar,x=t.noIsolation,_=t.inert,b=t.allowPinchZoom,y=t.as,N=y===void 0?"div":y,S=t.gapMode,T=Bp(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,C=rae([r,e]),O=ma(ma({},T),s);return j.createElement(j.Fragment,null,h&&j.createElement(E,{sideCar:nU,removeScrollBar:d,shards:m,noIsolation:x,inert:_,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?j.cloneElement(j.Children.only(l),ma(ma({},O),{ref:C})):j.createElement(N,ma({},O,{className:u,ref:C}),l))});kb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kb.classNames={fullWidth:ly,zeroRight:oy};var oae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oae();return e&&t.setAttribute("nonce",e),t}function cae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function uae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var dae=function(){var t=0,e=null;return{add:function(r){t==0&&(e=lae())&&(cae(e,r),uae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},fae=function(){var t=dae();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},sU=function(){var t=fae(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},hae={left:0,top:0,right:0,gap:0},z1=function(t){return parseInt(t||"",10)||0},mae=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[z1(r),z1(n),z1(s)]},pae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hae;var e=mae(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},gae=sU(),Dd="data-scroll-locked",vae=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ly,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(oy," .").concat(oy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ly," .").concat(ly,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(Zie,": ").concat(l,`px;
  }
`)},TO=function(){var t=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(t)?t:0},yae=function(){j.useEffect(function(){return document.body.setAttribute(Dd,(TO()+1).toString()),function(){var t=TO()-1;t<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,t.toString())}},[])},xae=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;yae();var i=j.useMemo(function(){return pae(s)},[s]);return j.createElement(gae,{styles:vae(i,!e,s,r?"":"!important")})},kE=!1;if(typeof window<"u")try{var Pv=Object.defineProperty({},"passive",{get:function(){return kE=!0,!0}});window.addEventListener("test",Pv,Pv),window.removeEventListener("test",Pv,Pv)}catch{kE=!1}var dd=kE?{passive:!1}:!1,bae=function(t){return t.tagName==="TEXTAREA"},iU=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!bae(t)&&r[e]==="visible")},wae=function(t){return iU(t,"overflowY")},_ae=function(t){return iU(t,"overflowX")},CO=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=aU(t,n);if(s){var i=oU(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jae=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Sae=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},aU=function(t,e){return t==="v"?wae(e):_ae(e)},oU=function(t,e){return t==="v"?jae(e):Sae(e)},Nae=function(t,e){return t==="h"&&e==="rtl"?-1:1},Eae=function(t,e,r,n,s){var i=Nae(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,u=e.contains(l),d=!1,h=o>0,m=0,p=0;do{var x=oU(t,l),_=x[0],b=x[1],y=x[2],N=b-y-i*_;(_||N)&&aU(t,l)&&(m+=N,p+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Iv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kO=function(t){return[t.deltaX,t.deltaY]},PO=function(t){return t&&"current"in t?t.current:t},Aae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Tae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Cae=0,fd=[];function kae(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),s=j.useState(Cae++)[0],i=j.useState(sU)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=Yte([t.lockRef.current],(t.shards||[]).map(PO),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var N=Iv(b),S=r.current,T="deltaX"in b?b.deltaX:S[0]-N[0],E="deltaY"in b?b.deltaY:S[1]-N[1],C,O=b.target,k=Math.abs(T)>Math.abs(E)?"h":"v";if("touches"in b&&k==="h"&&O.type==="range")return!1;var R=CO(k,O);if(!R)return!0;if(R?C=k:(C=k==="v"?"h":"v",R=CO(k,O)),!R)return!1;if(!n.current&&"changedTouches"in b&&(T||E)&&(n.current=C),!C)return!0;var M=n.current||C;return Eae(M,y,b,M==="h"?T:E)},[]),u=j.useCallback(function(b){var y=b;if(!(!fd.length||fd[fd.length-1]!==i)){var N="deltaY"in y?kO(y):Iv(y),S=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Aae(C.delta,N)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var T=(o.current.shards||[]).map(PO).filter(Boolean).filter(function(C){return C.contains(y.target)}),E=T.length>0?l(y,T[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),d=j.useCallback(function(b,y,N,S){var T={name:b,delta:y,target:N,should:S,shadowParent:Pae(N)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(E){return E!==T})},1)},[]),h=j.useCallback(function(b){r.current=Iv(b),n.current=void 0},[]),m=j.useCallback(function(b){d(b.type,kO(b),b.target,l(b,t.lockRef.current))},[]),p=j.useCallback(function(b){d(b.type,Iv(b),b.target,l(b,t.lockRef.current))},[]);j.useEffect(function(){return fd.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",u,dd),document.addEventListener("touchmove",u,dd),document.addEventListener("touchstart",h,dd),function(){fd=fd.filter(function(b){return b!==i}),document.removeEventListener("wheel",u,dd),document.removeEventListener("touchmove",u,dd),document.removeEventListener("touchstart",h,dd)}},[]);var x=t.removeScrollBar,_=t.inert;return j.createElement(j.Fragment,null,_?j.createElement(i,{styles:Tae(s)}):null,x?j.createElement(xae,{gapMode:t.gapMode}):null)}function Pae(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Iae=aae(nU,kae);var pC=j.forwardRef(function(t,e){return j.createElement(kb,ma({},t,{ref:e,sideCar:Iae}))});pC.classNames=kb.classNames;var Rae=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hd=new WeakMap,Rv=new WeakMap,Ov={},q1=0,lU=function(t){return t&&(t.host||lU(t.parentNode))},Oae=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=lU(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Mae=function(t,e,r,n){var s=Oae(e,Array.isArray(t)?t:[t]);Ov[r]||(Ov[r]=new WeakMap);var i=Ov[r],o=[],l=new Set,u=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var x=p.getAttribute(n),_=x!==null&&x!=="false",b=(hd.get(p)||0)+1,y=(i.get(p)||0)+1;hd.set(p,b),i.set(p,y),o.push(p),b===1&&_&&Rv.set(p,!0),y===1&&p.setAttribute(r,"true"),_||p.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return h(e),l.clear(),q1++,function(){o.forEach(function(m){var p=hd.get(m)-1,x=i.get(m)-1;hd.set(m,p),i.set(m,x),p||(Rv.has(m)||m.removeAttribute(n),Rv.delete(m)),x||m.removeAttribute(r)}),q1--,q1||(hd=new WeakMap,hd=new WeakMap,Rv=new WeakMap,Ov={})}},cU=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Rae(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Mae(n,s,r,"aria-hidden")):function(){return null}},gC="Dialog",[uU,GTe]=$s(gC),[Dae,Yi]=uU(gC),dU=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=j.useRef(null),u=j.useRef(null),[d=!1,h]=ds({prop:n,defaultProp:s,onChange:i});return a.jsx(Dae,{scope:e,triggerRef:l,contentRef:u,contentId:$i(),titleId:$i(),descriptionId:$i(),open:d,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};dU.displayName=gC;var fU="DialogTrigger",hU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Yi(fU,r),i=Ct(e,s.triggerRef);return a.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xC(s.open),...n,ref:i,onClick:Ue(t.onClick,s.onOpenToggle)})});hU.displayName=fU;var vC="DialogPortal",[Lae,mU]=uU(vC,{forceMount:void 0}),pU=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Yi(vC,e);return a.jsx(Lae,{scope:e,forceMount:r,children:j.Children.map(n,o=>a.jsx(Ca,{present:r||i.open,children:a.jsx(tb,{asChild:!0,container:s,children:o})}))})};pU.displayName=vC;var Fy="DialogOverlay",gU=j.forwardRef((t,e)=>{const r=mU(Fy,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Yi(Fy,t.__scopeDialog);return i.modal?a.jsx(Ca,{present:n||i.open,children:a.jsx(Fae,{...s,ref:e})}):null});gU.displayName=Fy;var Fae=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Yi(Fy,r);return a.jsx(pC,{as:au,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(qe.div,{"data-state":xC(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mu="DialogContent",vU=j.forwardRef((t,e)=>{const r=mU(mu,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Yi(mu,t.__scopeDialog);return a.jsx(Ca,{present:n||i.open,children:i.modal?a.jsx($ae,{...s,ref:e}):a.jsx(Vae,{...s,ref:e})})});vU.displayName=mu;var $ae=j.forwardRef((t,e)=>{const r=Yi(mu,t.__scopeDialog),n=j.useRef(null),s=Ct(e,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return cU(i)},[]),a.jsx(yU,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,i=>i.preventDefault())})}),Vae=j.forwardRef((t,e)=>{const r=Yi(mu,t.__scopeDialog),n=j.useRef(!1),s=j.useRef(!1);return a.jsx(yU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),yU=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Yi(mu,r),u=j.useRef(null),d=Ct(e,u);return tU(),a.jsxs(a.Fragment,{children:[a.jsx(mC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Dp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xC(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Bae,{titleId:l.titleId}),a.jsx(zae,{contentRef:u,descriptionId:l.descriptionId})]})]})}),yC="DialogTitle",xU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Yi(yC,r);return a.jsx(qe.h2,{id:s.titleId,...n,ref:e})});xU.displayName=yC;var bU="DialogDescription",wU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Yi(bU,r);return a.jsx(qe.p,{id:s.descriptionId,...n,ref:e})});wU.displayName=bU;var _U="DialogClose",jU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Yi(_U,r);return a.jsx(qe.button,{type:"button",...n,ref:e,onClick:Ue(t.onClick,()=>s.onOpenChange(!1))})});jU.displayName=_U;function xC(t){return t?"open":"closed"}var SU="DialogTitleWarning",[KTe,NU]=BK(SU,{contentName:mu,titleName:yC,docsSlug:"dialog"}),Bae=({titleId:t})=>{const e=NU(SU),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Uae="DialogDescriptionWarning",zae=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NU(Uae).contentName}}.`;return j.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qae=dU,Hae=hU,Wae=pU,EU=gU,AU=vU,TU=xU,CU=wU,kU=jU;const Ld=qae,Gae=Hae,Kae=Wae,PU=kU,IU=j.forwardRef(({className:t,...e},r)=>a.jsx(EU,{ref:r,className:Qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));IU.displayName=EU.displayName;const tu=j.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Kae,{children:[a.jsx(IU,{}),a.jsxs(AU,{ref:n,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(kU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(xn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tu.displayName=AU.displayName;const ru=({className:t,...e})=>a.jsx("div",{className:Qe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ru.displayName="DialogHeader";const RU=({className:t,...e})=>a.jsx("div",{className:Qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});RU.displayName="DialogFooter";const nu=j.forwardRef(({className:t,...e},r)=>a.jsx(TU,{ref:r,className:Qe("text-lg font-semibold leading-none tracking-tight",t),...e}));nu.displayName=TU.displayName;const nf=j.forwardRef(({className:t,...e},r)=>a.jsx(CU,{ref:r,className:Qe("text-sm text-muted-foreground",t),...e}));nf.displayName=CU.displayName;const OU=({isOpen:t,onClose:e,userProfile:r})=>a.jsx(Ld,{open:t,onOpenChange:e,children:a.jsxs(tu,{className:"sci-fi-card max-w-md",children:[a.jsxs(ru,{children:[a.jsxs(nu,{className:"flex items-center",children:[a.jsx(_u,{className:"mr-2 h-5 w-5"}),"Your Profile"]}),a.jsx(nf,{children:"Manage your account settings and preferences."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-b pb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Account Information"}),a.jsxs("p",{children:["Name: ",(r==null?void 0:r.displayName)||(r==null?void 0:r.name)||"N/A"]}),a.jsxs("p",{children:["Email: ",(r==null?void 0:r.email)||"N/A"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(te,{variant:"outline",className:"sci-fi-button",children:[a.jsx(IT,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsxs(te,{variant:"destructive",className:"sci-fi-button",children:[a.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]})]})}),IO={name:"",featureUsage:{},createdAt:Date.now(),lastActive:Date.now()},Yae=()=>{const t=localStorage.getItem("guestUserData");if(t)try{return JSON.parse(t)}catch(e){return console.error("Error parsing guest user data:",e),{...IO}}return{...IO}},Qae=t=>{try{const e=MU(),r={...t,name:e,lastActive:Date.now()};localStorage.setItem("guestUserData",JSON.stringify(r))}catch(e){console.error("Error saving guest user data:",e)}},Xae=t=>{try{sessionStorage.setItem("guestUserName",t)}catch(e){console.error("Error saving guest name to session storage:",e)}},MU=()=>{try{return sessionStorage.getItem("guestUserName")||""}catch(t){return console.error("Error retrieving guest name from session storage:",t),""}},DU=t=>{Xae(t);const e=Yae();Qae({...e})},Pb=()=>MU(),Qi=()=>{var _;const[t,e]=j.useState(!1),[r,n]=j.useState(!1),s=_r(),{toast:i}=ir(),o=Ut(We),l=o.currentUser,{isGuest:u,exitGuestMode:d}=Kn(),h=Pb()||"Guest",m=()=>{e(!t)},p=async()=>{try{if(u){d(),i({title:"Exited guest mode",description:"Thank you for trying SafeBite!"}),s("/");return}await Jre(o),i({title:"Logged out successfully",description:"Thank you for using SafeBite!"}),s("/")}catch(b){i({title:"Logout failed",description:b.message,variant:"destructive"}),console.error("Logout error:",b)}},x=[{path:"/dashboard",name:"Dashboard",icon:a.jsx(b6,{size:20})},{path:"/nutrition",name:"Nutrition",icon:a.jsx(zi,{size:20,className:"text-safebite-teal"})},{path:"/recipes",name:"Recipes",icon:a.jsx(Im,{size:20})},{path:"/products",name:"Products",icon:a.jsx(E6,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"})},{path:"/community",name:"Community",icon:a.jsx(ti,{size:20})},{path:"/healthbox",name:"HealthBox",icon:a.jsx(Ad,{size:20,className:"text-safebite-teal"})},{path:"/weekly-questions",name:"Health Check",icon:a.jsx(hs,{size:20})},{path:"/reports",name:"Reports",icon:a.jsx(rE,{size:20})},{path:"/settings",name:"Settings",icon:a.jsx(IT,{size:20})},{path:"/help",name:"Help",icon:a.jsx(Al,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"})}];return a.jsxs(a.Fragment,{children:[a.jsx(te,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-safebite-card-bg border-safebite-card-bg-alt hover:bg-safebite-teal/10 hover:border-safebite-teal/50 transition-all duration-300 shadow-md",onClick:m,children:t?a.jsx(xn,{size:20,className:"text-safebite-teal"}):a.jsx(_6,{size:20,className:"text-safebite-teal"})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-safebite-dark-blue border-r border-safebite-card-bg-alt transform transition-transform duration-300 ease-in-out shadow-xl ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-3",children:a.jsx(Fi,{size:20,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Smart Food Safety"})]})]})}),a.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-2 px-4",children:x.map(b=>a.jsx("li",{children:a.jsxs(cee,{to:b.path,className:({isActive:y})=>`flex items-center py-2 px-4 rounded-md transition-all duration-300 ${y?"bg-gradient-to-r from-safebite-teal to-safebite-teal/80 text-safebite-dark-blue font-medium shadow-sm shadow-safebite-teal/20":"text-safebite-text hover:bg-safebite-card-bg-alt hover:border-safebite-teal/20 hover:pl-5"}`,children:[a.jsx("span",{className:"mr-3",children:b.icon}),b.name,b.badge&&b.badge]})},b.path))})}),a.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[a.jsxs(te,{variant:"ghost",className:"flex items-center space-x-3 mb-4 w-full hover:bg-safebite-card-bg-alt rounded-md p-2",onClick:()=>n(!0),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal/30 to-safebite-purple/30 flex items-center justify-center text-safebite-teal border border-safebite-teal/50",children:u?"G":((_=l==null?void 0:l.email)==null?void 0:_.charAt(0).toUpperCase())||"A"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 rounded-full bg-safebite-card-bg border border-safebite-card-bg-alt flex items-center justify-center",children:u?a.jsx(cs,{size:12,className:"text-yellow-500"}):a.jsx(aR,{size:12,className:"text-safebite-teal"})})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-safebite-text font-medium",children:u?h:(l==null?void 0:l.displayName)||(l==null?void 0:l.email)||"User"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary flex items-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx(cs,{size:12,className:"text-yellow-500 mr-1"})," Guest Mode"]}):a.jsxs(a.Fragment,{children:[a.jsx(aR,{size:12,className:"text-safebite-teal mr-1"})," Premium Member"]})})]}),a.jsx(_u,{size:16,className:"ml-auto text-safebite-teal"})]}),a.jsxs(te,{variant:"outline",className:"w-full sci-fi-button flex items-center justify-center hover:border-safebite-teal/50 transition-all duration-300",onClick:p,children:[a.jsx(WY,{size:18,className:"mr-2"}),u?"Exit Guest Mode":"Sign Out"]})]})]})}),a.jsx(OU,{open:r,onClose:()=>n(!1)})]})};var RO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dl,LU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function M(){}M.prototype=R.prototype,k.D=R.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(V,$,D){for(var L=Array(arguments.length-2),B=2;B<arguments.length;B++)L[B-2]=arguments[B];return R.prototype[$].apply(V,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,R,M){M||(M=0);var V=Array(16);if(typeof R=="string")for(var $=0;16>$;++$)V[$]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for($=0;16>$;++$)V[$]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=k.g[0],M=k.g[1],$=k.g[2];var D=k.g[3],L=R+(D^M&($^D))+V[0]+3614090360&4294967295;R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[1]+3905402710&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[2]+606105819&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[3]+3250441966&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+(D^M&($^D))+V[4]+4118548399&4294967295,R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[5]+1200080426&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[6]+2821735955&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[7]+4249261313&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+(D^M&($^D))+V[8]+1770035416&4294967295,R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[9]+2336552879&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[10]+4294925233&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[11]+2304563134&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+(D^M&($^D))+V[12]+1804603682&4294967295,R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[13]+4254626195&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[14]+2792965006&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[15]+1236535329&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+($^D&(M^$))+V[1]+4129170786&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[6]+3225465664&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[11]+643717713&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[0]+3921069994&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+($^D&(M^$))+V[5]+3593408605&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[10]+38016083&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[15]+3634488961&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[4]+3889429448&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+($^D&(M^$))+V[9]+568446438&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[14]+3275163606&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[3]+4107603335&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[8]+1163531501&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+($^D&(M^$))+V[13]+2850285829&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[2]+4243563512&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[7]+1735328473&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[12]+2368359562&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+(M^$^D)+V[5]+4294588738&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[8]+2272392833&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[11]+1839030562&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[14]+4259657740&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+(M^$^D)+V[1]+2763975236&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[4]+1272893353&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[7]+4139469664&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[10]+3200236656&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+(M^$^D)+V[13]+681279174&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[0]+3936430074&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[3]+3572445317&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[6]+76029189&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+(M^$^D)+V[9]+3654602809&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[12]+3873151461&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[15]+530742520&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[2]+3299628645&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+($^(M|~D))+V[0]+4096336452&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[7]+1126891415&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[14]+2878612391&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[5]+4237533241&4294967295,M=$+(L<<21&4294967295|L>>>11),L=R+($^(M|~D))+V[12]+1700485571&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[3]+2399980690&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[10]+4293915773&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[1]+2240044497&4294967295,M=$+(L<<21&4294967295|L>>>11),L=R+($^(M|~D))+V[8]+1873313359&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[15]+4264355552&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[6]+2734768916&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[13]+1309151649&4294967295,M=$+(L<<21&4294967295|L>>>11),L=R+($^(M|~D))+V[4]+4149444226&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[11]+3174756917&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[2]+718787259&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+$&4294967295,k.g[3]=k.g[3]+D&4294967295}n.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var M=R-this.blockSize,V=this.B,$=this.h,D=0;D<R;){if($==0)for(;D<=M;)s(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<R;)if(V[$++]=k.charCodeAt(D++),$==this.blockSize){s(this,V),$=0;break}}else for(;D<R;)if(V[$++]=k[D++],$==this.blockSize){s(this,V),$=0;break}}this.h=$,this.o+=R},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var M=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=M&255,M/=256;for(this.u(k),k=Array(16),R=M=0;4>R;++R)for(var V=0;32>V;V+=8)k[M++]=this.g[R]>>>V&255;return k};function i(k,R){var M=l;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=R(k)}function o(k,R){this.h=R;for(var M=[],V=!0,$=k.length-1;0<=$;$--){var D=k[$]|0;V&&D==R||(M[$]=D,V=!1)}this.g=M}var l={};function u(k){return-128<=k&&128>k?i(k,function(R){return new o([R|0],0>R?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return y(d(-k));for(var R=[],M=1,V=0;k>=M;V++)R[V]=k/M|0,M*=4294967296;return new o(R,0)}function h(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return y(h(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(R,8)),V=m,$=0;$<k.length;$+=8){var D=Math.min(8,k.length-$),L=parseInt(k.substring($,$+D),R);8>D?(D=d(Math.pow(R,D)),V=V.j(D).add(d(L))):(V=V.j(M),V=V.add(d(L)))}return V}var m=u(0),p=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-y(this).m();for(var k=0,R=1,M=0;M<this.g.length;M++){var V=this.i(M);k+=(0<=V?V:4294967296+V)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(b(this))return"-"+y(this).toString(k);for(var R=d(Math.pow(k,6)),M=this,V="";;){var $=E(M,R).g;M=N(M,$.j(R));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=$,_(M))return D+V;for(;6>D.length;)D="0"+D;V=D+V}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=N(this,k),b(k)?-1:_(k)?0:1};function y(k){for(var R=k.g.length,M=[],V=0;V<R;V++)M[V]=~k.g[V];return new o(M,~k.h).add(p)}t.abs=function(){return b(this)?y(this):this},t.add=function(k){for(var R=Math.max(this.g.length,k.g.length),M=[],V=0,$=0;$<=R;$++){var D=V+(this.i($)&65535)+(k.i($)&65535),L=(D>>>16)+(this.i($)>>>16)+(k.i($)>>>16);V=L>>>16,D&=65535,L&=65535,M[$]=L<<16|D}return new o(M,M[M.length-1]&-2147483648?-1:0)};function N(k,R){return k.add(y(R))}t.j=function(k){if(_(this)||_(k))return m;if(b(this))return b(k)?y(this).j(y(k)):y(y(this).j(k));if(b(k))return y(this.j(y(k)));if(0>this.l(x)&&0>k.l(x))return d(this.m()*k.m());for(var R=this.g.length+k.g.length,M=[],V=0;V<2*R;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var $=0;$<k.g.length;$++){var D=this.i(V)>>>16,L=this.i(V)&65535,B=k.i($)>>>16,G=k.i($)&65535;M[2*V+2*$]+=L*G,S(M,2*V+2*$),M[2*V+2*$+1]+=D*G,S(M,2*V+2*$+1),M[2*V+2*$+1]+=L*B,S(M,2*V+2*$+1),M[2*V+2*$+2]+=D*B,S(M,2*V+2*$+2)}for(V=0;V<R;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=R;V<2*R;V++)M[V]=0;return new o(M,0)};function S(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function T(k,R){this.g=k,this.h=R}function E(k,R){if(_(R))throw Error("division by zero");if(_(k))return new T(m,m);if(b(k))return R=E(y(k),R),new T(y(R.g),y(R.h));if(b(R))return R=E(k,y(R)),new T(y(R.g),R.h);if(30<k.g.length){if(b(k)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var M=p,V=R;0>=V.l(k);)M=C(M),V=C(V);var $=O(M,1),D=O(V,1);for(V=O(V,2),M=O(M,2);!_(V);){var L=D.add(V);0>=L.l(k)&&($=$.add(M),D=L),V=O(V,1),M=O(M,1)}return R=N(k,$.j(R)),new T($,R)}for($=m;0<=k.l(R);){for(M=Math.max(1,Math.floor(k.m()/R.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),D=d(M),L=D.j(R);b(L)||0<L.l(k);)M-=V,D=d(M),L=D.j(R);_(D)&&(D=p),$=$.add(D),k=N(k,L)}return new T($,k)}t.A=function(k){return E(this,k).h},t.and=function(k){for(var R=Math.max(this.g.length,k.g.length),M=[],V=0;V<R;V++)M[V]=this.i(V)&k.i(V);return new o(M,this.h&k.h)},t.or=function(k){for(var R=Math.max(this.g.length,k.g.length),M=[],V=0;V<R;V++)M[V]=this.i(V)|k.i(V);return new o(M,this.h|k.h)},t.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),M=[],V=0;V<R;V++)M[V]=this.i(V)^k.i(V);return new o(M,this.h^k.h)};function C(k){for(var R=k.g.length+1,M=[],V=0;V<R;V++)M[V]=k.i(V)<<1|k.i(V-1)>>>31;return new o(M,k.h)}function O(k,R){var M=R>>5;R%=32;for(var V=k.g.length-M,$=[],D=0;D<V;D++)$[D]=0<R?k.i(D+M)>>>R|k.i(D+M+1)<<32-R:k.i(D+M);return new o($,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,LU=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Dl=o}).apply(typeof RO<"u"?RO:typeof self<"u"?self:typeof window<"u"?window:{});var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FU,im,$U,cy,PE,VU,BU,UU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,P,F){return v==Array.prototype||v==Object.prototype||(v[P]=F.value),v};function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mv=="object"&&Mv];for(var P=0;P<v.length;++P){var F=v[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function s(v,P){if(P)e:{var F=n;v=v.split(".");for(var W=0;W<v.length-1;W++){var ae=v[W];if(!(ae in F))break e;F=F[ae]}v=v[v.length-1],W=F[v],P=P(W),P!=W&&P!=null&&e(F,v,{configurable:!0,writable:!0,value:P})}}function i(v,P){v instanceof String&&(v+="");var F=0,W=!1,ae={next:function(){if(!W&&F<v.length){var he=F++;return{value:P(he,v[he]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}s("Array.prototype.values",function(v){return v||function(){return i(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(v){var P=typeof v;return P=P!="object"?P:v?Array.isArray(v)?"array":P:"null",P=="array"||P=="object"&&typeof v.length=="number"}function d(v){var P=typeof v;return P=="object"&&v!=null||P=="function"}function h(v,P,F){return v.call.apply(v.bind,arguments)}function m(v,P,F){if(!v)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,W),v.apply(P,ae)}}return function(){return v.apply(P,arguments)}}function p(v,P,F){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function x(v,P){var F=Array.prototype.slice.call(arguments,1);return function(){var W=F.slice();return W.push.apply(W,arguments),v.apply(this,W)}}function _(v,P){function F(){}F.prototype=P.prototype,v.aa=P.prototype,v.prototype=new F,v.prototype.constructor=v,v.Qb=function(W,ae,he){for(var ke=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)ke[Jt-2]=arguments[Jt];return P.prototype[ae].apply(W,ke)}}function b(v){const P=v.length;if(0<P){const F=Array(P);for(let W=0;W<P;W++)F[W]=v[W];return F}return[]}function y(v,P){for(let F=1;F<arguments.length;F++){const W=arguments[F];if(u(W)){const ae=v.length||0,he=W.length||0;v.length=ae+he;for(let ke=0;ke<he;ke++)v[ae+ke]=W[ke]}else v.push(W)}}class N{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function S(v){return/^[\s\xa0]*$/.test(v)}function T(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function E(v){return E[" "](v),v}E[" "]=function(){};var C=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(v,P,F){for(const W in v)P.call(F,v[W],W,v)}function k(v,P){for(const F in v)P.call(void 0,v[F],F,v)}function R(v){const P={};for(const F in v)P[F]=v[F];return P}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(v,P){let F,W;for(let ae=1;ae<arguments.length;ae++){W=arguments[ae];for(F in W)v[F]=W[F];for(let he=0;he<M.length;he++)F=M[he],Object.prototype.hasOwnProperty.call(W,F)&&(v[F]=W[F])}}function $(v){var P=1;v=v.split(":");const F=[];for(;0<P&&v.length;)F.push(v.shift()),P--;return v.length&&F.push(v.join(":")),F}function D(v){l.setTimeout(()=>{throw v},0)}function L(){var v=J;let P=null;return v.g&&(P=v.g,v.g=v.g.next,v.g||(v.h=null),P.next=null),P}class B{constructor(){this.h=this.g=null}add(P,F){const W=G.get();W.set(P,F),this.h?this.h.next=W:this.g=W,this.h=W}}var G=new N(()=>new q,v=>v.reset());class q{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,J=new B,ne=()=>{const v=l.Promise.resolve(void 0);Y=()=>{v.then(H)}};var H=()=>{for(var v;v=L();){try{v.h.call(v.g)}catch(F){D(F)}var P=G;P.j(v),100>P.h&&(P.h++,v.next=P.g,P.g=v)}z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(v,P){this.type=v,this.g=this.target=P,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,P=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};l.addEventListener("test",F,P),l.removeEventListener("test",F,P)}catch{}return v}();function me(v,P){if(re.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var F=this.type=v.type,W=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=P,P=v.relatedTarget){if(C){e:{try{E(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else F=="mouseover"?P=v.fromElement:F=="mouseout"&&(P=v.toElement);this.relatedTarget=P,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:pe[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&me.aa.h.call(this)}}_(me,re);var pe={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),we=0;function ce(v,P,F,W,ae){this.listener=v,this.proxy=null,this.src=P,this.type=F,this.capture=!!W,this.ha=ae,this.key=++we,this.da=this.fa=!1}function be(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ee(v){this.src=v,this.g={},this.h=0}Ee.prototype.add=function(v,P,F,W,ae){var he=v.toString();v=this.g[he],v||(v=this.g[he]=[],this.h++);var ke=Ke(v,P,W,ae);return-1<ke?(P=v[ke],F||(P.fa=!1)):(P=new ce(P,this.src,he,!!W,ae),P.fa=F,v.push(P)),P};function ue(v,P){var F=P.type;if(F in v.g){var W=v.g[F],ae=Array.prototype.indexOf.call(W,P,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(W,ae,1),he&&(be(P),v.g[F].length==0&&(delete v.g[F],v.h--))}}function Ke(v,P,F,W){for(var ae=0;ae<v.length;++ae){var he=v[ae];if(!he.da&&he.listener==P&&he.capture==!!F&&he.ha==W)return ae}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Ge={};function ut(v,P,F,W,ae){if(Array.isArray(P)){for(var he=0;he<P.length;he++)ut(v,P[he],F,W,ae);return null}return F=Et(F),v&&v[fe]?v.K(P,F,d(W)?!!W.capture:!1,ae):Gt(v,P,F,!1,W,ae)}function Gt(v,P,F,W,ae,he){if(!P)throw Error("Invalid event type");var ke=d(ae)?!!ae.capture:!!ae,Jt=et(v);if(Jt||(v[Ve]=Jt=new Ee(v)),F=Jt.add(P,F,W,ke,he),F.proxy)return F;if(W=kr(),F.proxy=W,W.src=v,W.listener=F,v.addEventListener)Z||(ae=ke),ae===void 0&&(ae=!1),v.addEventListener(P.toString(),W,ae);else if(v.attachEvent)v.attachEvent(Ie(P.toString()),W);else if(v.addListener&&v.removeListener)v.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return F}function kr(){function v(F){return P.call(v.src,v.listener,F)}const P=tt;return v}function kt(v,P,F,W,ae){if(Array.isArray(P))for(var he=0;he<P.length;he++)kt(v,P[he],F,W,ae);else W=d(W)?!!W.capture:!!W,F=Et(F),v&&v[fe]?(v=v.i,P=String(P).toString(),P in v.g&&(he=v.g[P],F=Ke(he,F,W,ae),-1<F&&(be(he[F]),Array.prototype.splice.call(he,F,1),he.length==0&&(delete v.g[P],v.h--)))):v&&(v=et(v))&&(P=v.g[P.toString()],v=-1,P&&(v=Ke(P,F,W,ae)),(F=-1<v?P[v]:null)&&Zt(F))}function Zt(v){if(typeof v!="number"&&v&&!v.da){var P=v.src;if(P&&P[fe])ue(P.i,v);else{var F=v.type,W=v.proxy;P.removeEventListener?P.removeEventListener(F,W,v.capture):P.detachEvent?P.detachEvent(Ie(F),W):P.addListener&&P.removeListener&&P.removeListener(W),(F=et(P))?(ue(F,v),F.h==0&&(F.src=null,P[Ve]=null)):be(v)}}}function Ie(v){return v in Ge?Ge[v]:Ge[v]="on"+v}function tt(v,P){if(v.da)v=!0;else{P=new me(P,this);var F=v.listener,W=v.ha||v.src;v.fa&&Zt(v),v=F.call(W,P)}return v}function et(v){return v=v[Ve],v instanceof Ee?v:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(v){return typeof v=="function"?v:(v[Kt]||(v[Kt]=function(P){return v.handleEvent(P)}),v[Kt])}function Rt(){Q.call(this),this.i=new Ee(this),this.M=this,this.F=null}_(Rt,Q),Rt.prototype[fe]=!0,Rt.prototype.removeEventListener=function(v,P,F,W){kt(this,v,P,F,W)};function rt(v,P){var F,W=v.F;if(W)for(F=[];W;W=W.F)F.push(W);if(v=v.M,W=P.type||P,typeof P=="string")P=new re(P,v);else if(P instanceof re)P.target=P.target||v;else{var ae=P;P=new re(W,v),V(P,ae)}if(ae=!0,F)for(var he=F.length-1;0<=he;he--){var ke=P.g=F[he];ae=bt(ke,W,!0,P)&&ae}if(ke=P.g=v,ae=bt(ke,W,!0,P)&&ae,ae=bt(ke,W,!1,P)&&ae,F)for(he=0;he<F.length;he++)ke=P.g=F[he],ae=bt(ke,W,!1,P)&&ae}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var v=this.i,P;for(P in v.g){for(var F=v.g[P],W=0;W<F.length;W++)be(F[W]);delete v.g[P],v.h--}}this.F=null},Rt.prototype.K=function(v,P,F,W){return this.i.add(String(v),P,!1,F,W)},Rt.prototype.L=function(v,P,F,W){return this.i.add(String(v),P,!0,F,W)};function bt(v,P,F,W){if(P=v.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,he=0;he<P.length;++he){var ke=P[he];if(ke&&!ke.da&&ke.capture==F){var Jt=ke.listener,Gr=ke.ha||ke.src;ke.fa&&ue(v.i,ke),ae=Jt.call(Gr,W)!==!1&&ae}}return ae&&!W.defaultPrevented}function ur(v,P,F){if(typeof v=="function")F&&(v=p(v,F));else if(v&&typeof v.handleEvent=="function")v=p(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:l.setTimeout(v,P||0)}function Yn(v){v.g=ur(()=>{v.g=null,v.i&&(v.i=!1,Yn(v))},v.l);const P=v.h;v.h=null,v.m.apply(null,P)}class ui extends Q{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Yn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(v){Q.call(this),this.h=v,this.g={}}_(ps,Q);var Vs=[];function Ia(v){O(v.g,function(P,F){this.g.hasOwnProperty(F)&&Zt(P)},v),v.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Ia(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=l.JSON.stringify,cn=l.JSON.parse,Ji=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Ze(){}Ze.prototype.h=null;function mt(v){return v.h||(v.h=v.i())}function Ot(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){re.call(this,"d")}_(jr,re);function gs(){re.call(this,"c")}_(gs,re);var Dn={},Do=null;function Ra(){return Do=Do||new Rt}Dn.La="serverreachability";function mc(v){re.call(this,Dn.La,v)}_(mc,re);function di(v){const P=Ra();rt(P,new mc(P))}Dn.STAT_EVENT="statevent";function pc(v,P){re.call(this,Dn.STAT_EVENT,v),this.stat=P}_(pc,re);function Sr(v){const P=Ra();rt(P,new pc(P,v))}Dn.Ma="timingevent";function Lo(v,P){re.call(this,Dn.Ma,v),this.size=P}_(Lo,re);function ie(v,P){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},P)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function Pe(v,P,F,W,ae,he){v.info(function(){if(v.g)if(he)for(var ke="",Jt=he.split("&"),Gr=0;Gr<Jt.length;Gr++){var Lt=Jt[Gr].split("=");if(1<Lt.length){var tn=Lt[0];Lt=Lt[1];var Fr=tn.split("_");ke=2<=Fr.length&&Fr[1]=="type"?ke+(tn+"="+Lt+"&"):ke+(tn+"=redacted&")}}else ke=null;else ke=he;return"XMLHTTP REQ ("+W+") [attempt "+ae+"]: "+P+`
`+F+`
`+ke})}function pt(v,P,F,W,ae,he,ke){v.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ae+"]: "+P+`
`+F+`
`+he+" "+ke})}function ot(v,P,F,W){v.info(function(){return"XMLHTTP TEXT ("+P+"): "+Fo(v,F)+(W?" "+W:"")})}function Qn(v,P){v.info(function(){return"TIMEOUT: "+P})}Ce.prototype.info=function(){};function Fo(v,P){if(!v.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(v=0;v<F.length;v++)if(Array.isArray(F[v])){var W=F[v];if(!(2>W.length)){var ae=W[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var ke=1;ke<ae.length;ke++)ae[ke]=""}}}}return Wr(F)}catch{return P}}var fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vs;function gc(){}_(gc,Ze),gc.prototype.g=function(){return new XMLHttpRequest},gc.prototype.i=function(){return{}},vs=new gc;function hi(v,P,F,W){this.j=v,this.i=P,this.l=F,this.R=W||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var lh={},ku={};function Pu(v,P,F){v.L=1,v.v=zo(xs(P)),v.m=F,v.P=!0,ch(v,null)}function ch(v,P){v.F=Date.now(),ar(v),v.A=xs(v.v);var F=v.A,W=v.R;Array.isArray(W)||(W=[String(W)]),Ho(F.i,"t",W),v.C=0,F=v.j.J,v.h=new lg,v.g=Eg(v.j,F?P:null,!v.m),0<v.O&&(v.M=new ui(p(v.Y,v,v.g),v.O)),P=v.U,F=v.g,W=v.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Vs[0]=ae.toString()),ae=Vs);for(var he=0;he<ae.length;he++){var ke=ut(F,ae[he],W||P.handleEvent,!1,P.h||P);if(!ke)break;P.g[ke.key]=ke}P=v.H?R(v.H):{},v.m?(v.u||(v.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,P)):(v.u="GET",v.g.ea(v.A,v.u,null,P)),di(),Pe(v.i,v.u,v.A,v.l,v.R,v.m)}hi.prototype.ca=function(v){v=v.target;const P=this.M;P&&Zn(v)==3?P.j():this.Y(v)},hi.prototype.Y=function(v){try{if(v==this.g)e:{const Fr=Zn(this.g);var P=this.g.Ba();const zs=this.g.Z();if(!(3>Fr)&&(Fr!=3||this.g&&(this.h.h||this.g.oa()||ph(this.g)))){this.J||Fr!=4||P==7||(P==8||0>=zs?di(3):di(2)),vc(this);var F=this.g.Z();this.X=F;t:if(cg(this)){var W=ph(this.g);v="";var ae=W.length,he=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),$o(this);var ke="";break t}this.h.i=new l.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,v+=this.h.i.decode(W[P],{stream:!(he&&P==ae-1)});W.length=0,this.h.g+=v,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=F==200,pt(this.i,this.u,this.A,this.l,this.R,Fr,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Jt,Gr=this.g;if((Jt=Gr.g?Gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Jt)){var Lt=Jt;break t}}Lt=null}if(F=Lt)ot(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uh(this,F);else{this.o=!1,this.s=3,Sr(12),Bs(this),$o(this);break e}}if(this.P){F=!0;let ws;for(;!this.J&&this.C<ke.length;)if(ws=V0(this,ke),ws==ku){Fr==4&&(this.s=4,Sr(14),F=!1),ot(this.i,this.l,null,"[Incomplete Response]");break}else if(ws==lh){this.s=4,Sr(15),ot(this.i,this.l,ke,"[Invalid Chunk]"),F=!1;break}else ot(this.i,this.l,ws,null),uh(this,ws);if(cg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fr!=4||ke.length!=0||this.h.h||(this.s=1,Sr(16),F=!1),this.o=this.o&&F,!F)ot(this.i,this.l,ke,"[Invalid Chunked Response]"),Bs(this),$o(this);else if(0<ke.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),vh(tn),tn.M=!0,Sr(11))}}else ot(this.i,this.l,ke,null),uh(this,ke);Fr==4&&Bs(this),this.o&&!this.J&&(Fr==4?Uu(this.j,this):(this.o=!1,ar(this)))}else Lu(this.g),F==400&&0<ke.indexOf("Unknown SID")?(this.s=3,Sr(12)):(this.s=0,Sr(13)),Bs(this),$o(this)}}}catch{}finally{}};function cg(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function V0(v,P){var F=v.C,W=P.indexOf(`
`,F);return W==-1?ku:(F=Number(P.substring(F,W)),isNaN(F)?lh:(W+=1,W+F>P.length?ku:(P=P.slice(W,W+F),v.C=W+F,P)))}hi.prototype.cancel=function(){this.J=!0,Bs(this)};function ar(v){v.S=Date.now()+v.I,ug(v,v.I)}function ug(v,P){if(v.B!=null)throw Error("WatchDog timer not null");v.B=ie(p(v.ba,v),P)}function vc(v){v.B&&(l.clearTimeout(v.B),v.B=null)}hi.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Qn(this.i,this.A),this.L!=2&&(di(),Sr(17)),Bs(this),this.s=2,$o(this)):ug(this,this.S-v)};function $o(v){v.j.G==0||v.J||Uu(v.j,v)}function Bs(v){vc(v);var P=v.M;P&&typeof P.ma=="function"&&P.ma(),v.M=null,Ia(v.U),v.g&&(P=v.g,v.g=null,P.abort(),P.ma())}function uh(v,P){try{var F=v.j;if(F.G!=0&&(F.g==v||Ln(F.h,v))){if(!v.K&&Ln(F.h,v)&&F.G==3){try{var W=F.Da.g.parse(P)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ae=W;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<v.F)Bu(F),yi(F);else break e;Vu(F),Sr(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=ie(p(F.Za,F),6e3));if(1>=fg(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Fa(F,11)}else if((v.K||F.g==v)&&Bu(F),!S(P))for(ae=F.Da.g.parse(P),P=0;P<ae.length;P++){let Lt=ae[P];if(F.T=Lt[0],Lt=Lt[1],F.G==2)if(Lt[0]=="c"){F.K=Lt[1],F.ia=Lt[2];const tn=Lt[3];tn!=null&&(F.la=tn,F.j.info("VER="+F.la));const Fr=Lt[4];Fr!=null&&(F.Aa=Fr,F.j.info("SVER="+F.Aa));const zs=Lt[5];zs!=null&&typeof zs=="number"&&0<zs&&(W=1.5*zs,F.L=W,F.j.info("backChannelRequestTimeoutMs_="+W)),W=F;const ws=v.g;if(ws){const Sc=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var he=W.h;he.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(dh(he,he.h),he.h=null))}if(W.D){const qu=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;qu&&(W.ya=qu,rr(W.I,W.D,qu))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-v.F,F.j.info("Handshake RTT: "+F.R+"ms")),W=F;var ke=v;if(W.qa=Ng(W,W.J?W.ia:null,W.W),ke.K){hg(W.h,ke);var Jt=ke,Gr=W.L;Gr&&(Jt.I=Gr),Jt.B&&(vc(Jt),ar(Jt)),W.g=ke}else jc(W);0<F.i.length&&ra(F)}else Lt[0]!="stop"&&Lt[0]!="close"||Fa(F,7);else F.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Fa(F,7):dn(F):Lt[0]!="noop"&&F.l&&F.l.ta(Lt),F.v=0)}}di(4)}catch{}}var dg=class{constructor(v,P){this.g=v,this.map=P}};function yc(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function fg(v){return v.h?1:v.g?v.g.size:0}function Ln(v,P){return v.h?v.h==P:v.g?v.g.has(P):!1}function dh(v,P){v.g?v.g.add(P):v.h=P}function hg(v,P){v.h&&v.h==P?v.h=null:v.g&&v.g.has(P)&&v.g.delete(P)}yc.prototype.cancel=function(){if(this.i=mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function mg(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let P=v.i;for(const F of v.g.values())P=P.concat(F.D);return P}return b(v.i)}function Iu(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var P=[],F=v.length,W=0;W<F;W++)P.push(v[W]);return P}P=[],F=0;for(W in v)P[F++]=v[W];return P}function Ru(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var P=[];v=v.length;for(var F=0;F<v;F++)P.push(F);return P}P=[],F=0;for(const W in v)P[F++]=W;return P}}}function Vo(v,P){if(v.forEach&&typeof v.forEach=="function")v.forEach(P,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,P,void 0);else for(var F=Ru(v),W=Iu(v),ae=W.length,he=0;he<ae;he++)P.call(void 0,W[he],F&&F[he],v)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B0(v,P){if(v){v=v.split("&");for(var F=0;F<v.length;F++){var W=v[F].indexOf("="),ae=null;if(0<=W){var he=v[F].substring(0,W);ae=v[F].substring(W+1)}else he=v[F];P(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Oa(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Oa){this.h=v.h,bc(this,v.j),this.o=v.o,this.g=v.g,Bo(this,v.s),this.l=v.l;var P=v.i,F=new Zi;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),Uo(this,F),this.m=v.m}else v&&(P=String(v).match(xc))?(this.h=!1,bc(this,P[1]||"",!0),this.o=Mt(P[2]||""),this.g=Mt(P[3]||"",!0),Bo(this,P[4]),this.l=Mt(P[5]||"",!0),Uo(this,P[6]||"",!0),this.m=Mt(P[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Oa.prototype.toString=function(){var v=[],P=this.j;P&&v.push(qo(P,Ou,!0),":");var F=this.g;return(F||P=="file")&&(v.push("//"),(P=this.o)&&v.push(qo(P,Ou,!0),"@"),v.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&v.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(qo(F,F.charAt(0)=="/"?vg:gg,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",qo(F,fh)),v.join("")};function xs(v){return new Oa(v)}function bc(v,P,F){v.j=F?Mt(P,!0):P,v.j&&(v.j=v.j.replace(/:$/,""))}function Bo(v,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);v.s=P}else v.s=null}function Uo(v,P,F){P instanceof Zi?(v.i=P,ea(v.i,v.h)):(F||(P=qo(P,yg)),v.i=new Zi(P,v.h))}function rr(v,P,F){v.i.set(P,F)}function zo(v){return rr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Mt(v,P){return v?P?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function qo(v,P,F){return typeof v=="string"?(v=encodeURI(v).replace(P,pg),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function pg(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ou=/[#\/\?@]/g,gg=/[#\?:]/g,vg=/[#\?]/g,yg=/[#\?@]/g,fh=/#/g;function Zi(v,P){this.h=this.g=null,this.i=v||null,this.j=!!P}function un(v){v.g||(v.g=new Map,v.h=0,v.i&&B0(v.i,function(P,F){v.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}t=Zi.prototype,t.add=function(v,P){un(this),this.i=null,v=Us(this,v);var F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(P),this.h+=1,this};function mi(v,P){un(v),P=Us(v,P),v.g.has(P)&&(v.i=null,v.h-=v.g.get(P).length,v.g.delete(P))}function pi(v,P){return un(v),P=Us(v,P),v.g.has(P)}t.forEach=function(v,P){un(this),this.g.forEach(function(F,W){F.forEach(function(ae){v.call(P,ae,W,this)},this)},this)},t.na=function(){un(this);const v=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let W=0;W<P.length;W++){const ae=v[W];for(let he=0;he<ae.length;he++)F.push(P[W])}return F},t.V=function(v){un(this);let P=[];if(typeof v=="string")pi(this,v)&&(P=P.concat(this.g.get(Us(this,v))));else{v=Array.from(this.g.values());for(let F=0;F<v.length;F++)P=P.concat(v[F])}return P},t.set=function(v,P){return un(this),this.i=null,v=Us(this,v),pi(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[P]),this.h+=1,this},t.get=function(v,P){return v?(v=this.V(v),0<v.length?String(v[0]):P):P};function Ho(v,P,F){mi(v,P),0<F.length&&(v.i=null,v.g.set(Us(v,P),b(F)),v.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var W=P[F];const he=encodeURIComponent(String(W)),ke=this.V(W);for(W=0;W<ke.length;W++){var ae=he;ke[W]!==""&&(ae+="="+encodeURIComponent(String(ke[W]))),v.push(ae)}}return this.i=v.join("&")};function Us(v,P){return P=String(P),v.j&&(P=P.toLowerCase()),P}function ea(v,P){P&&!v.j&&(un(v),v.i=null,v.g.forEach(function(F,W){var ae=W.toLowerCase();W!=ae&&(mi(this,W),Ho(this,ae,F))},v)),v.j=P}function U0(v,P){const F=new Ce;if(l.Image){const W=new Image;W.onload=x(Jn,F,"TestLoadImage: loaded",!0,P,W),W.onerror=x(Jn,F,"TestLoadImage: error",!1,P,W),W.onabort=x(Jn,F,"TestLoadImage: abort",!1,P,W),W.ontimeout=x(Jn,F,"TestLoadImage: timeout",!1,P,W),l.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=v}else P(!1)}function xg(v,P){const F=new Ce,W=new AbortController,ae=setTimeout(()=>{W.abort(),Jn(F,"TestPingServer: timeout",!1,P)},1e4);fetch(v,{signal:W.signal}).then(he=>{clearTimeout(ae),he.ok?Jn(F,"TestPingServer: ok",!0,P):Jn(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),Jn(F,"TestPingServer: error",!1,P)})}function Jn(v,P,F,W,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),W(F)}catch{}}function z0(){this.g=new Ji}function bg(v,P,F){const W=F||"";try{Vo(v,function(ae,he){let ke=ae;d(ae)&&(ke=Wr(ae)),P.push(W+he+"="+encodeURIComponent(ke))})}catch(ae){throw P.push(W+"type="+encodeURIComponent("_badmap")),ae}}function Ma(v){this.l=v.Ub||null,this.j=v.eb||!1}_(Ma,Ze),Ma.prototype.g=function(){return new wc(this.l,this.j)},Ma.prototype.i=function(v){return function(){return v}}({});function wc(v,P){Rt.call(this),this.D=v,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(wc,Rt),t=wc.prototype,t.open=function(v,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=P,this.readyState=1,vi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(P.body=v),(this.D||l).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wg(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function wg(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var P=v.value?v.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!v.done}))&&(this.response=this.responseText+=P)}v.done?gi(this):vi(this),this.readyState==3&&wg(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,gi(this))},t.Qa=function(v){this.g&&(this.response=v,gi(this))},t.ga=function(){this.g&&gi(this)};function gi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,vi(v)}t.setRequestHeader=function(v,P){this.u.append(v,P)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=P.next();return v.join(`\r
`)};function vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Da(v){let P="";return O(v,function(F,W){P+=W,P+=":",P+=F,P+=`\r
`}),P}function Wo(v,P,F){e:{for(W in F){var W=!1;break e}W=!0}W||(F=Da(F),typeof v=="string"?F!=null&&encodeURIComponent(String(F)):rr(v,P,F))}function vr(v){Rt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(vr,Rt);var q0=/^https?$/i,hh=["POST","PUT"];t=vr.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,P,F,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);P=P?P.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vs.g(),this.v=this.o?mt(this.o):mt(vs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(P,String(v),!0),this.B=!1}catch(he){_c(this,he);return}if(v=F||"",F=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ae in W)F.set(ae,W[ae]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const he of W.keys())F.set(he,W.get(he));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(F.keys()).find(he=>he.toLowerCase()=="content-type"),ae=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(hh,P,void 0))||W||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,ke]of F)this.g.setRequestHeader(he,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Du(this),this.u=!0,this.g.send(v),this.u=!1}catch(he){_c(this,he)}};function _c(v,P){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=P,v.m=5,Mu(v),bs(v)}function Mu(v){v.A||(v.A=!0,rt(v,"complete"),rt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,rt(this,"complete"),rt(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),vr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mh(this):this.bb())},t.bb=function(){mh(this)};function mh(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Zn(v)!=4||v.Z()!=2)){if(v.u&&Zn(v)==4)ur(v.Ea,0,v);else if(rt(v,"readystatechange"),Zn(v)==4){v.h=!1;try{const ke=v.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var W;if(W=ke===0){var ae=String(v.D).match(xc)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),W=!q0.test(ae?ae.toLowerCase():"")}F=W}if(F)rt(v,"complete"),rt(v,"success");else{v.m=6;try{var he=2<Zn(v)?v.g.statusText:""}catch{he=""}v.l=he+" ["+v.Z()+"]",Mu(v)}}finally{bs(v)}}}}function bs(v,P){if(v.g){Du(v);const F=v.g,W=v.v[0]?()=>{}:null;v.g=null,v.v=null,P||rt(v,"ready");try{F.onreadystatechange=W}catch{}}}function Du(v){v.I&&(l.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function Zn(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var P=this.g.responseText;return v&&P.indexOf(v)==0&&(P=P.substring(v.length)),cn(P)}};function ph(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Lu(v){const P={};v=(v.g&&2<=Zn(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<v.length;W++){if(S(v[W]))continue;var F=$(v[W]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const he=P[ae]||[];P[ae]=he,he.push(F)}k(P,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(v,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||P}function gh(v){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,v),this.cb=ta("retryDelaySeedMs",1e4,v),this.Wa=ta("forwardChannelMaxRetries",2,v),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new yc(v&&v.concurrentRequestLimit),this.Da=new z0,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gh.prototype,t.la=8,t.G=1,t.connect=function(v,P,F,W){Sr(0),this.W=v,this.H=P||{},F&&W!==void 0&&(this.H.OSID=F,this.H.OAID=W),this.F=this.X,this.I=Ng(this,null,this.W),ra(this)};function dn(v){if(Fu(v),v.G==3){var P=v.U++,F=xs(v.I);if(rr(F,"SID",v.K),rr(F,"RID",P),rr(F,"TYPE","terminate"),La(v,F),P=new hi(v,v.j,P),P.L=2,P.v=zo(xs(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=P.v,F=!0),F||(P.g=Eg(P.j,null),P.g.ea(P.v)),P.F=Date.now(),ar(P)}Sg(v)}function yi(v){v.g&&(vh(v),v.g.cancel(),v.g=null)}function Fu(v){yi(v),v.u&&(l.clearTimeout(v.u),v.u=null),Bu(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function ra(v){if(!ys(v.h)&&!v.s){v.s=!0;var P=v.Ga;Y||ne(),z||(Y(),z=!0),J.add(P,v),v.B=0}}function H0(v,P){return fg(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=P.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=ie(p(v.Ga,v,P),jg(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ae=new hi(this,this.j,v);let he=this.o;if(this.S&&(he?(he=R(he),V(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var W=this.i[F];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(P+=W,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=Go(this,ae,P),F=xs(this.I),rr(F,"RID",v),rr(F,"CVER",22),this.D&&rr(F,"X-HTTP-Session-Id",this.D),La(this,F),he&&(this.O?P="headers="+encodeURIComponent(String(Da(he)))+"&"+P:this.m&&Wo(F,this.m,he)),dh(this.h,ae),this.Ua&&rr(F,"TYPE","init"),this.P?(rr(F,"$req",P),rr(F,"SID","null"),ae.T=!0,Pu(ae,F,null)):Pu(ae,F,P),this.G=2}}else this.G==3&&(v?$u(this,v):this.i.length==0||ys(this.h)||$u(this))};function $u(v,P){var F;P?F=P.l:F=v.U++;const W=xs(v.I);rr(W,"SID",v.K),rr(W,"RID",F),rr(W,"AID",v.T),La(v,W),v.m&&v.o&&Wo(W,v.m,v.o),F=new hi(v,v.j,F,v.B+1),v.m===null&&(F.H=v.o),P&&(v.i=P.D.concat(v.i)),P=Go(v,F,1e3),F.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),dh(v.h,F),Pu(F,W,P)}function La(v,P){v.H&&O(v.H,function(F,W){rr(P,W,F)}),v.l&&Vo({},function(F,W){rr(P,W,F)})}function Go(v,P,F){F=Math.min(v.i.length,F);var W=v.l?p(v.l.Na,v.l,v):null;e:{var ae=v.i;let he=-1;for(;;){const ke=["count="+F];he==-1?0<F?(he=ae[0].g,ke.push("ofs="+he)):he=0:ke.push("ofs="+he);let Jt=!0;for(let Gr=0;Gr<F;Gr++){let Lt=ae[Gr].g;const tn=ae[Gr].map;if(Lt-=he,0>Lt)he=Math.max(0,ae[Gr].g-100),Jt=!1;else try{bg(tn,ke,"req"+Lt+"_")}catch{W&&W(tn)}}if(Jt){W=ke.join("&");break e}}}return v=v.i.splice(0,F),P.D=v,W}function jc(v){if(!v.g&&!v.u){v.Y=1;var P=v.Fa;Y||ne(),z||(Y(),z=!0),J.add(P,v),v.v=0}}function Vu(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=ie(p(v.Fa,v),jg(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,_g(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=ie(p(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sr(10),yi(this),_g(this))};function vh(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function _g(v){v.g=new hi(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var P=xs(v.qa);rr(P,"RID","rpc"),rr(P,"SID",v.K),rr(P,"AID",v.T),rr(P,"CI",v.F?"0":"1"),!v.F&&v.ja&&rr(P,"TO",v.ja),rr(P,"TYPE","xmlhttp"),La(v,P),v.m&&v.o&&Wo(P,v.m,v.o),v.L&&(v.g.I=v.L);var F=v.g;v=v.ia,F.L=1,F.v=zo(xs(P)),F.m=null,F.P=!0,ch(F,v)}t.Za=function(){this.C!=null&&(this.C=null,yi(this),Vu(this),Sr(19))};function Bu(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Uu(v,P){var F=null;if(v.g==P){Bu(v),vh(v),v.g=null;var W=2}else if(Ln(v.h,P))F=P.D,hg(v.h,P),W=1;else return;if(v.G!=0){if(P.o)if(W==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var ae=v.B;W=Ra(),rt(W,new Lo(W,F)),ra(v)}else jc(v);else if(ae=P.s,ae==3||ae==0&&0<P.X||!(W==1&&H0(v,P)||W==2&&Vu(v)))switch(F&&0<F.length&&(P=v.h,P.i=P.i.concat(F)),ae){case 1:Fa(v,5);break;case 4:Fa(v,10);break;case 3:Fa(v,6);break;default:Fa(v,2)}}}function jg(v,P){let F=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(F*=2),F*P}function Fa(v,P){if(v.j.info("Error code "+P),P==2){var F=p(v.fb,v),W=v.Xa;const ae=!W;W=new Oa(W||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bc(W,"https"),zo(W),ae?U0(W.toString(),F):xg(W.toString(),F)}else Sr(2);v.G=0,v.l&&v.l.sa(P),Sg(v),Fu(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Sr(2)):(this.j.info("Failed to ping google.com"),Sr(1))};function Sg(v){if(v.G=0,v.ka=[],v.l){const P=mg(v.h);(P.length!=0||v.i.length!=0)&&(y(v.ka,P),y(v.ka,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.ra()}}function Ng(v,P,F){var W=F instanceof Oa?xs(F):new Oa(F);if(W.g!="")P&&(W.g=P+"."+W.g),Bo(W,W.s);else{var ae=l.location;W=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Oa(null);W&&bc(he,W),P&&(he.g=P),ae&&Bo(he,ae),F&&(he.l=F),W=he}return F=v.D,P=v.ya,F&&P&&rr(W,F,P),rr(W,"VER",v.la),La(v,W),W}function Eg(v,P,F){if(P&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=v.Ca&&!v.pa?new vr(new Ma({eb:F})):new vr(v.pa),P.Ha(v.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}t=yh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zu(){}zu.prototype.g=function(v,P){return new Fn(v,P)};function Fn(v,P){Rt.call(this),this.g=new gh(P),this.l=v,this.h=P&&P.messageUrlParams||null,v=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(v?v["X-WebChannel-Content-Type"]=P.messageContentType:v={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(v?v["X-WebChannel-Client-Profile"]=P.va:v={"X-WebChannel-Client-Profile":P.va}),this.g.S=v,(v=P&&P.Sb)&&!S(v)&&(this.g.m=v),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!S(P)&&(this.g.D=P,v=this.h,v!==null&&P in v&&(v=this.h,P in v&&delete v[P])),this.j=new na(this)}_(Fn,Rt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){dn(this.g)},Fn.prototype.o=function(v){var P=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.u&&(F={},F.__data__=Wr(v),v=F);P.i.push(new dg(P.Ya++,v)),P.G==3&&ra(P)},Fn.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Fn.aa.N.call(this)};function Ag(v){jr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var P=v.__sm__;if(P){e:{for(const F in P){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,P=P!==null&&v in P?P[v]:void 0),this.data=P}else this.data=v}_(Ag,jr);function Tg(){gs.call(this),this.status=1}_(Tg,gs);function na(v){this.g=v}_(na,yh),na.prototype.ua=function(){rt(this.g,"a")},na.prototype.ta=function(v){rt(this.g,new Ag(v))},na.prototype.sa=function(v){rt(this.g,new Tg)},na.prototype.ra=function(){rt(this.g,"b")},zu.prototype.createWebChannel=zu.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,UU=function(){return new zu},BU=function(){return Ra()},VU=Dn,PE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,cy=fi,Xn.COMPLETE="complete",$U=Xn,Ot.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,im=Ot,vr.prototype.listenOnce=vr.prototype.L,vr.prototype.getLastError=vr.prototype.Ka,vr.prototype.getLastErrorCode=vr.prototype.Ba,vr.prototype.getStatus=vr.prototype.Z,vr.prototype.getResponseJson=vr.prototype.Oa,vr.prototype.getResponseText=vr.prototype.oa,vr.prototype.send=vr.prototype.ea,vr.prototype.setWithCredentials=vr.prototype.Ha,FU=vr}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});const OO="@firebase/firestore",MO="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new _b("@firebase/firestore");function yd(){return pu.logLevel}function Me(t,...e){if(pu.logLevel<=Pt.DEBUG){const r=e.map(bC);pu.debug(`Firestore (${zf}): ${t}`,...r)}}function bo(t,...e){if(pu.logLevel<=Pt.ERROR){const r=e.map(bC);pu.error(`Firestore (${zf}): ${t}`,...r)}}function sf(t,...e){if(pu.logLevel<=Pt.WARN){const r=e.map(bC);pu.warn(`Firestore (${zf}): ${t}`,...r)}}function bC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t="Unexpected state"){const e=`FIRESTORE (${zf}) INTERNAL ASSERTION FAILED: `+t;throw bo(e),new Error(e)}function Xt(t,e){t||at()}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Ki{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Cn.UNAUTHENTICATED))}shutdown(){}}class Zae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class eoe{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Xt(this.o===void 0);let n=this.i;const s=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let i=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new lo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new lo)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xt(typeof n.accessToken=="string"),new zU(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string"),new Cn(e)}}class toe{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class roe{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new toe(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class noe{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ks(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Xt(this.o===void 0);const n=i=>{i.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new DO(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Xt(typeof r.token=="string"),this.R=r.token,new DO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=soe(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%62))}return n}}function St(t,e){return t<e?-1:t>e?1:0}function IE(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return St(n,s);{const i=qU(),o=ioe(i.encode(LO(t,r)),i.encode(LO(e,r)));return o!==0?o:St(n,s)}}r+=n>65535?2:1}return St(t.length,e.length)}function LO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ioe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return St(t[r],e[r]);return St(t.length,e.length)}function af(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=-62135596800,$O=1e6;class cr{static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*$O);return new cr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new De(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new De(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<FO)throw new De(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$O}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-FO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static fromTimestamp(e){return new dt(e)}static min(){return new dt(new cr(0,0))}static max(){return new dt(new cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__name__";class ca{constructor(e,r,n){r===void 0?r=0:r>e.length&&at(),n===void 0?n=e.length-r:n>e.length-r&&at(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ca.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ca?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=ca.compareSegments(e.get(s),r.get(s));if(i!==0)return i}return St(e.length,r.length)}static compareSegments(e,r){const n=ca.isNumericId(e),s=ca.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?ca.extractNumericId(e).compare(ca.extractNumericId(r)):IE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dl.fromString(e.substring(4,e.length-2))}}class gr extends ca{construct(e,r,n){return new gr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new De(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new gr(r)}static emptyPath(){return new gr([])}}const aoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ca{construct(e,r,n){return new vn(e,r,n)}static isValidIdentifier(e){return aoe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VO}static keyField(){return new vn([VO])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new De(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new De(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new De(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(n+=l,s++):(i(),s++)}if(i(),o)throw new De(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(r)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(gr.fromString(e))}static fromName(e){return new Ye(gr.fromString(e).popFirst(5))}static empty(){return new Ye(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return gr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new gr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-1;function ooe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=dt.fromTimestamp(n===1e9?new cr(r+1,0):new cr(r,n));return new Gl(s,Ye.empty(),e)}function loe(t){return new Gl(t.readTime,t.key,zm)}class Gl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Gl(dt.min(),Ye.empty(),zm)}static max(){return new Gl(dt.max(),Ye.empty(),zm)}}function coe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ye.comparator(t.documentKey,e.documentKey),r!==0?r:St(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class doe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==uoe)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ye((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.reject(r)}static resolve(e){return new ye((r,n)=>{r(e)})}static reject(e){return new ye((r,n)=>{n(e)})}static waitFor(e){return new ye((r,n)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&r()},u=>n(u))}),o=!0,i===s&&r()})}static or(e){let r=ye.resolve(!1);for(const n of e)r=r.next(s=>s?ye.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new ye((n,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;r(e[d]).next(h=>{o[d]=h,++l,l===i&&n(o)},h=>s(h))}})}static doWhile(e,r){return new ye((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function foe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ib.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=-1;function Rb(t){return t==null}function $y(t){return t===0&&1/t==-1/0}function hoe(t){return typeof t=="number"&&Number.isInteger(t)&&!$y(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="";function moe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=BO(e)),e=poe(t.get(r),e);return BO(e)}function poe(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const i=t.charAt(s);switch(i){case"\0":r+="";break;case WU:r+="";break;default:r+=i}}return r}function BO(t){return t+WU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function sc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function GU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r){this.comparator=e,this.root=r||gn.EMPTY}insert(e,r){return new Cr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dv(this.root,e,this.comparator,!0)}}class Dv{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??gn.RED,this.left=s??gn.EMPTY,this.right=i??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new gn(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return gn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(e,r,n,s,i){return this}insert(e,r,n){return new gn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new zO(this.data.getIterator())}getIteratorFrom(e){return new zO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jr(this.comparator);return r.data=e,r}}class zO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Is([])}unionWith(e){let r=new Jr(vn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Is(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KU("Invalid base64 string: "+i):i}}(e);return new bn(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const goe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kl(t){if(Xt(!!t),typeof t=="string"){let e=0;const r=goe.exec(t);if(Xt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mr(t.seconds),nanos:Mr(t.nanos)}}function Mr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yl(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="server_timestamp",QU="__type__",XU="__previous_value__",JU="__local_write_time__";function _C(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QU])===null||r===void 0?void 0:r.stringValue)===YU}function Ob(t){const e=t.mapValue.fields[XU];return _C(e)?Ob(e):e}function qm(t){const e=Kl(t.mapValue.fields[JU].timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,r,n,s,i,o,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}const Vy="(default)";class Hm{constructor(e,r){this.projectId=e,this.database=r||Vy}static empty(){return new Hm("","")}get isDefaultDatabase(){return this.database===Vy}isEqual(e){return e instanceof Hm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="__type__",yoe="__max__",Lv={mapValue:{}},e8="__vector__",By="value";function Ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_C(t)?4:boe(t)?9007199254740991:xoe(t)?10:11:at()}function Na(t,e){if(t===e)return!0;const r=Ql(t);if(r!==Ql(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qm(t).isEqual(qm(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kl(s.timestampValue),l=Kl(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Yl(s.bytesValue).isEqual(Yl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Mr(s.geoPointValue.latitude)===Mr(i.geoPointValue.latitude)&&Mr(s.geoPointValue.longitude)===Mr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Mr(s.integerValue)===Mr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Mr(s.doubleValue),l=Mr(i.doubleValue);return o===l?$y(o)===$y(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return af(t.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(UO(o)!==UO(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Na(o[u],l[u])))return!1;return!0}(t,e);default:return at()}}function Wm(t,e){return(t.values||[]).find(r=>Na(r,e))!==void 0}function of(t,e){if(t===e)return 0;const r=Ql(t),n=Ql(e);if(r!==n)return St(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return St(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Mr(i.integerValue||i.doubleValue),u=Mr(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return qO(t.timestampValue,e.timestampValue);case 4:return qO(qm(t),qm(e));case 5:return IE(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Yl(i),u=Yl(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=St(l[d],u[d]);if(h!==0)return h}return St(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=St(Mr(i.latitude),Mr(o.latitude));return l!==0?l:St(Mr(i.longitude),Mr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HO(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,d,h;const m=i.fields||{},p=o.fields||{},x=(l=m[By])===null||l===void 0?void 0:l.arrayValue,_=(u=p[By])===null||u===void 0?void 0:u.arrayValue,b=St(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:HO(x,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lv.mapValue&&o===Lv.mapValue)return 0;if(i===Lv.mapValue)return 1;if(o===Lv.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=IE(u[m],h[m]);if(p!==0)return p;const x=of(l[u[m]],d[h[m]]);if(x!==0)return x}return St(u.length,h.length)}(t.mapValue,e.mapValue);default:throw at()}}function qO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return St(t,e);const r=Kl(t),n=Kl(e),s=St(r.seconds,n.seconds);return s!==0?s:St(r.nanos,n.nanos)}function HO(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=of(r[s],n[s]);if(i)return i}return St(r.length,n.length)}function lf(t){return RE(t)}function RE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Kl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Yl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ye.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=RE(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${RE(r.fields[o])}`;return s+"}"}(t.mapValue):at()}function uy(t){switch(Ql(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ob(t);return e?16+uy(e):16;case 5:return 2*t.stringValue.length;case 6:return Yl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,i)=>s+uy(i),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return sc(n.fields,(i,o)=>{s+=i.length+uy(o)}),s}(t.mapValue);default:throw at()}}function WO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function OE(t){return!!t&&"integerValue"in t}function jC(t){return!!t&&"arrayValue"in t}function GO(t){return!!t&&"nullValue"in t}function KO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dy(t){return!!t&&"mapValue"in t}function xoe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZU])===null||r===void 0?void 0:r.stringValue)===e8}function bm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=bm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function boe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yoe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!dy(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bm(r)}setAll(e){let r=vn.emptyPath(),n={},s=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,s),n={},s=[],r=l.popLast()}o?n[l.lastSegment()]=bm(o):s.push(l.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());dy(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];dy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){sc(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new os(bm(this.value))}}function t8(t){const e=[];return sc(t.fields,(r,n)=>{const s=new vn([r]);if(dy(n)){const i=t8(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Is(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,r,n,s,i,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Pn(e,0,dt.min(),dt.min(),dt.min(),os.empty(),0)}static newFoundDocument(e,r,n,s){return new Pn(e,1,r,dt.min(),n,s,0)}static newNoDocument(e,r){return new Pn(e,2,r,dt.min(),dt.min(),os.empty(),0)}static newUnknownDocument(e,r){return new Pn(e,3,r,dt.min(),dt.min(),os.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,r){this.position=e,this.inclusive=r}}function YO(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=Ye.comparator(Ye.fromName(o.referenceValue),r.key):n=of(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function QO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Na(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,r="asc"){this.field=e,this.dir=r}}function woe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{}class Ur extends r8{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new joe(e,r,n):r==="array-contains"?new Eoe(e,n):r==="in"?new Aoe(e,n):r==="not-in"?new Toe(e,n):r==="array-contains-any"?new Coe(e,n):new Ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Soe(e,n):new Noe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(of(r,this.value)):r!==null&&Ql(this.value)===Ql(r)&&this.matchesComparison(of(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends r8{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Gi(e,r)}matches(e){return n8(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function n8(t){return t.op==="and"}function s8(t){return _oe(t)&&n8(t)}function _oe(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function ME(t){if(t instanceof Ur)return t.field.canonicalString()+t.op.toString()+lf(t.value);if(s8(t))return t.filters.map(e=>ME(e)).join(",");{const e=t.filters.map(r=>ME(r)).join(",");return`${t.op}(${e})`}}function i8(t,e){return t instanceof Ur?function(n,s){return s instanceof Ur&&n.op===s.op&&n.field.isEqual(s.field)&&Na(n.value,s.value)}(t,e):t instanceof Gi?function(n,s){return s instanceof Gi&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,l)=>i&&i8(o,s.filters[l]),!0):!1}(t,e):void at()}function a8(t){return t instanceof Ur?function(r){return`${r.field.canonicalString()} ${r.op} ${lf(r.value)}`}(t):t instanceof Gi?function(r){return r.op.toString()+" {"+r.getFilters().map(a8).join(" ,")+"}"}(t):"Filter"}class joe extends Ur{constructor(e,r,n){super(e,r,n),this.key=Ye.fromName(n.referenceValue)}matches(e){const r=Ye.comparator(e.key,this.key);return this.matchesComparison(r)}}class Soe extends Ur{constructor(e,r){super(e,"in",r),this.keys=o8("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Noe extends Ur{constructor(e,r){super(e,"not-in",r),this.keys=o8("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function o8(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ye.fromName(n.referenceValue))}class Eoe extends Ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jC(r)&&Wm(r.arrayValue,this.value)}}class Aoe extends Ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Wm(this.value.arrayValue,r)}}class Toe extends Ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(Wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Wm(this.value.arrayValue,r)}}class Coe extends Ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jC(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Wm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,r=null,n=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.le=null}}function XO(t,e=null,r=[],n=[],s=null,i=null,o=null){return new koe(t,e,r,n,s,i,o)}function SC(t){const e=ft(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ME(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Rb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>lf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>lf(n)).join(",")),e.le=r}return e.le}function NC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!woe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!i8(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QO(t.startAt,e.startAt)&&QO(t.endAt,e.endAt)}function DE(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,r=null,n=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Poe(t,e,r,n,s,i,o,l){return new Wf(t,e,r,n,s,i,o,l)}function Mb(t){return new Wf(t)}function JO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l8(t){return t.collectionGroup!==null}function wm(t){const e=ft(t);if(e.he===null){e.he=[];const r=new Set;for(const i of e.explicitOrderBy)e.he.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Jr(vn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.he.push(new Gm(i,n))}),r.has(vn.keyField().canonicalString())||e.he.push(new Gm(vn.keyField(),n))}return e.he}function xa(t){const e=ft(t);return e.Pe||(e.Pe=Ioe(e,wm(t))),e.Pe}function Ioe(t,e){if(t.limitType==="F")return XO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Gm(s.field,i)});const r=t.endAt?new Uy(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Uy(t.startAt.position,t.startAt.inclusive):null;return XO(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function LE(t,e){const r=t.filters.concat([e]);return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function zy(t,e,r){return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Db(t,e){return NC(xa(t),xa(e))&&t.limitType===e.limitType}function c8(t){return`${SC(xa(t))}|lt:${t.limitType}`}function xd(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>a8(s)).join(", ")}]`),Rb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>lf(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>lf(s)).join(",")),`Target(${n})`}(xa(t))}; limitType=${t.limitType})`}function Lb(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ye.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of wm(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,l,u){const d=YO(o,l,u);return o.inclusive?d<=0:d<0}(n.startAt,wm(n),s)||n.endAt&&!function(o,l,u){const d=YO(o,l,u);return o.inclusive?d>=0:d>0}(n.endAt,wm(n),s))}(t,e)}function Roe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u8(t){return(e,r)=>{let n=!1;for(const s of wm(t)){const i=Ooe(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function Ooe(t,e,r){const n=t.field.isKeyField()?Ye.comparator(e.key,r.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?of(u,d):at()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return GU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=new Cr(Ye.comparator);function wo(){return Moe}const d8=new Cr(Ye.comparator);function am(...t){let e=d8;for(const r of t)e=e.insert(r.key,r);return e}function f8(t){let e=d8;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function qc(){return _m()}function h8(){return _m()}function _m(){return new Nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Doe=new Cr(Ye.comparator),Loe=new Jr(Ye.comparator);function It(...t){let e=Loe;for(const r of t)e=e.add(r);return e}const Foe=new Jr(St);function $oe(){return Foe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$y(e)?"-0":e}}function m8(t){return{integerValue:""+t}}function Voe(t,e){return hoe(e)?m8(e):EC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this._=void 0}}function Boe(t,e,r){return t instanceof Km?function(s,i){const o={fields:{[QU]:{stringValue:YU},[JU]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_C(i)&&(i=Ob(i)),i&&(o.fields[XU]=i),{mapValue:o}}(r,e):t instanceof cf?g8(t,e):t instanceof Ym?v8(t,e):function(s,i){const o=p8(s,i),l=ZO(o)+ZO(s.Ie);return OE(o)&&OE(s.Ie)?m8(l):EC(s.serializer,l)}(t,e)}function Uoe(t,e,r){return t instanceof cf?g8(t,e):t instanceof Ym?v8(t,e):r}function p8(t,e){return t instanceof qy?function(n){return OE(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Km extends Fb{}class cf extends Fb{constructor(e){super(),this.elements=e}}function g8(t,e){const r=y8(e);for(const n of t.elements)r.some(s=>Na(s,n))||r.push(n);return{arrayValue:{values:r}}}class Ym extends Fb{constructor(e){super(),this.elements=e}}function v8(t,e){let r=y8(e);for(const n of t.elements)r=r.filter(s=>!Na(s,n));return{arrayValue:{values:r}}}class qy extends Fb{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function ZO(t){return Mr(t.integerValue||t.doubleValue)}function y8(t){return jC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,r){this.field=e,this.transform=r}}function zoe(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof cf&&s instanceof cf||n instanceof Ym&&s instanceof Ym?af(n.elements,s.elements,Na):n instanceof qy&&s instanceof qy?Na(n.Ie,s.Ie):n instanceof Km&&s instanceof Km}(t.transform,e.transform)}class qoe{constructor(e,r){this.version=e,this.transformResults=r}}class Bi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $b{}function b8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _8(t.key,Bi.none()):new Wp(t.key,t.data,Bi.none());{const r=t.data,n=os.empty();let s=new Jr(vn.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new ic(t.key,n,new Is(s.toArray()),Bi.none())}}function Hoe(t,e,r){t instanceof Wp?function(s,i,o){const l=s.value.clone(),u=tM(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof ic?function(s,i,o){if(!fy(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=tM(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(w8(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function jm(t,e,r,n){return t instanceof Wp?function(i,o,l,u){if(!fy(i.precondition,o))return l;const d=i.value.clone(),h=rM(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof ic?function(i,o,l,u){if(!fy(i.precondition,o))return l;const d=rM(i.fieldTransforms,u,o),h=o.data;return h.setAll(w8(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(i,o,l){return fy(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Woe(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=p8(n.transform,s||null);i!=null&&(r===null&&(r=os.empty()),r.set(n.field,i))}return r||null}function eM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&af(n,s,(i,o)=>zoe(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wp extends $b{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ic extends $b{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function w8(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function tM(t,e,r){const n=new Map;Xt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);n.set(i.field,Uoe(o,l,r[s]))}return n}function rM(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,Boe(i,o,e))}return n}class _8 extends $b{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Goe extends $b{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Hoe(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=jm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=jm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=h8();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=r.has(s.key)?null:l;const u=b8(o,l);u!==null&&n.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(dt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),It())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,(r,n)=>eM(r,n))&&af(this.baseMutations,e.baseMutations,(r,n)=>eM(r,n))}}class AC{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Xt(e.mutations.length===n.length);let s=function(){return Doe}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new AC(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr,Ft;function Xoe(t){switch(t){case ve.OK:return at();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return at()}}function j8(t){if(t===void 0)return bo("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Vr.OK:return ve.OK;case Vr.CANCELLED:return ve.CANCELLED;case Vr.UNKNOWN:return ve.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return ve.INTERNAL;case Vr.UNAVAILABLE:return ve.UNAVAILABLE;case Vr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Vr.NOT_FOUND:return ve.NOT_FOUND;case Vr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Vr.ABORTED:return ve.ABORTED;case Vr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Vr.DATA_LOSS:return ve.DATA_LOSS;default:return at()}}(Ft=Vr||(Vr={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe=new Dl([4294967295,4294967295],0);function nM(t){const e=qU().encode(t),r=new LU;return r.update(e),new Uint8Array(r.digest())}function sM(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Dl([r,n],0),new Dl([s,i],0)]}class TC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new om(`Invalid padding: ${r}`);if(n<0)throw new om(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new om(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new om(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Dl.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Dl.fromNumber(n)));return s.compare(Joe)===1&&(s=new Dl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=nM(e),[n,s]=sM(r);for(let i=0;i<this.hashCount;i++){const o=this.Ae(n,s,i);if(!this.Re(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new TC(i,s,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const r=nM(e),[n,s]=sM(r);for(let i=0;i<this.hashCount;i++){const o=this.Ae(n,s,i);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class om extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Gp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Vb(dt.min(),s,new Cr(St),wo(),It())}}class Gp{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Gp(n,r,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class S8{constructor(e,r){this.targetId=e,this.ge=r}}class N8{constructor(e,r,n=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class iM{constructor(){this.pe=0,this.ye=aM(),this.we=bn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),r=It(),n=It();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:at()}}),new Gp(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=aM()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Zoe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wo(),this.$e=Fv(),this.Ue=Fv(),this.Ke=new Cr(St)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:at()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,s)=>{this.Je(s)&&r(s)})}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const i=s.target;if(DE(i))if(n===0){const o=new Ye(i.path);this.ze(r,o,Pn.newNoDocument(o,dt.min()))}else Xt(n===1);else{const o=this.et(r);if(o!==n){const l=this.tt(e),u=l?this.nt(l,e,o):1;if(u!==0){this.Ye(r);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,d)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,l;try{o=Yl(n).toUint8Array()}catch(u){if(u instanceof KU)return sf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new TC(o,s,i)}catch(u){return sf(u instanceof om?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.ze(r,i,null),s++)}),s}ot(e){const r=new Map;this.qe.forEach((i,o)=>{const l=this.Xe(o);if(l){if(i.current&&DE(l.target)){const u=new Ye(l.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,Pn.newNoDocument(u,e))}i.ve&&(r.set(o,i.Fe()),i.Me())}});let n=It();this.Ue.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Xe(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Vb(e,r,this.Ke,this.Qe,n);return this.Qe=wo(),this.$e=Fv(),this.Ue=Fv(),this.Ke=new Cr(St),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new iM,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new Jr(St),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Jr(St),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||Me("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new iM),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Fv(){return new Cr(Ye.comparator)}function aM(){return new Cr(Ye.comparator)}const ele={asc:"ASCENDING",desc:"DESCENDING"},tle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rle={and:"AND",or:"OR"};class nle{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function FE(t,e){return t.useProto3Json||Rb(e)?e:{value:e}}function Hy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sle(t,e){return Hy(t,e.toTimestamp())}function ba(t){return Xt(!!t),dt.fromTimestamp(function(r){const n=Kl(r);return new cr(n.seconds,n.nanos)}(t))}function CC(t,e){return $E(t,e).canonicalString()}function $E(t,e){const r=function(s){return new gr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function A8(t){const e=gr.fromString(t);return Xt(I8(e)),e}function VE(t,e){return CC(t.databaseId,e.path)}function H1(t,e){const r=A8(e);if(r.get(1)!==t.databaseId.projectId)throw new De(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new De(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ye(C8(r))}function T8(t,e){return CC(t.databaseId,e)}function ile(t){const e=A8(t);return e.length===4?gr.emptyPath():C8(e)}function BE(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C8(t){return Xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oM(t,e,r){return{name:VE(t,e),fields:r.value.mapValue.fields}}function ale(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Xt(h===void 0||typeof h=="string"),bn.fromBase64String(h||"")):(Xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?ve.UNKNOWN:j8(d.code);return new De(h,d.message||"")}(o);r=new N8(n,s,i,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=H1(t,n.document.name),i=ba(n.document.updateTime),o=n.document.createTime?ba(n.document.createTime):dt.min(),l=new os({mapValue:{fields:n.document.fields}}),u=Pn.newFoundDocument(s,i,o,l),d=n.targetIds||[],h=n.removedTargetIds||[];r=new hy(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=H1(t,n.document),i=n.readTime?ba(n.readTime):dt.min(),o=Pn.newNoDocument(s,i),l=n.removedTargetIds||[];r=new hy([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=H1(t,n.document),i=n.removedTargetIds||[];r=new hy([],i,s,null)}else{if(!("filter"in e))return at();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new Qoe(s,i),l=n.targetId;r=new S8(l,o)}}return r}function ole(t,e){let r;if(e instanceof Wp)r={update:oM(t,e.key,e.value)};else if(e instanceof _8)r={delete:VE(t,e.key)};else if(e instanceof ic)r={update:oM(t,e.key,e.data),updateMask:gle(e.fieldMask)};else{if(!(e instanceof Goe))return at();r={verify:VE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const l=o.transform;if(l instanceof Km)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ym)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qy)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw at()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sle(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:at()}(t,e.precondition)),r}function lle(t,e){return t&&t.length>0?(Xt(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?ba(s.updateTime):ba(i);return o.isEqual(dt.min())&&(o=ba(i)),new qoe(o,s.transformResults||[])}(r,e))):[]}function cle(t,e){return{documents:[T8(t,e.path)]}}function ule(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=T8(t,s);const i=function(d){if(d.length!==0)return P8(Gi.create(d,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:bd(p.field),direction:hle(p.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=FE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:r,parent:s}}function dle(t){let e=ile(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Xt(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(m){const p=k8(m);return p instanceof Gi&&s8(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(m){return m.map(p=>function(_){return new Gm(wd(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(r.orderBy));let l=null;r.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,Rb(p)?null:p}(r.limit));let u=null;r.startAt&&(u=function(m){const p=!!m.before,x=m.values||[];return new Uy(x,p)}(r.startAt));let d=null;return r.endAt&&(d=function(m){const p=!m.before,x=m.values||[];return new Uy(x,p)}(r.endAt)),Poe(e,s,o,i,l,"F",u,d)}function fle(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function k8(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=wd(r.unaryFilter.field);return Ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=wd(r.unaryFilter.field);return Ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wd(r.unaryFilter.field);return Ur.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wd(r.unaryFilter.field);return Ur.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(t):t.fieldFilter!==void 0?function(r){return Ur.create(wd(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Gi.create(r.compositeFilter.filters.map(n=>k8(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return at()}}(r.compositeFilter.op))}(t):at()}function hle(t){return ele[t]}function mle(t){return tle[t]}function ple(t){return rle[t]}function bd(t){return{fieldPath:t.canonicalString()}}function wd(t){return vn.fromServerFormat(t.fieldPath)}function P8(t){return t instanceof Ur?function(r){if(r.op==="=="){if(KO(r.value))return{unaryFilter:{field:bd(r.field),op:"IS_NAN"}};if(GO(r.value))return{unaryFilter:{field:bd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(KO(r.value))return{unaryFilter:{field:bd(r.field),op:"IS_NOT_NAN"}};if(GO(r.value))return{unaryFilter:{field:bd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bd(r.field),op:mle(r.op),value:r.value}}}(t):t instanceof Gi?function(r){const n=r.getFilters().map(s=>P8(s));return n.length===1?n[0]:{compositeFilter:{op:ple(r.op),filters:n}}}(t):at()}function gle(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function I8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r,n,s,i=dt.min(),o=dt.min(),l=bn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e){this.Tt=e}}function yle(t){const e=dle({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(){this.Tn=new ble}addToCollectionParentIndex(e,r){return this.Tn.add(r),ye.resolve()}getCollectionParents(e,r){return ye.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return ye.resolve()}deleteFieldIndex(e,r){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,r){return ye.resolve()}getDocumentsMatchingTarget(e,r){return ye.resolve(null)}getIndexType(e,r){return ye.resolve(0)}getFieldIndexes(e,r){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,r){return ye.resolve(Gl.min())}getMinOffsetFromCollectionGroup(e,r){return ye.resolve(Gl.min())}updateCollectionGroup(e,r,n){return ye.resolve()}updateIndexEntries(e,r){return ye.resolve()}}class ble{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Jr(gr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Jr(gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R8=41943040;class as{static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(R8,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new uf(0)}static Kn(){return new uf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="LruGarbageCollector",wle=1048576;function uM([t,e],[r,n]){const s=St(t,r);return s===0?St(e,n):s}class _le{constructor(e){this.Hn=e,this.buffer=new Jr(uM),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();uM(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jle{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Me(cM,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Hf(r)?Me(cM,"Ignoring IndexedDB error during garbage collection: ",r):await qf(r)}await this.er(3e5)})}}class Sle{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ye.resolve(Ib.ae);const n=new _le(r);return this.tr.forEachTarget(e,s=>n.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>n.Zn(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(lM)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lM):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,i,o,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(n=m,l=Date.now(),this.removeTargets(e,n,r))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(m=>(d=Date.now(),yd()<=Pt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function Nle(t,e){return new Sle(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(){this.changes=new Nu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ye.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tle{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&jm(n.mutation,s,Is.empty(),cr.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,It()).next(()=>n))}getLocalViewOfDocuments(e,r,n=It()){const s=qc();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=am();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=qc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,It()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,s){let i=wo();const o=_m(),l=function(){return _m()}();return r.forEach((u,d)=>{const h=n.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ic)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),jm(h.mutation,d,h.mutation.getFieldMask(),cr.now())):o.set(d.key,Is.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),r.forEach((d,h)=>{var m;return l.set(d,new Ale(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,r){const n=_m();let s=new Cr((o,l)=>o-l),i=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=r.get(u);if(d===null)return;let h=n.get(u)||Is.empty();h=l.applyToLocalView(d,h),n.set(u,h);const m=(s.get(l.batchId)||It()).add(u);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,m=h8();h.forEach(p=>{if(!i.has(p)){const x=b8(r.get(p),n.get(p));x!==null&&m.set(p,x),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ye.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):l8(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):ye.resolve(qc());let l=zm,u=i;return o.next(d=>ye.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?ye.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,It())).next(h=>({batchId:l,changes:f8(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ye(r)).next(n=>{let s=am();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=am();return this.indexManager.getCollectionParents(e,i).next(l=>ye.forEach(l,u=>{const d=function(m,p){return new Wf(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,n,s).next(h=>{h.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Pn.newInvalidDocument(h)))});let l=am();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&jm(h.mutation,d,Is.empty(),cr.now()),Lb(r,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return ye.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:ba(s.createTime)}}(r)),ye.resolve()}getNamedQuery(e,r){return ye.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(s){return{name:s.name,query:yle(s.bundledQuery),readTime:ba(s.readTime)}}(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(){this.overlays=new Cr(Ye.comparator),this.Rr=new Map}getOverlay(e,r){return ye.resolve(this.overlays.get(r))}getOverlays(e,r){const n=qc();return ye.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.Et(e,r,i)}),ye.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(n)),ye.resolve()}getOverlaysForCollection(e,r,n){const s=qc(),i=r.length+1,o=new Ye(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>n&&s.set(u.getKey(),u)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Cr((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let h=i.get(d.largestBatchId);h===null&&(h=qc(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=qc(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return ye.resolve(l)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Yoe(r,n));let i=this.Rr.get(r);i===void 0&&(i=It(),this.Rr.set(r,i)),this.Rr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ple{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Vr=new Jr(an.mr),this.gr=new Jr(an.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new an(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new an(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new Ye(new gr([])),n=new an(r,e),s=new an(r,e+1),i=[];return this.gr.forEachInRange([n,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Ye(new gr([])),n=new an(r,e),s=new an(r,e+1);let i=It();return this.gr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new an(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class an{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Ye.comparator(e.key,r.key)||St(e.Cr,r.Cr)}static pr(e,r){return St(e.Cr,r.Cr)||Ye.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Jr(an.mr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Koe(i,r,n,s);this.mutationQueue.push(o);for(const l of s)this.Mr=this.Mr.add(new an(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,r){return ye.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),i=s<0?0:s;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?wC:this.Fr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new an(r,0),s=new an(r,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,s],o=>{const l=this.Or(o.Cr);i.push(l)}),ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Jr(St);return r.forEach(s=>{const i=new an(s,0),o=new an(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],l=>{n=n.add(l.Cr)})}),ye.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Ye.isDocumentKey(i)||(i=i.child(""));const o=new an(new Ye(i),0);let l=new Jr(St);return this.Mr.forEachWhile(u=>{const d=u.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.Cr)),!0)},o),ye.resolve(this.Br(l))}Br(e){const r=[];return e.forEach(n=>{const s=this.Or(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Xt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return ye.forEach(r.mutations,s=>{const i=new an(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new an(r,0),s=this.Mr.firstAfterOrEqual(n);return ye.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(e){this.kr=e,this.docs=function(){return new Cr(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ye.resolve(n?n.document.mutableCopy():Pn.newInvalidDocument(r))}getEntries(e,r){let n=wo();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Pn.newInvalidDocument(s))}),ye.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=wo();const o=r.path,l=new Ye(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||coe(loe(h),n)<=0||(s.has(h.key)||Lb(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,r,n,s){at()}qr(e,r){return ye.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Ole(this)}getSize(e){return ye.resolve(this.size)}}class Ole extends Ele{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)}),ye.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{constructor(e){this.persistence=e,this.Qr=new Nu(r=>SC(r),NC),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new kC,this.targetCount=0,this.Kr=uf.Un()}forEachTarget(e,r){return this.Qr.forEach((n,s)=>r(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),ye.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new uf(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,ye.resolve()}updateTargetData(e,r){return this.zn(r),ye.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ye.waitFor(i).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return ye.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),ye.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ye.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),ye.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return ye.resolve(n)}containsKey(e,r){return ye.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new Ib(0),this.zr=!1,this.zr=!0,this.jr=new Ple,this.referenceDelegate=e(this),this.Hr=new Mle(this),this.indexManager=new xle,this.remoteDocumentCache=function(s){return new Rle(s)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new vle(r),this.Yr=new Cle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new kle,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new Ile(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){Me("MemoryPersistence","Starting transaction:",e);const s=new Dle(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,r){return ye.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class Dle extends doe{constructor(e){super(),this.currentSequenceNumber=e}}class PC{constructor(e){this.persistence=e,this.ti=new kC,this.ni=null}static ri(e){return new PC(e)}get ii(){if(this.ni)return this.ni;throw at()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),ye.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),ye.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(s=>this.ii.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.ii,n=>{const s=Ye.fromPath(n);return this.si(e,s).next(i=>{i||r.removeEntry(s,dt.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return ye.or([()=>ye.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class Wy{constructor(e,r){this.persistence=e,this.oi=new Nu(n=>moe(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=Nle(this,r)}static ri(e,r){return new Wy(e,r)}Zr(){}Xr(e){return ye.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return ye.forEach(this.oi,(n,s)=>this.ar(e,n,s).next(i=>i?ye.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,r).next(l=>{l||(n++,i.removeEntry(o,dt.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),ye.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),ye.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),ye.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=uy(e.data.value)),r}ar(e,r,n){return ye.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return ye.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=It(),s=It();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new IC(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fle{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Cee()?8:foe(Mn())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.rs(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Lle;return this._s(e,r,o).next(l=>{if(i.result=l,this.Xi)return this.us(e,r,o,l.size)})}).next(()=>i.result)}us(e,r,n,s){return n.documentReadCount<this.es?(yd()<=Pt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",xd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ye.resolve()):(yd()<=Pt.DEBUG&&Me("QueryEngine","Query:",xd(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(yd()<=Pt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",xd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xa(r))):ye.resolve())}rs(e,r){if(JO(r))return ye.resolve(null);let n=xa(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=zy(r,null,"F"),n=xa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=It(...i);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const d=this.cs(r,l);return this.ls(r,d,o,u.readTime)?this.rs(e,zy(r,null,"F")):this.hs(e,d,r,u)}))})))}ss(e,r,n,s){return JO(r)||s.isEqual(dt.min())?ye.resolve(null):this.ns.getDocuments(e,n).next(i=>{const o=this.cs(r,i);return this.ls(r,o,n,s)?ye.resolve(null):(yd()<=Pt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xd(r)),this.hs(e,o,r,ooe(s,zm)).next(l=>l))})}cs(e,r){let n=new Jr(u8(e));return r.forEach((s,i)=>{Lb(e,i)&&(n=n.add(i))}),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,r,n){return yd()<=Pt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",xd(r)),this.ns.getDocumentsMatchingQuery(e,r,Gl.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="LocalStore",$le=3e8;class Vle{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new Cr(St),this.Is=new Nu(i=>SC(i),NC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tle(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function Ble(t,e,r,n){return new Vle(t,e,r,n)}async function M8(t,e){const r=ft(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],l=[];let u=It();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return r.localDocuments.getDocuments(n,u).next(d=>({Rs:d,removedBatchIds:o,addedBatchIds:l}))})})}function Ule(t,e){const r=ft(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,d,h){const m=d.batch,p=m.keys();let x=ye.resolve();return p.forEach(_=>{x=x.next(()=>h.getEntry(u,_)).next(b=>{const y=d.docVersions.get(_);Xt(y!==null),b.version.compareTo(y)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),h.addEntry(b)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=It();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function D8(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function zle(t,e){const r=ft(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const l=[];e.targetChanges.forEach((h,m)=>{const p=s.get(m);if(!p)return;l.push(r.Hr.removeMatchingKeys(i,h.removedDocuments,m).next(()=>r.Hr.addMatchingKeys(i,h.addedDocuments,m)));let x=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(bn.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,n)),s=s.insert(m,x),function(b,y,N){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=$le?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(p,x,h)&&l.push(r.Hr.updateTargetData(i,x))});let u=wo(),d=It();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(qle(i,o,e.documentUpdates).next(h=>{u=h.Vs,d=h.fs})),!n.isEqual(dt.min())){const h=r.Hr.getLastRemoteSnapshotVersion(i).next(m=>r.Hr.setTargetsMetadata(i,i.currentSequenceNumber,n));l.push(h)}return ye.waitFor(l).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(r.Ts=s,i))}function qle(t,e,r){let n=It(),s=It();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=wo();return r.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(dt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Me(RC,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Vs:o,fs:s}})}function Hle(t,e){const r=ft(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=wC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Wle(t,e){const r=ft(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Hr.getTargetData(n,e).next(i=>i?(s=i,ye.resolve(s)):r.Hr.allocateTargetId(n).next(o=>(s=new Cl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function UE(t,e,r){const n=ft(t),s=n.Ts.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Hf(o))throw o;Me(RC,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function dM(t,e,r){const n=ft(t);let s=dt.min(),i=It();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const m=ft(u),p=m.Is.get(h);return p!==void 0?ye.resolve(m.Ts.get(p)):m.Hr.getTargetData(d,h)}(n,o,xa(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>n.Ps.getDocumentsMatchingQuery(o,e,r?s:dt.min(),r?i:It())).next(l=>(Gle(n,Roe(e),l),{documents:l,gs:i})))}function Gle(t,e,r){let n=t.Es.get(e)||dt.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Es.set(e,n)}class fM{constructor(){this.activeTargetIds=$oe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kle{constructor(){this.ho=new fM,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yle{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="ConnectivityMonitor";class mM{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Me(hM,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Me(hM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v=null;function zE(){return $v===null?$v=function(){return 268435456+Math.round(2147483648*Math.random())}():$v++,"0x"+$v.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="RestConnection",Qle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xle{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===Vy?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,i){const o=zE(),l=this.bo(e,r.toUriEncodedString());Me(W1,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,s,i),this.vo(e,l,u,n).then(d=>(Me(W1,`Received RPC '${e}' ${o}: `,d),d),d=>{throw sf(W1,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",n),d})}Co(e,r,n,s,i,o){return this.So(e,r,n,s,i)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>e[i]=s),n&&n.headers.forEach((s,i)=>e[i]=s)}bo(e,r){const n=Qle[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class Zle extends Xle{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const i=zE();return new Promise((o,l)=>{const u=new FU;u.setWithCredentials(!0),u.listenOnce($U.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cy.NO_ERROR:const h=u.getResponseJson();Me(En,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case cy.TIMEOUT:Me(En,`RPC '${e}' ${i} timed out`),l(new De(ve.DEADLINE_EXCEEDED,"Request time out"));break;case cy.HTTP_ERROR:const m=u.getStatus();if(Me(En,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const _=function(y){const N=y.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(N)>=0?N:ve.UNKNOWN}(x.status);l(new De(_,x.message))}else l(new De(ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new De(ve.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Me(En,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Me(En,`RPC '${e}' ${i} sending request:`,s),u.send(r,"POST",d,n,15)})}Wo(e,r,n){const s=zE(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UU(),l=BU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const h=i.join("");Me(En,`Creating RPC '${e}' stream ${s}: ${h}`,u);const m=o.createWebChannel(h,u);let p=!1,x=!1;const _=new Jle({Fo:y=>{x?Me(En,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(p||(Me(En,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),Me(En,`RPC '${e}' stream ${s} sending:`,y),m.send(y))},Mo:()=>m.close()}),b=(y,N,S)=>{y.listen(N,T=>{try{S(T)}catch(E){setTimeout(()=>{throw E},0)}})};return b(m,im.EventType.OPEN,()=>{x||(Me(En,`RPC '${e}' stream ${s} transport opened.`),_.Qo())}),b(m,im.EventType.CLOSE,()=>{x||(x=!0,Me(En,`RPC '${e}' stream ${s} transport closed`),_.Uo())}),b(m,im.EventType.ERROR,y=>{x||(x=!0,sf(En,`RPC '${e}' stream ${s} transport errored:`,y),_.Uo(new De(ve.UNAVAILABLE,"The operation could not be completed")))}),b(m,im.EventType.MESSAGE,y=>{var N;if(!x){const S=y.data[0];Xt(!!S);const T=S,E=(T==null?void 0:T.error)||((N=T[0])===null||N===void 0?void 0:N.error);if(E){Me(En,`RPC '${e}' stream ${s} received error:`,E);const C=E.status;let O=function(M){const V=Vr[M];if(V!==void 0)return j8(V)}(C),k=E.message;O===void 0&&(O=ve.INTERNAL,k="Unknown error status: "+C+" with message "+E.message),x=!0,_.Uo(new De(O,k)),m.close()}else Me(En,`RPC '${e}' stream ${s} received:`,S),_.Ko(S)}}),b(l,VU.STAT_EVENT,y=>{y.stat===PE.PROXY?Me(En,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===PE.NOPROXY&&Me(En,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function G1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){return new nle(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,r,n=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&Me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="PersistentStream";class F8{constructor(e,r,n,s,i,o,l,u){this.Ti=e,this.n_=n,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new L8(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===ve.RESOURCE_EXHAUSTED?(bo(r.toString()),bo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.i_===r&&this.V_(n,s)},n=>{e(()=>{const s=new De(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{n(()=>this.m_(s))}),this.stream.onMessage(s=>{n(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Me(pM,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(Me(pM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ece extends F8{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=ale(this.serializer,e),n=function(i){if(!("targetChange"in i))return dt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?dt.min():o.readTime?ba(o.readTime):dt.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=BE(this.serializer),r.addTarget=function(i,o){let l;const u=o.target;if(l=DE(u)?{documents:cle(i,u)}:{query:ule(i,u).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=E8(i,o.resumeToken);const d=FE(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(dt.min())>0){l.readTime=Hy(i,o.snapshotVersion.toTimestamp());const d=FE(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const n=fle(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=BE(this.serializer),r.removeTarget=e,this.I_(r)}}class tce extends F8{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=lle(e.writeResults,e.commitTime),n=ba(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=BE(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>ole(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{}class nce extends rce{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new De(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,$E(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(ve.UNKNOWN,i.toString())})}Co(e,r,n,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,$E(r,n),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ve.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class sce{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(bo(r),this.N_=!1):Me("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="RemoteStore";class ice{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{n.enqueueAndForget(async()=>{Eu(this)&&(Me(gu,"Restarting streams for network reachability change."),await async function(u){const d=ft(u);d.W_.add(4),await Kp(d),d.j_.set("Unknown"),d.W_.delete(4),await Ub(d)}(this))})}),this.j_=new sce(n,s)}}async function Ub(t){if(Eu(t))for(const e of t.G_)await e(!0)}async function Kp(t){for(const e of t.G_)await e(!1)}function $8(t,e){const r=ft(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),LC(r)?DC(r):Gf(r).c_()&&MC(r,e))}function OC(t,e){const r=ft(t),n=Gf(r);r.K_.delete(e),n.c_()&&V8(r,e),r.K_.size===0&&(n.c_()?n.P_():Eu(r)&&r.j_.set("Unknown"))}function MC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Gf(t).y_(e)}function V8(t,e){t.H_.Ne(e),Gf(t).w_(e)}function DC(t){t.H_=new Zoe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Gf(t).start(),t.j_.B_()}function LC(t){return Eu(t)&&!Gf(t).u_()&&t.K_.size>0}function Eu(t){return ft(t).W_.size===0}function B8(t){t.H_=void 0}async function ace(t){t.j_.set("Online")}async function oce(t){t.K_.forEach((e,r)=>{MC(t,e)})}async function lce(t,e){B8(t),LC(t)?(t.j_.q_(e),DC(t)):t.j_.set("Unknown")}async function cce(t,e,r){if(t.j_.set("Online"),e instanceof N8&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.K_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.K_.delete(l),s.H_.removeTarget(l))}(t,e)}catch(n){Me(gu,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Gy(t,n)}else if(e instanceof hy?t.H_.We(e):e instanceof S8?t.H_.Ze(e):t.H_.je(e),!r.isEqual(dt.min()))try{const n=await D8(t.localStore);r.compareTo(n)>=0&&await function(i,o){const l=i.H_.ot(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.K_.get(d);h&&i.K_.set(d,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const h=i.K_.get(u);if(!h)return;i.K_.set(u,h.withResumeToken(bn.EMPTY_BYTE_STRING,h.snapshotVersion)),V8(i,u);const m=new Cl(h.target,u,d,h.sequenceNumber);MC(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Me(gu,"Failed to raise snapshot:",n),await Gy(t,n)}}async function Gy(t,e,r){if(!Hf(e))throw e;t.W_.add(1),await Kp(t),t.j_.set("Offline"),r||(r=()=>D8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me(gu,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await Ub(t)})}function U8(t,e){return e().catch(r=>Gy(t,r,e))}async function zb(t){const e=ft(t),r=Xl(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:wC;for(;uce(e);)try{const s=await Hle(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,dce(e,s)}catch(s){await Gy(e,s)}z8(e)&&q8(e)}function uce(t){return Eu(t)&&t.U_.length<10}function dce(t,e){t.U_.push(e);const r=Xl(t);r.c_()&&r.S_&&r.b_(e.mutations)}function z8(t){return Eu(t)&&!Xl(t).u_()&&t.U_.length>0}function q8(t){Xl(t).start()}async function fce(t){Xl(t).C_()}async function hce(t){const e=Xl(t);for(const r of t.U_)e.b_(r.mutations)}async function mce(t,e,r){const n=t.U_.shift(),s=AC.from(n,e,r);await U8(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zb(t)}async function pce(t,e){e&&Xl(t).S_&&await async function(n,s){if(function(o){return Xoe(o)&&o!==ve.ABORTED}(s.code)){const i=n.U_.shift();Xl(n).h_(),await U8(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await zb(n)}}(t,e),z8(t)&&q8(t)}async function gM(t,e){const r=ft(t);r.asyncQueue.verifyOperationInProgress(),Me(gu,"RemoteStore received new credentials");const n=Eu(r);r.W_.add(3),await Kp(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await Ub(r)}async function gce(t,e){const r=ft(t);e?(r.W_.delete(2),await Ub(r)):e||(r.W_.add(2),await Kp(r),r.j_.set("Unknown"))}function Gf(t){return t.J_||(t.J_=function(r,n,s){const i=ft(r);return i.M_(),new ece(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:ace.bind(null,t),No:oce.bind(null,t),Lo:lce.bind(null,t),p_:cce.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),LC(t)?DC(t):t.j_.set("Unknown")):(await t.J_.stop(),B8(t))})),t.J_}function Xl(t){return t.Y_||(t.Y_=function(r,n,s){const i=ft(r);return i.M_(),new tce(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:fce.bind(null,t),Lo:pce.bind(null,t),D_:hce.bind(null,t),v_:mce.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await zb(t)):(await t.Y_.stop(),t.U_.length>0&&(Me(gu,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,l=new FC(e,r,o,s,i);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $C(t,e){if(bo("AsyncQueue",`${e}: ${t}`),Hf(t))return new De(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{static emptySet(e){return new Fd(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ye.comparator(r.key,n.key):(r,n)=>Ye.comparator(r.key,n.key),this.keyedMap=am(),this.sortedSet=new Cr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Fd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Z_=new Cr(Ye.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):at():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class df{constructor(e,r,n,s,i,o,l,u,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new df(e,r,Fd.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Db(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class yce{constructor(){this.queries=yM(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=ft(r),i=s.queries;s.queries=yM(),i.forEach((o,l)=>{for(const u of l.ta)u.onError(n)})})(this,new De(ve.ABORTED,"Firestore shutting down"))}}function yM(){return new Nu(t=>c8(t),Db)}async function VC(t,e){const r=ft(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.na()&&e.ra()&&(n=2):(i=new vce,n=e.ra()?0:1);try{switch(n){case 0:i.ea=await r.onListen(s,!0);break;case 1:i.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const l=$C(o,`Initialization of query '${xd(e.query)}' failed`);return void e.onError(l)}r.queries.set(s,i),i.ta.push(e),e.sa(r.onlineState),i.ea&&e.oa(i.ea)&&UC(r)}async function BC(t,e){const r=ft(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function xce(t,e){const r=ft(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const l of o.ta)l.oa(s)&&(n=!0);o.ea=s}}n&&UC(r)}function bce(t,e,r){const n=ft(t),s=n.queries.get(e);if(s)for(const i of s.ta)i.onError(r);n.queries.delete(e)}function UC(t){t.ia.forEach(e=>{e.next()})}var qE,xM;(xM=qE||(qE={}))._a="default",xM.Cache="cache";class zC{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new df(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.key=e}}class W8{constructor(e){this.key=e}}class wce{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=u8(e),this.wa=new Fd(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new vM,s=r?r.wa:this.wa;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const p=s.get(h),x=Lb(this.query,m)?m:null,_=!!p&&this.mutatedKeys.has(p.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let y=!1;p&&x?p.data.isEqual(x.data)?_!==b&&(n.track({type:3,doc:x}),y=!0):this.va(p,x)||(n.track({type:2,doc:x}),y=!0,(u&&this.ya(x,u)>0||d&&this.ya(x,d)<0)&&(l=!0)):!p&&x?(n.track({type:0,doc:x}),y=!0):p&&!x&&(n.track({type:1,doc:p}),y=!0,(u||d)&&(l=!0)),y&&(x?(o=o.add(x),i=b?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{wa:o,Da:n,ls:l,mutatedKeys:i}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,m)=>function(x,_){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return b(x)-b(_)}(h.type,m.type)||this.ya(h.doc,m.doc)),this.Ca(n),s=s!=null&&s;const l=r&&!s?this.Fa():[],u=this.pa.size===0&&this.current&&!s?1:0,d=u!==this.ga;return this.ga=u,o.length!==0||d?{snapshot:new df(this.query,e.wa,i,o,e.mutatedKeys,u===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vM,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new W8(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new H8(n))}),r}Oa(e){this.fa=e.gs,this.pa=It();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return df.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qC="SyncEngine";class _ce{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class jce{constructor(e){this.key=e,this.Ba=!1}}class Sce{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Nu(l=>c8(l),Db),this.qa=new Map,this.Qa=new Set,this.$a=new Cr(Ye.comparator),this.Ua=new Map,this.Ka=new kC,this.Wa={},this.Ga=new Map,this.za=uf.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Nce(t,e,r=!0){const n=J8(t);let s;const i=n.ka.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await G8(n,e,r,!0),s}async function Ece(t,e){const r=J8(t);await G8(r,e,!0,!1)}async function G8(t,e,r,n){const s=await Wle(t.localStore,xa(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let l;return n&&(l=await Ace(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&$8(t.remoteStore,s),l}async function Ace(t,e,r,n,s){t.Ha=(m,p,x)=>async function(b,y,N,S){let T=y.view.ba(N);T.ls&&(T=await dM(b.localStore,y.query,!1).then(({documents:k})=>y.view.ba(k,T)));const E=S&&S.targetChanges.get(y.targetId),C=S&&S.targetMismatches.get(y.targetId)!=null,O=y.view.applyChanges(T,b.isPrimaryClient,E,C);return wM(b,y.targetId,O.Ma),O.snapshot}(t,m,p,x);const i=await dM(t.localStore,e,!0),o=new wce(e,i.gs),l=o.ba(i.documents),u=Gp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);wM(t,r,d.Ma);const h=new _ce(e,r,o);return t.ka.set(e,h),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),d.snapshot}async function Tce(t,e,r){const n=ft(t),s=n.ka.get(e),i=n.qa.get(s.targetId);if(i.length>1)return n.qa.set(s.targetId,i.filter(o=>!Db(o,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await UE(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&OC(n.remoteStore,s.targetId),HE(n,s.targetId)}).catch(qf)):(HE(n,s.targetId),await UE(n.localStore,s.targetId,!0))}async function Cce(t,e){const r=ft(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),OC(r.remoteStore,n.targetId))}async function kce(t,e,r){const n=Lce(t);try{const s=await function(o,l){const u=ft(o),d=cr.now(),h=l.reduce((x,_)=>x.add(_.key),It());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let _=wo(),b=It();return u.ds.getEntries(x,h).next(y=>{_=y,_.forEach((N,S)=>{S.isValidDocument()||(b=b.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,_)).next(y=>{m=y;const N=[];for(const S of l){const T=Woe(S,m.get(S.key).overlayedDocument);T!=null&&N.push(new ic(S.key,T,t8(T.value.mapValue),Bi.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,N,l)}).next(y=>{p=y;const N=y.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(x,y.batchId,N)})}).then(()=>({batchId:p.batchId,changes:f8(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let d=o.Wa[o.currentUser.toKey()];d||(d=new Cr(St)),d=d.insert(l,u),o.Wa[o.currentUser.toKey()]=d}(n,s.batchId,r),await Yp(n,s.changes),await zb(n.remoteStore)}catch(s){const i=$C(s,"Failed to persist write");r.reject(i)}}async function K8(t,e){const r=ft(t);try{const n=await zle(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Ua.get(i);o&&(Xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Xt(o.Ba):s.removedDocuments.size>0&&(Xt(o.Ba),o.Ba=!1))}),await Yp(r,n,e)}catch(n){await qf(n)}}function bM(t,e,r){const n=ft(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach((i,o)=>{const l=o.view.sa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ft(o);u.onlineState=l;let d=!1;u.queries.forEach((h,m)=>{for(const p of m.ta)p.sa(l)&&(d=!0)}),d&&UC(u)}(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Pce(t,e,r){const n=ft(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),i=s&&s.key;if(i){let o=new Cr(Ye.comparator);o=o.insert(i,Pn.newNoDocument(i,dt.min()));const l=It().add(i),u=new Vb(dt.min(),new Map,new Cr(St),o,l);await K8(n,u),n.$a=n.$a.remove(i),n.Ua.delete(e),HC(n)}else await UE(n.localStore,e,!1).then(()=>HE(n,e,r)).catch(qf)}async function Ice(t,e){const r=ft(t),n=e.batch.batchId;try{const s=await Ule(r.localStore,e);Q8(r,n,null),Y8(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Yp(r,s)}catch(s){await qf(s)}}async function Rce(t,e,r){const n=ft(t);try{const s=await function(o,l){const u=ft(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(Xt(m!==null),h=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(n.localStore,e);Q8(n,e,r),Y8(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Yp(n,s)}catch(s){await qf(s)}}function Y8(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function Q8(t,e,r){const n=ft(t);let s=n.Wa[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function HE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||X8(t,n)})}function X8(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(OC(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),HC(t))}function wM(t,e,r){for(const n of r)n instanceof H8?(t.Ka.addReference(n.key,e),Oce(t,n)):n instanceof W8?(Me(qC,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||X8(t,n.key)):at()}function Oce(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(Me(qC,"New document in limbo: "+r),t.Qa.add(n),HC(t))}function HC(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new Ye(gr.fromString(e)),n=t.za.next();t.Ua.set(n,new jce(r)),t.$a=t.$a.insert(r,n),$8(t.remoteStore,new Cl(xa(Mb(r.path)),n,"TargetPurposeLimboResolution",Ib.ae))}}async function Yp(t,e,r){const n=ft(t),s=[],i=[],o=[];n.ka.isEmpty()||(n.ka.forEach((l,u)=>{o.push(n.Ha(u,e,r).then(d=>{var h;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(h=r==null?void 0:r.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){s.push(d);const m=IC.Yi(u.targetId,d);i.push(m)}}))}),await Promise.all(o),n.La.p_(s),await async function(u,d){const h=ft(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ye.forEach(d,p=>ye.forEach(p.Hi,x=>h.persistence.referenceDelegate.addReference(m,p.targetId,x)).next(()=>ye.forEach(p.Ji,x=>h.persistence.referenceDelegate.removeReference(m,p.targetId,x)))))}catch(m){if(!Hf(m))throw m;Me(RC,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const x=h.Ts.get(p),_=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(_);h.Ts=h.Ts.insert(p,b)}}}(n.localStore,i))}async function Mce(t,e){const r=ft(t);if(!r.currentUser.isEqual(e)){Me(qC,"User change. New user:",e.toKey());const n=await M8(r.localStore,e);r.currentUser=e,function(i,o){i.Ga.forEach(l=>{l.forEach(u=>{u.reject(new De(ve.CANCELLED,o))})}),i.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Yp(r,n.Rs)}}function Dce(t,e){const r=ft(t),n=r.Ua.get(e);if(n&&n.Ba)return It().add(n.key);{let s=It();const i=r.qa.get(e);if(!i)return s;for(const o of i){const l=r.ka.get(o);s=s.unionWith(l.view.Sa)}return s}}function J8(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pce.bind(null,e),e.La.p_=xce.bind(null,e.eventManager),e.La.Ja=bce.bind(null,e.eventManager),e}function Lce(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ice.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rce.bind(null,e),e}class Ky{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bb(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return Ble(this.persistence,new Fle,e.initialUser,this.serializer)}Xa(e){return new O8(PC.ri,this.serializer)}Za(e){return new Kle}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ky.provider={build:()=>new Ky};class Fce extends Ky{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Xt(this.persistence.referenceDelegate instanceof Wy);const n=this.persistence.referenceDelegate.garbageCollector;return new jle(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new O8(n=>Wy.ri(n,r),this.serializer)}}class WE{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>bM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mce.bind(null,this.syncEngine),await gce(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yce}()}createDatastore(e){const r=Bb(e.databaseInfo.databaseId),n=function(i){return new Zle(i)}(e.databaseInfo);return function(i,o,l,u){return new nce(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,l){return new ice(n,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>bM(this.syncEngine,r,0),function(){return mM.D()?new mM:new Yle}())}createSyncEngine(e,r){return function(s,i,o,l,u,d,h){const m=new Sce(s,i,o,l,u,d);return h&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=ft(s);Me(gu,"RemoteStore shutting down."),i.W_.add(5),await Kp(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}WE.provider={build:()=>new WE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):bo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="FirestoreClient";class $ce{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=HU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Me(Jl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Me(Jl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=$C(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function K1(t,e){t.asyncQueue.verifyOperationInProgress(),Me(Jl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await M8(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _M(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Vce(t);Me(Jl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>gM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>gM(e.remoteStore,s)),t._onlineComponents=e}async function Vce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(Jl,"Using user provided OfflineComponentProvider");try{await K1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===ve.FAILED_PRECONDITION||s.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;sf("Error using user provided cache. Falling back to memory cache: "+r),await K1(t,new Ky)}}else Me(Jl,"Using default OfflineComponentProvider"),await K1(t,new Fce(void 0));return t._offlineComponents}async function Z8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(Jl,"Using user provided OnlineComponentProvider"),await _M(t,t._uninitializedComponentsProvider._online)):(Me(Jl,"Using default OnlineComponentProvider"),await _M(t,new WE))),t._onlineComponents}function Bce(t){return Z8(t).then(e=>e.syncEngine)}async function Yy(t){const e=await Z8(t),r=e.eventManager;return r.onListen=Nce.bind(null,e.syncEngine),r.onUnlisten=Tce.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ece.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Cce.bind(null,e.syncEngine),r}function Uce(t,e,r={}){const n=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new WC({next:p=>{h.su(),o.enqueueAndForget(()=>BC(i,m));const x=p.docs.has(l);!x&&p.fromCache?d.reject(new De(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&u&&u.source==="server"?d.reject(new De(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new zC(Mb(l.path),h,{includeMetadataChanges:!0,Ta:!0});return VC(i,m)}(await Yy(t),t.asyncQueue,e,r,n)),n.promise}function zce(t,e,r={}){const n=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new WC({next:p=>{h.su(),o.enqueueAndForget(()=>BC(i,m)),p.fromCache&&u.source==="server"?d.reject(new De(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new zC(l,h,{includeMetadataChanges:!0,Ta:!0});return VC(i,m)}(await Yy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t,e,r){if(!r)throw new De(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qce(t,e,r,n){if(e===!0&&n===!0)throw new De(ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function SM(t){if(!Ye.isDocumentKey(t))throw new De(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NM(t){if(Ye.isDocumentKey(t))throw new De(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at()}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qb(t);throw new De(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="firestore.googleapis.com",EM=!0;class AM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new De(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rz,this.ssl=EM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:EM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wle)throw new De(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qce("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ez((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new De(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new De(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new De(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hb{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Jae;switch(n.type){case"firstParty":return new roe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new De(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=jM.get(r);n&&(Me("ComponentProvider","Removing Datastore"),jM.delete(r),n.terminate())}(this),Promise.resolve()}}function Hce(t,e,r,n={}){var s;const i=(t=Ds(t,Hb))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;i.host!==rz&&i.host!==l&&sf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:l,ssl:!1,emulatorOptions:n});if(!vo(u,o)&&(t._setSettings(u),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Cn.MOCK_USER;else{d=jee(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new De(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Cn(m)}t._authCredentials=new Zae(new zU(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class On{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Ll extends ko{constructor(e,r,n){super(e,r,Mb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ye(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function $d(t,e,...r){if(t=Lr(t),tz("collection","path",e),t instanceof Hb){const n=gr.fromString(e,...r);return NM(n),new Ll(t,null,n)}{if(!(t instanceof On||t instanceof Ll))throw new De(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gr.fromString(e,...r));return NM(n),new Ll(t.firestore,null,n)}}function ht(t,e,...r){if(t=Lr(t),arguments.length===1&&(e=HU.newId()),tz("doc","path",e),t instanceof Hb){const n=gr.fromString(e,...r);return SM(n),new On(t,null,new Ye(n))}{if(!(t instanceof On||t instanceof Ll))throw new De(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gr.fromString(e,...r));return SM(n),new On(t.firestore,t instanceof Ll?t.converter:null,new Ye(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="AsyncQueue";class CM{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new L8(this,"async_queue_retry"),this.Su=()=>{const n=G1();n&&Me(TM,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=G1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=G1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new lo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Hf(e))throw e;Me(TM,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(n);throw bo("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=FC.createAndSchedule(this,e,r,n,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&at()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function kM(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Zl extends Hb{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new CM,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CM(e),this._firestoreClient=void 0,await e}}}function wr(t,e){const r=typeof t=="object"?t:QT(),n=typeof t=="string"?t:Vy,s=Su(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=wee("firestore");i&&Hce(s,...i)}return s}function Wb(t){if(t._terminated)throw new De(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wce(t),t._firestoreClient}function Wce(t){var e,r,n;const s=t._freezeSettings(),i=function(l,u,d,h){return new voe(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ez(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new $ce(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ff(bn.fromBase64String(e))}catch(r){throw new De(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ff(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new De(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new De(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new De(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=/^__.*__$/;class Kce{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ic(e,this.data,this.fieldMask,r,this.fieldTransforms):new Wp(e,this.data,r,this.fieldTransforms)}}class nz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ic(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function sz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Kb{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sz(this.Lu)&&Gce.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Yce{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Bb(e)}ju(e,r,n,s=!1){return new Kb({Lu:e,methodName:r,zu:n,path:vn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yb(t){const e=t._freezeSettings(),r=Bb(t._databaseId);return new Yce(t._databaseId,!!e.ignoreUndefinedProperties,r)}function iz(t,e,r,n,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,r,s);XC("Data must be an object, but it was:",o,n);const l=az(n,o);let u,d;if(i.merge)u=new Is(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const p=GE(e,m,r);if(!o.contains(p))throw new De(ve.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);lz(h,p)||h.push(p)}u=new Is(h),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new Kce(new os(l),u,d)}class Qb extends Qp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qb}}function Qce(t,e,r){return new Kb({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class YC extends Qp{_toFieldTransform(e){return new x8(e.path,new Km)}isEqual(e){return e instanceof YC}}class QC extends Qp{constructor(e,r){super(e),this.Hu=r}_toFieldTransform(e){const r=Qce(this,e,!0),n=this.Hu.map(i=>Kf(i,r)),s=new cf(n);return new x8(e.path,s)}isEqual(e){return e instanceof QC&&vo(this.Hu,e.Hu)}}function Xce(t,e,r,n){const s=t.ju(1,e,r);XC("Data must be an object, but it was:",s,n);const i=[],o=os.empty();sc(n,(u,d)=>{const h=JC(e,u,r);d=Lr(d);const m=s.Uu(h);if(d instanceof Qb)i.push(h);else{const p=Kf(d,m);p!=null&&(i.push(h),o.set(h,p))}});const l=new Is(i);return new nz(o,l,s.fieldTransforms)}function Jce(t,e,r,n,s,i){const o=t.ju(1,e,r),l=[GE(e,n,r)],u=[s];if(i.length%2!=0)throw new De(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(GE(e,i[p])),u.push(i[p+1]);const d=[],h=os.empty();for(let p=l.length-1;p>=0;--p)if(!lz(d,l[p])){const x=l[p];let _=u[p];_=Lr(_);const b=o.Uu(x);if(_ instanceof Qb)d.push(x);else{const y=Kf(_,b);y!=null&&(d.push(x),h.set(x,y))}}const m=new Is(d);return new nz(h,m,o.fieldTransforms)}function Zce(t,e,r,n=!1){return Kf(r,t.ju(n?4:3,e))}function Kf(t,e){if(oz(t=Lr(t)))return XC("Unsupported field value:",e,t),az(t,e);if(t instanceof Qp)return function(n,s){if(!sz(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const l of n){let u=Kf(l,s.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=Lr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Voe(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=cr.fromDate(n);return{timestampValue:Hy(s.serializer,i)}}if(n instanceof cr){const i=new cr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hy(s.serializer,i)}}if(n instanceof GC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ff)return{bytesValue:E8(s.serializer,n._byteString)};if(n instanceof On){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:CC(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof KC)return function(o,l){return{mapValue:{fields:{[ZU]:{stringValue:e8},[By]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Wu("VectorValues must only contain numeric values.");return EC(l.serializer,d)})}}}}}}(n,s);throw s.Wu(`Unsupported field value: ${qb(n)}`)}(t,e)}function az(t,e){const r={};return GU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(t,(n,s)=>{const i=Kf(s,e.qu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function oz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof GC||t instanceof ff||t instanceof On||t instanceof Qp||t instanceof KC)}function XC(t,e,r){if(!oz(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=qb(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function GE(t,e,r){if((e=Lr(e))instanceof Gb)return e._internalPath;if(typeof e=="string")return JC(t,e);throw Qy("Field path arguments must be of type string or ",t,!1,void 0,r)}const eue=new RegExp("[~\\*/\\[\\]]");function JC(t,e,r){if(e.search(eue)>=0)throw Qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Gb(...e.split("."))._internalPath}catch{throw Qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Qy(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${n}`),o&&(u+=` in document ${s}`),u+=")"),new De(ve.INVALID_ARGUMENT,l+t+u)}function lz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ZC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class tue extends cz{data(){return super.data()}}function ZC(t,e){return typeof e=="string"?JC(t,e):e instanceof Gb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e2{}class t2 extends e2{}function rue(t,e,...r){let n=[];e instanceof e2&&n.push(e),n=n.concat(r),function(i){const o=i.filter(u=>u instanceof n2).length,l=i.filter(u=>u instanceof r2).length;if(o>1||o>0&&l>0)throw new De(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class r2 extends t2{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new r2(e,r,n)}_apply(e){const r=this._parse(e);return dz(e._query,r),new ko(e.firestore,e.converter,LE(e._query,r))}_parse(e){const r=Yb(e.firestore);return function(i,o,l,u,d,h,m){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new De(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){IM(m,h);const _=[];for(const b of m)_.push(PM(u,i,b));p={arrayValue:{values:_}}}else p=PM(u,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||IM(m,h),p=Zce(l,o,m,h==="in"||h==="not-in");return Ur.create(d,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class n2 extends e2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new n2(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Gi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)dz(o,u),o=LE(o,u)}(e._query,r),new ko(e.firestore,e.converter,LE(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s2 extends t2{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new s2(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new De(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new De(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gm(i,o)}(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Wf(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function nue(t,e="asc"){const r=e,n=ZC("orderBy",t);return s2._create(n,r)}class i2 extends t2{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new i2(e,r,n)}_apply(e){return new ko(e.firestore,e.converter,zy(e._query,this._limit,this._limitType))}}function sue(t){return i2._create("limit",t,"F")}function PM(t,e,r){if(typeof(r=Lr(r))=="string"){if(r==="")throw new De(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l8(e)&&r.indexOf("/")!==-1)throw new De(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(gr.fromString(r));if(!Ye.isDocumentKey(n))throw new De(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return WO(t,new Ye(n))}if(r instanceof On)return WO(t,r._key);throw new De(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qb(r)}.`)}function IM(t,e){if(!Array.isArray(t)||t.length===0)throw new De(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dz(t,e){const r=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new De(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class iue{convertValue(e,r="none"){switch(Ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw at()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return sc(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[By].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Mr(o.doubleValue));return new KC(i)}convertGeoPoint(e){return new GC(Mr(e.latitude),Mr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Ob(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(qm(e));default:return null}}convertTimestamp(e){const r=Kl(e);return new cr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=gr.fromString(e);Xt(I8(n));const s=new Hm(n.get(1),n.get(3)),i=new Ye(n.popFirst(5));return s.isEqual(r)||bo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hz extends cz{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new my(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(ZC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class my extends hz{data(e={}){return super.data(e)}}class mz{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new lm(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new my(this._firestore,this._userDataWriter,n.key,n,new lm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new De(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new my(s._firestore,s._userDataWriter,l.doc.key,l.doc,new lm(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new my(s._firestore,s._userDataWriter,l.doc.key,l.doc,new lm(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:aue(l.type),doc:u,oldIndex:d,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function aue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){t=Ds(t,On);const e=Ds(t.firestore,Zl);return Uce(Wb(e),t._key).then(r=>pz(e,t,r))}class a2 extends iue{constructor(e){super(),this.firestore=e}convertBytes(e){return new ff(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,r)}}function oue(t){t=Ds(t,ko);const e=Ds(t.firestore,Zl),r=Wb(e),n=new a2(e);return uz(t._query),zce(r,t._query).then(s=>new mz(e,n,t,s))}function Wn(t,e,r){t=Ds(t,On);const n=Ds(t.firestore,Zl),s=fz(t.converter,e,r);return o2(n,[iz(Yb(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Bi.none())])}function Xy(t,e,r,...n){t=Ds(t,On);const s=Ds(t.firestore,Zl),i=Yb(s);let o;return o=typeof(e=Lr(e))=="string"||e instanceof Gb?Jce(i,"updateDoc",t._key,e,r,n):Xce(i,"updateDoc",t._key,e),o2(s,[o.toMutation(t._key,Bi.exists(!0))])}function py(t,e){const r=Ds(t.firestore,Zl),n=ht(t),s=fz(t.converter,e);return o2(r,[iz(Yb(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Bi.exists(!1))]).then(()=>n)}function lue(t,...e){var r,n,s;t=Lr(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||kM(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kM(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let u,d,h;if(t instanceof On)d=Ds(t.firestore,Zl),h=Mb(t._key.path),u={next:m=>{e[o]&&e[o](pz(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Ds(t,ko);d=Ds(m.firestore,Zl),h=m._query;const p=new a2(d);u={next:x=>{e[o]&&e[o](new mz(d,p,m,x))},error:e[o+1],complete:e[o+2]},uz(t._query)}return function(p,x,_,b){const y=new WC(b),N=new zC(x,y,_);return p.asyncQueue.enqueueAndForget(async()=>VC(await Yy(p),N)),()=>{y.su(),p.asyncQueue.enqueueAndForget(async()=>BC(await Yy(p),N))}}(Wb(d),h,l,u)}function o2(t,e){return function(n,s){const i=new lo;return n.asyncQueue.enqueueAndForget(async()=>kce(await Bce(n),s,i)),i.promise}(Wb(t),e)}function pz(t,e,r){const n=r.docs.get(e._key),s=new a2(t);return new hz(t,s,e._key,n,new lm(r.hasPendingWrites,r.fromCache),e.converter)}function jd(){return new YC("serverTimestamp")}function l2(...t){return new QC("arrayUnion",t)}(function(e,r=!0){(function(s){zf=s})(Bf),Sa(new Wi("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),l=new Zl(new eoe(n.getProvider("auth-internal")),new noe(o,n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new De(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hm(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),si(OO,MO,e),si(OO,MO,"esm2017")})();function cue(t,e=[]){let r=[];function n(i,o){const l=j.createContext(o),u=r.length;r=[...r,o];function d(m){const{scope:p,children:x,..._}=m,b=(p==null?void 0:p[t][u])||l,y=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:y,children:x})}function h(m,p){const x=(p==null?void 0:p[t][u])||l,_=j.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[n,uue(s,...e)]}function uue(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var due=j.createContext(void 0);function Yf(t){const e=j.useContext(due);return t||e||"ltr"}var Y1="rovingFocusGroup.onEntryFocus",fue={bubbles:!1,cancelable:!0},Xb="RovingFocusGroup",[KE,gz,hue]=Mp(Xb),[mue,Jb]=cue(Xb,[hue]),[pue,gue]=mue(Xb),vz=j.forwardRef((t,e)=>a.jsx(KE.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(KE.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(vue,{...t,ref:e})})}));vz.displayName=Xb;var vue=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=t,p=j.useRef(null),x=Ct(e,p),_=Yf(i),[b=null,y]=ds({prop:o,defaultProp:l,onChange:u}),[N,S]=j.useState(!1),T=Gn(d),E=gz(r),C=j.useRef(!1),[O,k]=j.useState(0);return j.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(Y1,T),()=>R.removeEventListener(Y1,T)},[T]),a.jsx(pue,{scope:r,orientation:n,dir:_,loop:s,currentTabStopId:b,onItemFocus:j.useCallback(R=>y(R),[y]),onItemShiftTab:j.useCallback(()=>S(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>k(R=>R-1),[]),children:a.jsx(qe.div,{tabIndex:N||O===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...t.style},onMouseDown:Ue(t.onMouseDown,()=>{C.current=!0}),onFocus:Ue(t.onFocus,R=>{const M=!C.current;if(R.target===R.currentTarget&&M&&!N){const V=new CustomEvent(Y1,fue);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const $=E().filter(q=>q.focusable),D=$.find(q=>q.active),L=$.find(q=>q.id===b),G=[D,L,...$].filter(Boolean).map(q=>q.ref.current);bz(G,h)}}C.current=!1}),onBlur:Ue(t.onBlur,()=>S(!1))})})}),yz="RovingFocusGroupItem",xz=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=t,l=$i(),u=i||l,d=gue(yz,r),h=d.currentTabStopId===u,m=gz(r),{onFocusableItemAdd:p,onFocusableItemRemove:x}=d;return j.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),a.jsx(KE.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(qe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Ue(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:Ue(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ue(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=bue(_,d.orientation,d.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const S=N.indexOf(_.currentTarget);N=d.loop?wue(N,S+1):N.slice(S+1)}setTimeout(()=>bz(N))}})})})});xz.displayName=yz;var yue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bue(t,e,r){const n=xue(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return yue[n]}function bz(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function wue(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var wz=vz,_z=xz,c2="Tabs",[_ue,QTe]=$s(c2,[Jb]),jz=Jb(),[jue,u2]=_ue(c2),Sz=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,h=Yf(l),[m,p]=ds({prop:n,onChange:s,defaultProp:i});return a.jsx(jue,{scope:r,baseId:$i(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:u,children:a.jsx(qe.div,{dir:h,"data-orientation":o,...d,ref:e})})});Sz.displayName=c2;var Nz="TabsList",Ez=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=u2(Nz,r),o=jz(r);return a.jsx(wz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Ez.displayName=Nz;var Az="TabsTrigger",Tz=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=u2(Az,r),l=jz(r),u=Pz(o.baseId,n),d=Iz(o.baseId,n),h=n===o.value;return a.jsx(_z,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:Ue(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Ue(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Ue(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(n)})})})});Tz.displayName=Az;var Cz="TabsContent",kz=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,l=u2(Cz,r),u=Pz(l.baseId,n),d=Iz(l.baseId,n),h=n===l.value,m=j.useRef(h);return j.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Ca,{present:s||h,children:({present:p})=>a.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});kz.displayName=Cz;function Pz(t,e){return`${t}-trigger-${e}`}function Iz(t,e){return`${t}-content-${e}`}var Sue=Sz,Rz=Ez,Oz=Tz,Mz=kz;const oi=Sue,Ls=j.forwardRef(({className:t,...e},r)=>a.jsx(Rz,{ref:r,className:Qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ls.displayName=Rz.displayName;const jt=j.forwardRef(({className:t,...e},r)=>a.jsx(Oz,{ref:r,className:Qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));jt.displayName=Oz.displayName;const Bt=j.forwardRef(({className:t,...e},r)=>a.jsx(Mz,{ref:r,className:Qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Bt.displayName=Mz.displayName;const Nue=sb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:t,variant:e,...r}){return a.jsx("div",{className:Qe(Nue({variant:e}),t),...r})}function Xp(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var d2="Switch",[Eue,XTe]=$s(d2),[Aue,Tue]=Eue(d2),Dz=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:d,form:h,...m}=t,[p,x]=j.useState(null),_=Ct(e,T=>x(T)),b=j.useRef(!1),y=p?h||!!p.closest("form"):!0,[N=!1,S]=ds({prop:s,defaultProp:i,onChange:d});return a.jsxs(Aue,{scope:r,checked:N,disabled:l,children:[a.jsx(qe.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":$z(N),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:_,onClick:Ue(t.onClick,T=>{S(E=>!E),y&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),y&&a.jsx(Cue,{control:p,bubbles:!b.current,name:n,value:u,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Dz.displayName=d2;var Lz="SwitchThumb",Fz=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=Tue(Lz,r);return a.jsx(qe.span,{"data-state":$z(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Fz.displayName=Lz;var Cue=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,i=j.useRef(null),o=Xp(r),l=$p(e);return j.useEffect(()=>{const u=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(p)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $z(t){return t?"checked":"unchecked"}var Vz=Dz,kue=Fz;const Zb=j.forwardRef(({className:t,...e},r)=>a.jsx(Vz,{className:Qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(kue,{className:Qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zb.displayName=Vz.displayName;const Pue=({onIntegrationToggle:t,integrations:e={}})=>{const[r,n]=j.useState(null),s=async l=>{n(l);try{await new Promise(u=>setTimeout(u,1500)),await t(l,!0),console.log(`Successfully connected to ${l}`)}catch(u){console.error(`Error connecting to ${l}:`,u)}finally{n(null)}},i=async l=>{try{await t(l,!1),console.log(`Disconnected from ${l}`)}catch(u){console.error(`Error disconnecting from ${l}:`,u)}},o=[{id:"google_fit",name:"Google Fit",icon:a.jsx(Bl,{className:"h-5 w-5 text-green-500"}),description:"Import steps, activity, and workout data from Google Fit",dataPoints:["Steps","Activity","Workouts","Heart Rate"],apiUrl:"https://developers.google.com/fit/rest/v1/get-started",free:!0},{id:"apple_health",name:"Apple Health",icon:a.jsx(hs,{className:"h-5 w-5 text-red-500"}),description:"Import health data from Apple Health",dataPoints:["Steps","Activity","Workouts","Heart Rate","Sleep"],apiUrl:"https://developer.apple.com/documentation/healthkit",free:!0},{id:"fitbit",name:"Fitbit",icon:a.jsx(uR,{className:"h-5 w-5 text-blue-500"}),description:"Import activity and sleep data from Fitbit",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://dev.fitbit.com/build/reference/web-api/",free:!0},{id:"samsung_health",name:"Samsung Health",icon:a.jsx(A6,{className:"h-5 w-5 text-blue-400"}),description:"Import health data from Samsung Health",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.samsung.com/health/android/overview.html",free:!0},{id:"strava",name:"Strava",icon:a.jsx(BY,{className:"h-5 w-5 text-orange-500"}),description:"Import running and cycling data from Strava",dataPoints:["Runs","Rides","Workouts"],apiUrl:"https://developers.strava.com/",free:!0},{id:"garmin",name:"Garmin Connect",icon:a.jsx(uR,{className:"h-5 w-5 text-purple-500"}),description:"Import activity data from Garmin devices",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.garmin.com/gc-developer-program/overview/",free:!0},{id:"myfitnesspal",name:"MyFitnessPal",icon:a.jsx(sE,{className:"h-5 w-5 text-blue-600"}),description:"Import nutrition and exercise data from MyFitnessPal",dataPoints:["Nutrition","Calories","Exercise"],apiUrl:"https://www.myfitnesspal.com/api",free:!0},{id:"oura",name:"Oura Ring",icon:a.jsx(QY,{className:"h-5 w-5 text-gray-400"}),description:"Import sleep and recovery data from Oura Ring",dataPoints:["Sleep","Readiness","Activity"],apiUrl:"https://cloud.ouraring.com/docs/",free:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Health Data Integrations"}),a.jsx(Le,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal",children:"Beta Feature"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect SafeBite with your favorite health apps and wearables to import your health data and get more personalized recommendations."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(l=>a.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[e[l.id]&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs(Le,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[a.jsx(El,{className:"mr-1 h-3 w-3"}),"Connected"]})}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 p-2 bg-safebite-card-bg-alt rounded-md",children:l.icon}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:l.name}),l.free&&a.jsx(Le,{variant:"outline",className:"ml-2 text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:"Free API"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-2",children:l.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l.dataPoints.map(u=>a.jsx(Le,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:u},u))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zb,{checked:!!e[l.id],onCheckedChange:u=>{u?s(l.id):i(l.id)},disabled:r===l.id,className:"mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:e[l.id]?"Connected":"Disconnected"})]}),a.jsx(Pd,{children:a.jsxs(gm,{children:[a.jsx(vm,{asChild:!0,children:a.jsx(te,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>window.open(l.apiUrl,"_blank"),children:"API Docs"})}),a.jsx(Id,{children:a.jsx("p",{children:"View API documentation"})})]})})]})]})]}),r===l.id&&a.jsx("div",{className:"absolute inset-0 bg-safebite-dark-blue/80 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(cs,{className:"h-8 w-8 text-safebite-teal animate-pulse mx-auto mb-2"}),a.jsxs("p",{className:"text-safebite-text",children:["Connecting to ",l.name,"..."]})]})})]},l.id))}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-card-bg flex items-start",children:[a.jsx(fs,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:"Note:"})," These integrations are currently in beta. To use them, you'll need to set up API keys for each service. The data will be integrated into your dashboard to provide more personalized nutrition recommendations based on your activity levels, sleep patterns, and more."]})})]})]})};class Iue{constructor(){mn(this,"userId",null);mn(this,"db",null);mn(this,"auth",null);mn(this,"activityHistory",[]);mn(this,"userPreferences",{});mn(this,"initialized",!1);this.initialize()}async initialize(){try{if(this.initialized||(this.db=wr(We),this.auth=Ut(We),this.initialized=!0,console.log("Firebase services initialized in mlService")),this.auth){const e=this.auth.currentUser;e&&(this.userId=e.uid,await this.loadUserData()),this.auth.onAuthStateChanged(async r=>{r?(this.userId=r.uid,await this.loadUserData()):(this.userId=null,this.activityHistory=[],this.userPreferences={})})}}catch(e){console.error("Error initializing mlService:",e)}}async loadUserData(){if(!(!this.userId||!this.db))try{const e=ht(this.db,"users",this.userId),r=await sr(e);if(r.exists()){const n=r.data();n.profile&&(this.userPreferences={dietaryPreference:n.profile.dietary_preferences,healthGoal:n.profile.health_goals,activityLevel:n.profile.activity_level,foodPreferences:n.profile.food_preferences||[],allergies:n.profile.allergies||[]}),n.activityHistory&&(this.activityHistory=n.activityHistory)}}catch(e){console.error("Error loading user data:",e)}}async trackActivity(e,r){if(!(!this.userId||!this.db))try{const n={timestamp:Date.now(),action:e,data:r};this.activityHistory.push(n);const s=ht(this.db,"users",this.userId);await Xy(s,{activityHistory:l2(n)}),console.log(`Tracked activity: ${e}`)}catch(n){console.error("Error tracking activity:",n)}}async trackFoodSearch(e,r){await this.trackActivity("food_search",{query:e,selectedItems:r.map(n=>({id:n.id,name:n.name,category:n.category||"unknown"}))})}async trackRecipeSearch(e,r){await this.trackActivity("recipe_search",{query:e,selectedRecipes:r.map(n=>({id:n.id,title:n.title,healthLabels:n.healthLabels||[]}))})}async trackHealthBoxInteraction(e,r){await this.trackActivity("health_box",{boxType:e,action:r})}async trackPreferenceChange(e,r){await this.trackActivity("preference_change",{preference:e,value:r})}getDefaultRecommendations(){return["Spinach","Chicken Breast","Brown Rice","Greek Yogurt","Almonds"]}getCategoryRecommendations(e){switch(e){case"protein":return["Chicken Breast","Tofu","Lentils","Salmon","Greek Yogurt"];case"carbs":return["Brown Rice","Quinoa","Sweet Potato","Oats","Whole Wheat Bread"];case"vegetables":return["Spinach","Broccoli","Kale","Bell Peppers","Carrots"];case"fruits":return["Blueberries","Apples","Bananas","Oranges","Strawberries"];case"dairy":return["Greek Yogurt","Cottage Cheese","Milk","Cheese","Kefir"];default:return this.getDefaultRecommendations()}}getHealthGoalRecommendations(e){const r=e.toLowerCase();return r.includes("weight loss")?["Leafy Greens","Lean Protein","Berries","Green Tea","Chia Seeds"]:r.includes("muscle")||r.includes("gain")?["Chicken Breast","Eggs","Salmon","Greek Yogurt","Quinoa"]:r.includes("health")?["Spinach","Blueberries","Salmon","Walnuts","Sweet Potatoes"]:this.getDefaultRecommendations()}async getFoodRecommendations(){if(!this.initialized||!this.userId||!this.db)return this.getDefaultRecommendations();try{const e=[];if(this.userPreferences.dietaryPreference){const r=this.userPreferences.dietaryPreference.toLowerCase();r.includes("vegetarian")?e.push("Tofu","Lentils","Chickpeas"):r.includes("vegan")?e.push("Tofu","Tempeh","Nutritional Yeast"):r.includes("keto")?e.push("Avocado","Eggs","Salmon"):e.push("Chicken Breast","Salmon","Eggs")}if(this.userPreferences.healthGoal){const r=this.getHealthGoalRecommendations(this.userPreferences.healthGoal);e.push(...r.slice(0,2))}if(this.userPreferences.foodPreferences&&this.userPreferences.foodPreferences.length>0){const r=Math.floor(Math.random()*this.userPreferences.foodPreferences.length),n=this.userPreferences.foodPreferences[r].toLowerCase();n.includes("indian")?e.push("Lentils","Chickpeas","Basmati Rice"):n.includes("italian")?e.push("Whole Wheat Pasta","Tomatoes","Olive Oil"):n.includes("chinese")?e.push("Bok Choy","Brown Rice","Shiitake Mushrooms"):n.includes("mexican")&&e.push("Black Beans","Avocado","Bell Peppers")}return[...new Set(e)].slice(0,5)}catch(e){return console.error("Error getting food recommendations:",e),this.getDefaultRecommendations()}}}const e0=new Iue,RM=(t,e)=>e0.trackRecipeSearch(t,e),ri=(t,e)=>e0.trackHealthBoxInteraction(t,e),Hh=(t,e)=>e0.trackPreferenceChange(t,e),Jy=async(t,e={})=>{try{await e0.trackActivity(t,e),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}},Rue="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",Oue="https://api.calorieninjas.com/v1";let cm={calorieNinjas:{name:"CalorieNinjas",isAvailable:!0,lastChecked:new Date},fatSecret:{name:"FatSecret",isAvailable:!0,lastChecked:new Date}};const Bz=()=>cm,Mue=async t=>{try{const e=await fetch(`${Oue}/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":Rue,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const r=await e.json();return cm.calorieNinjas.isAvailable=!0,cm.calorieNinjas.lastChecked=new Date,r.items.map((n,s)=>({id:`cn-${s}-${Date.now()}`,name:n.name,calories:n.calories,serving_size:`${n.serving_size_g}g`,nutrients:{protein:n.protein_g,carbs:n.carbohydrates_total_g,fat:n.fat_total_g,fiber:n.fiber_g,sugar:n.sugar_g,sodium:n.sodium_mg},source:"CalorieNinjas"}))}catch(e){return console.error("Error searching CalorieNinjas:",e),cm.calorieNinjas.isAvailable=!1,cm.calorieNinjas.lastChecked=new Date,[]}},Due=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState([]),[u,d]=j.useState([]),[h,m]=j.useState(!1),[p,x]=j.useState(!1),[_,b]=j.useState({}),[y,N]=j.useState(!1),[S,T]=j.useState(!1),[E,C]=j.useState({useCalorieNinjas:!0,useFatSecret:!0,useEdamam:!0,saveSearchHistory:!0,preferredApi:"all"}),[O,k]=j.useState(Bz()),R=Ut(We),M=wr(We),V=R.currentUser,{toast:$}=ir();Kn(),j.useEffect(()=>{(async()=>{var Z,me,pe,fe,we,ce,be,Ee,ue;if(V){const Ke=ht(M,"users",V.uid);try{const Ve=await sr(Ke);if(Ve.exists()){const Ge=Ve.data();e(((Z=Ge.profile)==null?void 0:Z.health_goals)||""),n(((me=Ge.profile)==null?void 0:me.dietary_preferences)||""),i(((pe=Ge.profile)==null?void 0:pe.activity_level)||""),l(((fe=Ge.profile)==null?void 0:fe.food_preferences)||[]),d(((we=Ge.profile)==null?void 0:we.allergies)||[]),m(((ce=Ge.profile)==null?void 0:ce.notificationsEnabled)||!1),x(((be=Ge.profile)==null?void 0:be.foodSafetyAlertsEnabled)||!1),b(Ge.healthIntegrations||{}),N(((Ee=Ge.profile)==null?void 0:Ee.communityEnabled)||!1),T(((ue=Ge.profile)==null?void 0:ue.shareHealthData)||!1),Ge.apiSettings&&C(Ge.apiSettings)}else console.log("No such document!")}catch(Ve){console.error("Error fetching user profile:",Ve)}}})()},[V,M]);const D=async re=>{const Z=re.target.value;e(Z),await H({health_goals:Z}),Hh("health_goals",Z)},L=async re=>{const Z=re.target.checked;m(Z),await H({notificationsEnabled:Z})},B=async re=>{const Z=re.target.checked;x(Z),await H({foodSafetyAlertsEnabled:Z})},G=async re=>{const Z=re.target.value;n(Z),await H({dietary_preferences:Z}),Hh("dietary_preferences",Z)},q=async re=>{const Z=re.target.value;i(Z),await H({activity_level:Z}),Hh("activity_level",Z)},Y=async re=>{let Z;o.includes(re)?Z=o.filter(me=>me!==re):Z=[...o,re],l(Z),await H({food_preferences:Z}),Hh("food_preferences",Z)},z=async re=>{let Z;u.includes(re)?Z=u.filter(me=>me!==re):Z=[...u,re],d(Z),await H({allergies:Z}),Hh("allergies",Z)},J=async re=>{const Z=re.target.checked;N(Z),await H({communityEnabled:Z})},ne=async re=>{const Z=re.target.checked;T(Z),await H({shareHealthData:Z})},H=async re=>{if(V){const Z=ht(M,"users",V.uid);try{await Wn(Z,{profile:re},{merge:!0}),$({title:"Settings Updated",description:"Your settings have been updated."})}catch(me){$({title:"Error updating settings",description:me.message,variant:"destructive"}),console.error("Error updating user profile:",me)}}},Q=async(re,Z)=>{if(V){const me=ht(M,"users",V.uid);try{const pe={..._,[re]:Z};b(pe),await Wn(me,{healthIntegrations:pe},{merge:!0}),$({title:Z?"Integration Connected":"Integration Disconnected",description:`Successfully ${Z?"connected to":"disconnected from"} the health service.`})}catch(pe){$({title:"Error updating integration",description:pe.message,variant:"destructive"}),console.error("Error updating health integration:",pe)}}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Qi,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-4",children:"Settings"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Here you can manage your preferences and other settings."}),a.jsxs(oi,{defaultValue:"preferences",className:"w-full",children:[a.jsxs(Ls,{className:"grid grid-cols-5 mb-8",children:[a.jsxs(jt,{value:"preferences",className:"flex items-center",children:[a.jsx(JY,{className:"mr-2 h-4 w-4"}),"Preferences"]}),a.jsxs(jt,{value:"notifications",className:"flex items-center",children:[a.jsx(ib,{className:"mr-2 h-4 w-4"}),"Notifications"]}),a.jsxs(jt,{value:"community",className:"flex items-center",children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Community"]}),a.jsxs(jt,{value:"integrations",className:"flex items-center",children:[a.jsx(Bl,{className:"mr-2 h-4 w-4"}),"Health Data"]}),a.jsxs(jt,{value:"api",className:"flex items-center",children:[a.jsx(ou,{className:"mr-2 h-4 w-4"}),"API Settings"]})]}),a.jsx(Bt,{value:"preferences",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Health Goal"}),a.jsxs("select",{className:"sci-fi-input w-full",value:t,onChange:D,children:[a.jsx("option",{value:"",children:"Select a goal"}),a.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),a.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),a.jsx("option",{value:"General Health",children:"General Health"}),a.jsx("option",{value:"No Goal",children:"No Goal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Dietary Preference"}),a.jsxs("select",{className:"sci-fi-input w-full",value:r,onChange:G,children:[a.jsx("option",{value:"",children:"Select a preference"}),a.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),a.jsx("option",{value:"Vegan",children:"Vegan"}),a.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),a.jsx("option",{value:"Pescatarian",children:"Pescatarian"}),a.jsx("option",{value:"Keto",children:"Keto"}),a.jsx("option",{value:"Paleo",children:"Paleo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Activity Level"}),a.jsxs("select",{className:"sci-fi-input w-full",value:s,onChange:q,children:[a.jsx("option",{value:"",children:"Select activity level"}),a.jsx("option",{value:"Sedentary",children:"Sedentary (little or no exercise)"}),a.jsx("option",{value:"Light",children:"Light (exercise 1-3 days/week)"}),a.jsx("option",{value:"Moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx("option",{value:"Active",children:"Active (exercise 6-7 days/week)"}),a.jsx("option",{value:"Very Active",children:"Very Active (intense exercise daily)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Food Preferences"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American"].map(re=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`pref-${re}`,checked:o.includes(re),onChange:()=>Y(re),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`pref-${re}`,className:"ml-2 text-safebite-text",children:re})]},re))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Allergies & Intolerances"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Gluten","Dairy","Nuts","Eggs","Soy","Shellfish","Fish","Wheat"].map(re=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`allergy-${re}`,checked:u.includes(re),onChange:()=>z(re),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`allergy-${re}`,className:"ml-2 text-safebite-text",children:re})]},re))})]})]})]})}),a.jsx(Bt,{value:"notifications",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Notifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"App Notifications"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Receive notifications about your health goals and progress"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:h,onChange:L})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Food Safety Alerts"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Get alerts about food safety issues for products you've searched"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:p,onChange:B})]})]})]})}),a.jsx(Bt,{value:"community",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Community Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Enable Community Features"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Allow sharing and viewing community-contributed food products"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:y,onChange:J})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Share Health Data"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Share anonymized health data to help improve recommendations"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:S,onChange:ne})]}),a.jsxs("div",{className:"p-4 sci-fi-card",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Community Contribution"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"You can contribute to the SafeBite community by sharing food products you've scanned or reviewed."}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"1"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Scan or search for a food product"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"2"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Add your review or additional information"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"3"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Share with the community"})]})]})]})]})]})}),a.jsx(Bt,{value:"integrations",className:"space-y-6",children:a.jsx(Pue,{onIntegrationToggle:Q,integrations:_})}),a.jsx(Bt,{value:"api",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"API Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Re,{className:"sci-fi-card",children:[a.jsxs(_t,{children:[a.jsxs(yt,{className:"flex items-center",children:[a.jsx(ou,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Data Sources"]}),a.jsx(Wl,{children:"Configure which nutrition data APIs to use for food searches"})]}),a.jsxs(ct,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Le,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"CalorieNinjas API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides detailed nutrition data for most food items"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:E.useCalorieNinjas,onChange:()=>handleApiToggle("useCalorieNinjas")})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Le,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"FatSecret API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides branded food products and restaurant meals"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:E.useFatSecret,onChange:()=>handleApiToggle("useFatSecret")})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Le,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"Edamam API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides recipe nutrition data and food database"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:E.useEdamam,onChange:()=>handleApiToggle("useEdamam")})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Le,{className:"mr-2 bg-orange-500/20 text-orange-500 border-orange-500",children:"Coming Soon"}),"OpenFoodFacts API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Open source food products database with barcode scanning"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:!1,disabled:!0})]})]})]}),a.jsxs(Re,{className:"sci-fi-card",children:[a.jsxs(_t,{children:[a.jsxs(yt,{className:"flex items-center",children:[a.jsx(cs,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"API Performance"]}),a.jsx(Wl,{children:"Monitor API status and performance"})]}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"CalorieNinjas API"}),a.jsx(Le,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"FatSecret API"}),a.jsx(Le,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"Edamam API"}),a.jsx(Le,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"MongoDB Connection"}),a.jsx(Le,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Connected"})]})]})})]})]})]})})]})]})})]})},xt=j.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:Qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));xt.displayName="Input";var Lue="Label",Uz=j.forwardRef((t,e)=>a.jsx(qe.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Uz.displayName=Lue;var zz=Uz;const Fue=sb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),it=j.forwardRef(({className:t,...e},r)=>a.jsx(zz,{ref:r,className:Qe(Fue(),t),...e}));it.displayName=zz.displayName;const ro=({size:t="md",text:e,className:r=""})=>{const n={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-16 w-16 border-4"};return a.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[a.jsx("div",{className:`animate-spin rounded-full border-t-transparent border-safebite-teal ${n[t]}`,"aria-label":"Loading"}),e&&a.jsx("p",{className:"mt-3 text-safebite-text-secondary",children:e})]})};class $ue{constructor(){mn(this,"auth",Ut(We))}async signInAsGuest(e){try{const r=localStorage.getItem("userType")==="guest";if(r&&!e){console.log("Already in guest mode, no need to sign in again");return}const n=r&&localStorage.getItem("guestId")||"guest_"+Math.random().toString(36).substring(2,15);localStorage.setItem("userType","guest"),sessionStorage.setItem("safebite-guest-mode","true"),localStorage.setItem("guestId",n);const s=Pb(),i=e||s||"Guest User";(e||!s)&&DU(i);const o={displayName:i,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"dark",notifications:!1},healthData:{healthScore:75,weeklyProgress:[65,68,70,72,75],nutritionGoals:{calories:2e3,protein:100,carbs:250,fat:65}}};sessionStorage.setItem("guestUserData",JSON.stringify(o)),localStorage.setItem("guestNameSet","true"),console.log("Guest login successful",n,"with name",i);return}catch(r){throw console.error("Error setting up guest mode:",r),r}}isGuestUser(){return localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"}getGuestUserData(){const e=sessionStorage.getItem("guestUserData");return e?JSON.parse(e):null}updateGuestUserData(e){const n={...this.getGuestUserData()||{displayName:"Guest User",createdAt:new Date,lastLoginAt:new Date,preferences:{},healthData:{}},...e,lastLoginAt:new Date};sessionStorage.setItem("guestUserData",JSON.stringify(n))}exitGuestMode(){localStorage.removeItem("userType"),localStorage.removeItem("guestId"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),console.log("Exited guest mode")}async convertGuestToPermanent(e,r){throw console.log("Converting guest to permanent account is not implemented yet"),new Error("Not implemented")}}const YE=new $ue,Vue=({open:t,onClose:e})=>{const[r,n]=j.useState(""),s=i=>{i.preventDefault();const o=r.trim()||"Guest User";DU(o),e(o)};return a.jsx(Ld,{open:t,onOpenChange:i=>!i&&e(),children:a.jsxs(tu,{className:"sm:max-w-md",children:[a.jsxs(ru,{children:[a.jsxs(nu,{className:"flex items-center",children:[a.jsx(_u,{className:"mr-2 h-5 w-5"}),"Welcome to SafeBite"]}),a.jsx(nf,{children:"Please enter your name to continue as a guest user. Your data will not be saved permanently."})]}),a.jsxs("form",{onSubmit:s,children:[a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(it,{htmlFor:"name",className:"text-right",children:"Name"}),a.jsx(xt,{id:"name",placeholder:"Your name",value:r,onChange:i=>n(i.target.value),className:"col-span-3",autoFocus:!0})]})}),a.jsx(RU,{children:a.jsx(te,{type:"submit",children:"Continue as Guest"})})]})]})})},Bue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(!1),[o,l]=j.useState(!1),[u,d]=j.useState(!1),[h,m]=j.useState(!1),p=_r(),x=Co(),{toast:_}=ir(),b=Ut(We);j.useEffect(()=>{new URLSearchParams(x.search).get("guest")==="true"&&d(!0)},[x]);const y=async C=>{C.preventDefault(),l(!0);try{await Kre(b,t,r),_({title:"Login successful",description:"Welcome back to SafeBite!"}),p("/dashboard")}catch(O){console.error("Login error:",O),_({title:"Login failed",description:O.message,variant:"destructive"})}finally{l(!1)}},N=async()=>{l(!0);const C=new Oi;try{await oC(b,C),_({title:"Google login successful",description:"Welcome to SafeBite!"}),p("/dashboard")}catch(O){console.error("Google login error:",O),_({title:"Google login failed",description:O.message,variant:"destructive"})}finally{l(!1)}},S=async()=>{const C=Pb();if(C){l(!0);try{await YE.signInAsGuest(C),_({title:"Welcome back, "+C,description:"You're continuing your guest session."}),p("/dashboard")}catch(O){console.error("Guest login error:",O),_({title:"Guest login failed",description:O.message,variant:"destructive"})}finally{l(!1)}}else m(!0)},T=async C=>{if(m(!1),!!C){l(!0);try{await YE.signInAsGuest(C),_({title:"Welcome, "+C,description:"You're now using SafeBite in guest mode. Your data won't be saved permanently."}),p("/dashboard")}catch(O){console.error("Guest login error:",O),_({title:"Guest login failed",description:O.message,variant:"destructive"})}finally{l(!1)}}},E=()=>{d(!u)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:[a.jsxs(Re,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"SafeBite"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign in to access your health dashboard"})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(it,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zd,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"email",placeholder:"your.email@example.com",type:"email",className:"sci-fi-input pl-10",value:t,onChange:C=>e(C.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx(it,{htmlFor:"password",children:"Password"}),a.jsx(qt,{to:"/auth/forgot-password",className:"text-xs text-safebite-teal hover:text-safebite-teal/80",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(eu,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"password",placeholder:"",type:s?"text":"password",className:"sci-fi-input pl-10",value:r,onChange:C=>n(C.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5",children:s?a.jsx(FY,{className:"h-5 w-5 text-safebite-text-secondary"}):a.jsx($Y,{className:"h-5 w-5 text-safebite-text-secondary"})})]})]}),a.jsxs(te,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o,children:[o?a.jsx(ro,{size:"sm",className:"mr-2"}):null,"Sign In"]})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-safebite-card-bg-alt"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-safebite-card-bg px-2 text-safebite-text-secondary",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(te,{variant:"outline",className:"sci-fi-button",onClick:N,disabled:o,children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),a.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),a.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),a.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),"Google"]}),a.jsxs(te,{variant:"outline",className:"sci-fi-button",onClick:S,disabled:o,children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Guest"]})]}),u&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ho,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Don't have an account? "}),a.jsxs("button",{onClick:E,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(ho,{className:"h-3 w-3 mr-1"}),u?"Hide":"About"," guest mode"]})]}),a.jsx("div",{className:"flex justify-center space-x-4",children:a.jsx(qt,{to:"/auth/signup",className:"text-safebite-teal hover:text-safebite-teal/80",children:"Sign up"})})]})]}),a.jsx(Vue,{open:h,onClose:T})]})},Uue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,d]=j.useState(!1),[h,m]=j.useState(""),[p,x]=j.useState(!1),_=_r(),{toast:b}=ir(),y=Ut(We),N=()=>{x(!p)},S=async C=>{if(C.preventDefault(),!t||!r||!s||!o){m("Please fill in all fields");return}if(s!==o){m("Passwords do not match");return}if(s.length<6){m("Password must be at least 6 characters long");return}d(!0),m("");try{await Gre(y,r,s),b({title:"Account created",description:"Welcome to SafeBite! Please answer a few questions to personalize your experience."}),_("/questionnaire")}catch(O){console.error("Signup error:",O),m(O.message)}finally{d(!1)}},T=async()=>{d(!0),m("");const C=new Oi;try{await oC(y,C),b({title:"Account created",description:"Welcome to SafeBite! Let's get started with some questions."}),_("/questionnaire")}catch(O){console.error("Google signup error:",O),m(O.message)}finally{d(!1)}},E=async()=>{d(!0),m("");try{await YE.signInAsGuest(),b({title:"Guest login successful",description:"You're now using SafeBite in guest mode. Your data won't be saved."}),_("/dashboard")}catch(C){console.error("Guest login error:",C),m(C.message)}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Create Account"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Join SafeBite and start your health journey"})]}),a.jsxs("div",{className:"sci-fi-card",children:[h&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(fs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:h})]}),a.jsx("form",{onSubmit:S,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(it,{htmlFor:"name",className:"text-safebite-text",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(lu,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:C=>e(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(it,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zd,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:C=>n(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(it,{htmlFor:"password",className:"text-safebite-text",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(eu,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"password",type:"password",placeholder:"Create a password",value:s,onChange:C=>i(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(it,{htmlFor:"confirm-password",className:"text-safebite-text",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(eu,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:o,onChange:C=>l(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsx(te,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:u,children:u?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(T6,{className:"mr-2 h-5 w-5"}),"Create Account"]})}),a.jsx(hC,{className:"my-6 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(te,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:T,disabled:u,children:[a.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),a.jsxs(te,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:E,disabled:u,children:[a.jsx(_u,{className:"mr-2 h-5 w-5"}),"Guest"]})]}),p&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ho,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})})]})})]}),a.jsxs("div",{className:"text-center mt-6",children:[a.jsx("div",{className:"flex justify-center items-center mb-2",children:a.jsxs("button",{onClick:N,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(ho,{className:"h-3 w-3 mr-1"}),p?"Hide":"About"," guest mode"]})}),a.jsxs("p",{className:"text-safebite-text-secondary",children:["Already have an account?"," ",a.jsx(qt,{to:"/auth/login",className:"text-safebite-teal hover:underline",children:"Sign in"})]})]})]})})},zue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(!1),[s,i]=j.useState(!1),[o,l]=j.useState(""),{toast:u}=ir(),d=async h=>{if(h.preventDefault(),!t){l("Please enter your email");return}n(!0),l("");try{setTimeout(()=>{console.log("Password reset email sent to:",t),i(!0),u({title:"Reset link sent",description:"If your email exists in our system, you'll receive a reset link shortly."})},1500)}catch(m){console.error("Password reset error:",m),l("Failed to send reset link. Please try again.")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Forgot Password"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We'll send you a link to reset your password"})]}),a.jsxs("div",{className:"sci-fi-card",children:[o&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(fs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:o})]}),s?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 text-green-400 mb-4",children:a.jsx(Zd,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text",children:"Check Your Email"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["We've sent a password reset link to ",a.jsx("span",{className:"text-safebite-teal",children:t}),". Follow the instructions in the email to reset your password."]}),a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:()=>i(!1),children:"Back to Reset"})]}):a.jsx("form",{onSubmit:d,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(it,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zd,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:h=>e(h.target.value),className:"sci-fi-input pl-10",disabled:r})]})]}),a.jsx(te,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:r,children:r?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send Reset Link"})]})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs(qt,{to:"/auth/login",className:"inline-flex items-center text-safebite-teal hover:underline",children:[a.jsx(TT,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})};function que(t,e=[]){let r=[];function n(i,o){const l=j.createContext(o),u=r.length;r=[...r,o];function d(m){const{scope:p,children:x,..._}=m,b=(p==null?void 0:p[t][u])||l,y=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:y,children:x})}function h(m,p){const x=(p==null?void 0:p[t][u])||l,_=j.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[n,Hue(s,...e)]}function Hue(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var f2="Progress",h2=100,[Wue,JTe]=que(f2),[Gue,Kue]=Wue(f2),qz=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Yue,...o}=t;(s||s===0)&&!OM(s)&&console.error(Que(`${s}`,"Progress"));const l=OM(s)?s:h2;n!==null&&!MM(n,l)&&console.error(Xue(`${n}`,"Progress"));const u=MM(n,l)?n:null,d=Zy(u)?i(u,l):void 0;return a.jsx(Gue,{scope:r,value:u,max:l,children:a.jsx(qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zy(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":Gz(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});qz.displayName=f2;var Hz="ProgressIndicator",Wz=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=Kue(Hz,r);return a.jsx(qe.div,{"data-state":Gz(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});Wz.displayName=Hz;function Yue(t,e){return`${Math.round(t/e*100)}%`}function Gz(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zy(t){return typeof t=="number"}function OM(t){return Zy(t)&&!isNaN(t)&&t>0}function MM(t,e){return Zy(t)&&!isNaN(t)&&t<=e&&t>=0}function Que(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h2}\`.`}function Xue(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kz=qz,Jue=Wz;const Qm=j.forwardRef(({className:t,value:e,...r},n)=>a.jsx(Kz,{ref:n,className:Qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Jue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Qm.displayName=Kz.displayName;var m2="Radio",[Zue,Yz]=$s(m2),[ede,tde]=Zue(m2),Qz=j.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:u,form:d,...h}=t,[m,p]=j.useState(null),x=Ct(e,y=>p(y)),_=j.useRef(!1),b=m?d||!!m.closest("form"):!0;return a.jsxs(ede,{scope:r,checked:s,disabled:o,children:[a.jsx(qe.button,{type:"button",role:"radio","aria-checked":s,"data-state":Zz(s),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:x,onClick:Ue(t.onClick,y=>{s||u==null||u(),b&&(_.current=y.isPropagationStopped(),_.current||y.stopPropagation())})}),b&&a.jsx(rde,{control:m,bubbles:!_.current,name:n,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Qz.displayName=m2;var Xz="RadioIndicator",Jz=j.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,i=tde(Xz,r);return a.jsx(Ca,{present:n||i.checked,children:a.jsx(qe.span,{"data-state":Zz(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});Jz.displayName=Xz;var rde=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,i=j.useRef(null),o=Xp(r),l=$p(e);return j.useEffect(()=>{const u=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(p)}},[o,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zz(t){return t?"checked":"unchecked"}var nde=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],p2="RadioGroup",[sde,ZTe]=$s(p2,[Jb,Yz]),e9=Jb(),t9=Yz(),[ide,ade]=sde(p2),r9=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:u,dir:d,loop:h=!0,onValueChange:m,...p}=t,x=e9(r),_=Yf(d),[b,y]=ds({prop:i,defaultProp:s,onChange:m});return a.jsx(ide,{scope:r,name:n,required:o,disabled:l,value:b,onValueChange:y,children:a.jsx(wz,{asChild:!0,...x,orientation:u,dir:_,loop:h,children:a.jsx(qe.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:_,...p,ref:e})})})});r9.displayName=p2;var n9="RadioGroupItem",s9=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,i=ade(n9,r),o=i.disabled||n,l=e9(r),u=t9(r),d=j.useRef(null),h=Ct(e,d),m=i.value===s.value,p=j.useRef(!1);return j.useEffect(()=>{const x=b=>{nde.includes(b.key)&&(p.current=!0)},_=()=>p.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",_)}},[]),a.jsx(_z,{asChild:!0,...l,focusable:!o,active:m,children:a.jsx(Qz,{disabled:o,required:i.required,checked:m,...u,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ue(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Ue(s.onFocus,()=>{var x;p.current&&((x=d.current)==null||x.click())})})})});s9.displayName=n9;var ode="RadioGroupIndicator",i9=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=t9(r);return a.jsx(Jz,{...s,...n,ref:e})});i9.displayName=ode;var a9=r9,o9=s9,lde=i9;const g2=j.forwardRef(({className:t,...e},r)=>a.jsx(a9,{className:Qe("grid gap-2",t),...e,ref:r}));g2.displayName=a9.displayName;const Bc=j.forwardRef(({className:t,...e},r)=>a.jsx(o9,{ref:r,className:Qe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(lde,{className:"flex items-center justify-center",children:a.jsx(OY,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Bc.displayName=o9.displayName;function ex(t,[e,r]){return Math.min(r,Math.max(e,t))}var l9=["PageUp","PageDown"],c9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],u9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qf="Slider",[QE,cde,ude]=Mp(Qf),[d9,eCe]=$s(Qf,[ude]),[dde,t0]=d9(Qf),f9=j.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[n],value:h,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:x=!1,form:_,...b}=t,y=j.useRef(new Set),N=j.useRef(0),T=o==="horizontal"?fde:hde,[E=[],C]=ds({prop:h,defaultProp:d,onChange:$=>{var L;(L=[...y.current][N.current])==null||L.focus(),m($)}}),O=j.useRef(E);function k($){const D=yde(E,$);V($,D)}function R($){V($,N.current)}function M(){const $=O.current[N.current];E[N.current]!==$&&p(E)}function V($,D,{commit:L}={commit:!1}){const B=_de(i),G=jde(Math.round(($-n)/i)*i+n,B),q=ex(G,[n,s]);C((Y=[])=>{const z=gde(Y,q,D);if(wde(z,u*i)){N.current=z.indexOf(q);const J=String(z)!==String(Y);return J&&L&&p(z),J?z:Y}else return Y})}return a.jsx(dde,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:N,thumbs:y.current,values:E,orientation:o,form:_,children:a.jsx(QE.Provider,{scope:t.__scopeSlider,children:a.jsx(QE.Slot,{scope:t.__scopeSlider,children:a.jsx(T,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:Ue(b.onPointerDown,()=>{l||(O.current=E)}),min:n,max:s,inverted:x,onSlideStart:l?void 0:k,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&V(n,0,{commit:!0}),onEndKeyDown:()=>!l&&V(s,E.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:D})=>{if(!l){const G=l9.includes($.key)||$.shiftKey&&c9.includes($.key)?10:1,q=N.current,Y=E[q],z=i*G*D;V(Y+z,q,{commit:!0})}}})})})})});f9.displayName=Qf;var[h9,m9]=d9(Qf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fde=j.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...h}=t,[m,p]=j.useState(null),x=Ct(e,T=>p(T)),_=j.useRef(),b=Yf(s),y=b==="ltr",N=y&&!i||!y&&i;function S(T){const E=_.current||m.getBoundingClientRect(),C=[0,E.width],k=v2(C,N?[r,n]:[n,r]);return _.current=E,k(T-E.left)}return a.jsx(h9,{scope:t.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:a.jsx(p9,{dir:b,"data-orientation":"horizontal",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const E=S(T.clientX);o==null||o(E)},onSlideMove:T=>{const E=S(T.clientX);l==null||l(E)},onSlideEnd:()=>{_.current=void 0,u==null||u()},onStepKeyDown:T=>{const C=u9[N?"from-left":"from-right"].includes(T.key);d==null||d({event:T,direction:C?-1:1})}})})}),hde=j.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...d}=t,h=j.useRef(null),m=Ct(e,h),p=j.useRef(),x=!s;function _(b){const y=p.current||h.current.getBoundingClientRect(),N=[0,y.height],T=v2(N,x?[n,r]:[r,n]);return p.current=y,T(b-y.top)}return a.jsx(h9,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:a.jsx(p9,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const y=_(b.clientY);i==null||i(y)},onSlideMove:b=>{const y=_(b.clientY);o==null||o(y)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:b=>{const N=u9[x?"from-bottom":"from-top"].includes(b.key);u==null||u({event:b,direction:N?-1:1})}})})}),p9=j.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:u,...d}=t,h=t0(Qf,r);return a.jsx(qe.span,{...d,ref:e,onKeyDown:Ue(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):l9.concat(c9).includes(m.key)&&(u(m),m.preventDefault())}),onPointerDown:Ue(t.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(p)?p.focus():n(m)}),onPointerMove:Ue(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:Ue(t.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),i(m))})})}),g9="SliderTrack",v9=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=t0(g9,r);return a.jsx(qe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});v9.displayName=g9;var XE="SliderRange",y9=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=t0(XE,r),i=m9(XE,r),o=j.useRef(null),l=Ct(e,o),u=s.values.length,d=s.values.map(p=>b9(p,s.min,s.max)),h=u>1?Math.min(...d):0,m=100-Math.max(...d);return a.jsx(qe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[i.startEdge]:h+"%",[i.endEdge]:m+"%"}})});y9.displayName=XE;var JE="SliderThumb",x9=j.forwardRef((t,e)=>{const r=cde(t.__scopeSlider),[n,s]=j.useState(null),i=Ct(e,l=>s(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(mde,{...t,ref:i,index:o})}),mde=j.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...i}=t,o=t0(JE,r),l=m9(JE,r),[u,d]=j.useState(null),h=Ct(e,S=>d(S)),m=u?o.form||!!u.closest("form"):!0,p=$p(u),x=o.values[n],_=x===void 0?0:b9(x,o.min,o.max),b=vde(n,o.values.length),y=p==null?void 0:p[l.size],N=y?xde(y,_,l.direction):0;return j.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${_}% + ${N}px)`},children:[a.jsx(QE.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(qe.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:x===void 0?{display:"none"}:t.style,onFocus:Ue(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&a.jsx(pde,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:x},n)]})});x9.displayName=JE;var pde=t=>{const{value:e,...r}=t,n=j.useRef(null),s=Xp(e);return j.useEffect(()=>{const i=n.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&u){const d=new Event("input",{bubbles:!0});u.call(i,e),i.dispatchEvent(d)}},[s,e]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function gde(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,i)=>s-i)}function b9(t,e,r){const i=100/(r-e)*(t-e);return ex(i,[0,100])}function vde(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function yde(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function xde(t,e,r){const n=t/2,i=v2([0,50],[0,n]);return(n-i(e)*r)*r}function bde(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function wde(t,e){if(e>0){const r=bde(t);return Math.min(...r)>=e}return!0}function v2(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function _de(t){return(String(t).split(".")[1]||"").length}function jde(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var w9=f9,Sde=v9,Nde=y9,Ede=x9;const pl=j.forwardRef(({className:t,...e},r)=>a.jsxs(w9,{ref:r,className:Qe("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(Sde,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(Nde,{className:"absolute h-full bg-primary"})}),a.jsx(Ede,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pl.displayName=w9.displayName;const Ade=({question:t,value:e,onChange:r,onNext:n,onBack:s,isFirst:i=!1,isLast:o=!1,isLoading:l=!1})=>{const[u,d]=j.useState(e),h=p=>{d(p),r(t.id,p)},m=()=>{var p;switch(t.type){case"radio":return a.jsx(g2,{value:u,onValueChange:h,children:a.jsx("div",{className:"space-y-3",children:(p=t.options)==null?void 0:p.map(x=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bc,{value:x,id:`${t.id}-${x}`,className:"border-safebite-text-secondary text-safebite-teal"}),a.jsx(it,{htmlFor:`${t.id}-${x}`,className:"text-safebite-text",children:x})]},x))})});case"text":return a.jsx(xt,{type:"text",value:u||"",onChange:x=>h(x.target.value),className:"sci-fi-input mt-2"});case"slider":return a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsx(pl,{value:[u],min:t.min||0,max:t.max||100,step:t.step||1,onValueChange:x=>h(x[0]),className:"mt-2"}),a.jsxs("div",{className:"flex justify-between text-safebite-text-secondary text-sm",children:[a.jsx("span",{children:t.min}),a.jsxs("span",{className:"text-safebite-teal font-medium",children:["Current: ",u]}),a.jsx("span",{children:t.max})]})]});default:return null}};return a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:t.question}),m(),a.jsxs("div",{className:"flex justify-between mt-8",children:[i?a.jsx("div",{}):a.jsx(te,{type:"button",variant:"outline",onClick:s,className:"sci-fi-button",children:"Back"}),a.jsx(te,{type:"button",onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:l,children:l?o?"Submitting...":"Loading...":o?"Submit":"Next"})]})]})},Tde=({achievement:t,size:e="md",showXP:r=!0,className:n=""})=>{const s={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},i={sm:24,md:32,lg:48},o=()=>{const l=i[e];switch(t.icon){case"trophy":return a.jsx(Td,{size:l,className:"text-yellow-400"});case"award":return a.jsx(km,{size:l,className:"text-blue-400"});case"star":return a.jsx(kn,{size:l,className:"text-purple-400"});case"medal":return a.jsx(KY,{size:l,className:"text-green-400"});case"zap":return a.jsx(cs,{size:l,className:"text-safebite-teal"});default:return a.jsx(Td,{size:l,className:"text-yellow-400"})}};return a.jsxs("div",{className:`flex flex-col items-center ${n}`,children:[a.jsxs("div",{className:`${s[e]} relative flex items-center justify-center`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/20 blur-md"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal flex items-center justify-center bg-safebite-card-bg",children:o()}),r&&a.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-safebite-teal text-safebite-dark-blue text-xs font-bold rounded-full px-2 py-1 border border-safebite-dark-blue",children:["+",t.xp," XP"]})]}),a.jsx("h3",{className:"mt-2 text-safebite-text font-medium text-center",children:t.title}),t.completed?a.jsx(Le,{variant:"outline",className:"mt-1 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/50",children:"Completed"}):a.jsx(Le,{variant:"outline",className:"mt-1 bg-safebite-card-bg-alt text-safebite-text-secondary",children:"In Progress"})]})},Cde=({onClose:t})=>{const[e,r]=j.useState(!1);j.useEffect(()=>{const i=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(i)},[]);const n=()=>{r(!1),setTimeout(t,300)},s={id:"questionnaire_complete",title:"Profile Complete",description:"Completed your health profile questionnaire",xp:10,icon:"trophy",completed:!0,date:new Date};return a.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:n}),a.jsxs("div",{className:"relative bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 max-w-md w-full transform transition-all duration-300 sci-fi-card",children:[a.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(xn,{size:20})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Achievement Unlocked!"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"You've earned your first achievement badge and XP points."})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(Tde,{achievement:s,size:"lg",showXP:!0})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Continue using SafeBite to earn more achievements and XP points!"}),a.jsx(te,{onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Continue to Dashboard"})]})]})]})},dl=[{id:"age",type:"radio",question:"What is your age?",options:["18-25","26-35","36-45","46-55","55+"]},{id:"gender",type:"radio",question:"What is your gender?",options:["Male","Female","Other"]},{id:"height_weight",type:"text",question:"What is your height and weight? (e.g., 170cm, 70kg)"},{id:"activity_level",type:"radio",question:"What is your activity level?",options:["Sedentary","Lightly Active","Active","Very Active"]},{id:"health_conditions",type:"radio",question:"Do you have any known health conditions?",options:["Diabetes","Hypertension","Heart Issues","None"]},{id:"dietary_preferences",type:"radio",question:"Do you have any dietary preferences?",options:["Veg","Vegan","Non-Veg","Keto","Gluten-Free","Other"]},{id:"food_allergies",type:"text",question:"Do you have any food allergies? (Check common allergens or manually input)"},{id:"meals_per_day",type:"radio",question:"How many meals do you eat per day?",options:["2","3","4","5+"]},{id:"water_intake",type:"radio",question:"How much water do you drink daily?",options:["<1L","1-2L","2-3L","3L+"]},{id:"outside_food",type:"radio",question:"How often do you eat outside or order food?",options:["Rarely","Weekly","Daily"]},{id:"homemade_processed",type:"radio",question:"Do you prefer homemade or processed foods?",options:["Homemade","Processed","Mixed"]},{id:"packaged_food",type:"radio",question:"How often do you eat packaged food?",options:["Rarely","Weekly","Daily"]},{id:"food_priorities",type:"radio",question:"What do you prioritize while choosing food?",options:["Taste","Health","Price","Convenience"]},{id:"sugary_drinks",type:"radio",question:"Do you consume sugary drinks often?",options:["Yes","No","Occasionally"]},{id:"protein_source",type:"radio",question:"Whats your usual protein source?",options:["Veg","Dairy","Meat","Eggs","Mix"]},{id:"calorie_tracking",type:"radio",question:"Do you track your calorie intake?",options:["Yes","No","Sometimes"]},{id:"health_goals",type:"radio",question:"What are your health goals?",options:["Weight Loss","Muscle Gain","General Health","No Goal"]},{id:"exercise_frequency",type:"radio",question:"How often do you exercise?",options:["Never","Weekly","3-4 Times a Week","Daily"]},{id:"diet_recommendations",type:"radio",question:"Are you looking for diet & meal plan recommendations?",options:["Yes","No","Maybe Later"]},{id:"reminders",type:"radio",question:"Would you like reminders for healthy habits?",options:["Yes","No","Maybe Later"]},{id:"food_safety_alerts",type:"radio",question:"Would you like food safety alerts for the products you buy?",options:["Yes","No","Maybe Later"]},{id:"username",type:"text",question:"What name would you like us to call you?"}],kde=()=>{const t=_r(),{toast:e}=ir(),[r,n]=j.useState(0),[s,i]=j.useState({}),[o,l]=j.useState(!1),[u,d]=j.useState(""),[h,m]=j.useState(!1),p=Ut(We),x=wr(We);j.useEffect(()=>{const E={};dl.forEach(C=>{C.type==="radio"?E[C.id]=void 0:C.type==="text"?E[C.id]="":E[C.id]=null}),i(E)},[]);const _=(E,C)=>{i(O=>({...O,[E]:C})),d("")},b=E=>E?/^\d+(\.\d+)?cm, ?\d+(\.\d+)?kg$/.test(E.trim()):!1,y=async()=>{d("");const E=dl[r],C=s[E.id];if(["diet_recommendations","reminders","food_safety_alerts"].includes(E.id))C===void 0&&onChange(E.id,"Yes");else{if(C===void 0||C===""){d("Please answer this question before proceeding."),e({title:"Missing Answer",description:"Please answer the current question.",variant:"destructive"});return}if(E.id==="height_weight"&&!b(C)){d("Please enter height and weight in the correct format (e.g., 170cm, 70kg)"),e({title:"Invalid Format",description:"Please enter height and weight in the format '170cm, 70kg'.",variant:"destructive"});return}}if(l(!0),r===dl.length-1){const k=p.currentUser;if(k){const R=k.uid,M=ht(x,"users",R);try{await Wn(M,{profile:s,questionnaireCompleted:!0,lastWeeklyPrompt:null,achievements:{questionnaire:{completed:!0,date:new Date,xp:10}},xp:10},{merge:!0}),e({title:"Questionnaire completed!",description:"Your profile is set up. You earned 10 XP!"}),m(!0),l(!1)}catch(V){e({title:"Error saving profile",description:V.message,variant:"destructive"}),console.error("Error writing user profile to Firestore: ",V),d("Failed to save your profile. Please try again.")}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")}else n(k=>k+1),l(!1)},N=()=>{d(""),n(E=>Math.max(0,E-1))},S=(r+1)/dl.length*100,T=()=>{m(!1),t("/dashboard")};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:[h&&a.jsx(Cde,{onClose:T}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Let's Get to Know You"}),a.jsx("p",{className:"text-safebite-text-secondary",children:o?"Saving your profile...":"Help us personalize your SafeBite experience."})]}),o?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(ro,{size:"lg"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1,"/",dl.length]}),a.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(S),"% Complete"]})]}),a.jsx(Qm,{value:S,className:"h-2 bg-safebite-card-bg-alt"})]}),u&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(fs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:u})]}),a.jsx(Ade,{question:dl[r],value:s[dl[r].id],onChange:_,onNext:y,onBack:N,isFirst:r===0,isLast:r===dl.length-1,isLoading:o})]})]})})]})},Pde=()=>{const t=_r();return a.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-safebite-purple bg-safebite-purple/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"mr-3 h-5 w-5 text-safebite-purple"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"You're using SafeBite in guest mode"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Some features are limited. Create an account to access all features."})]})]}),a.jsx(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white",children:"Sign Up"})]})},Ide=()=>{const t=_r(),{toast:e}=ir(),[r,n]=j.useState(!0),[s,i]=j.useState("");return j.useEffect(()=>{const o=Pb();i(o)},[]),j.useEffect(()=>{s!==void 0&&r&&(e(s?{title:`Welcome, ${s}!`,description:"You're exploring SafeBite in guest mode. Your data won't be saved when you leave.",variant:"default",duration:8e3}:{title:"Welcome to Guest Mode!",description:"Explore SafeBite's features freely. Create an account to save your progress and get personalized insights.",variant:"default",duration:8e3}),n(!1))},[e,r,s]),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden min-h-screen",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"guest-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5",className:"text-safebite-teal/50"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#guest-grid)"})]})}),a.jsx(Pde,{}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-1",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple animate-gradient-text",children:["Welcome, ",s||"Guest","!"]})}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"You're exploring in Guest Mode. Sign up to unlock all features."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsxs(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Create Account"]}),a.jsxs(te,{onClick:()=>t("/food-delivery"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx("span",{className:"mr-2",children:""})," Food Delivery (Beta)"]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Discover Key Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Re,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(_t,{className:"pb-3",children:a.jsxs(yt,{className:"flex items-center text-lg",children:[a.jsx(Hr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Instant Food Search"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Look up foods or scan barcodes for nutrition facts and safety insights."}),a.jsxs(te,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Try Search",a.jsx(va,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Re,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(_t,{className:"pb-3",children:a.jsxs(yt,{className:"flex items-center text-lg",children:[a.jsx(Ad,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Calculators"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Use over 30 calculators for BMI, BMR, calories, and more."}),a.jsxs(te,{onClick:()=>t("/healthbox"),className:"w-full sci-fi-button-alt",children:["Explore Tools",a.jsx(va,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Re,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(_t,{className:"pb-3",children:a.jsxs(yt,{className:"flex items-center text-lg",children:[a.jsx(yy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Food Insights"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Leverage AI for deeper understanding of food ingredients and safety."}),a.jsxs(te,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Learn More",a.jsx(va,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Unlock Full Potential - Sign Up!"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Re,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(eu,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(_t,{className:"pb-3",children:a.jsxs(yt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(Bl,{className:"mr-2 h-5 w-5"}),"Personalized Tracking"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Log meals, track nutrition, monitor progress, and save history."}),a.jsx(te,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(Re,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(eu,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(_t,{className:"pb-3",children:a.jsxs(yt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(Td,{className:"mr-2 h-5 w-5"}),"Gamification & Goals"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Set health goals, earn badges, and track achievements."}),a.jsx(te,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(Re,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(eu,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(_t,{className:"pb-3",children:a.jsxs(yt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(nE,{className:"mr-2 h-5 w-5"}),"Personalized AI"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Receive AI recommendations tailored to your health profile."}),a.jsx(te,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]})]})]}),a.jsx("div",{className:"relative z-10 mb-10",children:a.jsxs(Re,{className:"sci-fi-card shadow-neon-teal border-safebite-teal/50 bg-gradient-to-br from-safebite-card-bg to-safebite-card-bg-alt",children:[a.jsx(_t,{children:a.jsx(yt,{className:"text-center text-xl font-semibold gradient-text",children:"Why Create a Free Account?"})}),a.jsxs(ct,{children:[a.jsxs("ul",{className:"space-y-3 mb-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ri,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Save food search history & favorites"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ri,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Get personalized AI health recommendations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ri,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Track nutrition, activity & progress over time"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ri,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Earn achievements & XP for healthy habits"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ri,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Access premium features & future integrations"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(te,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 transition-transform hover:scale-105 shadow-md hover:shadow-lg",size:"lg",children:"Sign Up Free"})})]})]})}),a.jsxs("div",{className:"relative z-10 mb-10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"What's Next?"}),a.jsxs(Re,{className:"sci-fi-card relative overflow-hidden border-orange-500/30 bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-lg bg-gradient-to-r from-orange-600 via-red-500 to-yellow-500 opacity-75 blur animate-pulse-slow"}),a.jsx("div",{className:"relative p-6 bg-safebite-card-bg-alt rounded-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center",children:[a.jsx("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:mr-6",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg",children:a.jsx(cs,{className:"h-8 w-8 text-white"})})}),a.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl font-semibold text-orange-400 mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Get nutritional insights for meals from Zomato & Swiggy directly within SafeBite. Stay tuned!"}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start",children:[a.jsx(Le,{variant:"outline",className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:"Coming Soon"}),a.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Dataset preparation underway"})]})]})]})})]})]}),a.jsxs("div",{className:"text-center text-safebite-text-secondary text-sm mt-8",children:[a.jsx("p",{children:"SafeBite v2.1"}),a.jsxs("p",{className:"mt-2",children:["Guest mode provides limited functionality. ",a.jsx(te,{variant:"link",className:"p-0 h-auto text-safebite-teal",onClick:()=>t("/auth/signup"),children:"Sign up"})," for full access."]})]})]})};class Rde{constructor(){mn(this,"auth",Ut(We));mn(this,"db",wr(We));mn(this,"localActivities",[]);mn(this,"isGuest",!1);mn(this,"syncInterval",null);mn(this,"maxLocalActivities",10);this.isGuest=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true",this.setupSyncInterval(),this.auth.onAuthStateChanged(e=>{this.isGuest=!e&&(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"),this.setupSyncInterval()})}async trackActivity(e,r,n){const s={type:e,action:r,details:n,timestamp:new Date};this.localActivities.push(s),this.saveActivityToCookies(s),!this.isGuest&&this.localActivities.length>=this.maxLocalActivities&&await this.syncActivitiesWithFirebase(),console.log(`Activity tracked: ${e} - ${r}`)}saveActivityToCookies(e){try{const r=this.getActivitiesFromCookies();r.push({type:e.type,action:e.action,timestamp:e.timestamp.getTime()});const n=r.slice(-50);document.cookie=`safebite_activities=${JSON.stringify(n)};path=/;max-age=2592000`}catch(r){console.error("Error saving activity to cookies:",r)}}getActivitiesFromCookies(){try{const r=document.cookie.split(";").find(n=>n.trim().startsWith("safebite_activities="));if(r){const n=r.split("=")[1];return JSON.parse(decodeURIComponent(n))}return[]}catch(e){return console.error("Error getting activities from cookies:",e),[]}}async syncActivitiesWithFirebase(){try{const e=this.auth.currentUser;if(!e||this.isGuest||this.localActivities.length===0)return;const r=ht(this.db,"users",e.uid),n=ht(this.db,"user_activities",e.uid);(await sr(n)).exists()?await Xy(n,{activities:l2(...this.localActivities),lastUpdated:cr.now()}):await Wn(n,{activities:this.localActivities,lastUpdated:cr.now(),userId:e.uid}),await Xy(r,{lastActivity:this.localActivities[this.localActivities.length-1],lastActiveAt:cr.now()},{merge:!0}),this.localActivities=[],console.log("Activities synced with Firebase")}catch(e){console.error("Error syncing activities with Firebase:",e)}}setupSyncInterval(){this.syncInterval&&(window.clearInterval(this.syncInterval),this.syncInterval=null),this.isGuest||(this.syncInterval=window.setInterval(()=>{this.localActivities.length>0&&this.syncActivitiesWithFirebase()},6e4))}async getRecentActivities(e=10){try{const r=this.auth.currentUser;if(!r||this.isGuest)return this.localActivities.slice(-e);const n=ht(this.db,"user_activities",r.uid),s=await sr(n);return s.exists()?s.data().activities.slice(-e):[]}catch(r){return console.error("Error getting recent activities:",r),[]}}async getUserActivity(e){try{if(!e)return[];const r=ht(this.db,"user_activities",e),n=await sr(r);return n.exists()?n.data().activities||[]:[]}catch(r){return console.error("Error getting user activities:",r),[]}}}const kl=new Rde,_9=({isOpen:t,onClose:e,currentPage:r="",userData:n=null})=>{const s=_r(),{toast:i}=ir(),o=Ut(We),l=wr(We),{isGuest:u}=Kn(),[d,h]=j.useState(!1),[m,p]=j.useState(!1);if(!t)return null;const _=(()=>{switch(r){case"dashboard":return{title:"Food Delivery Integration",subtitle:n?`Personalized for ${n.displayName||"you"}`:"Coming Soon",description:"Get nutritional insights for your food delivery orders and make healthier choices based on your health profile."};case"nutrition":return{title:"Nutrition-Aware Food Delivery",subtitle:"Coming Soon",description:"Track nutrition from your food delivery orders and stay on top of your health goals."};case"recipes":return{title:"Order Instead of Cooking",subtitle:"Coming Soon",description:"Don't have time to cook? Order similar healthy options from your favorite restaurants."};default:return{title:"Food Delivery Integration",subtitle:"Coming Soon",description:"Get nutritional insights for your food delivery orders and make healthier choices."}}})(),b=async()=>{if(u){i({title:"Sign in required",description:"Please sign in to get notified when this feature is available.",variant:"destructive"});return}p(!0);try{const y=o.currentUser;if(y){const N=ht(l,"users",y.uid),S=await sr(N),T=S.exists()?S.data():{};await Wn(N,{notifications:{...T.notifications,foodDeliveryUpdates:!0}},{merge:!0}),h(!0),i({title:"Notification enabled",description:"You'll be notified when food delivery integration is available."})}}catch(y){console.error("Error updating notification preferences:",y),i({title:"Error",description:"Failed to enable notifications. Please try again.",variant:"destructive"})}finally{p(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Re,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(_t,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(te,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(xn,{className:"h-5 w-5"})}),a.jsxs(yt,{className:"text-2xl font-bold text-safebite-text flex items-center",children:[a.jsx(Rm,{className:"mr-2 h-6 w-6 text-orange-500"}),_.title,a.jsx(Le,{className:"ml-3 bg-orange-500 text-white",children:_.subtitle})]})]}),a.jsxs(ct,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 border border-orange-500/30 rounded-lg bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(zi,{className:"h-5 w-5 text-white"})}),a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold text-orange-500",children:"Zomato"})})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-3",children:_.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(zr,{className:"h-3 w-3 text-orange-500 animate-spin mr-1"}),a.jsx("span",{children:"Dataset preparation: 65% complete"})]})]}),a.jsxs("div",{className:"p-4 border border-orange-400/30 rounded-lg bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-400/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mr-3",children:a.jsx(Rm,{className:"h-5 w-5 text-white"})}),a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Swiggy"})})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-3",children:_.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(zr,{className:"h-3 w-3 text-orange-400 animate-spin mr-1"}),a.jsx("span",{children:"Dataset preparation: 42% complete"})]})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx(ho,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"What to expect"]}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Personalized recommendations based on your health profile"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Track your nutrition even when eating out"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Make informed choices that align with your health goals"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsx(te,{variant:"outline",className:"w-full sm:w-auto",onClick:e,children:"Close"}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsxs(te,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>s("/food-delivery"),children:["Learn More",a.jsx(va,{className:"ml-2 h-4 w-4"})]}),a.jsxs(te,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:b,disabled:d||m,children:[m?a.jsx(zr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ib,{className:"mr-2 h-4 w-4"}),d?"Notifications On":"Notify Me"]})]})]})]})]})})};var y2="Avatar",[Ode,tCe]=$s(y2),[Mde,j9]=Ode(y2),S9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,i]=j.useState("idle");return a.jsx(Mde,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(qe.span,{...n,ref:e})})});S9.displayName=y2;var N9="AvatarImage",E9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=t,o=j9(N9,r),l=Dde(n,i.referrerPolicy),u=Gn(d=>{s(d),o.onImageLoadingStatusChange(d)});return Zr(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?a.jsx(qe.img,{...i,ref:e,src:n}):null});E9.displayName=N9;var A9="AvatarFallback",T9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,i=j9(A9,r),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(qe.span,{...s,ref:e}):null});T9.displayName=A9;function Dde(t,e){const[r,n]=j.useState("idle");return Zr(()=>{if(!t){n("error");return}let s=!0;const i=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),r}var C9=S9,k9=E9,P9=T9;const tx=j.forwardRef(({className:t,...e},r)=>a.jsx(C9,{ref:r,className:Qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));tx.displayName=C9.displayName;const I9=j.forwardRef(({className:t,...e},r)=>a.jsx(k9,{ref:r,className:Qe("aspect-square h-full w-full",t),...e}));I9.displayName=k9.displayName;const rx=j.forwardRef(({className:t,...e},r)=>a.jsx(P9,{ref:r,className:Qe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));rx.displayName=P9.displayName;const x2="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Google Gemini API Key loaded:","Available");const DM=async t=>{try{const e=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":x2},body:JSON.stringify({contents:[{role:"user",parts:[{text:`As a nutrition expert, please provide 3 healthy food recommendations based on this query: "${t}". 
                For each recommendation, include a brief explanation of its nutritional benefits. 
                Format your response in a concise, easy-to-read way.`}]}],generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!e.ok)throw new Error(`Gemini API error: ${e.status}`);const r=await e.json();if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0)return r.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error getting food recommendations from Gemini:",e),"I'm sorry, but I couldn't generate food recommendations at the moment. Please try again later."}},Lde=async t=>{try{const e=t.map(s=>({role:s.role,parts:[{text:s.content}]})),r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":x2},body:JSON.stringify({contents:e,generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!r.ok)throw new Error(`Gemini API error: ${r.status}`);const n=await r.json();if(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0)return n.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error chatting with Gemini:",e),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},Fde=async t=>{var e,r,n,s,i,o,l,u,d,h,m;try{const p=`
      As a nutrition expert, please analyze this food item and provide health insights:
      
      Name: ${t.name}
      Brand: ${t.brand||"N/A"}
      Calories: ${t.calories||0} kcal
      
      Nutrients:
      - Protein: ${((e=t.nutrients)==null?void 0:e.protein)||0}g
      - Carbs: ${((r=t.nutrients)==null?void 0:r.carbs)||0}g
      - Fat: ${((n=t.nutrients)==null?void 0:n.fat)||0}g
      - Fiber: ${((s=t.nutrients)==null?void 0:s.fiber)||0}g
      - Sugar: ${((i=t.nutrients)==null?void 0:i.sugar)||0}g
      
      ${((l=(o=t.details)==null?void 0:o.ingredients)==null?void 0:l.length)>0?`Ingredients: ${t.details.ingredients.join(", ")}`:""}
      
      ${((d=(u=t.details)==null?void 0:u.allergens)==null?void 0:d.length)>0?`Allergens: ${t.details.allergens.join(", ")}`:""}
      
      ${((m=(h=t.details)==null?void 0:h.additives)==null?void 0:m.length)>0?`Additives: ${t.details.additives.join(", ")}`:""}
      
      Please provide:
      1. A brief nutritional assessment (is it healthy, balanced, etc.)
      2. Key health benefits
      3. Any potential concerns
      4. A suggestion for how this food could fit into a healthy diet
      
      Keep your response concise and easy to understand.
    `,x=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":x2},body:JSON.stringify({contents:[{role:"user",parts:[{text:p}]}],generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!x.ok)throw new Error(`Gemini API error: ${x.status}`);const _=await x.json();if(_.candidates&&_.candidates.length>0&&_.candidates[0].content&&_.candidates[0].content.parts&&_.candidates[0].content.parts.length>0)return _.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(p){return console.error("Error analyzing food item with Gemini:",p),"I'm sorry, but I couldn't analyze this food item at the moment. Please try again later."}},Po=({initialMessage:t="Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or healthy eating!",currentPage:e="",userData:r=null,autoOpen:n=!1})=>{const[s,i]=j.useState(n),[o,l]=j.useState(!n),[u,d]=j.useState([{role:"assistant",content:t}]),[h,m]=j.useState(""),[p,x]=j.useState(!1),[_,b]=j.useState(!1),[y,N]=j.useState(!1),S=j.useRef(null),T=Ut(We),E=wr(We);ir();const{isGuest:C}=Kn();j.useEffect(()=>{const B=window.location.pathname,G=B==="/"||B==="/SafeBite-V1/"||B==="/SafeBite-V1",q=B.includes("/auth/"),Y=T.currentUser!==null,z=Y&&!C&&!G&&!q&&r!==null;console.log("FoodChatBot - shouldDisplay:",z,{isLoggedIn:Y,isGuest:C,isLandingPage:G,isAuthPage:q,userData:r}),N(z)},[T.currentUser,C,r]);const O=()=>{var B;(B=S.current)==null||B.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{O()},[u]),j.useEffect(()=>{if(n){const B=setTimeout(()=>{i(!0),l(!1)},1500);return()=>clearTimeout(B)}},[n]),j.useEffect(()=>{const B=T.onAuthStateChanged(G=>{b(!!G),e&&G?k(e,G):e&&k(e,null)});return()=>B()},[T,e]),j.useEffect(()=>{r&&_&&e&&R(r,e)},[r,_,e]);const k=async(B,G)=>{let q="",Y=!G;if(!(u.length>1)){switch(B){case"dashboard":Y?q="Welcome to the SafeBite dashboard! As a guest user, you can explore basic features. Would you like me to explain what's available to you, or would you like to sign up for full access?":q=`Welcome to your personalized dashboard, ${G.displayName||"there"}! I can help you understand your health metrics or suggest ways to improve your nutrition based on your data. What would you like to know about today?`;break;case"nutrition":Y?q="I see you're exploring nutrition information. You can search for foods to see their nutritional content. Would you like help finding details for a specific food, or would you like some healthy meal suggestions?":q="Welcome to the Nutrition page! Based on your profile, I can help you find foods that match your dietary preferences and health goals. Would you like personalized recommendations or help with searching for specific foods?";break;case"recipes":Y?q="Looking for recipe ideas? You can search for recipes here. What kind of dishes are you interested in today? I can suggest options based on ingredients or cuisine types.":q="Welcome to Recipes! Based on your previous activity and preferences, I can suggest personalized recipe ideas. Would you like recommendations for quick meals, healthy options, or something specific to your dietary needs?";break;case"healthbox":Y?q="Welcome to Healthbox! Here you can access various health calculators and tools. As a guest, you can try them out, but your results won't be saved. Would you like me to guide you through the available tools?":q="Welcome to Healthbox! I can help you understand the different health tools available or assist with interpreting your results. Your data will be saved to your profile for tracking progress. Which health aspect would you like to focus on today?";break;case"food-delivery":Y?q="Looking for food delivery options? You can explore healthy choices from popular restaurants here. Would you like suggestions for nutritious takeout options?":q="Welcome to Food Delivery! Based on your health profile and preferences, I can suggest healthier options from your favorite restaurants. Would you like recommendations from Zomato, Swiggy, or based on your dietary preferences?";break;case"weekly-questions":Y?q="This is the weekly health check-in page. As a guest, you can try it out, but your answers won't be saved. Would you like to sign up to track your progress over time?":q="Welcome to your weekly health check-in! Answering these questions helps us provide personalized recommendations and track your progress. Would you like me to explain how this information is used to improve your experience?";break;case"settings":Y?q="As a guest user, your settings options are limited. Would you like to create an account to access all features and save your preferences?":q="You can customize your SafeBite experience here. Would you like help with setting up your dietary preferences, health goals, or notification settings?";break;default:Y?q="Welcome to SafeBite! I'm your AI assistant and can help you navigate the site. As a guest user, some features are limited. Would you like to know more about creating an account?":q="Welcome to SafeBite! I'm your personal AI assistant and can help with nutrition information, recipe suggestions, and health insights. What can I help you with today?"}if(q&&(d(z=>[...z,{role:"assistant",content:q}]),_&&G))try{const z=$d(E,"users",G.uid,"chatHistory");await py(z,{aiMessage:q,timestamp:jd(),context:B,isAutoGenerated:!0})}catch(z){console.error("Error saving context message to Firebase:",z)}}},R=async(B,G)=>{u.length>2||setTimeout(async()=>{var Y,z,J,ne,H;let q="";if(B){const Q=(Y=B.profile)==null?void 0:Y.health_goals,re=(z=B.profile)==null?void 0:z.dietary_preferences,Z=(J=B.profile)==null?void 0:J.health_conditions,me=B.recentActivity||[],pe=(H=(ne=B.profile)==null?void 0:ne.weeklyCheckin)==null?void 0:H.answers;switch(G){case"dashboard":pe?pe.exercise_minutes<150?q=`I noticed from your weekly check-in that you're getting ${pe.exercise_minutes} minutes of exercise. The recommended amount is 150 minutes per week. Would you like some tips for increasing your activity level?`:pe.water_intake<6?q=`Your weekly check-in shows you're drinking ${pe.water_intake} cups of water daily. Increasing to 8 cups could improve your hydration. Would you like some hydration tips?`:pe.stress_level>3&&(q=`I see your stress level is rated ${pe.stress_level}/5. Would you like me to suggest some stress management techniques or foods that can help reduce stress?`):Q==="Weight Loss"?q="I noticed your goal is weight loss. Would you like me to suggest some low-calorie meal options or exercise routines that could help? Completing your weekly health check-in would also help me provide more personalized recommendations.":Q==="Muscle Gain"?q="Since you're focusing on muscle gain, would you like some high-protein recipe suggestions or nutrition tips? I can also recommend specific health tools in Healthbox to track your progress.":Z&&Z.includes("Diabetes")&&(q="I see you're managing diabetes. Would you like me to help you find low-glycemic food options or meal planning tips? I can also suggest specific health monitoring tools in Healthbox.");break;case"nutrition":pe?pe.junk_food_consumption>5?q="Based on your weekly check-in, you might want to reduce processed food intake. Would you like me to suggest some healthier alternatives to common junk foods?":pe.fruit_vegetable_servings<5&&(q=`Your weekly check-in shows you're getting ${pe.fruit_vegetable_servings} servings of fruits and vegetables daily. Would you like suggestions for increasing your intake to the recommended 5+ servings?`):re&&(re.includes("Vegetarian")?q="As a vegetarian, would you like me to suggest some plant-based protein sources or vegetarian recipes? I can also help you ensure you're getting all essential nutrients.":re.includes("Vegan")?q="For your vegan diet, would you like me to suggest some nutrient-dense plant foods or vegan recipes? I can also help you identify potential nutrient gaps to watch for.":re.includes("Keto")&&(q="For your keto diet, would you like me to suggest some low-carb, high-fat food options? I can also help you track your macronutrient ratios to stay in ketosis."));break;case"recipes":if(me.length>0){const fe=me.filter(we=>we.type==="search").map(we=>we.query);fe.length>0&&(q=`I see you recently searched for "${fe[0]}". Would you like me to suggest similar recipes or nutrition information? I can also help you modify recipes to match your dietary preferences.`)}else pe&&pe.home_cooked_meals<10?q=`Your weekly check-in shows you had ${pe.home_cooked_meals} home-cooked meals. Would you like some quick and easy recipe ideas to help you cook at home more often?`:re&&(q=`Based on your dietary preferences, I can suggest some ${re.toLowerCase()} recipes. Would you like quick meals, batch cooking ideas, or special occasion recipes?`);break;case"healthbox":pe?pe.sleep_hours<7?q=`I noticed from your weekly check-in that you're getting ${pe.sleep_hours} hours of sleep. Would you like to try the Sleep Calculator tool to help improve your sleep quality?`:pe.stress_level>3?q=`Based on your stress level of ${pe.stress_level}/5, you might find the Stress Analyzer tool helpful. Would you like to try it?`:pe.health_symptoms&&pe.health_symptoms.includes("joint_pain")&&(q="I see you mentioned joint pain in your weekly check-in. The Body Mass Index and Exercise Planner tools might be helpful for managing this. Would you like to try them?"):Z?q=`Since you've mentioned ${Z}, would you like me to suggest specific health tools that might be helpful for monitoring your condition? Regular weekly check-ins can also help track your progress.`:q="Would you like me to recommend which health tools might be most relevant for your health goals? Completing a weekly health check-in would also help me provide more personalized recommendations.";break;case"weekly-questions":q="Completing your weekly health check-in helps us provide personalized recommendations. Your answers are used to track progress, suggest relevant health tools, and customize nutrition advice. Would you like me to explain more about any specific question?";break;case"food-delivery":re?q=`When ordering food delivery, look for ${re.toLowerCase()} options. Would you like tips for making healthier choices when ordering from restaurants?`:Q==="Weight Loss"?q="When ordering food delivery while focusing on weight loss, look for options with vegetables, lean proteins, and ask for dressings on the side. Would you like more specific recommendations?":q="Would you like some tips for identifying healthier options when ordering food delivery? I can help you decode menu descriptions and make better choices.";break}if(q&&(d(fe=>[...fe,{role:"assistant",content:q}]),_))try{const fe=T.currentUser;if(fe){const we=$d(E,"users",fe.uid,"chatHistory");await py(we,{aiMessage:q,timestamp:jd(),context:G,isPersonalized:!0,basedOn:{healthGoals:Q,dietaryPreferences:re,healthConditions:Z,weeklyCheckin:!!pe,recentActivity:me.slice(0,3)}})}}catch(fe){console.error("Error saving personalized suggestion to Firebase:",fe)}}},8e3)},M=async()=>{if(!h.trim())return;const B={role:"user",content:h};d(G=>[...G,B]),m(""),x(!0);try{const G=[...u,B],q=await Lde(G),Y={role:"assistant",content:q};if(d(z=>[...z,Y]),_)try{const z=T.currentUser;if(z){const J=$d(E,"users",z.uid,"chatHistory");await py(J,{userMessage:B.content,aiResponse:q,timestamp:jd(),context:G.map(H=>({role:H.role,content:H.content.substring(0,100)+(H.content.length>100?"...":"")})),topics:V(B.content)});const ne=ht(E,"users",z.uid);await Wn(ne,{aiLearning:{lastInteraction:jd(),recentTopics:V(B.content),interactionCount:G.length/2}},{merge:!0})}}catch(z){console.error("Error saving chat to Firebase:",z)}}catch(G){console.error("Error sending message to Gemini:",G),d(q=>[...q,{role:"assistant",content:"I'm sorry, I'm having trouble connecting to my knowledge base right now. Please try again later."}])}finally{x(!1)}},V=B=>{const G=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],q=[],Y=B.toLowerCase();for(const z of G)Y.includes(z)&&q.push(z);return q.length>0?q:["general"]},$=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),M())},D=()=>{i(!s),s||l(!1)},L=()=>{l(!o)};return y?a.jsxs(a.Fragment,{children:[!s&&a.jsx(te,{onClick:D,className:"fixed bottom-6 right-6 rounded-full w-14 h-14 p-0 bg-safebite-teal hover:bg-safebite-teal/80 shadow-xl z-50 border-2 border-white/20 flex items-center justify-center",title:"SafeBite AI Assistant",children:a.jsx(p6,{size:24,className:"text-safebite-dark-blue"})}),s&&a.jsxs(Re,{className:`fixed bottom-6 right-6 w-80 sm:w-96 shadow-xl border border-safebite-teal/30 transition-all duration-300 ease-in-out ${o?"h-16":"h-[500px]"}`,children:[a.jsxs(_t,{className:"p-3 border-b border-safebite-teal/30 bg-safebite-teal/10 flex flex-row items-center justify-between space-y-0",children:[a.jsxs(yt,{className:"text-base font-medium flex items-center",children:[a.jsxs(tx,{className:"h-8 w-8 mr-2",children:[a.jsx(I9,{src:"/bot-avatar.png",alt:"AI"}),a.jsx(rx,{className:"bg-safebite-teal text-safebite-dark-blue text-xs",children:"AI"})]}),"SafeBite AI Assistant"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(te,{variant:"ghost",size:"icon",onClick:L,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:o?a.jsx(GY,{size:16}):a.jsx(YY,{size:16})}),a.jsx(te,{variant:"ghost",size:"icon",onClick:D,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:a.jsx(xn,{size:16})})]})]}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"p-4 overflow-y-auto h-[380px] bg-safebite-card-bg",children:a.jsxs("div",{className:"space-y-4",children:[u.map((B,G)=>a.jsx("div",{className:`flex ${B.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${B.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg-alt text-safebite-text"}`,children:B.content.split(`
`).map((q,Y)=>{const z=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings"];let J=q;return z.forEach(ne=>{if(q.toLowerCase().includes(ne.toLowerCase())){const H=q.toLowerCase().indexOf(ne.toLowerCase());q.substring(H,H+ne.length);const Q=[q.substring(0,H),q.substring(H+ne.length)];J=`${Q[0]}<Button
                                variant="link"
                                className="p-0 h-auto text-current underline"
                                onClick={() => checkAuthAndNavigate(route)}
                              >
                                {actualRoute}
                              </Button>${Q[1]}`}}),a.jsxs(K.Fragment,{children:[J,Y<B.content.split(`
`).length-1&&a.jsx("br",{})]},Y)})})},G)),p&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-safebite-card-bg-alt text-safebite-text",children:a.jsx(zr,{className:"h-5 w-5 animate-spin"})})}),a.jsx("div",{ref:S})]})}),a.jsx(go,{className:"p-3 border-t",children:a.jsxs("div",{className:"flex w-full items-center space-x-2",children:[a.jsx(xt,{placeholder:"Ask about food or nutrition...",value:h,onChange:B=>m(B.target.value),onKeyDown:$,className:"flex-1",disabled:p}),a.jsx(te,{size:"icon",onClick:M,disabled:p||!h.trim(),className:"bg-safebite-teal hover:bg-safebite-teal/80",children:p?a.jsx(zr,{className:"h-5 w-5 animate-spin"}):a.jsx(N6,{size:18})})]})})]})]})]}):null},$de=()=>{var L;const t=_r(),{isGuest:e}=Kn(),[r,n]=j.useState(!1),[s,i]=j.useState("");ir();const o=Ut(We),l=wr(We),u=o.currentUser,[d,h]=j.useState(null),[m,p]=j.useState(!0),[x,_]=j.useState(!1),b=j.useRef(null),[y,N]=j.useState([]),[S,T]=j.useState(""),[E,C]=j.useState([]),[O,k]=j.useState(!1);j.useEffect(()=>{console.log("Dashboard component - Guest mode status:",{isGuest:e,userType:localStorage.getItem("userType"),emergencyGuestMode:sessionStorage.getItem("safebite-guest-mode"),user:u?"Logged in":"Not logged in"})},[e,u]),j.useEffect(()=>{const B=setTimeout(()=>{!e&&u&&!localStorage.getItem("hideDeliveryPopup")&&_(!0)},5e3);return(async()=>{if(!e&&u)try{const q=await kl.getUserActivity(u.uid);N(q)}catch(q){console.error("Error loading user activity:",q)}})(),()=>clearTimeout(B)},[e,u]),j.useEffect(()=>{(async()=>{if(e){p(!1);return}try{if(!u){p(!1);return}const G=ht(l,"users",u.uid),q=await sr(G);q.exists()?h(q.data()):console.log("No user profile found!");const Y=await kl.getRecentActivities(10);C(Y)}catch(G){console.error("Error loading user profile:",G),T("Failed to load your profile data. Please try again later.")}finally{p(!1)}})()},[e,u,l]);const R=()=>{var B;if((B=d==null?void 0:d.weeklyCheckin)!=null&&B.answers){const G=d.weeklyCheckin.answers;return[{name:"Sleep Quality",value:Math.min(100,(G.sleep_hours||6)*12),icon:a.jsx(Dr,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:Math.min(100,(G.exercise_minutes||30)/3),icon:a.jsx(Bl,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:Math.min(100,(G.fruit_vegetable_servings||2)*10+(G.home_cooked_meals||3)*8-(G.junk_food_consumption||2)*10),icon:a.jsx(Dr,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:Math.max(0,100-(G.stress_level||5)*10),icon:a.jsx(iE,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]}return[{name:"Sleep Quality",value:72,icon:a.jsx(Dr,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:65,icon:a.jsx(Bl,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:78,icon:a.jsx(Dr,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:60,icon:a.jsx(iE,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]},M=()=>{if(y&&y.length>0){const B=y.filter(G=>G.type==="food_search"||G.type==="recipe_view").map(G=>{var q,Y;return((q=G.details)==null?void 0:q.foodName)||((Y=G.details)==null?void 0:Y.recipeName)||""}).filter(Boolean);if(B.length>0){const G=[];return B.some(q=>q.toLowerCase().includes("chicken")||q.toLowerCase().includes("poultry"))&&G.push({title:"Poultry Safety Alert",description:"Always cook chicken to an internal temperature of 165F (74C) to kill harmful bacteria.",severity:"medium"}),B.some(q=>q.toLowerCase().includes("fish")||q.toLowerCase().includes("seafood"))&&G.push({title:"Seafood Storage",description:"Keep seafood refrigerated and consume within 1-2 days for optimal safety and freshness.",severity:"medium"}),B.some(q=>q.toLowerCase().includes("rice"))&&G.push({title:"Rice Storage Warning",description:"Refrigerate cooked rice within 1 hour to prevent Bacillus cereus bacteria growth.",severity:"high"}),B.some(q=>q.toLowerCase().includes("egg"))&&G.push({title:"Egg Safety",description:"Cook eggs until whites and yolks are firm to reduce risk of Salmonella infection.",severity:"medium"}),G.length<2&&(G.push({title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"}),G.push({title:"Refrigeration Reminder",description:"Keep your refrigerator below 40F (4C) to slow bacterial growth in foods.",severity:"low"})),G}}return[{title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"},{title:"Refrigeration Reminder",description:"Keep your refrigerator below 40F (4C) to slow bacterial growth in foods.",severity:"low"},{title:"Leftovers Safety",description:"Consume refrigerated leftovers within 3-4 days to ensure food safety.",severity:"medium"}]},V=()=>{k(!0)};if(e)return a.jsx(Ide,{});if(m)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-safebite-dark-blue",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text",children:"Loading your dashboard..."})]})});const $=R(),D=M();return a.jsxs("div",{className:"relative",style:{zIndex:10},children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(Fi,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(Fi,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx("div",{style:{marginRight:"6rem"},children:a.jsx(_9,{isOpen:x,onClose:()=>_(!1),currentPage:"dashboard",userData:d})}),a.jsx("div",{ref:b,style:{zIndex:50},children:a.jsx(Po,{currentPage:"dashboard",userData:{profile:d,recentActivity:y},autoOpen:!1,initialMessage:"Welcome back! How can I help with your health goals today?"})}),a.jsx(Qi,{}),a.jsx(OU,{isOpen:O,onClose:()=>k(!1),userProfile:d}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:[a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:["Welcome back, ",(d==null?void 0:d.displayName)||(u==null?void 0:u.displayName)||(d==null?void 0:d.name)||((L=u==null?void 0:u.email)==null?void 0:L.split("@")[0])||"Friend"]})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(_u,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Your dashboard is ready. Check out your health insights and recommendations."]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(te,{variant:"outline",className:"border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text",onClick:V,children:[a.jsx(lu,{className:"mr-2 h-4 w-4 text-safebite-teal"}),"Profile"]}),a.jsxs(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>t("/food-delivery"),children:[a.jsx("span",{className:"mr-2",children:""})," Food Delivery"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:$.map((B,G)=>a.jsx(Re,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:a.jsxs(ct,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:B.name}),B.icon]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Score"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:[B.value,"%"]})]}),a.jsx(Qm,{value:B.value,className:"h-2 bg-safebite-card-bg-alt"})]})]})},G))}),a.jsxs(Re,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Hn,{className:"mr-2 h-5 w-5 text-amber-500"})," Food Safety Insights"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-3",children:"Potential issues based on profile & activity:"}),D.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map((B,G)=>a.jsx("div",{className:"p-3 bg-safebite-card-bg-alt rounded-lg border border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`rounded-full p-1.5 mr-2 ${B.severity==="high"?"bg-red-500/20 text-red-500":B.severity==="medium"?"bg-amber-500/20 text-amber-500":"bg-blue-500/20 text-blue-500"}`,children:a.jsx(Hn,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:B.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:B.description})]})]})},G))}):a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"No food safety issues detected based on your recent activity."})]})]})]})]})]})},Vde=({onSearch:t,onScan:e,onUpload:r,onShowHistory:n,onApiSelect:s,className:i,activeApi:o="All APIs"})=>{const[l,u]=j.useState(""),d=m=>{m.preventDefault(),l.trim()&&t(l.trim())},h=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return a.jsx("form",{onSubmit:d,className:`relative ${i}`,children:a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(xt,{type:"text",placeholder:"Search for food products...",value:l,onChange:m=>u(m.target.value),className:"sci-fi-input w-full pr-[140px]"}),a.jsxs("div",{className:"absolute right-0 flex",children:[a.jsx(Pd,{children:a.jsxs(gm,{children:[a.jsx(vm,{asChild:!0,children:a.jsx(te,{type:"button",variant:"ghost",onClick:n,className:"text-safebite-text-secondary hover:text-safebite-teal",children:a.jsx(UY,{size:18})})}),a.jsx(Id,{children:a.jsx("p",{children:"Search History"})})]})}),a.jsx(Pd,{children:a.jsxs(gm,{children:[a.jsx(vm,{asChild:!0,children:a.jsx(te,{type:"button",variant:"ghost",onClick:s,className:"text-safebite-text-secondary hover:text-safebite-teal",children:a.jsx(ou,{size:18})})}),a.jsx(Id,{children:a.jsxs("p",{children:["Select API Source (",o,")"]})})]})}),a.jsx(Pd,{children:a.jsxs(gm,{children:[a.jsx(vm,{asChild:!0,children:a.jsx(te,{type:"button",variant:"ghost",onClick:h()?e:r,className:"text-safebite-text-secondary hover:text-safebite-teal",children:h()?a.jsx(S6,{size:18}):a.jsx(OT,{size:18})})}),a.jsx(Id,{children:a.jsx("p",{children:h()?"Scan Barcode":"Upload Image"})})]})}),a.jsx(te,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 ml-1",children:a.jsx(Hr,{size:18})})]})]})})};function Wh({className:t,...e}){return a.jsx("div",{className:Qe("animate-pulse rounded-md bg-muted",t),...e})}const Rs="https://safebite-backend.onrender.com",LM="https://safebite-api.onrender.com",FM=[{_id:"fallback1",name:"Organic Whole Grain Bread",brand:"Nature's Best",category:"Bakery",description:"Nutritious whole grain bread made with organic ingredients.",ingredients:["Whole wheat flour","Water","Yeast","Salt","Honey"],nutritionalInfo:{calories:80,protein:4,carbs:15,fat:1,fiber:3,sugar:1},allergens:["Wheat","Gluten"],dietaryInfo:["Vegetarian"],healthScore:8,imageUrl:"https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:3.99,tags:["Organic","Whole Grain","Bread"]},{_id:"fallback2",name:"Greek Yogurt",brand:"Healthy Dairy",category:"Dairy",description:"Creamy Greek yogurt high in protein and probiotics.",ingredients:["Milk","Live active cultures"],nutritionalInfo:{calories:120,protein:15,carbs:7,fat:5,fiber:0,sugar:5},allergens:["Milk"],dietaryInfo:["Vegetarian","Gluten-Free"],healthScore:9,imageUrl:"https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:2.49,tags:["Protein","Probiotic","Dairy"]},{_id:"fallback3",name:"Quinoa Salad",brand:"Fresh Meals",category:"Prepared Foods",description:"Ready-to-eat quinoa salad with vegetables and herbs.",ingredients:["Quinoa","Bell peppers","Cucumber","Olive oil","Lemon juice","Herbs"],nutritionalInfo:{calories:220,protein:8,carbs:35,fat:7,fiber:6,sugar:2},allergens:[],dietaryInfo:["Vegan","Gluten-Free"],healthScore:10,imageUrl:"https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:5.99,tags:["Vegan","Protein","Ready-to-eat"]},{_id:"fallback4",name:"Almond Butter",brand:"Nut Heaven",category:"Spreads",description:"Creamy almond butter made from roasted almonds.",ingredients:["Roasted almonds"],nutritionalInfo:{calories:190,protein:7,carbs:6,fat:17,fiber:3,sugar:1},allergens:["Tree nuts"],dietaryInfo:["Vegan","Gluten-Free"],healthScore:7,imageUrl:"https://images.unsplash.com/photo-1501012259-39cd25f18b8d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:7.99,tags:["Nut butter","Protein","Natural"]}],R9=async()=>await $M(Rs)?(console.log("Main API is available"),{isAvailable:!0,activeUrl:Rs}):(console.log("Main API is down, trying backup API..."),await $M(LM)?(console.log("Backup API is available"),{isAvailable:!0,activeUrl:LM}):(console.warn("Both main and backup APIs are down"),{isAvailable:!1,activeUrl:Rs}));async function $M(t){try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3);let n;try{n=await fetch(`${t}/status`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch{console.log(`Error fetching ${t}/status, trying root endpoint`);try{n=await fetch(`${t}/`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch(o){return console.error(`Error fetching ${t}/: ${o}`),clearTimeout(r),!1}}if(clearTimeout(r),!n.ok)return console.warn(`API status check failed with status: ${n.status}`),!1;const s=await n.json();return s&&s.status==="API is running"?(console.log("API is available:",s),!0):(console.warn("API status check returned unexpected data:",s),!1)}catch(e){return console.error("Error checking API status:",e),!1}}const Bde=async(t="products",e=1,r=20,n="",s={products:[],total:0,page:1,totalPages:1})=>{try{const{isAvailable:i,activeUrl:o}=await R9();if(!i)return console.warn("API is not available, returning fallback data"),s;const l=new AbortController,u=setTimeout(()=>l.abort(),15e3),d=async h=>{if(!h.ok)throw new Error(`API returned status ${h.status}`);const m=await h.json();if(m&&m.products&&Array.isArray(m.products))return console.log(`Successfully fetched ${m.products.length} ${t} from API`),{products:m.products,total:m.total||m.products.length,page:m.page||e,totalPages:m.totalPages||Math.ceil((m.total||m.products.length)/r)};if(m&&Array.isArray(m))return console.log(`Successfully fetched ${m.length} ${t} from API (array format)`),{products:m,total:m.length,page:e,totalPages:Math.ceil(m.length/r)};throw console.warn(`Unexpected API response format for ${t}:`,m),new Error("Unexpected API response format")};try{const h=`${o}/api/${t}?page=${e}&limit=${r}${n?`&search=${encodeURIComponent(n)}`:""}`;console.log(`Fetching from new endpoint: ${h}`);const m=await fetch(h,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),p=await d(m);return clearTimeout(u),p}catch(h){console.warn(`Error fetching from new endpoint: ${h}`);try{const m=t==="products"?`${o}/products`:`${o}/grocery-products`;console.log(`Falling back to legacy endpoint: ${m}`);const p=await fetch(m,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),x=await d(p);return clearTimeout(u),x}catch(m){return console.error(`Error fetching from legacy endpoint: ${m}`),clearTimeout(u),console.warn("All fetch attempts failed, returning fallback data"),s}}}catch(i){return console.error(`Error fetching ${t}:`,i),console.warn("Error during fetch process, returning fallback data"),s}},Ude=({onSelectFood:t,className:e=""})=>{Kn();const[r,n]=j.useState(""),[s,i]=j.useState([]),[o,l]=j.useState(!1),[u,d]=j.useState(null),[h,m]=j.useState("all"),[p,x]=j.useState(null);j.useEffect(()=>{_()},[]);const _=async()=>{try{const C=await fetch(`${Rs}/status`);x(C.ok)}catch(C){console.error("Error checking API status:",C),x(!1)}},b=async()=>{if(r.trim()){l(!0),d(null);try{const C=`${Rs}/api/food/search?query=${encodeURIComponent(r)}`;console.log(`Searching food: ${C}`);const O=await fetch(C);if(!O.ok)throw new Error(`API returned status ${O.status}`);const k=await O.json();k.items&&Array.isArray(k.items)?(i(k.items),console.log(`Found ${k.items.length} results`)):(i([]),console.log("No results found or invalid response format"))}catch(C){console.error("Error searching food:",C),d("Failed to search for food. Please try again later."),i([])}finally{l(!1)}}},y=C=>{C.preventDefault(),b()},N=C=>C.name||C.product||C.food_name||C.recipe_name||"Unknown Food",S=C=>C.brand||"Unknown Brand",T=C=>{var O;if((O=C.nutritionalInfo)!=null&&O.calories)return C.nutritionalInfo.calories},E=s.filter(C=>!!(h==="all"||h==="products"&&C.product||h==="recipes"&&C.recipe_name));return a.jsxs(Re,{className:`sci-fi-card ${e}`,children:[a.jsxs(_t,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(yt,{children:"Food Search"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Le,{variant:p?"default":"destructive",className:"h-6",children:[p===null?a.jsx(zr,{className:"h-3 w-3 animate-spin mr-1"}):p?a.jsx(Ri,{className:"h-3 w-3 mr-1"}):a.jsx(fs,{className:"h-3 w-3 mr-1"}),"API ",p===null?"Checking...":p?"Online":"Offline"]}),a.jsx(te,{variant:"outline",size:"sm",onClick:_,disabled:p===null,children:"Refresh"})]})]}),a.jsx(Wl,{children:"Search for food products, recipes, and nutritional information"})]}),a.jsxs(ct,{children:[a.jsx("form",{onSubmit:y,className:"mb-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(xt,{type:"text",placeholder:"Search for food, recipes, or ingredients...",value:r,onChange:C=>n(C.target.value),className:"sci-fi-input flex-1"}),a.jsxs(te,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o||!r.trim(),children:[o?a.jsx(zr,{className:"h-4 w-4 animate-spin mr-1"}):a.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Search"]})]})}),u&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:u})]})}),s.length>0&&a.jsxs(oi,{defaultValue:"all",value:h,onValueChange:C=>m(C),children:[a.jsxs(Ls,{className:"grid grid-cols-3 mb-4",children:[a.jsxs(jt,{value:"all",children:["All (",s.length,")"]}),a.jsxs(jt,{value:"products",children:["Products (",s.filter(C=>C.product).length,")"]}),a.jsxs(jt,{value:"recipes",children:["Recipes (",s.filter(C=>C.recipe_name).length,")"]})]}),a.jsx(Bt,{value:h,className:"space-y-4",children:o?Array.from({length:3}).map((C,O)=>a.jsx(Re,{className:"overflow-hidden",children:a.jsx(ct,{className:"p-0",children:a.jsxs("div",{className:"p-4",children:[a.jsx(Wh,{className:"h-4 w-3/4 mb-2"}),a.jsx(Wh,{className:"h-3 w-1/2 mb-4"}),a.jsxs("div",{className:"flex space-x-2 mb-2",children:[a.jsx(Wh,{className:"h-3 w-16"}),a.jsx(Wh,{className:"h-3 w-16"})]}),a.jsx(Wh,{className:"h-3 w-full"})]})})},O)):E.length>0?E.map(C=>a.jsx(Re,{className:"overflow-hidden hover:border-safebite-teal transition-colors cursor-pointer",onClick:()=>t&&t(C),children:a.jsx(ct,{className:"p-0",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:N(C)}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:S(C)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[C.category&&a.jsx(Le,{variant:"outline",children:C.category}),T(C)!==void 0&&a.jsxs(Le,{className:"bg-safebite-purple/20 text-safebite-purple border-safebite-purple",children:[a.jsx(Flame,{className:"h-3 w-3 mr-1"}),T(C)," kcal"]}),C.rating&&a.jsxs(Le,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[" ",C.rating.toFixed(1)]})]}),C.description&&a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-2 line-clamp-2",children:C.description})]})})},C._id)):a.jsxs("div",{className:"text-center py-8 text-safebite-text-secondary",children:['No results found for "',r,'" in this category.']})})]}),!o&&s.length===0&&!u&&r&&a.jsxs("div",{className:"text-center py-8 text-safebite-text-secondary",children:['No results found for "',r,'". Try a different search term.']}),!o&&s.length===0&&!u&&!r&&a.jsx("div",{className:"text-center py-8 text-safebite-text-secondary",children:"Enter a search term to find food products and recipes."})]})]})},Ti=({name:t,image:e,calories:r,nutritionScore:n,nutrients:s={},onClick:i,className:o})=>{const l={green:{bg:"bg-green-500",text:"text-green-500",icon:a.jsx(w6,{className:"h-4 w-4 text-green-500"})},yellow:{bg:"bg-yellow-500",text:"text-yellow-500",icon:a.jsx(Di,{className:"h-4 w-4 text-yellow-500"})},red:{bg:"bg-red-500",text:"text-red-500",icon:a.jsx(Hn,{className:"h-4 w-4 text-red-500"})}},u={green:"Healthy",yellow:"Moderate",red:"High Calorie"};return a.jsx("div",{className:Qe("sci-fi-card p-4 cursor-pointer hover:border-safebite-teal/50 transition-all duration-300",o),onClick:i,children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 rounded-md overflow-hidden mr-4 border border-safebite-card-bg-alt",children:[e?a.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx("span",{className:"text-safebite-text-secondary text-xs",children:"No image"})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${l[n].bg} h-2`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-safebite-text font-semibold mb-1 line-clamp-1",children:t}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Di,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:[r," calories"]})]}),a.jsx("div",{className:"flex items-center mb-2",children:a.jsxs("div",{className:"flex items-center mr-3",children:[l[n].icon,a.jsx("span",{className:`text-xs ml-1 ${l[n].text}`,children:u[n]})]})}),s&&(s.protein||s.carbs||s.fat)&&a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2 text-xs text-safebite-text-secondary",children:[s.protein!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Protein:"})," ",s.protein,"g"]}),s.carbs!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Carbs:"})," ",s.carbs,"g"]}),s.fat!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fat:"})," ",s.fat,"g"]})]})]})]})})},O9=({food:t,onBack:e,onAddToTracker:r,onAddTag:n,onToggleFavorite:s,isFavorite:i=!1,tags:o=[],aiAnalysis:l="",isAnalysisLoading:u=!1})=>{var R,M,V,$,D,L;const[d,h]=j.useState(""),[m,p]=j.useState(!1),{name:x,calories:_,nutritionScore:b,details:y,brand:N,apiSource:S,source:T,nutrients:E}=t,C={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"},O={green:"Good Choice",yellow:"Moderate",red:"Use Caution"},k=()=>{d.trim()&&(n(t.id,d.trim()),h(""),p(!1))};return a.jsxs("div",{className:"sci-fi-card",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs(te,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary -ml-2",onClick:e,children:[a.jsx(TT,{className:"mr-1 h-4 w-4"}),"Back"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(te,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>s(t.id),children:a.jsx(kn,{className:`h-4 w-4 ${i?"text-yellow-500 fill-yellow-500":""}`})}),a.jsx(te,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>p(!m),children:a.jsx(RT,{className:"h-4 w-4"})}),a.jsx(te,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",children:a.jsx(by,{className:"h-4 w-4"})})]})]}),m&&a.jsxs("div",{className:"mb-4 flex",children:[a.jsx("input",{type:"text",value:d,onChange:B=>h(B.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:B=>{B.key==="Enter"&&k()}}),a.jsx(te,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:k,children:"Add"})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:o.map(B=>a.jsx(Le,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:B},B))}),a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold text-safebite-text",children:x}),N&&a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:N})]}),a.jsx(Le,{className:`${C[b]} text-white`,children:O[b]})]}),a.jsxs(oi,{defaultValue:"nutrition",className:"w-full mb-6",children:[a.jsxs(Ls,{className:"grid grid-cols-4 mb-4",children:[a.jsx(jt,{value:"nutrition",children:"Nutrition"}),a.jsx(jt,{value:"ingredients",children:"Ingredients"}),a.jsx(jt,{value:"health",children:"Health"}),a.jsx(jt,{value:"ai-analysis",children:"AI Analysis"})]}),a.jsxs(Bt,{value:"nutrition",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Calories"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.calories)||_," kcal"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Protein"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.protein)||((R=t.nutrients)==null?void 0:R.protein)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Carbs"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.carbs)||((M=t.nutrients)==null?void 0:M.carbs)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fat"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.fat)||((V=t.nutrients)==null?void 0:V.fat)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sodium"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.sodium)||(($=t.nutrients)==null?void 0:$.sodium)||0,"mg"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sugar"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.sugar)||((D=t.nutrients)==null?void 0:D.sugar)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fiber"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(y==null?void 0:y.fiber)||((L=t.nutrients)==null?void 0:L.fiber)||0,"g"]})]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt/50 rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm mb-1",children:"Nutrition Score"}),a.jsx("div",{className:"h-2 bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${b==="green"?"bg-green-500":b==="yellow"?"bg-yellow-500":"bg-red-500"}`,style:{width:b==="green"?"90%":b==="yellow"?"50%":"20%"}})}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary mt-1",children:[a.jsx("span",{children:"Poor"}),a.jsx("span",{children:"Moderate"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary text-right",children:["Data source: ",S||T||"Unknown"]})]}),a.jsxs(Bt,{value:"ingredients",className:"space-y-4",children:[y!=null&&y.ingredients&&y.ingredients.length>0?a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ingredients List"}),a.jsx("p",{className:"text-safebite-text-secondary",children:y.ingredients.join(", ")})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No ingredient information available"})}),(y==null?void 0:y.additives)&&y.additives.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Additives"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.additives.map(B=>a.jsx(Le,{variant:"outline",className:"border-red-500 text-red-500",children:B},B))})]})]}),a.jsxs(Bt,{value:"health",className:"space-y-4",children:[(y==null?void 0:y.allergens)&&y.allergens.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Allergens"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.allergens.map(B=>a.jsxs(Le,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[a.jsx(Hn,{className:"mr-1 h-3 w-3"})," ",B]},B))})]}),b==="red"&&a.jsx(Re,{className:"bg-red-500/10 border-red-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Hn,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-red-400 mb-1",children:"Health Concern"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product contains high levels of sugar and artificial additives which may impact your health goals."})]})]})}),b==="green"&&a.jsx(Re,{className:"bg-green-500/10 border-green-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ri,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-green-400 mb-1",children:"Healthy Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is a great fit for your health goals. It contains nutritious ingredients and minimal processing."})]})]})}),b==="yellow"&&a.jsx(Re,{className:"bg-yellow-500/10 border-yellow-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Hn,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-yellow-500 mb-1",children:"Moderate Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is acceptable in moderation. Be mindful of portion sizes and frequency of consumption."})]})]})})]}),a.jsx(Bt,{value:"ai-analysis",className:"space-y-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(zr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing food item..."})]}):l?a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(p6,{className:"h-5 w-5 text-safebite-teal mr-2"}),a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"AI Nutritional Analysis"})]}),a.jsx("div",{className:"text-safebite-text-secondary",children:l.split(`
`).map((B,G)=>/^\d+\.\s/.test(B)||B.includes(":")?a.jsx("h5",{className:"font-semibold text-safebite-teal mt-3 mb-1",children:B},G):B.trim().startsWith("")||B.trim().startsWith("-")?a.jsxs("div",{className:"flex items-start ml-2 mb-1",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("p",{children:B.replace(/^[\-]\s*/,"")})]},G):B.trim()?a.jsx("p",{className:"mb-2",children:B},G):a.jsx("div",{className:"h-2"},G))})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No AI analysis available"})})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs(Re,{className:"p-4 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(cs,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-orange-500",children:"Zomato + Swiggy"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Find this food on delivery apps"})]})]}),a.jsxs(te,{disabled:!0,className:"w-full mt-3 bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[a.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})]}),a.jsxs(Re,{className:"p-4 border border-safebite-teal/30 bg-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-safebite-teal to-blue-500 flex items-center justify-center mr-3",children:a.jsx(Ed,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-safebite-teal",children:"Add to Tracker"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Track your daily nutrition"})]})]}),a.jsxs(te,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:[a.jsx(rm,{className:"mr-2 h-4 w-4"}),"Add to Tracker"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:e,children:"Back to Results"}),a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:"Add to Tracker"})]})]})},zde=({historyItems:t,recentFoods:e,onHistoryItemClick:r,onFoodItemClick:n,onToggleFavorite:s,onRemoveHistoryItem:i,onAddTag:o,onRemoveTag:l})=>{const[u,d]=K.useState(""),[h,m]=K.useState(null),p=_=>{u.trim()&&(o(_,u.trim()),d(""),m(null))},x=_=>{const b=new Date(_);return b.toLocaleDateString()+" "+b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx(Dr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Search History"]}),t.length>0?a.jsx("div",{className:"space-y-3",children:t.map(_=>a.jsxs("div",{className:"sci-fi-card p-3 hover:bg-safebite-card-bg-alt/50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>r(_.query),children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hr,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("span",{className:"text-safebite-text font-medium",children:_.query}),_.isFavorite&&a.jsx(kn,{className:"h-4 w-4 text-yellow-500 ml-2 fill-yellow-500"})]}),a.jsx("div",{className:"text-xs text-safebite-text-secondary mt-1",children:x(_.timestamp)})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(te,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>s(_.id),children:a.jsx(kn,{className:`h-4 w-4 ${_.isFavorite?"text-yellow-500 fill-yellow-500":"text-safebite-text-secondary"}`})}),a.jsx(te,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>m(h===_.id?null:_.id),children:a.jsx(RT,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(te,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>i(_.id),children:a.jsx(xn,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),_.tags&&_.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:_.tags.map(b=>a.jsxs(Le,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary flex items-center",children:[b,a.jsx(xn,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:y=>{y.stopPropagation(),l(_.id,b)}})]},b))}),h===_.id&&a.jsxs("div",{className:"mt-2 flex",children:[a.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:b=>{b.key==="Enter"&&p(_.id)}}),a.jsx(te,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>p(_.id),children:"Add"})]})]},_.id))}):a.jsx("div",{className:"text-center py-6 bg-safebite-card-bg-alt/30 rounded-lg",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No search history yet"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recently Viewed Foods"}),e.length>0?a.jsx("div",{className:"space-y-2",children:e.map(_=>a.jsx("div",{className:"sci-fi-card p-3 cursor-pointer hover:bg-safebite-card-bg-alt/50 transition-colors",onClick:()=>n(_),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-safebite-text font-medium",children:_.name}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:[_.calories," kcal | ",_.apiSource||_.source]})]}),a.jsx(Le,{className:`
                      ${_.nutritionScore==="green"?"bg-green-500":_.nutritionScore==="yellow"?"bg-yellow-500":"bg-red-500"} 
                      text-white
                    `,children:_.nutritionScore==="green"?"Healthy":_.nutritionScore==="yellow"?"Moderate":"Caution"})]})},_.id))}):a.jsx("div",{className:"text-center py-6 bg-safebite-card-bg-alt/30 rounded-lg",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No recently viewed foods"})})]})]})},M9=({onScan:t,onUpload:e,onClose:r})=>{const[n,s]=j.useState("scanner"),[i,o]=j.useState(!1),[l,u]=j.useState(null),[d,h]=j.useState(!1),m=j.useRef(null),p=j.useRef(null),x=j.useRef(null),_=async()=>{try{u(null);const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});m.current&&(m.current.srcObject=E,o(!0))}catch(E){console.error("Error accessing camera:",E),u("Could not access camera. Please check permissions."),o(!1)}},b=()=>{m.current&&m.current.srcObject&&(m.current.srcObject.getTracks().forEach(O=>O.stop()),m.current.srcObject=null,o(!1))},y=()=>{if(m.current&&p.current){const E=m.current,C=p.current,O=C.getContext("2d");if(O){C.width=E.videoWidth,C.height=E.videoHeight,O.drawImage(E,0,0,C.width,C.height);const k=C.toDataURL("image/jpeg");b(),t(k)}}},N=E=>{E.target.files&&E.target.files[0]&&e(E.target.files[0])},S=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?h(!0):E.type==="dragleave"&&h(!1)},T=E=>{E.preventDefault(),E.stopPropagation(),h(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&e(E.dataTransfer.files[0])};return K.useEffect(()=>()=>{b()},[]),a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:n==="scanner"?"Scan Food Barcode":"Upload Food Image"}),a.jsx(te,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(xn,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex space-x-2 mb-4",children:[a.jsxs(te,{variant:n==="scanner"?"default":"outline",className:n==="scanner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{s("scanner"),b()},children:[a.jsx(A6,{className:"mr-2 h-4 w-4"}),"Scanner"]}),a.jsxs(te,{variant:n==="upload"?"default":"outline",className:n==="upload"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{s("upload"),b()},children:[a.jsx(qY,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),n==="scanner"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:i?a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 border-2 border-safebite-teal/50 pointer-events-none",children:a.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-safebite-teal/50"})})]}):a.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l?a.jsxs("div",{className:"text-center p-4",children:[a.jsx(Le,{variant:"outline",className:"bg-red-500/10 text-red-500 mb-2",children:"Error"}),a.jsx("p",{className:"text-safebite-text-secondary",children:l})]}):a.jsxs(te,{onClick:_,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(ab,{className:"mr-2 h-4 w-4"}),"Start Camera"]})})}),a.jsx("canvas",{ref:p,className:"hidden"}),i&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx(te,{variant:"outline",onClick:b,children:"Cancel"}),a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:y,children:"Scan Barcode"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:"Position the barcode within the frame and hold steady"})]}),n==="upload"&&a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${d?"border-safebite-teal bg-safebite-teal/5":"border-safebite-card-bg-alt"}`,onDragEnter:S,onDragOver:S,onDragLeave:S,onDrop:T,children:[a.jsx(OT,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text mb-2",children:"Drag and drop a food image here"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"or click to select a file"}),a.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:N,className:"hidden"}),a.jsx(te,{variant:"outline",onClick:()=>{var E;return(E=x.current)==null?void 0:E.click()},children:"Select Image"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPG, PNG, WEBP"})]})]})]})})},D9="c2bd47af-11fb-45dd-9cac-c3aa89289d75",L9="https://api.calorieninjas.com/v1",qde=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),1e4),n=await fetch(`${L9}/recipe?query=${encodeURIComponent(t)}`,{signal:e.signal,method:"GET",headers:{"X-Api-Key":D9,"Content-Type":"application/json"}});if(clearTimeout(r),!n.ok)throw new Error(`CalorieNinjas API returned status ${n.status}`);return await n.json()}catch(e){throw console.error("Error searching recipes:",e),e}},Hde=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),15e3),n=new FormData;n.append("media",t);const s=await fetch(`${L9}/imagetextnutrition`,{signal:e.signal,method:"POST",headers:{"X-Api-Key":D9},body:n});if(clearTimeout(r),!s.ok)throw new Error(`CalorieNinjas API returned status ${s.status}`);return await s.json()}catch(e){throw console.error("Error getting nutrition from image:",e),e}},Wde=({isGuest:t=!1})=>{const[e,r]=j.useState(null),[n,s]=j.useState(null),[i,o]=j.useState(!1),[l,u]=j.useState(null),[d,h]=j.useState(null),m=j.useRef(null),{toast:p}=ir(),x=y=>{var S;const N=(S=y.target.files)==null?void 0:S[0];if(N){if(!N.type.startsWith("image/")){p({title:"Invalid file type",description:"Please select an image file (JPEG, PNG, etc.).",variant:"destructive"});return}if(N.size>5*1024*1024){p({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}r(N),s(URL.createObjectURL(N)),u(null),h(null)}},_=async()=>{if(!e){p({title:"No image selected",description:"Please select an image to analyze.",variant:"destructive"});return}o(!0),h(null);try{Jy("image_nutrition_analysis",{fileType:e.type,fileSize:e.size,isGuest:t});const y=await Hde(e);y&&y.items&&Array.isArray(y.items)?(u(y.items),y.items.length===0?p({title:"No nutrition data found",description:"No food items were detected in the image. Try a clearer image of food or food packaging.",variant:"default"}):p({title:"Analysis complete",description:`Found nutrition data for ${y.items.length} food items.`,variant:"default"})):(u(null),h("Invalid response from nutrition API"),p({title:"Analysis error",description:"Received invalid data from the nutrition API.",variant:"destructive"}))}catch(y){console.error("Image analysis error:",y),u(null),h(y.message||"Failed to analyze image"),p({title:"Analysis failed",description:y.message||"An error occurred while analyzing the image.",variant:"destructive"})}finally{o(!1)}},b=()=>{r(null),s(null),u(null),h(null),m.current&&(m.current.value="")};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsxs(_t,{children:[a.jsxs(yt,{className:"flex items-center",children:[a.jsx(ab,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Image Nutrition Analysis"]}),a.jsx(Wl,{children:"Upload an image of food or packaging to get nutrition information"})]}),a.jsx(ct,{children:n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:n,alt:"Food preview",className:"w-full h-auto max-h-64 object-contain rounded-lg"}),a.jsx(te,{variant:"outline",size:"sm",className:"absolute top-2 right-2 bg-safebite-dark-blue/80 hover:bg-safebite-dark-blue",onClick:b,children:"Change Image"})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:_,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(PT,{className:"mr-2 h-4 w-4"}),"Analyze Nutrition"]})})}),d&&a.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(fs,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-500",children:d})]})}),l&&l.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Nutrition Information"}),a.jsx("div",{className:"space-y-3",children:l.map((y,N)=>a.jsxs("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:[a.jsx("h4",{className:"font-medium text-safebite-text mb-2",children:y.name}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-2",children:[a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Calories"}),a.jsx("p",{className:"text-sm font-medium text-safebite-text",children:y.calories})]}),a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Protein"}),a.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[y.protein_g,"g"]})]}),a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Carbs"}),a.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[y.carbohydrates_total_g,"g"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Fat"}),a.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[y.fat_total_g,"g"]})]}),a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Sugar"}),a.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[y.sugar_g,"g"]})]}),a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Fiber"}),a.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[y.fiber_g,"g"]})]}),a.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Sodium"}),a.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[y.sodium_mg,"mg"]})]})]}),a.jsxs("p",{className:"text-xs text-safebite-text-secondary mt-2",children:["Serving size: ",y.serving_size_g,"g"]})]},N))})]})]}):a.jsxs("div",{className:"border-2 border-dashed border-safebite-card-bg-alt rounded-lg p-8 text-center cursor-pointer hover:border-safebite-teal/50 transition-colors",onClick:()=>{var y;return(y=m.current)==null?void 0:y.click()},children:[a.jsx(OT,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"Upload Food Image"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Drag and drop an image here, or click to browse"}),a.jsxs(te,{variant:"outline",className:"sci-fi-button",children:[a.jsx(zY,{className:"mr-2 h-4 w-4"}),"Browse Images"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPEG, PNG, GIF, WebP (Max 5MB)"}),a.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:x})]})}),a.jsx(go,{className:"flex justify-between",children:a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"Powered by CalorieNinjas API"})})]})},Gde=({apiSources:t,onToggleApi:e,onClose:r})=>{const n=t.filter(s=>s.isActive).length;return a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ou,{className:"h-5 w-5 text-safebite-teal mr-2"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"API Sources"})]}),a.jsx(te,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(xn,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Select which nutrition databases to search. Using multiple sources provides more comprehensive results."}),a.jsx("div",{className:"space-y-3 mb-4",children:t.map(s=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-safebite-card-bg-alt/50 rounded-lg cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>e(s.id),children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-safebite-text font-medium",children:s.name}),s.isActive&&a.jsx(Le,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:"Active"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:s.description})]}),a.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${s.isActive?"border-safebite-teal bg-safebite-teal/20":"border-safebite-text-secondary"}`,children:s.isActive&&a.jsx(El,{className:"h-4 w-4 text-safebite-teal"})})]},s.id))}),a.jsx("div",{className:"bg-safebite-card-bg-alt/30 p-3 rounded-lg text-center",children:a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:n===0?"No API sources selected. At least one is required.":`${n} API source${n>1?"s":""} selected`})}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(te,{onClick:r,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Apply Changes"})})]})]})})},Kde=({className:t=""})=>{const[e,r]=j.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(Re,{className:`sci-fi-card hover:shadow-neon-orange transition-all duration-300 hover:border-orange-500/50 ${t}`,children:a.jsxs(ct,{className:"p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(Rm,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text",children:"Food Delivery"}),a.jsx(Le,{className:"bg-orange-500 text-white text-xs",children:"Coming Soon"})]})]})}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"Get nutritional insights for your favorite restaurant meals from Zomato and Swiggy."}),a.jsxs(te,{onClick:()=>r(!0),className:"w-full bg-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/80",children:["Learn More",a.jsx(va,{className:"ml-2 h-4 w-4"})]})]})}),a.jsx(_9,{isOpen:e,onClose:()=>r(!1)})]})},Yde="modulepreload",Qde=function(t){return"/SafeBite-V1/"+t},VM={},F9=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Qde(u),u in VM)return;VM[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Yde,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,x)=>{m.addEventListener("load",p),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},$9="64b66d05",V9="7598859c968254ec27441ad9ed9197d3",ZE="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",eA=["64b66d05","83bf3c12","a742d2c9"],Xde=["7598859c968254ec27441ad9ed9197d3","f5982d5d0f3c1c92a372f0c928617b56","0c3e9d7f9546b5be3b6405f0c9903f25"],Jde="https://api.calorieninjas.com/v1",B9="https://world.openfoodfacts.org/api/v2",Ja={edamam:{name:"Edamam",isWorking:!0,lastChecked:0,errorCount:0},calorieninjas:{name:"CalorieNinjas",isWorking:!0,lastChecked:0,errorCount:0},openfoodfacts:{name:"OpenFoodFacts",isWorking:!0,lastChecked:0,errorCount:0},mongodb:{name:"MongoDB",isWorking:!0,lastChecked:0,errorCount:0}};console.log("Edamam API Key loaded:","Available");console.log("CalorieNinjas API Key loaded:","Available");console.log("Backup API Keys available:",eA.length);const BM=(t,e,r)=>{Ja[t]&&(Ja[t].lastChecked=Date.now(),Ja[t].isWorking=e,e?Ja[t].errorCount=0:(Ja[t].errorCount++,console.error(`${Ja[t].name} API error:`,r)))},UM=()=>({...Ja}),gy=async(t,e)=>{if(!t)return[];try{console.log(`Searching for: ${t}`);let r=[];const n=Zde(e);for(const s of n)try{switch(s){case"mongodb":r=await efe(t);break;case"calorieninjas":r=await rfe(t);break;case"openfoodfacts":r=await nfe(t);break;case"edamam":r=await tfe(t);break}if(r.length>0)return console.log(`Found ${r.length} results from ${Ja[s].name}`),BM(s,!0),r.map(i=>({...i,apiSource:Ja[s].name}))}catch(i){BM(s,!1,i)}return console.log("No results found from any API, using fallback data"),await qM(t)}catch(r){return console.error("Error searching foods:",r),await qM(t)}},Zde=t=>["mongodb","calorieninjas","openfoodfacts","edamam"],efe=async t=>{try{const{searchProductsInMongoDB:e}=await F9(async()=>{const{searchProductsInMongoDB:r}=await Promise.resolve().then(()=>lW);return{searchProductsInMongoDB:r}},void 0);return await e(t)}catch(e){throw console.error("MongoDB search failed:",e),e}},tfe=async t=>{let e=await zM(t,$9,V9);if(e.length===0){console.log("Primary API key returned no results, trying backup keys");for(let r=0;r<eA.length;r++){const n=eA[r],s=Xde[r];try{if(e=await zM(t,n,s),e.length>0){console.log(`Got results using backup key ${r+1}`);break}}catch(i){console.error(`Backup key ${r+1} failed:`,i)}}}return e},rfe=async t=>{try{console.log(`Searching CalorieNinjas for: ${t}`);const e=await fetch(`https://api.calorieninjas.com/v1/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":ZE,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const r=await e.json();if(console.log("CalorieNinjas response:",r),r&&r.items&&r.items.length>0)return vy(r.items);if(r&&Array.isArray(r.items))return vy(r.items);if(r){const n=r.items||[];return vy(n)}return[]}catch(e){return console.error("CalorieNinjas API error:",e),[]}},nfe=async t=>{try{console.log(`Searching OpenFoodFacts for: ${t}`);const e=await Promise.allSettled([sfe(t),ife(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return[]}catch(e){return console.error("OpenFoodFacts API error:",e),[]}},sfe=async t=>{try{console.log(`Searching OpenFoodFacts V2 API for: ${t}`);const e=await fetch(`${B9}/search?search_terms=${encodeURIComponent(t)}&fields=code,product_name,brands,nutriments,image_url,ingredients_text,allergens,additives_tags,nutriscore_grade&page_size=15`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V2 API error: ${e.status}`);const r=await e.json();return!r.products||r.products.length===0?[]:r0(r.products)}catch(e){return console.error("OpenFoodFacts V2 API error:",e),[]}},ife=async t=>{try{console.log(`Searching OpenFoodFacts V1 API for: ${t}`);const e=await fetch(`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(t)}&search_simple=1&action=process&json=1&page_size=15`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V1 API error: ${e.status}`);const r=await e.json();return!r.products||r.products.length===0?[]:r0(r.products)}catch(e){return console.error("OpenFoodFacts V1 API error:",e),[]}},afe=async t=>{try{console.log(`Searching for barcode: ${t}`);const e=await Promise.allSettled([ofe(t),lfe(t),cfe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.log("No results found for barcode from any source"),[]}catch(e){return console.error("Error searching by barcode:",e),[]}},ofe=async t=>{try{console.log(`Searching OpenFoodFacts V2 API for barcode: ${t}`);const e=await fetch(`${B9}/product/${t}?fields=code,product_name,brands,nutriments,image_url,ingredients_text,allergens,additives_tags,nutriscore_grade`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V2 API barcode error: ${e.status}`);const r=await e.json();return r.product?r0([r.product]).map(s=>({...s,apiSource:"OpenFoodFacts V2 (Barcode)"})):[]}catch(e){return console.error("OpenFoodFacts V2 barcode search failed:",e),[]}},lfe=async t=>{try{console.log(`Searching OpenFoodFacts V1 API for barcode: ${t}`);const e=await fetch(`https://world.openfoodfacts.org/api/v0/product/${t}.json`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V1 API barcode error: ${e.status}`);const r=await e.json();return!r.product||r.status!==1?[]:r0([r.product]).map(s=>({...s,apiSource:"OpenFoodFacts V1 (Barcode)"}))}catch(e){return console.error("OpenFoodFacts V1 barcode search failed:",e),[]}},cfe=async t=>{try{console.log(`Searching Edamam for barcode: ${t}`);const e=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=${$9}&app_key=${V9}&upc=${t}`);if(!e.ok)throw new Error(`Edamam API barcode error: ${e.status}`);const r=await e.json();return!r.hints||r.hints.length===0?[]:U9(r.hints).map(s=>({...s,apiSource:"Edamam (Barcode)"}))}catch(e){return console.error("Edamam barcode search failed:",e),[]}},ufe=async t=>{try{console.log("Searching by image...");const e=new FormData;e.append("file",t);try{const u=await fetch(`${Jde}/imagetextnutrition`,{method:"POST",headers:{"X-Api-Key":ZE},body:e});if(!u.ok)throw new Error(`CalorieNinjas API error: ${u.status}`);const d=await u.json();if(d.items&&d.items.length>0)return vy(d.items).map(m=>({...m,apiSource:"CalorieNinjas (Image)"}))}catch(u){console.error("CalorieNinjas image search failed:",u)}const n=t.name.toLowerCase().replace(/\.(jpg|jpeg|png|gif)$/i,"").split(/[_\-\s]/),s=["image","photo","pic","img","food","scan"],i=n.filter(u=>u.length>2&&!s.includes(u)),o=i.length>0?i[0]:"food";return console.log(`Image search fallback: searching for "${o}"`),(await gy(o)).map(u=>({...u,apiSource:"Image Recognition (Fallback)"}))}catch(e){return console.error("Error searching by image:",e),[]}},vy=t=>t.map((e,r)=>{let n="yellow";return e.protein_g>15&&(e.fiber_g>3||!e.fiber_g)&&(e.sugar_g<10||!e.sugar_g)?n="green":(e.fat_total_g>20||!e.fat_total_g||e.sugar_g>15||!e.sugar_g)&&(n="red"),{id:`calorieninjas-${Date.now()}-${r}`,name:e.name||"Unknown Food",brand:"",calories:Math.round(e.calories)||0,image:"",nutritionScore:n,nutrients:{protein:Math.round(e.protein_g)||0,carbs:Math.round(e.carbohydrates_total_g)||0,fat:Math.round(e.fat_total_g)||0,fiber:Math.round(e.fiber_g)||0,sugar:Math.round(e.sugar_g)||0},details:{protein:Math.round(e.protein_g)||0,carbs:Math.round(e.carbohydrates_total_g)||0,fat:Math.round(e.fat_total_g)||0,sodium:Math.round(e.sodium_mg)||0,sugar:Math.round(e.sugar_g)||0,calories:Math.round(e.calories)||0,ingredients:[],allergens:[],additives:[]},servingSizes:[{label:"Serving",weight:e.serving_size_g||100}],source:"CalorieNinjas"}}),r0=t=>t.map(e=>{const r=e.nutriments||{},n=e.ingredients_text?e.ingredients_text.split(", "):[],s=e.allergens?e.allergens.split(",").map(l=>l.trim()):[],i=e.additives_tags?e.additives_tags.map(l=>l.replace("en:","")):[];let o="yellow";if(e.nutriscore_grade)switch(e.nutriscore_grade.toLowerCase()){case"a":case"b":o="green";break;case"c":o="yellow";break;case"d":case"e":o="red";break}return{id:`openfoodfacts-${e.code}`,name:e.product_name||"Unknown Product",brand:e.brands||"",calories:Math.round(r.energy_kcal)||0,image:e.image_url||"",nutritionScore:o,nutrients:{protein:Math.round(r.proteins)||0,carbs:Math.round(r.carbohydrates)||0,fat:Math.round(r.fat)||0,fiber:Math.round(r.fiber)||0,sugar:Math.round(r.sugars)||0},details:{protein:Math.round(r.proteins)||0,carbs:Math.round(r.carbohydrates)||0,fat:Math.round(r.fat)||0,sodium:Math.round(r.sodium)||0,sugar:Math.round(r.sugars)||0,calories:Math.round(r.energy_kcal)||0,ingredients:n,allergens:s,additives:i},source:"OpenFoodFacts"}}),zM=async(t,e,r)=>{try{const n=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=${e}&app_key=${r}&ingr=${encodeURIComponent(t)}&nutrition-type=logging`);if(!n.ok)throw new Error(`Edamam API error: ${n.status}`);const s=await n.json();return!s.hints||s.hints.length===0?[]:U9(s.hints)}catch(n){return console.error("Edamam API error:",n),[]}},U9=t=>t.slice(0,10).map(e=>{const r=e.food,n=r.nutrients||{},i=(e.measures||[]).map(h=>({label:h.label,weight:h.weight}));let o="yellow";n.PROCNT>15&&(n.FIBTG>3||!n.FIBTG)&&(n.SUGAR<10||!n.SUGAR)?o="green":(n.FAT>20||!n.FAT||n.SUGAR>15||!n.SUGAR)&&(o="red");const l=r.foodContentsLabel?r.foodContentsLabel.split(", "):[],u=[],d=["milk","egg","fish","shellfish","tree nuts","peanuts","wheat","soy","gluten"];return l.forEach(h=>{d.forEach(m=>{h.toLowerCase().includes(m.toLowerCase())&&!u.includes(m)&&u.push(m)})}),{id:`edamam-${r.foodId}`,name:r.label,brand:r.brand||"",calories:Math.round(n.ENERC_KCAL)||0,image:r.image,nutritionScore:o,nutrients:{protein:Math.round(n.PROCNT)||0,carbs:Math.round(n.CHOCDF)||0,fat:Math.round(n.FAT)||0,fiber:Math.round(n.FIBTG)||0,sugar:Math.round(n.SUGAR)||0},details:{protein:Math.round(n.PROCNT)||0,carbs:Math.round(n.CHOCDF)||0,fat:Math.round(n.FAT)||0,sodium:Math.round(n.NA)||0,sugar:Math.round(n.SUGAR)||0,calories:Math.round(n.ENERC_KCAL)||0,ingredients:l,allergens:u,additives:[]},servingSizes:i,source:"Edamam"}}),qM=async t=>{try{const{searchProductsInMongoDB:e}=await F9(async()=>{const{searchProductsInMongoDB:n}=await Promise.resolve().then(()=>lW);return{searchProductsInMongoDB:n}},void 0),r=await e(t);return r.length>0?r:[]}catch(e){return console.error("Error getting fallback results from MongoDB:",e),[]}},Q1=t=>{try{const e=`search-${Date.now()}`,r={id:e,query:t,timestamp:Date.now(),isFavorite:!1,tags:[]},n=localStorage.getItem("foodSearchHistory"),s=n?JSON.parse(n):[];s.unshift(r);const i=s.slice(0,20);return localStorage.setItem("foodSearchHistory",JSON.stringify(i)),e}catch(e){return console.error("Error saving search history:",e),""}},dfe=()=>{try{const t=localStorage.getItem("foodSearchHistory");return t?JSON.parse(t):[]}catch(t){return console.error("Error getting search history:",t),[]}},ffe=t=>{try{const e=localStorage.getItem("foodSearchHistory"),n=(e?JSON.parse(e):[]).map(i=>i.id===t?{...i,isFavorite:!i.isFavorite}:i);localStorage.setItem("foodSearchHistory",JSON.stringify(n));const s=n.find(i=>i.id===t);return s?s.isFavorite:!1}catch(e){return console.error("Error toggling favorite:",e),!1}},hfe=(t,e)=>{try{const r=localStorage.getItem("foodSearchHistory"),s=(r?JSON.parse(r):[]).map(i=>{if(i.id===t){const o=i.tags||[];if(!o.includes(e))return{...i,tags:[...o,e]}}return i});return localStorage.setItem("foodSearchHistory",JSON.stringify(s)),!0}catch(r){return console.error("Error adding tag:",r),!1}},mfe=(t,e)=>{try{const r=localStorage.getItem("foodSearchHistory"),s=(r?JSON.parse(r):[]).map(i=>i.id===t&&i.tags?{...i,tags:i.tags.filter(o=>o!==e)}:i);return localStorage.setItem("foodSearchHistory",JSON.stringify(s)),!0}catch(r){return console.error("Error removing tag:",r),!1}},pfe=t=>{try{const e=localStorage.getItem("foodSearchHistory"),n=(e?JSON.parse(e):[]).filter(s=>s.id!==t);return localStorage.setItem("foodSearchHistory",JSON.stringify(n)),!0}catch(e){return console.error("Error removing search history item:",e),!1}},Xa=(t,e)=>{try{const r=localStorage.getItem("userFoodInteractions"),n=r?JSON.parse(r):[];n.push({type:t,details:e,timestamp:Date.now()});const s=n.slice(-100);localStorage.setItem("userFoodInteractions",JSON.stringify(s)),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}},gfe=async(t,e,r=1,n="",s="")=>{var i,o,l,u,d,h;try{const m=Ut(We),p=wr(We),x=m.currentUser;if(!x)return console.error("No user logged in"),!1;const _={...t,dateAdded:new Date,mealType:e,quantity:r,notes:n,aiAnalysis:s,tracked:!0},b=new Date().toISOString().split("T")[0],y=ht(p,"users",x.uid),N=ht(p,"users",x.uid,"foodTracker",b),S=await sr(N);if(S.exists()){const T=S.data(),E=[...T[e],_],C=T.totalCalories+t.calories*r,O=T.totalProtein+(((i=t.nutrients)==null?void 0:i.protein)||0)*r,k=T.totalCarbs+(((o=t.nutrients)==null?void 0:o.carbs)||0)*r,R=T.totalFat+(((l=t.nutrients)==null?void 0:l.fat)||0)*r;await Wn(N,{[e]:E,totalCalories:C,totalProtein:O,totalCarbs:k,totalFat:R,lastUpdated:cr.now()},{merge:!0})}else{const T={date:b,breakfast:e==="breakfast"?[_]:[],lunch:e==="lunch"?[_]:[],dinner:e==="dinner"?[_]:[],snack:e==="snack"?[_]:[],totalCalories:t.calories*r,totalProtein:(((u=t.nutrients)==null?void 0:u.protein)||0)*r,totalCarbs:(((d=t.nutrients)==null?void 0:d.carbs)||0)*r,totalFat:(((h=t.nutrients)==null?void 0:h.fat)||0)*r};await Wn(N,{...T,created:cr.now(),lastUpdated:cr.now()})}return await Wn(y,{recentFoods:l2({id:t.id,name:t.name,calories:t.calories,nutritionScore:t.nutritionScore,dateAdded:cr.now()})},{merge:!0}),!0}catch(m){return console.error("Error adding food to tracker:",m),!1}},vfe=async(t=5)=>{try{const e=Ut(We),r=wr(We),n=e.currentUser;if(!n)return console.error("No user logged in"),[];const s=ht(r,"users",n.uid),i=await sr(s);return i.exists()&&i.data().recentFoods?i.data().recentFoods.sort((l,u)=>u.dateAdded.seconds-l.dateAdded.seconds).slice(0,t):[]}catch(e){return console.error("Error getting recent foods:",e),[]}},yfe=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(!1),[s,i]=j.useState([]),[o,l]=j.useState(null),[u,d]=j.useState(!1),[h,m]=j.useState(null),[p,x]=j.useState([]),[_,b]=j.useState([]),[y,N]=j.useState("breakfast"),[S,T]=j.useState(!1),[E,C]=j.useState(null),[O,k]=j.useState(1),[R,M]=j.useState(UM()),[V,$]=j.useState(Bz()),[D,L]=j.useState(void 0),[B,G]=j.useState("both"),[q,Y]=j.useState([]),[z,J]=j.useState(""),[ne,H]=j.useState(!1),[Q,re]=j.useState(!1),[Z,me]=j.useState(""),[pe,fe]=j.useState(!1),[we,ce]=j.useState(!1),[be,Ee]=j.useState(!1),[ue,Ke]=j.useState(!1),[Ve,Ge]=j.useState([]),[ut,Gt]=j.useState("Edamam"),[kr,kt]=j.useState({}),[Zt,Ie]=j.useState({}),[tt,et]=j.useState(""),Kt=Co();_r();const{toast:Et}=ir(),Rt=Ut(We),rt=wr(We),{isGuest:bt}=Kn();j.useEffect(()=>{const ie=new URLSearchParams(Kt.search),Ce=ie.get("q");Ce&&(e(Ce),Wr(Ce)),ie.get("scan")==="true"&&Ji(),ui(),Yn(),ur()},[Kt.search]);const ur=()=>{const ie=dfe();Ge(ie);const Ce={},Pe={};ie.forEach(pt=>{pt.isFavorite&&(Ce[pt.id]=!0),pt.tags&&pt.tags.length>0&&(Pe[pt.id]=pt.tags)}),kt(Ce),Ie(Pe)},Yn=async()=>{try{const ie=await vfe(4);b(ie)}catch(ie){console.error("Error fetching recent foods:",ie)}},ui=async()=>{if(bt){const Ce={health_goals:"General Health",dietary_preferences:"Balanced",health_conditions:"",food_allergies:""};m(Ce),await ps(Ce);return}const ie=Rt.currentUser;if(ie)try{const Ce=ht(rt,"users",ie.uid),Pe=await sr(Ce);if(Pe.exists()){const pt=Pe.data();m(pt.profile),await ps(pt.profile)}}catch(Ce){console.error("Error fetching user profile:",Ce)}},ps=async ie=>{if(ie)try{const Ce=await DM();if(Ce&&Ce.length>0){const pt=Ce.slice(0,3).join(" ");Vs(pt);return}let Pe=[];if(ie.health_goals==="Weight Loss"?(Pe.push("low calorie"),Pe.push("high protein")):ie.health_goals==="Muscle Gain"?(Pe.push("high protein"),Pe.push("protein rich")):ie.health_goals==="General Health"&&(Pe.push("balanced meal"),Pe.push("nutrient rich")),ie.health_conditions==="Diabetes"?(Pe.push("low glycemic"),Pe.push("sugar free")):ie.health_conditions==="Hypertension"?(Pe.push("low sodium"),Pe.push("heart healthy")):ie.health_conditions==="Heart Issues"&&(Pe.push("heart healthy"),Pe.push("omega 3")),ie.dietary_preferences==="Veg"?Pe.push("vegetarian"):ie.dietary_preferences==="Vegan"?Pe.push("vegan"):ie.dietary_preferences==="Keto"?Pe.push("keto"):ie.dietary_preferences==="Gluten-Free"&&Pe.push("gluten free"),Pe.length>0){const pt=Math.floor(Math.random()*Pe.length),ot=Pe[pt];Vs(ot)}}catch(Ce){console.error("Error generating ML recommendations:",Ce),Vs("healthy food")}},Vs=async ie=>{try{const Ce=await DM(ie);console.log("AI Recommendations:",Ce);const Pe=Ia(Ce);if(Pe.length>0){const Qn=Pe.map(Xn=>gy(Xn)),fi=(await Promise.all(Qn)).map(Xn=>Xn.length>0?Xn[0]:null).filter(Xn=>Xn!==null);if(fi.length>0){x(fi);return}}const ot=(await gy(ie)).filter(Qn=>Qn.nutritionScore==="green");x(ot.slice(0,3))}catch(Ce){console.error("Error fetching recommendations:",Ce);try{const Pe=await gy("healthy "+ie);x(Pe.slice(0,3))}catch(Pe){console.error("Fallback recommendation error:",Pe)}}},Ia=ie=>{const Ce=ie.split(`
`),Pe=[];for(const pt of Ce)if(/^\d+\.\s+([A-Za-z\s]+)/.test(pt)){const ot=pt.match(/^\d+\.\s+([A-Za-z\s]+)/);ot&&ot[1]&&Pe.push(ot[1].trim())}else if(pt.includes(":")){const ot=pt.split(":");ot.length>1&&ot[0].trim().length<20&&Pe.push(ot[0].trim())}if(Pe.length===0){for(const pt of Ce)if(pt.trim().length>0){const ot=pt.trim().split(" ").slice(0,3).join(" ");ot.length>3&&!Pe.includes(ot)&&Pe.push(ot)}}return Pe.slice(0,3)},Wr=async ie=>{if(!ie.trim()){Et({title:"Empty Search",description:"Please enter a food item to search",variant:"destructive"});return}e(ie),n(!0),l(null),d(!1),ce(!1),J("");try{const Ce=Q1(ie);et(Ce),ur(),Xa("search",{query:ie});const Pe=await searchCalorieNinjas(ie);if(Pe&&Pe.length>0){const pt=Pe.map(ot=>{let Qn="yellow";const Fo=ot.nutrients.protein||0,fi=ot.nutrients.fiber||0,Xn=ot.nutrients.sugar||0,vs=ot.nutrients.fat||0;return Fo>15&&fi>3&&Xn<10?Qn="green":(vs>20||Xn>15)&&(Qn="red"),{id:ot.id,name:ot.name,calories:ot.calories,nutritionScore:Qn,nutrients:ot.nutrients,source:"CalorieNinjas",apiSource:"CalorieNinjas",image:"",details:{protein:ot.nutrients.protein||0,carbs:ot.nutrients.carbs||0,fat:ot.nutrients.fat||0,sodium:ot.nutrients.sodium||0,sugar:ot.nutrients.sugar||0,calories:ot.calories,ingredients:[],allergens:[],additives:[]}}});i(pt),Y(Pe),d(!1),Et({title:"Search Complete",description:`Found ${Pe.length} results for "${ie}"`})}else i([]),Y([]),d(!0),Et({title:"No Results",description:`No results found for "${ie}". Try a different search term.`,variant:"default"})}catch(Ce){console.error("Search error:",Ce),i([]),Y([]),d(!0),Et({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"})}finally{n(!1)}},cn=()=>{fe(!0)},Ji=async ie=>{n(!0),l(null),fe(!1),Et({title:"Processing Barcode",description:"Analyzing the scanned barcode..."});try{const Ce=Math.floor(Math.random()*1e12).toString(),Pe=await afe(Ce);if(Pe.length>0){const pt=Q1(`Barcode: ${Ce}`);et(pt),ur(),i(Pe),d(!1),Et({title:"Product Found",description:`Scanned product identified as ${Pe[0].name}`})}else d(!0),Et({title:"Product Not Found",description:"Could not identify the scanned product",variant:"destructive"})}catch(Ce){console.error("Scan error:",Ce),d(!0),Et({title:"Scan Error",description:"There was a problem scanning the product",variant:"destructive"})}finally{n(!1)}},Ze=async ie=>{n(!0),l(null),fe(!1),Et({title:"Processing Image",description:"Analyzing the uploaded food image..."});try{const Ce=await ufe(ie);if(Ce.length>0){const Pe=Q1(`Image: ${ie.name}`);et(Pe),ur(),i(Ce),d(!1),Et({title:"Food Identified",description:`Image identified as ${Ce[0].name}`})}else d(!0),Et({title:"Food Not Identified",description:"Could not identify food in the image",variant:"destructive"})}catch(Ce){console.error("Image upload error:",Ce),d(!0),Et({title:"Processing Error",description:"There was a problem analyzing the image",variant:"destructive"})}finally{n(!1)}},mt=async ie=>{if(l(ie),ce(!1),ie){H(!0);try{const Ce=await Fde(ie);J(Ce),Ot(ie,Ce),Et({title:"AI Analysis Ready",description:"Check the AI Analysis tab for personalized insights",variant:"default"})}catch(Ce){console.error("Error getting AI analysis:",Ce),J("Unable to analyze this food item at the moment.")}finally{H(!1)}}},Ot=async(ie,Ce)=>{try{const pt=Ut(We).currentUser;if(!pt){console.log("User not logged in, skipping food selection tracking");return}const ot=wr(We),Qn=ht(ot,"users",pt.uid),Fo=ht(ot,"users",pt.uid,"foodSelections",`${Date.now()}`);await Wn(Fo,{foodId:ie.id,foodName:ie.name,nutritionScore:ie.nutritionScore,calories:ie.calories,nutrients:ie.nutrients,aiAnalysis:Ce,timestamp:new Date().toISOString(),source:ie.apiSource||ie.source}),console.log("Food selection saved to user profile")}catch(Pe){console.error("Error saving food selection:",Pe)}},dr=()=>{ce(!we)},jr=()=>{Ee(!be)},gs=ie=>{Wr(ie)},Dn=ie=>{const Ce=ffe(ie);kt(Pe=>({...Pe,[ie]:Ce}))},Do=(ie,Ce)=>{hfe(ie,Ce)&&Ie(Pe=>{const pt=Pe[ie]||[];return{...Pe,[ie]:[...pt,Ce]}})},Ra=(ie,Ce)=>{mfe(ie,Ce)&&Ie(Pe=>{const pt=Pe[ie]||[];return{...Pe,[ie]:pt.filter(ot=>ot!==Ce)}})},mc=ie=>{pfe(ie)&&(Ge(Ce=>Ce.filter(Pe=>Pe.id!==ie)),kt(Ce=>{const Pe={...Ce};return delete Pe[ie],Pe}),Ie(Ce=>{const Pe={...Ce};return delete Pe[ie],Pe}))},di=ie=>{C(ie),T(!0),k(1),me("")},pc=async()=>{if(E){n(!0);try{await gfe(E,y,O,Z,z)?(Et({title:"Added to Tracker",description:`${E.name} added to your ${y} tracker.`}),Yn()):Et({title:"Error",description:"Could not add food to tracker. Please try again.",variant:"destructive"})}catch(ie){console.error("Error adding food to tracker:",ie),Et({title:"Error",description:"Could not add food to tracker. Please try again.",variant:"destructive"})}finally{n(!1),T(!1),C(null)}}},Sr=()=>r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-safebite-teal border-t-transparent rounded-full mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Searching for food data..."})]}):u?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(y6,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,t,'"']}),a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:()=>d(!1),children:"Try a Different Search"})]}):s.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(ie=>a.jsx(Ti,{name:ie.name,calories:ie.calories,nutritionScore:ie.nutritionScore,onClick:()=>mt(ie)},ie.id))}):null,Lo=()=>!S||!E?null:a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full p-6 border border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Add to Food Tracker"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Food:"}),a.jsx("span",{className:"text-safebite-text font-medium",children:E.name})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Calories:"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:[E.calories," kcal"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Meal Type"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(te,{variant:y==="breakfast"?"default":"outline",className:y==="breakfast"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("breakfast"),children:"Breakfast"}),a.jsx(te,{variant:y==="lunch"?"default":"outline",className:y==="lunch"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("lunch"),children:"Lunch"}),a.jsx(te,{variant:y==="dinner"?"default":"outline",className:y==="dinner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("dinner"),children:"Dinner"}),a.jsx(te,{variant:y==="snack"?"default":"outline",className:y==="snack"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("snack"),children:"Snack"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Quantity"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(te,{variant:"outline",size:"sm",onClick:()=>k(Math.max(1,O-1)),disabled:O<=1,children:"-"}),a.jsx("span",{className:"mx-4 text-safebite-text font-medium",children:O}),a.jsx(te,{variant:"outline",size:"sm",onClick:()=>k(O+1),children:"+"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Notes (optional)"}),a.jsx("input",{type:"text",className:"w-full p-2 bg-safebite-card-bg-alt border border-safebite-card-bg rounded-md text-safebite-text",placeholder:"E.g., Before workout, With salad",value:Z,onChange:ie=>me(ie.target.value)})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(te,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:pc,disabled:r,children:r?"Adding...":"Add to Tracker"})]})]})});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[Lo(),a.jsx(Qi,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Search"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for foods, scan barcodes, and get detailed nutrition information"})]}),a.jsx(Ude,{onSelectFood:ie=>{l(ie),d(!1),fe(!1),ce(!1),Ee(!1),Ke(!1),Xa("food_selected",{foodId:ie._id,foodName:ie.name||ie.product||ie.food_name||ie.recipe_name})},className:"mb-6"}),a.jsx("div",{className:"sci-fi-card mb-6 hidden",children:a.jsx(Vde,{onSearch:Wr,onScan:cn,onUpload:cn,onShowHistory:dr,onApiSelect:jr,activeApi:ut})}),a.jsx("div",{className:"mb-6",children:a.jsx(oi,{defaultValue:"all",className:"w-full",children:a.jsxs(Ls,{className:"grid grid-cols-3 mb-4",children:[a.jsxs(jt,{value:"all",onClick:()=>G("both"),children:[a.jsx(ou,{className:"mr-2 h-4 w-4"}),"All Sources"]}),a.jsxs(jt,{value:"calorieNinjas",onClick:()=>G("calorieNinjas"),children:[a.jsx(Di,{className:"mr-2 h-4 w-4"}),"CalorieNinjas"]}),a.jsxs(jt,{value:"fatSecret",onClick:()=>G("fatSecret"),children:[a.jsx(zi,{className:"mr-2 h-4 w-4"}),"FatSecret"]})]})})}),a.jsx("div",{className:"mb-6",children:a.jsx(Kde,{})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx(ab,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"New! Image Nutrition Analysis"]}),a.jsx(Wde,{isGuest:!Rt.currentUser})]}),o?a.jsx(O9,{food:o,onBack:()=>l(null),onAddToTracker:di,onAddTag:(ie,Ce)=>Do(ie,Ce),onToggleFavorite:ie=>Dn(ie),isFavorite:kr[o.id]||!1,tags:Zt[o.id]||[],aiAnalysis:z,isAnalysisLoading:ne}):we?a.jsx("div",{className:"sci-fi-card",children:a.jsx(zde,{historyItems:Ve,recentFoods:_,onHistoryItemClick:gs,onFoodItemClick:mt,onToggleFavorite:Dn,onRemoveHistoryItem:mc,onAddTag:Do,onRemoveTag:Ra})}):a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:s.length>0||q.length>0?"Search Results":"Popular Searches"}),(s.length>0||q.length>0)&&a.jsxs(oi,{defaultValue:"all",className:"w-full mb-6",children:[a.jsxs(Ls,{className:"grid grid-cols-3 mb-4",children:[a.jsxs(jt,{value:"all",children:[a.jsx(ou,{className:"mr-2 h-4 w-4"}),"All Results"]}),a.jsxs(jt,{value:"edamam",children:[a.jsx(zi,{className:"mr-2 h-4 w-4"}),"Edamam"]}),a.jsxs(jt,{value:"nutrition",children:[a.jsx(Di,{className:"mr-2 h-4 w-4"}),"Nutrition APIs"]})]}),a.jsx(Bt,{value:"all",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[s.map(ie=>{var Ce;return a.jsx(Ti,{name:ie.name||ie.product||ie.food_name||ie.recipe_name||"Unknown Food",calories:ie.calories||((Ce=ie.nutritionalInfo)==null?void 0:Ce.calories)||0,nutritionScore:ie.nutritionScore||0,onClick:()=>mt(ie),source:"Edamam"},ie.id)}),q.map(ie=>a.jsx(Ti,{name:ie.name,calories:ie.calories,nutritionScore:0,onClick:()=>{const Ce={id:ie.id,name:ie.name,calories:ie.calories,nutritionalInfo:{calories:ie.calories,protein:ie.nutrients.protein,carbs:ie.nutrients.carbs,fat:ie.nutrients.fat,fiber:ie.nutrients.fiber,sugar:ie.nutrients.sugar},source:ie.source};mt(Ce)},source:ie.source},ie.id))]})}),a.jsx(Bt,{value:"edamam",children:a.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:s.length>0?s.map(ie=>{var Ce;return a.jsx(Ti,{name:ie.name||ie.product||ie.food_name||ie.recipe_name||"Unknown Food",calories:ie.calories||((Ce=ie.nutritionalInfo)==null?void 0:Ce.calories)||0,nutritionScore:ie.nutritionScore||0,onClick:()=>mt(ie),source:"Edamam"},ie.id)}):a.jsxs("div",{className:"text-center p-6",children:[a.jsx(fs,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"No results found from Edamam API"})]})})}),a.jsx(Bt,{value:"nutrition",children:a.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:q.length>0?q.map(ie=>a.jsx(Ti,{name:ie.name,calories:ie.calories,nutritionScore:0,onClick:()=>{const Ce={id:ie.id,name:ie.name,calories:ie.calories,nutritionalInfo:{calories:ie.calories,protein:ie.nutrients.protein,carbs:ie.nutrients.carbs,fat:ie.nutrients.fat,fiber:ie.nutrients.fiber,sugar:ie.nutrients.sugar},source:ie.source};mt(Ce)},source:ie.source},ie.id)):a.jsxs("div",{className:"text-center p-6",children:[a.jsx(fs,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"No results found from Nutrition APIs"})]})})})]}),s.length===0&&q.length===0&&a.jsxs(a.Fragment,{children:[Sr(),!s.length&&!u&&!r&&a.jsxs(a.Fragment,{children:[p.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recommended for You"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:p.map(ie=>a.jsx(Ti,{name:ie.name,calories:ie.calories,nutritionScore:ie.nutritionScore,onClick:()=>mt(ie)},ie.id))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Popular Categories"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(Re,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>Wr("healthy breakfast"),children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-green-500/20 flex items-center justify-center mb-3",children:a.jsx(w6,{className:"h-6 w-6 text-green-500"})}),a.jsx("h4",{className:"font-medium text-safebite-text",children:"Healthy Breakfast"})]})}),a.jsx(Re,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>Wr("protein rich"),children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center mb-3",children:a.jsx(Di,{className:"h-6 w-6 text-red-500"})}),a.jsx("h4",{className:"font-medium text-safebite-text",children:"Protein Rich"})]})}),a.jsx(Re,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>Wr("heart healthy"),children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-3",children:a.jsx(hs,{className:"h-6 w-6 text-purple-500"})}),a.jsx("h4",{className:"font-medium text-safebite-text",children:"Heart Healthy"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recent Foods"}),_.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:_.map(ie=>a.jsx(Ti,{name:ie.name,calories:ie.calories,nutritionScore:ie.nutritionScore,onClick:()=>mt(ie)},ie.id))}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ti,{name:"Breakfast Cereal",calories:120,nutritionScore:"yellow",onClick:()=>Wr("cereal")}),a.jsx(Ti,{name:"Protein Bars",calories:200,nutritionScore:"yellow",onClick:()=>Wr("protein bar")}),a.jsx(Ti,{name:"Greek Yogurt",calories:100,nutritionScore:"green",onClick:()=>Wr("greek yogurt")})]})]})]})]})]})]})}),pe&&a.jsx(M9,{onScan:Ji,onUpload:Ze,onClose:()=>fe(!1)}),ue&&a.jsx(Po,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or the foods you're searching for!"}),be&&a.jsx(Gde,{apiSources:[{id:"mongodb",name:"SafeBite Database",description:"Our curated database of food products and recipes",isActive:D==="mongodb"},{id:"calorieninjas",name:"CalorieNinjas API",description:"Detailed nutrition data with image recognition capabilities",isActive:D==="calorieninjas"},{id:"openfoodfacts",name:"Open Food Facts",description:"Global community-driven food product database",isActive:D==="openfoodfacts"},{id:"edamam",name:"Edamam Food Database",description:"Comprehensive nutrition data for packaged and whole foods",isActive:D==="edamam"}],onToggleApi:ie=>{L(ie),Ee(!1),M(UM())},onClose:()=>Ee(!1)})]})},xfe=()=>{const[t,e]=j.useState("chat"),[r,n]=j.useState([]),[s,i]=j.useState(""),[o,l]=j.useState([]),[u,d]=j.useState(!1),h=j.useRef(null),{toast:m}=ir(),{isGuest:p}=Kn(),x=Ut(We),_=wr(We),b=x.currentUser;j.useEffect(()=>{let O;return(async()=>{const R=$d(_,"community","general","messages"),M=rue(R,nue("timestamp","asc"),sue(50));O=lue(M,V=>{const $=V.docs.map(D=>{var B;const L=D.data();return{id:D.id,username:L.username||"Anonymous",avatar:L.avatar||"",text:L.text||"",timestamp:((B=L.timestamp)==null?void 0:B.toDate())||new Date,isCurrentUser:b?L.userId===b.uid:!1,linkedProduct:L.linkedProduct}});n($)})})(),()=>{O&&O()}},[_,b]),j.useEffect(()=>{var O;(O=h.current)==null||O.scrollIntoView({behavior:"smooth"})},[r]);const y=async()=>{if(!s.trim())return;if(p||!b){m({title:"Login Required",description:"Please log in or sign up to send messages in the community chat.",variant:"default"});return}const O={userId:b.uid,username:b.displayName||b.email||"Anonymous",text:s,timestamp:jd(),avatar:b.photoURL||""};try{const k=$d(_,"community","general","messages");await py(k,O),i("")}catch(k){m({title:"Error sending message",description:k.message,variant:"destructive"}),console.error("Error sending message to Firestore: ",k)}},N=O=>{l(k=>k.map(R=>R.id===O?{...R,likes:R.likes+1}:R)),m({title:"Post liked",description:"Your engagement helps the community!"})},S=O=>{m({title:"Share link copied!",description:"You can now paste the link to share this post."})},T=()=>{d(!u),m({title:u?"Unsubscribed from notifications":"Subscribed to notifications",description:u?"You'll no longer receive community updates":"You'll receive notifications for new posts and replies"})},E=O=>O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),C=O=>O.toLocaleDateString("en-US",{month:"short",day:"numeric"});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(Qi,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Live Community Chat Beta"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect with other users, share food discoveries, and get advice"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(te,{variant:u?"default":"outline",className:u?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"sci-fi-button",onClick:T,children:[a.jsx(ib,{className:"mr-2 h-4 w-4"}),u?"Subscribed":"Subscribe to Updates"]})})]}),a.jsxs(oi,{defaultValue:"chat",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(Ls,{className:"grid grid-cols-2 gap-2",children:[a.jsxs(jt,{value:"chat",className:t==="chat"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(ty,{className:"mr-2 h-4 w-4"}),"Live Chat"]}),a.jsxs(jt,{value:"forum",className:t==="forum"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(ti,{className:"mr-2 h-4 w-4"}),"Forum Discussions"]})]})}),a.jsx(Bt,{value:"chat",className:"mt-0",children:a.jsxs(Re,{className:"sci-fi-card min-h-[600px] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(ty,{className:"mr-2 h-5 w-5"}),"Live Community Chat Beta",a.jsxs(Le,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[r.length," messages"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(O=>a.jsx("div",{className:`flex ${O.isCurrentUser?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] ${O.isCurrentUser?"bg-safebite-teal text-safebite-dark-blue rounded-tl-lg rounded-tr-none":"bg-safebite-card-bg-alt text-safebite-text rounded-tr-lg rounded-tl-none"} rounded-bl-lg rounded-br-lg p-3`,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(tx,{className:"h-6 w-6 mr-2",children:a.jsx(rx,{className:O.isCurrentUser?"bg-safebite-dark-blue text-safebite-teal":"",children:O.username.charAt(0)})}),a.jsx("span",{className:"font-medium text-sm",children:O.username}),a.jsx("span",{className:"text-xs ml-2 opacity-70",children:E(O.timestamp)})]}),a.jsx("p",{children:O.text}),O.linkedProduct&&a.jsxs("div",{className:"mt-2 p-2 bg-safebite-card-bg rounded-md flex items-center",children:[a.jsx("img",{src:O.linkedProduct.image,alt:O.linkedProduct.name,className:"h-10 w-10 rounded-md object-cover mr-2"}),a.jsx("span",{className:"text-sm",children:O.linkedProduct.name})]})]})},O.id)),a.jsx("div",{ref:h})]})}),a.jsx("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(xt,{placeholder:"Type your message...",className:"sci-fi-input",value:s,onChange:O=>i(O.target.value),onKeyPress:O=>O.key==="Enter"&&y()}),a.jsx(te,{onClick:y,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:a.jsx(N6,{className:"h-4 w-4"})}),a.jsx(te,{variant:"outline",className:"sci-fi-button",children:a.jsx(RT,{className:"h-4 w-4"})})]})})]})}),a.jsx(Bt,{value:"forum",className:"mt-0",children:a.jsx("div",{className:"grid gap-6",children:o.map(O=>a.jsx(Re,{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(tx,{className:"h-10 w-10 mr-3",children:a.jsx(rx,{children:O.username.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-safebite-text",children:O.username}),a.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Posted on ",C(O.timestamp)]})]})]}),O.username==="DietSpecialist"&&a.jsxs(Le,{className:"bg-safebite-purple",children:[a.jsx(km,{className:"h-3 w-3 mr-1"})," Expert"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:O.title}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:O.content}),O.linkedProduct&&a.jsxs("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md flex items-center",children:[a.jsx("img",{src:O.linkedProduct.image,alt:O.linkedProduct.name,className:"h-12 w-12 rounded-md object-cover mr-3"}),a.jsx("span",{children:O.linkedProduct.name})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(te,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>N(O.id),children:[a.jsx(ZY,{className:"h-4 w-4 mr-1"}),O.likes]}),a.jsxs(te,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(ty,{className:"h-4 w-4 mr-1"}),O.replies," Replies"]})]}),a.jsxs(te,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>S(O.id),children:[a.jsx(by,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})},O.id))})})]}),a.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})};var b2="Checkbox",[bfe,rCe]=$s(b2),[wfe,_fe]=bfe(b2),z9=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:d,form:h,...m}=t,[p,x]=j.useState(null),_=Ct(e,E=>x(E)),b=j.useRef(!1),y=p?h||!!p.closest("form"):!0,[N=!1,S]=ds({prop:s,defaultProp:i,onChange:d}),T=j.useRef(N);return j.useEffect(()=>{const E=p==null?void 0:p.form;if(E){const C=()=>S(T.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[p,S]),a.jsxs(wfe,{scope:r,state:N,disabled:l,children:[a.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":Fl(N)?"mixed":N,"aria-required":o,"data-state":W9(N),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:_,onKeyDown:Ue(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Ue(t.onClick,E=>{S(C=>Fl(C)?!0:!C),y&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),y&&a.jsx(jfe,{control:p,bubbles:!b.current,name:n,value:u,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Fl(i)?!1:i})]})});z9.displayName=b2;var q9="CheckboxIndicator",H9=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=_fe(q9,r);return a.jsx(Ca,{present:n||Fl(i.state)||i.state===!0,children:a.jsx(qe.span,{"data-state":W9(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});H9.displayName=q9;var jfe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...i}=t,o=j.useRef(null),l=Xp(r),u=$p(e);j.useEffect(()=>{const h=o.current,m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&x){const _=new Event("click",{bubbles:n});h.indeterminate=Fl(r),x.call(h,Fl(r)?!1:r),h.dispatchEvent(_)}},[l,r,n]);const d=j.useRef(Fl(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fl(t){return t==="indeterminate"}function W9(t){return Fl(t)?"indeterminate":t?"checked":"unchecked"}var G9=z9,Sfe=H9;const K9=j.forwardRef(({className:t,...e},r)=>a.jsx(G9,{ref:r,className:Qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Sfe,{className:Qe("flex items-center justify-center text-current"),children:a.jsx(El,{className:"h-4 w-4"})})}));K9.displayName=G9.displayName;const Nfe=({onComplete:t})=>{const e=_r(),{toast:r}=ir(),n=Ut(We),s=wr(We),[i,o]=j.useState(!1),[l,u]=j.useState(!1),[d,h]=j.useState(1),m=8,[p,x]=j.useState({exercise_minutes:0,water_intake:0,sleep_hours:0,stress_level:3,home_cooked_meals:0,junk_food_consumption:0,fruit_vegetable_servings:0,health_symptoms:[]});j.useEffect(()=>{(async()=>{var S;try{const T=n.currentUser;if(!T){e("/auth/login");return}const E=ht(s,"users",T.uid),C=await sr(E);if(C.exists()){const O=C.data();if((S=O.weeklyCheckin)!=null&&S.lastSubmitted){const k=O.weeklyCheckin.lastSubmitted.toDate(),M=Math.abs(new Date().getTime()-k.getTime());Math.ceil(M/(1e3*60*60*24))<7&&u(!0)}}}catch(T){console.error("Error checking weekly questions status:",T)}})()},[n,s,e]);const _=async()=>{o(!0);try{const N=n.currentUser;if(!N){e("/auth/login");return}const S=ht(s,"users",N.uid),T=new Date,E=Math.ceil((T.getDate()-1+new Date(T.getFullYear(),T.getMonth(),1).getDay())/7),C=`${T.getFullYear()}-W${E}`;await Wn(S,{weeklyCheckin:{answers:p,lastSubmitted:jd(),weekIdentifier:C}},{merge:!0}),r({title:"Weekly Check-in Complete!",description:"Your responses have been saved. Check your dashboard for insights.",variant:"default"}),u(!0),t&&t()}catch(N){console.error("Error submitting weekly questions:",N),r({title:"Submission Error",description:"There was a problem saving your responses. Please try again.",variant:"destructive"})}finally{o(!1)}},b=()=>{d<m?h(d+1):_()},y=()=>{d>1&&h(d-1)};return l?a.jsxs(Re,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"text-2xl font-bold text-center flex items-center justify-center",children:[a.jsx(oR,{className:"mr-2 h-6 w-6 text-green-500"}),"Weekly Check-in Complete"]})}),a.jsxs(ct,{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"You've already completed your weekly health check-in. Check back next week for new questions."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Visit your dashboard to see insights based on your responses."}),a.jsxs(te,{onClick:()=>e("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:["Go to Dashboard",a.jsx(va,{className:"ml-2 h-4 w-4"})]})]})]}):a.jsxs(Re,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(yt,{className:"text-2xl font-bold",children:"Weekly Health Check-in"}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"text-sm text-safebite-text-secondary",children:["Step ",d," of ",m]}),a.jsx("div",{className:"flex h-2 w-full max-w-xs bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-safebite-teal h-full transition-all duration-300",style:{width:`${d/m*100}%`}})})]})]}),a.jsxs(ct,{children:[d===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many minutes of exercise did you get this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include any physical activity like walking, running, sports, or workouts."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(pl,{value:[p.exercise_minutes],min:0,max:300,step:5,onValueChange:N=>x({...p,exercise_minutes:N[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 min"}),a.jsx("span",{children:"150 min"}),a.jsx("span",{children:"300+ min"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.exercise_minutes}),a.jsx("span",{className:"text-safebite-text ml-1",children:"minutes"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.exercise_minutes<60?"Try to aim for at least 150 minutes per week for good health.":p.exercise_minutes<150?"Getting closer to the recommended 150 minutes per week!":"Great job! You're meeting or exceeding exercise recommendations."})]})]}),d===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many cups of water do you drink daily on average?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One cup is approximately 8 ounces or 240ml."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(pl,{value:[p.water_intake],min:0,max:12,step:1,onValueChange:N=>x({...p,water_intake:N[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 cups"}),a.jsx("span",{children:"6 cups"}),a.jsx("span",{children:"12+ cups"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.water_intake}),a.jsx("span",{className:"text-safebite-text ml-1",children:"cups"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.water_intake<4?"Try to increase your water intake for better hydration.":p.water_intake<8?"You're doing well, but try to reach 8 cups daily for optimal hydration.":"Excellent! You're well-hydrated."})]})]}),d===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"3"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many hours of sleep do you get on average each night?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your typical sleep pattern over the past week."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(pl,{value:[p.sleep_hours],min:0,max:12,step:.5,onValueChange:N=>x({...p,sleep_hours:N[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 hrs"}),a.jsx("span",{children:"6 hrs"}),a.jsx("span",{children:"12 hrs"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.sleep_hours}),a.jsx("span",{className:"text-safebite-text ml-1",children:"hours"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.sleep_hours<6?"Most adults need 7-9 hours of sleep for optimal health.":p.sleep_hours<7?"You're close to the recommended amount of sleep.":p.sleep_hours<=9?"Great! You're getting the recommended amount of sleep.":"You're getting more than the typical recommendation. If you feel well-rested, that's what matters!"})]})]}),d===4&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How would you rate your stress level this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your overall feelings of stress, anxiety, or tension."})]})]}),a.jsx("div",{className:"pl-11",children:a.jsxs(g2,{value:p.stress_level.toString(),onValueChange:N=>x({...p,stress_level:parseInt(N)}),className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Bc,{value:"1",id:"stress-1"}),a.jsx(it,{htmlFor:"stress-1",className:"flex-1 cursor-pointer",children:"Very Low - Feeling calm and relaxed"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Bc,{value:"2",id:"stress-2"}),a.jsx(it,{htmlFor:"stress-2",className:"flex-1 cursor-pointer",children:"Low - Occasional mild stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Bc,{value:"3",id:"stress-3"}),a.jsx(it,{htmlFor:"stress-3",className:"flex-1 cursor-pointer",children:"Moderate - Noticeable but manageable stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Bc,{value:"4",id:"stress-4"}),a.jsx(it,{htmlFor:"stress-4",className:"flex-1 cursor-pointer",children:"High - Frequent stress affecting daily life"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Bc,{value:"5",id:"stress-5"}),a.jsx(it,{htmlFor:"stress-5",className:"flex-1 cursor-pointer",children:"Very High - Constant stress, feeling overwhelmed"})]})]})})]}),d===5&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many home-cooked meals did you eat this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include meals prepared at home, not takeout or restaurant meals."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(pl,{value:[p.home_cooked_meals],min:0,max:21,step:1,onValueChange:N=>x({...p,home_cooked_meals:N[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 meals"}),a.jsx("span",{children:"10 meals"}),a.jsx("span",{children:"21 meals"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.home_cooked_meals}),a.jsx("span",{className:"text-safebite-text ml-1",children:"meals"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.home_cooked_meals<7?"Home-cooked meals are typically healthier. Try to increase when possible.":p.home_cooked_meals<14?"You're doing well with home cooking!":"Excellent! Most of your meals are home-cooked, which is great for nutrition."})]})]}),d===6&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many times did you eat fast food or junk food this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include fast food, processed snacks, sugary treats, etc."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(pl,{value:[p.junk_food_consumption],min:0,max:15,step:1,onValueChange:N=>x({...p,junk_food_consumption:N[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 times"}),a.jsx("span",{children:"7 times"}),a.jsx("span",{children:"15+ times"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.junk_food_consumption}),a.jsx("span",{className:"text-safebite-text ml-1",children:"times"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.junk_food_consumption<3?"Great job limiting junk food consumption!":p.junk_food_consumption<7?"Try to reduce junk food a bit more for better health.":"Consider reducing your junk food intake for better nutrition and health."})]})]}),d===7&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many servings of fruits and vegetables do you eat daily?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One serving is about 1 cup of raw vegetables or fruit, or 1/2 cup cooked."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(pl,{value:[p.fruit_vegetable_servings],min:0,max:10,step:1,onValueChange:N=>x({...p,fruit_vegetable_servings:N[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 servings"}),a.jsx("span",{children:"5 servings"}),a.jsx("span",{children:"10+ servings"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.fruit_vegetable_servings}),a.jsx("span",{className:"text-safebite-text ml-1",children:"servings"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.fruit_vegetable_servings<3?"Try to increase your fruit and vegetable intake to at least 5 servings daily.":p.fruit_vegetable_servings<5?"You're doing well, but aim for 5+ servings daily for optimal health.":"Excellent! You're meeting or exceeding the recommended fruit and vegetable intake."})]})]}),d===8&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"Have you experienced any of these symptoms this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Select all that apply. This helps us provide better health insights."})]})]}),a.jsxs("div",{className:"pl-11 space-y-3",children:[[{id:"fatigue",label:"Unusual fatigue or low energy"},{id:"headaches",label:"Frequent headaches"},{id:"digestive",label:"Digestive issues (bloating, constipation, etc.)"},{id:"joint_pain",label:"Joint pain or stiffness"},{id:"mood_swings",label:"Mood swings or irritability"},{id:"skin_issues",label:"Skin issues (rashes, acne, dryness)"},{id:"sleep_issues",label:"Difficulty sleeping"},{id:"allergies",label:"Allergy symptoms"},{id:"none",label:"None of the above"}].map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K9,{id:N.id,checked:p.health_symptoms.includes(N.id),onCheckedChange:S=>{if(S)if(N.id==="none")x({...p,health_symptoms:["none"]});else{const T=p.health_symptoms.filter(E=>E!=="none");x({...p,health_symptoms:[...T,N.id]})}else x({...p,health_symptoms:p.health_symptoms.filter(T=>T!==N.id)})}}),a.jsx(it,{htmlFor:N.id,className:"cursor-pointer",children:N.label})]},N.id)),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(Al,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"This information is used to provide personalized health insights and is kept private."})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(te,{variant:"outline",onClick:y,disabled:d===1||i,className:"sci-fi-button",children:"Previous"}),a.jsx(te,{onClick:b,disabled:i,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:i?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):d===m?a.jsxs(a.Fragment,{children:["Submit",a.jsx(oR,{className:"ml-2 h-4 w-4"})]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(va,{className:"ml-2 h-4 w-4"})]})})]})]})]})},Efe=()=>{const t=_r(),{toast:e}=ir(),[r,n]=j.useState(!0),[s,i]=j.useState(""),[o,l]=j.useState(!1),u=Ut(We),d=wr(We),h=u.currentUser,[m,p]=j.useState(null),[x,_]=j.useState([]);j.useEffect(()=>{(async()=>{if(n(!0),h){const N=ht(d,"users",h.uid);try{const S=await sr(N);if(S.exists()){const C=S.data();if(p(C),C.weeklyCheckin&&C.weeklyCheckin.lastSubmitted){const O=C.weeklyCheckin.lastSubmitted.toDate(),R=Math.abs(new Date().getTime()-O.getTime()),V=Math.ceil(R/(1e3*60*60*24))<7;l(V),V&&C.weeklyCheckin.answers&&i(JSON.stringify(C.weeklyCheckin.answers))}}const T=ht(d,"user_activities",h.uid),E=await sr(T);if(E.exists()){const C=E.data();_(C.activities||[])}}catch(S){e({title:"Error checking progress",description:S.message,variant:"destructive"}),console.error("Error checking weekly questions status: ",S)}finally{n(!1)}}else n(!1)})()},[h,d,e]);const b=()=>{e({title:"Weekly check-in completed!",description:"Your responses have been saved. Check your dashboard for insights."}),setTimeout(()=>{t("/dashboard")},2e3)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:[r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(zr,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Loading your weekly check-in..."})]}):a.jsxs("div",{className:"w-full max-w-4xl",children:[a.jsx(Nfe,{onComplete:b}),a.jsx("div",{className:"text-center mt-4 text-xs text-safebite-text-secondary",children:"Your weekly check-in helps us provide personalized health recommendations."})]}),a.jsx(Po,{currentPage:"weekly-questions",userData:{profile:m,recentActivity:x},autoOpen:!0,initialMessage:"Welcome to your weekly health check-in! These questions help us provide personalized recommendations. Would you like me to explain how this information is used to improve your experience?"})]})};var X1,HM;function ms(){if(HM)return X1;HM=1;var t=Array.isArray;return X1=t,X1}var J1,WM;function Y9(){if(WM)return J1;WM=1;var t=typeof _v=="object"&&_v&&_v.Object===Object&&_v;return J1=t,J1}var Z1,GM;function Pa(){if(GM)return Z1;GM=1;var t=Y9(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Z1=r,Z1}var e_,KM;function Jp(){if(KM)return e_;KM=1;var t=Pa(),e=t.Symbol;return e_=e,e_}var t_,YM;function Afe(){if(YM)return t_;YM=1;var t=Jp(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),u=o[s];try{o[s]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(l?o[s]=u:delete o[s]),h}return t_=i,t_}var r_,QM;function Tfe(){if(QM)return r_;QM=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return r_=r,r_}var n_,XM;function Io(){if(XM)return n_;XM=1;var t=Jp(),e=Afe(),r=Tfe(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?e(l):r(l)}return n_=o,n_}var s_,JM;function Ro(){if(JM)return s_;JM=1;function t(e){return e!=null&&typeof e=="object"}return s_=t,s_}var i_,ZM;function Xf(){if(ZM)return i_;ZM=1;var t=Io(),e=Ro(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return i_=n,i_}var a_,e4;function w2(){if(e4)return a_;e4=1;var t=ms(),e=Xf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return a_=s,a_}var o_,t4;function ac(){if(t4)return o_;t4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return o_=t,o_}var l_,r4;function _2(){if(r4)return l_;r4=1;var t=Io(),e=ac(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==n||u==s||u==r||u==i}return l_=o,l_}var c_,n4;function Cfe(){if(n4)return c_;n4=1;var t=Pa(),e=t["__core-js_shared__"];return c_=e,c_}var u_,s4;function kfe(){if(s4)return u_;s4=1;var t=Cfe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return u_=r,u_}var d_,i4;function Q9(){if(i4)return d_;i4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return d_=r,d_}var f_,a4;function Pfe(){if(a4)return f_;a4=1;var t=_2(),e=kfe(),r=ac(),n=Q9(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||e(p))return!1;var x=t(p)?h:i;return x.test(n(p))}return f_=m,f_}var h_,o4;function Ife(){if(o4)return h_;o4=1;function t(e,r){return e==null?void 0:e[r]}return h_=t,h_}var m_,l4;function Au(){if(l4)return m_;l4=1;var t=Pfe(),e=Ife();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return m_=r,m_}var p_,c4;function n0(){if(c4)return p_;c4=1;var t=Au(),e=t(Object,"create");return p_=e,p_}var g_,u4;function Rfe(){if(u4)return g_;u4=1;var t=n0();function e(){this.__data__=t?t(null):{},this.size=0}return g_=e,g_}var v_,d4;function Ofe(){if(d4)return v_;d4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return v_=t,v_}var y_,f4;function Mfe(){if(f4)return y_;f4=1;var t=n0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return y_=s,y_}var x_,h4;function Dfe(){if(h4)return x_;h4=1;var t=n0(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return x_=n,x_}var b_,m4;function Lfe(){if(m4)return b_;m4=1;var t=n0(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return b_=r,b_}var w_,p4;function Ffe(){if(p4)return w_;p4=1;var t=Rfe(),e=Ofe(),r=Mfe(),n=Dfe(),s=Lfe();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,w_=i,w_}var __,g4;function $fe(){if(g4)return __;g4=1;function t(){this.__data__=[],this.size=0}return __=t,__}var j_,v4;function j2(){if(v4)return j_;v4=1;function t(e,r){return e===r||e!==e&&r!==r}return j_=t,j_}var S_,y4;function s0(){if(y4)return S_;y4=1;var t=j2();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return S_=e,S_}var N_,x4;function Vfe(){if(x4)return N_;x4=1;var t=s0(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return N_=n,N_}var E_,b4;function Bfe(){if(b4)return E_;b4=1;var t=s0();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return E_=e,E_}var A_,w4;function Ufe(){if(w4)return A_;w4=1;var t=s0();function e(r){return t(this.__data__,r)>-1}return A_=e,A_}var T_,_4;function zfe(){if(_4)return T_;_4=1;var t=s0();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return T_=e,T_}var C_,j4;function i0(){if(j4)return C_;j4=1;var t=$fe(),e=Vfe(),r=Bfe(),n=Ufe(),s=zfe();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,C_=i,C_}var k_,S4;function S2(){if(S4)return k_;S4=1;var t=Au(),e=Pa(),r=t(e,"Map");return k_=r,k_}var P_,N4;function qfe(){if(N4)return P_;N4=1;var t=Ffe(),e=i0(),r=S2();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return P_=n,P_}var I_,E4;function Hfe(){if(E4)return I_;E4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return I_=t,I_}var R_,A4;function a0(){if(A4)return R_;A4=1;var t=Hfe();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return R_=e,R_}var O_,T4;function Wfe(){if(T4)return O_;T4=1;var t=a0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return O_=e,O_}var M_,C4;function Gfe(){if(C4)return M_;C4=1;var t=a0();function e(r){return t(this,r).get(r)}return M_=e,M_}var D_,k4;function Kfe(){if(k4)return D_;k4=1;var t=a0();function e(r){return t(this,r).has(r)}return D_=e,D_}var L_,P4;function Yfe(){if(P4)return L_;P4=1;var t=a0();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return L_=e,L_}var F_,I4;function N2(){if(I4)return F_;I4=1;var t=qfe(),e=Wfe(),r=Gfe(),n=Kfe(),s=Yfe();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,F_=i,F_}var $_,R4;function X9(){if(R4)return $_;R4=1;var t=N2(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var d=n.apply(this,o);return i.cache=u.set(l,d)||u,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,$_=r,$_}var V_,O4;function Qfe(){if(O4)return V_;O4=1;var t=X9(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return V_=r,V_}var B_,M4;function Xfe(){if(M4)return B_;M4=1;var t=Qfe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,u,d){i.push(u?d.replace(r,"$1"):l||o)}),i});return B_=n,B_}var U_,D4;function E2(){if(D4)return U_;D4=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return U_=t,U_}var z_,L4;function Jfe(){if(L4)return z_;L4=1;var t=Jp(),e=E2(),r=ms(),n=Xf(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return z_=o,z_}var q_,F4;function J9(){if(F4)return q_;F4=1;var t=Jfe();function e(r){return r==null?"":t(r)}return q_=e,q_}var H_,$4;function Z9(){if($4)return H_;$4=1;var t=ms(),e=w2(),r=Xfe(),n=J9();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return H_=s,H_}var W_,V4;function o0(){if(V4)return W_;V4=1;var t=Xf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return W_=e,W_}var G_,B4;function A2(){if(B4)return G_;B4=1;var t=Z9(),e=o0();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return G_=r,G_}var K_,U4;function eq(){if(U4)return K_;U4=1;var t=A2();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return K_=e,K_}var Zfe=eq();const ii=tr(Zfe);var Y_,z4;function ehe(){if(z4)return Y_;z4=1;function t(e){return e==null}return Y_=t,Y_}var the=ehe();const Dt=tr(the);var Q_,q4;function rhe(){if(q4)return Q_;q4=1;var t=Io(),e=ms(),r=Ro(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Q_=s,Q_}var nhe=rhe();const Zp=tr(nhe);var she=_2();const Nt=tr(she);var ihe=ac();const Jf=tr(ihe);var X_={exports:{}},Qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function ahe(){if(H4)return Qt;H4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case t:switch(y=y.type,y){case r:case s:case n:case d:case h:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case u:case p:case m:case i:return y;default:return N}}case e:return N}}}return Qt.ContextConsumer=o,Qt.ContextProvider=i,Qt.Element=t,Qt.ForwardRef=u,Qt.Fragment=r,Qt.Lazy=p,Qt.Memo=m,Qt.Portal=e,Qt.Profiler=s,Qt.StrictMode=n,Qt.Suspense=d,Qt.SuspenseList=h,Qt.isAsyncMode=function(){return!1},Qt.isConcurrentMode=function(){return!1},Qt.isContextConsumer=function(y){return b(y)===o},Qt.isContextProvider=function(y){return b(y)===i},Qt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Qt.isForwardRef=function(y){return b(y)===u},Qt.isFragment=function(y){return b(y)===r},Qt.isLazy=function(y){return b(y)===p},Qt.isMemo=function(y){return b(y)===m},Qt.isPortal=function(y){return b(y)===e},Qt.isProfiler=function(y){return b(y)===s},Qt.isStrictMode=function(y){return b(y)===n},Qt.isSuspense=function(y){return b(y)===d},Qt.isSuspenseList=function(y){return b(y)===h},Qt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===d||y===h||y===x||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===m||y.$$typeof===i||y.$$typeof===o||y.$$typeof===u||y.$$typeof===_||y.getModuleId!==void 0)},Qt.typeOf=b,Qt}var W4;function ohe(){return W4||(W4=1,X_.exports=ahe()),X_.exports}var tq=ohe(),J_,G4;function rq(){if(G4)return J_;G4=1;var t=Io(),e=Ro(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return J_=n,J_}var Z_,K4;function lhe(){if(K4)return Z_;K4=1;var t=rq();function e(r){return t(r)&&r!=+r}return Z_=e,Z_}var che=lhe();const Zf=tr(che);var uhe=rq();const dhe=tr(uhe);var Li=function(e){return e===0?0:e>0?1:-1},Hc=function(e){return Zp(e)&&e.indexOf("%")===e.length-1},Te=function(e){return dhe(e)&&!Zf(e)},Xr=function(e){return Te(e)||Zp(e)},fhe=0,eg=function(e){var r=++fhe;return"".concat(e||"").concat(r)},vu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!Zp(e))return n;var i;if(Hc(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Zf(i)&&(i=n),s&&i>r&&(i=r),i},bl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},hhe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Zs=function(e,r){return Te(e)&&Te(r)?function(n){return e+n*(r-e)}:function(){return r}};function nx(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ii(n,e))===r})}function Vd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function tA(t){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(t)}var mhe=["viewBox","children"],phe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y4=["points","pathLength"],ej={svg:mhe,polygon:Y4,polyline:Y4},T2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Jf(n))return null;var s={};return Object.keys(n).forEach(function(i){T2.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},ghe=function(e,r,n){return function(s){return e(r,n,s),null}},ix=function(e,r,n){if(!Jf(e)||tA(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];T2.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=ghe(o,r,n))}),s},vhe=["children"],yhe=["children"];function Q4(t,e){if(t==null)return{};var r=xhe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rA(t){"@babel/helpers - typeof";return rA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(t)}var X4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},co=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},J4=null,tj=null,C2=function t(e){if(e===J4&&Array.isArray(tj))return tj;var r=[];return j.Children.forEach(e,function(n){Dt(n)||(tq.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),tj=r,J4=e,r};function Ui(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return co(s)}):n=[co(e)],C2(t).forEach(function(s){var i=ii(s,"type.displayName")||ii(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Ts(t,e){var r=Ui(t,e);return r&&r[0]}var Z4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Te(n)||n<=0||!Te(s)||s<=0)},bhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],whe=function(e){return e&&e.type&&Zp(e.type)&&bhe.indexOf(e.type)>=0},_he=function(e){return e&&rA(e)==="object"&&"clipDot"in e},jhe=function(e,r,n,s){var i,o=(i=ej==null?void 0:ej[s])!==null&&i!==void 0?i:[];return!Nt(e)&&(s&&o.includes(r)||phe.includes(r))||n&&T2.includes(r)},Tt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(j.isValidElement(e)&&(s=e.props),!Jf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;jhe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},nA=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eD(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!eD(i,o))return!1}return!0},eD=function(e,r){if(Dt(e)&&Dt(r))return!0;if(!Dt(e)&&!Dt(r)){var n=e.props||{},s=n.children,i=Q4(n,vhe),o=r.props||{},l=o.children,u=Q4(o,yhe);return s&&l?Vd(i,u)&&nA(s,l):!s&&!l?Vd(i,u):!1}return!1},tD=function(e,r){var n=[],s={};return C2(e).forEach(function(i,o){if(whe(i))n.push(i);else if(i){var l=co(i.type),u=r[l]||{},d=u.handler,h=u.once;if(d&&(!h||!s[l])){var m=d(i,l,o);n.push(m),s[l]=!0}}}),n},She=function(e){var r=e&&e.type;return r&&X4[r]?X4[r]:null},Nhe=function(e,r){return C2(r).indexOf(e)},Ehe=["children","width","height","viewBox","className","style","title","desc"];function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sA.apply(this,arguments)}function Ahe(t,e){if(t==null)return{};var r=The(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function The(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iA(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,u=t.desc,d=Ahe(t,Ehe),h=s||{width:r,height:n,x:0,y:0},m=$t("recharts-surface",i);return K.createElement("svg",sA({},Tt(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,l),K.createElement("desc",null,u),e)}var Che=["children","className"];function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aA.apply(this,arguments)}function khe(t,e){if(t==null)return{};var r=Phe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Phe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ar=K.forwardRef(function(t,e){var r=t.children,n=t.className,s=khe(t,Che),i=$t("recharts-layer",n);return K.createElement("g",aA({className:i},Tt(s,!0),{ref:e}),r)}),uo=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},rj,rD;function Ihe(){if(rD)return rj;rD=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return rj=t,rj}var nj,nD;function Rhe(){if(nD)return nj;nD=1;var t=Ihe();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return nj=e,nj}var sj,sD;function nq(){if(sD)return sj;sD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function u(d){return l.test(d)}return sj=u,sj}var ij,iD;function Ohe(){if(iD)return ij;iD=1;function t(e){return e.split("")}return ij=t,ij}var aj,aD;function Mhe(){if(aD)return aj;aD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+u+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",_=d+"?",b="["+i+"]?",y="(?:"+x+"(?:"+[h,m,p].join("|")+")"+b+_+")*",N=b+_+y,S="(?:"+[h+l+"?",l,m,p,o].join("|")+")",T=RegExp(u+"(?="+u+")|"+S+N,"g");function E(C){return C.match(T)||[]}return aj=E,aj}var oj,oD;function Dhe(){if(oD)return oj;oD=1;var t=Ohe(),e=nq(),r=Mhe();function n(s){return e(s)?r(s):t(s)}return oj=n,oj}var lj,lD;function Lhe(){if(lD)return lj;lD=1;var t=Rhe(),e=nq(),r=Dhe(),n=J9();function s(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,u=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return u[i]()+d}}return lj=s,lj}var cj,cD;function Fhe(){if(cD)return cj;cD=1;var t=Lhe(),e=t("toUpperCase");return cj=e,cj}var $he=Fhe();const l0=tr($he);function lr(t){return function(){return t}}const sq=Math.cos,ax=Math.sin,Xi=Math.sqrt,ox=Math.PI,c0=2*ox,oA=Math.PI,lA=2*oA,$c=1e-6,Vhe=lA-$c;function iq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Bhe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iq;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Uhe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iq:Bhe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-e,d=s-r,h=o-e,m=l-r,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>$c)if(!(Math.abs(m*u-d*h)>$c)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,_=s-l,b=u*u+d*d,y=x*x+_*_,N=Math.sqrt(b),S=Math.sqrt(p),T=i*Math.tan((oA-Math.acos((b+p-y)/(2*N*S)))/2),E=T/S,C=T/N;Math.abs(E-1)>$c&&this._append`L${e+E*h},${r+E*m}`,this._append`A${i},${i},0,0,${+(m*x>h*_)},${this._x1=e+C*u},${this._y1=r+C*d}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),u=n*Math.sin(s),d=e+l,h=r+u,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>$c||Math.abs(this._y1-h)>$c)&&this._append`L${d},${h}`,n&&(p<0&&(p=p%lA+lA),p>Vhe?this._append`A${n},${n},0,1,${m},${e-l},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:p>$c&&this._append`A${n},${n},0,${+(p>=oA)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function k2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Uhe(e)}function P2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aq(t){this._context=t}aq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function u0(t){return new aq(t)}function oq(t){return t[0]}function lq(t){return t[1]}function cq(t,e){var r=lr(!0),n=null,s=u0,i=null,o=k2(l);t=typeof t=="function"?t:t===void 0?oq:lr(t),e=typeof e=="function"?e:e===void 0?lq:lr(e);function l(u){var d,h=(u=P2(u)).length,m,p=!1,x;for(n==null&&(i=s(x=o())),d=0;d<=h;++d)!(d<h&&r(m=u[d],d,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(m,d,u),+e(m,d,u));if(x)return i=null,x+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:lr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:lr(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:lr(!!u),l):r},l.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),l):s},l.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),l):n},l}function Vv(t,e,r){var n=null,s=lr(!0),i=null,o=u0,l=null,u=k2(d);t=typeof t=="function"?t:t===void 0?oq:lr(+t),e=typeof e=="function"?e:lr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?lq:lr(+r);function d(m){var p,x,_,b=(m=P2(m)).length,y,N=!1,S,T=new Array(b),E=new Array(b);for(i==null&&(l=o(S=u())),p=0;p<=b;++p){if(!(p<b&&s(y=m[p],p,m))===N)if(N=!N)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=p-1;_>=x;--_)l.point(T[_],E[_]);l.lineEnd(),l.areaEnd()}N&&(T[p]=+t(y,p,m),E[p]=+e(y,p,m),l.point(n?+n(y,p,m):T[p],r?+r(y,p,m):E[p]))}if(S)return l=null,S+""||null}function h(){return cq().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:lr(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:lr(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:lr(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:lr(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:lr(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:lr(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(r)},d.lineX1=function(){return h().x(n).y(e)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:lr(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class uq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function zhe(t){return new uq(t,!0)}function qhe(t){return new uq(t,!1)}const I2={draw(t,e){const r=Xi(e/ox);t.moveTo(r,0),t.arc(0,0,r,0,c0)}},Hhe={draw(t,e){const r=Xi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},dq=Xi(1/3),Whe=dq*2,Ghe={draw(t,e){const r=Xi(e/Whe),n=r*dq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Khe={draw(t,e){const r=Xi(e),n=-r/2;t.rect(n,n,r,r)}},Yhe=.8908130915292852,fq=ax(ox/10)/ax(7*ox/10),Qhe=ax(c0/10)*fq,Xhe=-sq(c0/10)*fq,Jhe={draw(t,e){const r=Xi(e*Yhe),n=Qhe*r,s=Xhe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=c0*i/5,l=sq(o),u=ax(o);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*s,u*n+l*s)}t.closePath()}},uj=Xi(3),Zhe={draw(t,e){const r=-Xi(e/(uj*3));t.moveTo(0,r*2),t.lineTo(-uj*r,-r),t.lineTo(uj*r,-r),t.closePath()}},Qs=-.5,Xs=Xi(3)/2,cA=1/Xi(12),eme=(cA/2+1)*3,tme={draw(t,e){const r=Xi(e/eme),n=r/2,s=r*cA,i=n,o=r*cA+r,l=-i,u=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,u),t.lineTo(Qs*n-Xs*s,Xs*n+Qs*s),t.lineTo(Qs*i-Xs*o,Xs*i+Qs*o),t.lineTo(Qs*l-Xs*u,Xs*l+Qs*u),t.lineTo(Qs*n+Xs*s,Qs*s-Xs*n),t.lineTo(Qs*i+Xs*o,Qs*o-Xs*i),t.lineTo(Qs*l+Xs*u,Qs*u-Xs*l),t.closePath()}};function rme(t,e){let r=null,n=k2(s);t=typeof t=="function"?t:lr(t||I2),e=typeof e=="function"?e:lr(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:lr(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:lr(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function lx(){}function cx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hq(t){this._context=t}hq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nme(t){return new hq(t)}function mq(t){this._context=t}mq.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sme(t){return new mq(t)}function pq(t){this._context=t}pq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ime(t){return new pq(t)}function gq(t){this._context=t}gq.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ame(t){return new gq(t)}function uD(t){return t<0?-1:1}function dD(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(uD(i)+uD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function fD(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function dj(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function ux(t){this._context=t}ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dj(this,this._t0,fD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dj(this,fD(this,r=dD(this,t,e)),r);break;default:dj(this,this._t0,r=dD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function vq(t){this._context=new yq(t)}(vq.prototype=Object.create(ux.prototype)).point=function(t,e){ux.prototype.point.call(this,e,t)};function yq(t){this._context=t}yq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function ome(t){return new ux(t)}function lme(t){return new vq(t)}function xq(t){this._context=t}xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=hD(t),s=hD(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hD(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function cme(t){return new xq(t)}function d0(t,e){this._context=t,this._t=e}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ume(t){return new d0(t,.5)}function dme(t){return new d0(t,0)}function fme(t){return new d0(t,1)}function hf(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function uA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function hme(t,e){return t[e]}function mme(t){const e=[];return e.key=t,e}function pme(){var t=lr([]),e=uA,r=hf,n=hme;function s(i){var o=Array.from(t.apply(this,arguments),mme),l,u=o.length,d=-1,h;for(const m of i)for(l=0,++d;l<u;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,h=P2(e(o));l<u;++l)o[h[l]].index=l;return r(o,h),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:lr(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:lr(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?uA:typeof i=="function"?i:lr(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??hf,s):r},s}function gme(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}hf(t,e)}}function vme(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}hf(t,e)}}function yme(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,u=0,d=0;l<o;++l){for(var h=t[e[l]],m=h[n][1]||0,p=h[n-1][1]||0,x=(m-p)/2,_=0;_<l;++_){var b=t[e[_]],y=b[n][1]||0,N=b[n-1][1]||0;x+=y-N}u+=m,d+=x*m}s[n-1][1]+=s[n-1][0]=r,u&&(r-=d/u)}s[n-1][1]+=s[n-1][0]=r,hf(t,e)}}function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}var xme=["type","size","sizeType"];function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dA.apply(this,arguments)}function mD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(r),!0).forEach(function(n){bme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bme(t,e,r){return e=wme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wme(t){var e=_me(t,"string");return Xm(e)=="symbol"?e:e+""}function _me(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jme(t,e){if(t==null)return{};var r=Sme(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bq={symbolCircle:I2,symbolCross:Hhe,symbolDiamond:Ghe,symbolSquare:Khe,symbolStar:Jhe,symbolTriangle:Zhe,symbolWye:tme},Nme=Math.PI/180,Eme=function(e){var r="symbol".concat(l0(e));return bq[r]||I2},Ame=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*Nme;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Tme=function(e,r){bq["symbol".concat(l0(e))]=r},R2=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,u=jme(e,xme),d=pD(pD({},u),{},{type:n,size:i,sizeType:l}),h=function(){var y=Eme(n),N=rme().type(y).size(Ame(i,l,n));return N()},m=d.className,p=d.cx,x=d.cy,_=Tt(d,!0);return p===+p&&x===+x&&i===+i?K.createElement("path",dA({},_,{className:$t("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(x,")"),d:h()})):null};R2.registerSymbol=Tme;function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Cme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){Jm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_q(n.key),n)}}function Ime(t,e,r){return e&&Pme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,e,r){return e=dx(e),Ome(t,wq()?Reflect.construct(e,r||[],dx(t).constructor):e.apply(t,r))}function Ome(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(t)}function Mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hA(t,e)}function Jm(t,e,r){return e=_q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _q(t){var e=Lme(t,"string");return mf(e)=="symbol"?e:e+""}function Lme(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ni=32,O2=function(t){function e(){return kme(this,e),Rme(this,e,arguments)}return Dme(e,t),Ime(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Ni/2,o=Ni/6,l=Ni/3,u=n.inactive?s:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ni,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ni,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ni/8,"h").concat(Ni,"v").concat(Ni*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var d=Cme({},n);return delete d.legendIcon,K.cloneElement(n.legendIcon,d)}return K.createElement(R2,{fill:u,cx:i,cy:i,size:Ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,u=s.formatter,d=s.inactiveColor,h={x:0,y:0,width:Ni,height:Ni},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,_){var b=x.formatter||u,y=$t(Jm(Jm({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Nt(x.value)?null:x.value;uo(!Nt(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=x.inactive?d:x.color;return K.createElement("li",fA({className:y,style:m,key:"legend-item-".concat(_)},ix(n.props,x,_)),K.createElement(iA,{width:o,height:o,viewBox:h,style:p},n.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(N,x,_):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);Jm(O2,"displayName","Legend");Jm(O2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fj,vD;function Fme(){if(vD)return fj;vD=1;var t=i0();function e(){this.__data__=new t,this.size=0}return fj=e,fj}var hj,yD;function $me(){if(yD)return hj;yD=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return hj=t,hj}var mj,xD;function Vme(){if(xD)return mj;xD=1;function t(e){return this.__data__.get(e)}return mj=t,mj}var pj,bD;function Bme(){if(bD)return pj;bD=1;function t(e){return this.__data__.has(e)}return pj=t,pj}var gj,wD;function Ume(){if(wD)return gj;wD=1;var t=i0(),e=S2(),r=N2(),n=200;function s(i,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<n-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(i,o),this.size=l.size,this}return gj=s,gj}var vj,_D;function jq(){if(_D)return vj;_D=1;var t=i0(),e=Fme(),r=$me(),n=Vme(),s=Bme(),i=Ume();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,vj=o,vj}var yj,jD;function zme(){if(jD)return yj;jD=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return yj=e,yj}var xj,SD;function qme(){if(SD)return xj;SD=1;function t(e){return this.__data__.has(e)}return xj=t,xj}var bj,ND;function Sq(){if(ND)return bj;ND=1;var t=N2(),e=zme(),r=qme();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,bj=n,bj}var wj,ED;function Nq(){if(ED)return wj;ED=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return wj=t,wj}var _j,AD;function Eq(){if(AD)return _j;AD=1;function t(e,r){return e.has(r)}return _j=t,_j}var jj,TD;function Aq(){if(TD)return jj;TD=1;var t=Sq(),e=Nq(),r=Eq(),n=1,s=2;function i(o,l,u,d,h,m){var p=u&n,x=o.length,_=l.length;if(x!=_&&!(p&&_>x))return!1;var b=m.get(o),y=m.get(l);if(b&&y)return b==l&&y==o;var N=-1,S=!0,T=u&s?new t:void 0;for(m.set(o,l),m.set(l,o);++N<x;){var E=o[N],C=l[N];if(d)var O=p?d(C,E,N,l,o,m):d(E,C,N,o,l,m);if(O!==void 0){if(O)continue;S=!1;break}if(T){if(!e(l,function(k,R){if(!r(T,R)&&(E===k||h(E,k,u,d,m)))return T.push(R)})){S=!1;break}}else if(!(E===C||h(E,C,u,d,m))){S=!1;break}}return m.delete(o),m.delete(l),S}return jj=i,jj}var Sj,CD;function Hme(){if(CD)return Sj;CD=1;var t=Pa(),e=t.Uint8Array;return Sj=e,Sj}var Nj,kD;function Wme(){if(kD)return Nj;kD=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return Nj=t,Nj}var Ej,PD;function M2(){if(PD)return Ej;PD=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return Ej=t,Ej}var Aj,ID;function Gme(){if(ID)return Aj;ID=1;var t=Jp(),e=Hme(),r=j2(),n=Aq(),s=Wme(),i=M2(),o=1,l=2,u="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",p="[object Number]",x="[object RegExp]",_="[object Set]",b="[object String]",y="[object Symbol]",N="[object ArrayBuffer]",S="[object DataView]",T=t?t.prototype:void 0,E=T?T.valueOf:void 0;function C(O,k,R,M,V,$,D){switch(R){case S:if(O.byteLength!=k.byteLength||O.byteOffset!=k.byteOffset)return!1;O=O.buffer,k=k.buffer;case N:return!(O.byteLength!=k.byteLength||!$(new e(O),new e(k)));case u:case d:case p:return r(+O,+k);case h:return O.name==k.name&&O.message==k.message;case x:case b:return O==k+"";case m:var L=s;case _:var B=M&o;if(L||(L=i),O.size!=k.size&&!B)return!1;var G=D.get(O);if(G)return G==k;M|=l,D.set(O,k);var q=n(L(O),L(k),M,V,$,D);return D.delete(O),q;case y:if(E)return E.call(O)==E.call(k)}return!1}return Aj=C,Aj}var Tj,RD;function Tq(){if(RD)return Tj;RD=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return Tj=t,Tj}var Cj,OD;function Kme(){if(OD)return Cj;OD=1;var t=Tq(),e=ms();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return Cj=r,Cj}var kj,MD;function Yme(){if(MD)return kj;MD=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return kj=t,kj}var Pj,DD;function Qme(){if(DD)return Pj;DD=1;function t(){return[]}return Pj=t,Pj}var Ij,LD;function Xme(){if(LD)return Ij;LD=1;var t=Yme(),e=Qme(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return Ij=i,Ij}var Rj,FD;function Jme(){if(FD)return Rj;FD=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return Rj=t,Rj}var Oj,$D;function Zme(){if($D)return Oj;$D=1;var t=Io(),e=Ro(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return Oj=n,Oj}var Mj,VD;function D2(){if(VD)return Mj;VD=1;var t=Zme(),e=Ro(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return Mj=i,Mj}var um={exports:{}},Dj,BD;function epe(){if(BD)return Dj;BD=1;function t(){return!1}return Dj=t,Dj}um.exports;var UD;function Cq(){return UD||(UD=1,function(t,e){var r=Pa(),n=epe(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||n;t.exports=d}(um,um.exports)),um.exports}var Lj,zD;function L2(){if(zD)return Lj;zD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return Lj=r,Lj}var Fj,qD;function F2(){if(qD)return Fj;qD=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Fj=e,Fj}var $j,HD;function tpe(){if(HD)return $j;HD=1;var t=Io(),e=F2(),r=Ro(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",p="[object RegExp]",x="[object Set]",_="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",V="[object Uint32Array]",$={};$[S]=$[T]=$[E]=$[C]=$[O]=$[k]=$[R]=$[M]=$[V]=!0,$[n]=$[s]=$[y]=$[i]=$[N]=$[o]=$[l]=$[u]=$[d]=$[h]=$[m]=$[p]=$[x]=$[_]=$[b]=!1;function D(L){return r(L)&&e(L.length)&&!!$[t(L)]}return $j=D,$j}var Vj,WD;function kq(){if(WD)return Vj;WD=1;function t(e){return function(r){return e(r)}}return Vj=t,Vj}var dm={exports:{}};dm.exports;var GD;function rpe(){return GD||(GD=1,function(t,e){var r=Y9(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(dm,dm.exports)),dm.exports}var Bj,KD;function Pq(){if(KD)return Bj;KD=1;var t=tpe(),e=kq(),r=rpe(),n=r&&r.isTypedArray,s=n?e(n):t;return Bj=s,Bj}var Uj,YD;function npe(){if(YD)return Uj;YD=1;var t=Jme(),e=D2(),r=ms(),n=Cq(),s=L2(),i=Pq(),o=Object.prototype,l=o.hasOwnProperty;function u(d,h){var m=r(d),p=!m&&e(d),x=!m&&!p&&n(d),_=!m&&!p&&!x&&i(d),b=m||p||x||_,y=b?t(d.length,String):[],N=y.length;for(var S in d)(h||l.call(d,S))&&!(b&&(S=="length"||x&&(S=="offset"||S=="parent")||_&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,N)))&&y.push(S);return y}return Uj=u,Uj}var zj,QD;function spe(){if(QD)return zj;QD=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return zj=e,zj}var qj,XD;function Iq(){if(XD)return qj;XD=1;function t(e,r){return function(n){return e(r(n))}}return qj=t,qj}var Hj,JD;function ipe(){if(JD)return Hj;JD=1;var t=Iq(),e=t(Object.keys,Object);return Hj=e,Hj}var Wj,ZD;function ape(){if(ZD)return Wj;ZD=1;var t=spe(),e=ipe(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return Wj=s,Wj}var Gj,e5;function tg(){if(e5)return Gj;e5=1;var t=_2(),e=F2();function r(n){return n!=null&&e(n.length)&&!t(n)}return Gj=r,Gj}var Kj,t5;function f0(){if(t5)return Kj;t5=1;var t=npe(),e=ape(),r=tg();function n(s){return r(s)?t(s):e(s)}return Kj=n,Kj}var Yj,r5;function ope(){if(r5)return Yj;r5=1;var t=Kme(),e=Xme(),r=f0();function n(s){return t(s,r,e)}return Yj=n,Yj}var Qj,n5;function lpe(){if(n5)return Qj;n5=1;var t=ope(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,u,d,h){var m=l&e,p=t(i),x=p.length,_=t(o),b=_.length;if(x!=b&&!m)return!1;for(var y=x;y--;){var N=p[y];if(!(m?N in o:n.call(o,N)))return!1}var S=h.get(i),T=h.get(o);if(S&&T)return S==o&&T==i;var E=!0;h.set(i,o),h.set(o,i);for(var C=m;++y<x;){N=p[y];var O=i[N],k=o[N];if(u)var R=m?u(k,O,N,o,i,h):u(O,k,N,i,o,h);if(!(R===void 0?O===k||d(O,k,l,u,h):R)){E=!1;break}C||(C=N=="constructor")}if(E&&!C){var M=i.constructor,V=o.constructor;M!=V&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof V=="function"&&V instanceof V)&&(E=!1)}return h.delete(i),h.delete(o),E}return Qj=s,Qj}var Xj,s5;function cpe(){if(s5)return Xj;s5=1;var t=Au(),e=Pa(),r=t(e,"DataView");return Xj=r,Xj}var Jj,i5;function upe(){if(i5)return Jj;i5=1;var t=Au(),e=Pa(),r=t(e,"Promise");return Jj=r,Jj}var Zj,a5;function Rq(){if(a5)return Zj;a5=1;var t=Au(),e=Pa(),r=t(e,"Set");return Zj=r,Zj}var eS,o5;function dpe(){if(o5)return eS;o5=1;var t=Au(),e=Pa(),r=t(e,"WeakMap");return eS=r,eS}var tS,l5;function fpe(){if(l5)return tS;l5=1;var t=cpe(),e=S2(),r=upe(),n=Rq(),s=dpe(),i=Io(),o=Q9(),l="[object Map]",u="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",x=o(t),_=o(e),b=o(r),y=o(n),N=o(s),S=i;return(t&&S(new t(new ArrayBuffer(1)))!=p||e&&S(new e)!=l||r&&S(r.resolve())!=d||n&&S(new n)!=h||s&&S(new s)!=m)&&(S=function(T){var E=i(T),C=E==u?T.constructor:void 0,O=C?o(C):"";if(O)switch(O){case x:return p;case _:return l;case b:return d;case y:return h;case N:return m}return E}),tS=S,tS}var rS,c5;function hpe(){if(c5)return rS;c5=1;var t=jq(),e=Aq(),r=Gme(),n=lpe(),s=fpe(),i=ms(),o=Cq(),l=Pq(),u=1,d="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype,x=p.hasOwnProperty;function _(b,y,N,S,T,E){var C=i(b),O=i(y),k=C?h:s(b),R=O?h:s(y);k=k==d?m:k,R=R==d?m:R;var M=k==m,V=R==m,$=k==R;if($&&o(b)){if(!o(y))return!1;C=!0,M=!1}if($&&!M)return E||(E=new t),C||l(b)?e(b,y,N,S,T,E):r(b,y,k,N,S,T,E);if(!(N&u)){var D=M&&x.call(b,"__wrapped__"),L=V&&x.call(y,"__wrapped__");if(D||L){var B=D?b.value():b,G=L?y.value():y;return E||(E=new t),T(B,G,N,S,E)}}return $?(E||(E=new t),n(b,y,N,S,T,E)):!1}return rS=_,rS}var nS,u5;function $2(){if(u5)return nS;u5=1;var t=hpe(),e=Ro();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,l)}return nS=r,nS}var sS,d5;function mpe(){if(d5)return sS;d5=1;var t=jq(),e=$2(),r=1,n=2;function s(i,o,l,u){var d=l.length,h=d,m=!u;if(i==null)return!h;for(i=Object(i);d--;){var p=l[d];if(m&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++d<h;){p=l[d];var x=p[0],_=i[x],b=p[1];if(m&&p[2]){if(_===void 0&&!(x in i))return!1}else{var y=new t;if(u)var N=u(_,b,x,i,o,y);if(!(N===void 0?e(b,_,r|n,u,y):N))return!1}}return!0}return sS=s,sS}var iS,f5;function Oq(){if(f5)return iS;f5=1;var t=ac();function e(r){return r===r&&!t(r)}return iS=e,iS}var aS,h5;function ppe(){if(h5)return aS;h5=1;var t=Oq(),e=f0();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,t(l)]}return s}return aS=r,aS}var oS,m5;function Mq(){if(m5)return oS;m5=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return oS=t,oS}var lS,p5;function gpe(){if(p5)return lS;p5=1;var t=mpe(),e=ppe(),r=Mq();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return lS=n,lS}var cS,g5;function vpe(){if(g5)return cS;g5=1;function t(e,r){return e!=null&&r in Object(e)}return cS=t,cS}var uS,v5;function ype(){if(v5)return uS;v5=1;var t=Z9(),e=D2(),r=ms(),n=L2(),s=F2(),i=o0();function o(l,u,d){u=t(u,l);for(var h=-1,m=u.length,p=!1;++h<m;){var x=i(u[h]);if(!(p=l!=null&&d(l,x)))break;l=l[x]}return p||++h!=m?p:(m=l==null?0:l.length,!!m&&s(m)&&n(x,m)&&(r(l)||e(l)))}return uS=o,uS}var dS,y5;function xpe(){if(y5)return dS;y5=1;var t=vpe(),e=ype();function r(n,s){return n!=null&&e(n,s,t)}return dS=r,dS}var fS,x5;function bpe(){if(x5)return fS;x5=1;var t=$2(),e=eq(),r=xpe(),n=w2(),s=Oq(),i=Mq(),o=o0(),l=1,u=2;function d(h,m){return n(h)&&s(m)?i(o(h),m):function(p){var x=e(p,h);return x===void 0&&x===m?r(p,h):t(m,x,l|u)}}return fS=d,fS}var hS,b5;function eh(){if(b5)return hS;b5=1;function t(e){return e}return hS=t,hS}var mS,w5;function wpe(){if(w5)return mS;w5=1;function t(e){return function(r){return r==null?void 0:r[e]}}return mS=t,mS}var pS,_5;function _pe(){if(_5)return pS;_5=1;var t=A2();function e(r){return function(n){return t(n,r)}}return pS=e,pS}var gS,j5;function jpe(){if(j5)return gS;j5=1;var t=wpe(),e=_pe(),r=w2(),n=o0();function s(i){return r(i)?t(n(i)):e(i)}return gS=s,gS}var vS,S5;function oc(){if(S5)return vS;S5=1;var t=gpe(),e=bpe(),r=eh(),n=ms(),s=jpe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return vS=i,vS}var yS,N5;function Dq(){if(N5)return yS;N5=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return yS=t,yS}var xS,E5;function Spe(){if(E5)return xS;E5=1;function t(e){return e!==e}return xS=t,xS}var bS,A5;function Npe(){if(A5)return bS;A5=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return bS=t,bS}var wS,T5;function Epe(){if(T5)return wS;T5=1;var t=Dq(),e=Spe(),r=Npe();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return wS=n,wS}var _S,C5;function Ape(){if(C5)return _S;C5=1;var t=Epe();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return _S=e,_S}var jS,k5;function Tpe(){if(k5)return jS;k5=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return jS=t,jS}var SS,P5;function Cpe(){if(P5)return SS;P5=1;function t(){}return SS=t,SS}var NS,I5;function kpe(){if(I5)return NS;I5=1;var t=Rq(),e=Cpe(),r=M2(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return NS=s,NS}var ES,R5;function Ppe(){if(R5)return ES;R5=1;var t=Sq(),e=Ape(),r=Tpe(),n=Eq(),s=kpe(),i=M2(),o=200;function l(u,d,h){var m=-1,p=e,x=u.length,_=!0,b=[],y=b;if(h)_=!1,p=r;else if(x>=o){var N=d?null:s(u);if(N)return i(N);_=!1,p=n,y=new t}else y=d?[]:b;e:for(;++m<x;){var S=u[m],T=d?d(S):S;if(S=h||S!==0?S:0,_&&T===T){for(var E=y.length;E--;)if(y[E]===T)continue e;d&&y.push(T),b.push(S)}else p(y,T,h)||(y!==b&&y.push(T),b.push(S))}return b}return ES=l,ES}var AS,O5;function Ipe(){if(O5)return AS;O5=1;var t=oc(),e=Ppe();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return AS=r,AS}var Rpe=Ipe();const M5=tr(Rpe);function Lq(t,e,r){return e===!0?M5(t,r):Nt(e)?M5(t,e):t}function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var Ope=["ref"];function D5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(r),!0).forEach(function(n){h0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$q(n.key),n)}}function Dpe(t,e,r){return e&&L5(t.prototype,e),r&&L5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lpe(t,e,r){return e=fx(e),Fpe(t,Fq()?Reflect.construct(e,r||[],fx(t).constructor):e.apply(t,r))}function Fpe(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(t)}function $pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(t)}function Vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mA(t,e)}function h0(t,e,r){return e=$q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $q(t){var e=Bpe(t,"string");return pf(e)=="symbol"?e:e+""}function Bpe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Upe(t,e){if(t==null)return{};var r=zpe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qpe(t){return t.value}function Hpe(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=Upe(e,Ope);return K.createElement(O2,r)}var F5=1,Bd=function(t){function e(){var r;Mpe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Lpe(this,e,[].concat(s)),h0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Vpe(e,t),Dpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>F5||Math.abs(s.height-this.lastBoundingBox.height)>F5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,u=s.margin,d=s.chartWidth,h=s.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();p={top:((h||0)-_.height)/2}}else p=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Ya(Ya({},m),p)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,u=s.wrapperStyle,d=s.payloadUniqBy,h=s.payload,m=Ya(Ya({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},Hpe(i,Ya(Ya({},this.props),{},{payload:Lq(h,d,qpe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Ya(Ya({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Te(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(j.PureComponent);h0(Bd,"displayName","Legend");h0(Bd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var TS,$5;function Wpe(){if($5)return TS;$5=1;var t=Jp(),e=D2(),r=ms(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return TS=s,TS}var CS,V5;function Vq(){if(V5)return CS;V5=1;var t=Tq(),e=Wpe();function r(n,s,i,o,l){var u=-1,d=n.length;for(i||(i=e),l||(l=[]);++u<d;){var h=n[u];s>0&&i(h)?s>1?r(h,s-1,i,o,l):t(l,h):o||(l[l.length]=h)}return l}return CS=r,CS}var kS,B5;function Gpe(){if(B5)return kS;B5=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),u=l.length;u--;){var d=l[e?u:++i];if(n(o[d],d,o)===!1)break}return r}}return kS=t,kS}var PS,U5;function Kpe(){if(U5)return PS;U5=1;var t=Gpe(),e=t();return PS=e,PS}var IS,z5;function Bq(){if(z5)return IS;z5=1;var t=Kpe(),e=f0();function r(n,s){return n&&t(n,s,e)}return IS=r,IS}var RS,q5;function Ype(){if(q5)return RS;q5=1;var t=tg();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,l=n?o:-1,u=Object(s);(n?l--:++l<o)&&i(u[l],l,u)!==!1;);return s}}return RS=e,RS}var OS,H5;function V2(){if(H5)return OS;H5=1;var t=Bq(),e=Ype(),r=e(t);return OS=r,OS}var MS,W5;function Uq(){if(W5)return MS;W5=1;var t=V2(),e=tg();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,u,d){o[++i]=s(l,u,d)}),o}return MS=r,MS}var DS,G5;function Qpe(){if(G5)return DS;G5=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return DS=t,DS}var LS,K5;function Xpe(){if(K5)return LS;K5=1;var t=Xf();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=t(r),u=n!==void 0,d=n===null,h=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&u&&h&&!d&&!m||i&&u&&h||!s&&h||!o)return 1;if(!i&&!l&&!m&&r<n||m&&s&&o&&!i&&!l||d&&s&&o||!u&&o||!h)return-1}return 0}return LS=e,LS}var FS,Y5;function Jpe(){if(Y5)return FS;Y5=1;var t=Xpe();function e(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,u=o.length,d=s.length;++i<u;){var h=t(o[i],l[i]);if(h){if(i>=d)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return FS=e,FS}var $S,Q5;function Zpe(){if(Q5)return $S;Q5=1;var t=E2(),e=A2(),r=oc(),n=Uq(),s=Qpe(),i=kq(),o=Jpe(),l=eh(),u=ms();function d(h,m,p){m.length?m=t(m,function(b){return u(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):m=[l];var x=-1;m=t(m,i(r));var _=n(h,function(b,y,N){var S=t(m,function(T){return T(b)});return{criteria:S,index:++x,value:b}});return s(_,function(b,y){return o(b,y,p)})}return $S=d,$S}var VS,X5;function ege(){if(X5)return VS;X5=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return VS=t,VS}var BS,J5;function tge(){if(J5)return BS;J5=1;var t=ege(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,u=e(o.length-s,0),d=Array(u);++l<u;)d[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(d),t(n,this,h)}}return BS=r,BS}var US,Z5;function rge(){if(Z5)return US;Z5=1;function t(e){return function(){return e}}return US=t,US}var zS,eL;function zq(){if(eL)return zS;eL=1;var t=Au(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return zS=e,zS}var qS,tL;function nge(){if(tL)return qS;tL=1;var t=rge(),e=zq(),r=eh(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return qS=n,qS}var HS,rL;function sge(){if(rL)return HS;rL=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),u=e-(l-o);if(o=l,u>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return HS=n,HS}var WS,nL;function ige(){if(nL)return WS;nL=1;var t=nge(),e=sge(),r=e(t);return WS=r,WS}var GS,sL;function age(){if(sL)return GS;sL=1;var t=eh(),e=tge(),r=ige();function n(s,i){return r(e(s,i,t),s+"")}return GS=n,GS}var KS,iL;function m0(){if(iL)return KS;iL=1;var t=j2(),e=tg(),r=L2(),n=ac();function s(i,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?e(l)&&r(o,l.length):u=="string"&&o in l)?t(l[o],i):!1}return KS=s,KS}var YS,aL;function oge(){if(aL)return YS;aL=1;var t=Vq(),e=Zpe(),r=age(),n=m0(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return YS=s,YS}var lge=oge();const B2=tr(lge);function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pA.apply(this,arguments)}function cge(t,e){return hge(t)||fge(t,e)||dge(t,e)||uge()}function uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dge(t,e){if(t){if(typeof t=="string")return oL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oL(t,e)}}function oL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function hge(t){if(Array.isArray(t))return t}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function QS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){mge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mge(t,e,r){return e=pge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pge(t){var e=gge(t,"string");return Zm(e)=="symbol"?e:e+""}function gge(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vge(t){return Array.isArray(t)&&Xr(t[0])&&Xr(t[1])?t.join(" ~ "):t}var yge=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,u=e.labelStyle,d=u===void 0?{}:u,h=e.payload,m=e.formatter,p=e.itemSorter,x=e.wrapperClassName,_=e.labelClassName,b=e.label,y=e.labelFormatter,N=e.accessibilityLayer,S=N===void 0?!1:N,T=function(){if(h&&h.length){var D={padding:0,margin:0},L=(p?B2(h,p):h).map(function(B,G){if(B.type==="none")return null;var q=QS({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),Y=B.formatter||m||vge,z=B.value,J=B.name,ne=z,H=J;if(Y&&ne!=null&&H!=null){var Q=Y(z,J,B,G,h);if(Array.isArray(Q)){var re=cge(Q,2);ne=re[0],H=re[1]}else ne=Q}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:q},Xr(H)?K.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Xr(H)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ne),K.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:D},L)}return null},E=QS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=QS({margin:0},d),O=!Dt(b),k=O?b:"",R=$t("recharts-default-tooltip",x),M=$t("recharts-tooltip-label",_);O&&y&&h!==void 0&&h!==null&&(k=y(b,h));var V=S?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",pA({className:R,style:E},V),K.createElement("p",{className:M,style:C},K.isValidElement(k)?k:"".concat(k)),T())};function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function Bv(t,e,r){return e=xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xge(t){var e=bge(t,"string");return ep(e)=="symbol"?e:e+""}function bge(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gh="recharts-tooltip-wrapper",wge={visibility:"hidden"};function _ge(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $t(Gh,Bv(Bv(Bv(Bv({},"".concat(Gh,"-right"),Te(r)&&e&&Te(e.x)&&r>=e.x),"".concat(Gh,"-left"),Te(r)&&e&&Te(e.x)&&r<e.x),"".concat(Gh,"-bottom"),Te(n)&&e&&Te(e.y)&&n>=e.y),"".concat(Gh,"-top"),Te(n)&&e&&Te(e.y)&&n<e.y))}function cL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,d=t.viewBoxDimension;if(i&&Te(i[n]))return i[n];var h=r[n]-l-s,m=r[n]+s;if(e[n])return o[n]?h:m;if(o[n]){var p=h,x=u[n];return p<x?Math.max(m,u[n]):Math.max(h,u[n])}var _=m+l,b=u[n]+d;return _>b?Math.max(h,u[n]):Math.max(m,u[n])}function jge(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Sge(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,d,h,m;return o.height>0&&o.width>0&&r?(h=cL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=cL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=jge({translateX:h,translateY:m,useTranslate3d:l})):d=wge,{cssProperties:d,cssClasses:_ge({translateX:h,translateY:m,coordinate:r})}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){vA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ege(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hq(n.key),n)}}function Age(t,e,r){return e&&Ege(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tge(t,e,r){return e=hx(e),Cge(t,qq()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function Cge(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function Pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}function gA(t,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gA(t,e)}function vA(t,e,r){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hq(t){var e=Ige(t,"string");return gf(e)=="symbol"?e:e+""}function Ige(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fL=1,Rge=function(t){function e(){var r;Nge(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Tge(this,e,[].concat(s)),vA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),vA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return Pge(e,t),Age(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>fL||Math.abs(n.height-this.state.lastBoundingBox.height)>fL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,u=s.animationEasing,d=s.children,h=s.coordinate,m=s.hasPayload,p=s.isAnimationActive,x=s.offset,_=s.position,b=s.reverseDirection,y=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,T=Sge({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:x,position:_,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),E=T.cssClasses,C=T.cssProperties,O=dL(dL({transition:p&&i?"transform ".concat(l,"ms ").concat(u):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return K.createElement("div",{tabIndex:-1,className:E,style:O,ref:function(R){n.wrapperNode=R}},d)}}])}(j.PureComponent),Oge=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},th={isSsr:Oge()};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){U2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gq(n.key),n)}}function Lge(t,e,r){return e&&Dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fge(t,e,r){return e=mx(e),$ge(t,Wq()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function $ge(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vge(t)}function Vge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function Bge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yA(t,e)}function U2(t,e,r){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gq(t){var e=Uge(t,"string");return vf(e)=="symbol"?e:e+""}function Uge(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zge(t){return t.dataKey}function qge(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(yge,e)}var ua=function(t){function e(){return Mge(this,e),Fge(this,e,arguments)}return Bge(e,t),Lge(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,u=s.animationEasing,d=s.content,h=s.coordinate,m=s.filterNull,p=s.isAnimationActive,x=s.offset,_=s.payload,b=s.payloadUniqBy,y=s.position,N=s.reverseDirection,S=s.useTranslate3d,T=s.viewBox,E=s.wrapperStyle,C=_??[];m&&C.length&&(C=Lq(_.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),b,zge));var O=C.length>0;return K.createElement(Rge,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:i,coordinate:h,hasPayload:O,offset:x,position:y,reverseDirection:N,useTranslate3d:S,viewBox:T,wrapperStyle:E},qge(d,mL(mL({},this.props),{},{payload:C})))}}])}(j.PureComponent);U2(ua,"displayName","Tooltip");U2(ua,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!th.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var XS,pL;function Hge(){if(pL)return XS;pL=1;var t=Pa(),e=function(){return t.Date.now()};return XS=e,XS}var JS,gL;function Wge(){if(gL)return JS;gL=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return JS=e,JS}var ZS,vL;function Gge(){if(vL)return ZS;vL=1;var t=Wge(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ZS=r,ZS}var eN,yL;function Kq(){if(yL)return eN;yL=1;var t=Gge(),e=ac(),r=Xf(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):s.test(d)?n:+d}return eN=u,eN}var tN,xL;function Kge(){if(xL)return tN;xL=1;var t=ac(),e=Hge(),r=Kq(),n="Expected a function",s=Math.max,i=Math.min;function o(l,u,d){var h,m,p,x,_,b,y=0,N=!1,S=!1,T=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,t(d)&&(N=!!d.leading,S="maxWait"in d,p=S?s(r(d.maxWait)||0,u):p,T="trailing"in d?!!d.trailing:T);function E(L){var B=h,G=m;return h=m=void 0,y=L,x=l.apply(G,B),x}function C(L){return y=L,_=setTimeout(R,u),N?E(L):x}function O(L){var B=L-b,G=L-y,q=u-B;return S?i(q,p-G):q}function k(L){var B=L-b,G=L-y;return b===void 0||B>=u||B<0||S&&G>=p}function R(){var L=e();if(k(L))return M(L);_=setTimeout(R,O(L))}function M(L){return _=void 0,T&&h?E(L):(h=m=void 0,x)}function V(){_!==void 0&&clearTimeout(_),y=0,h=b=m=_=void 0}function $(){return _===void 0?x:M(e())}function D(){var L=e(),B=k(L);if(h=arguments,m=this,b=L,B){if(_===void 0)return C(b);if(S)return clearTimeout(_),_=setTimeout(R,u),E(b)}return _===void 0&&(_=setTimeout(R,u)),x}return D.cancel=V,D.flush=$,D}return tN=o,tN}var rN,bL;function Yge(){if(bL)return rN;bL=1;var t=Kge(),e=ac(),r="Expected a function";function n(s,i,o){var l=!0,u=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),t(s,i,{leading:l,maxWait:i,trailing:u})}return rN=n,rN}var Qge=Yge();const Yq=tr(Qge);function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){Xge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xge(t,e,r){return e=Jge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jge(t){var e=Zge(t,"string");return tp(e)=="symbol"?e:e+""}function Zge(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eve(t,e){return sve(t)||nve(t,e)||rve(t,e)||tve()}function tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rve(t,e){if(t){if(typeof t=="string")return _L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _L(t,e)}}function _L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function sve(t){if(Array.isArray(t))return t}var ive=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,u=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,x=t.children,_=t.debounce,b=_===void 0?0:_,y=t.id,N=t.className,S=t.onResize,T=t.style,E=T===void 0?{}:T,C=j.useRef(null),O=j.useRef();O.current=S,j.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=j.useState({containerWidth:s.width,containerHeight:s.height}),R=eve(k,2),M=R[0],V=R[1],$=j.useCallback(function(L,B){V(function(G){var q=Math.round(L),Y=Math.round(B);return G.containerWidth===q&&G.containerHeight===Y?G:{containerWidth:q,containerHeight:Y}})},[]);j.useEffect(function(){var L=function(J){var ne,H=J[0].contentRect,Q=H.width,re=H.height;$(Q,re),(ne=O.current)===null||ne===void 0||ne.call(O,Q,re)};b>0&&(L=Yq(L,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),G=C.current.getBoundingClientRect(),q=G.width,Y=G.height;return $(q,Y),B.observe(C.current),function(){B.disconnect()}},[$,b]);var D=j.useMemo(function(){var L=M.containerWidth,B=M.containerHeight;if(L<0||B<0)return null;uo(Hc(o)||Hc(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),uo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Hc(o)?L:o,q=Hc(u)?B:u;r&&r>0&&(G?q=G/r:q&&(G=q*r),p&&q>p&&(q=p)),uo(G>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,q,o,u,h,m,r);var Y=!Array.isArray(x)&&co(x.type).endsWith("Chart");return K.Children.map(x,function(z){return tq.isElement(z)?j.cloneElement(z,Uv({width:G,height:q},Y?{style:Uv({height:"100%",width:"100%",maxHeight:q,maxWidth:G},z.props.style)}:{})):z})},[r,x,u,p,m,h,M,o]);return K.createElement("div",{id:y?"".concat(y):void 0,className:$t("recharts-responsive-container",N),style:Uv(Uv({},E),{},{width:o,height:u,minWidth:h,minHeight:m,maxHeight:p}),ref:C},D)}),Qq=function(e){return null};Qq.displayName="Cell";function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){ave(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ave(t,e,r){return e=ove(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ove(t){var e=lve(t,"string");return rp(e)=="symbol"?e:e+""}function lve(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var md={widthCache:{},cacheCount:0},cve=2e3,uve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SL="recharts_measurement_span";function dve(t){var e=xA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Sm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||th.isSsr)return{width:0,height:0};var n=dve(r),s=JSON.stringify({text:e,copyStyle:n});if(md.widthCache[s])return md.widthCache[s];try{var i=document.getElementById(SL);i||(i=document.createElement("span"),i.setAttribute("id",SL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=xA(xA({},uve),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),u={width:l.width,height:l.height};return md.widthCache[s]=u,++md.cacheCount>cve&&(md.cacheCount=0,md.widthCache={}),u}catch{return{width:0,height:0}}},fve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function px(t,e){return gve(t)||pve(t,e)||mve(t,e)||hve()}function hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mve(t,e){if(t){if(typeof t=="string")return NL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NL(t,e)}}function NL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function gve(t){if(Array.isArray(t))return t}function vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xve(n.key),n)}}function yve(t,e,r){return e&&EL(t.prototype,e),r&&EL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t){var e=bve(t,"string");return np(e)=="symbol"?e:e+""}function bve(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_ve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Xq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jve=Object.keys(Xq),Sd="NaN";function Sve(t,e){return t*Xq[e]}var zv=function(){function t(e,r){vve(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!wve.test(r)&&(this.num=NaN,this.unit=""),jve.includes(r)&&(this.num=Sve(e,r),this.unit="px")}return yve(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=_ve.exec(r))!==null&&n!==void 0?n:[],i=px(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function Jq(t){if(t.includes(Sd))return Sd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=AL.exec(e))!==null&&r!==void 0?r:[],s=px(n,4),i=s[1],o=s[2],l=s[3],u=zv.parse(i??""),d=zv.parse(l??""),h=o==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return Sd;e=e.replace(AL,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=TL.exec(e))!==null&&m!==void 0?m:[],x=px(p,4),_=x[1],b=x[2],y=x[3],N=zv.parse(_??""),S=zv.parse(y??""),T=b==="+"?N.add(S):N.subtract(S);if(T.isNaN())return Sd;e=e.replace(TL,T.toString())}return e}var CL=/\(([^()]*)\)/;function Nve(t){for(var e=t;e.includes("(");){var r=CL.exec(e),n=px(r,2),s=n[1];e=e.replace(CL,Jq(s))}return e}function Eve(t){var e=t.replace(/\s+/g,"");return e=Nve(e),e=Jq(e),e}function Ave(t){try{return Eve(t)}catch{return Sd}}function nN(t){var e=Ave(t.slice(5,-1));return e===Sd?"":e}var Tve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cve=["dx","dy","angle","className","breakAll"];function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bA.apply(this,arguments)}function kL(t,e){if(t==null)return{};var r=kve(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PL(t,e){return Ove(t)||Rve(t,e)||Ive(t,e)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ive(t,e){if(t){if(typeof t=="string")return IL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(t,e)}}function IL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Ove(t){if(Array.isArray(t))return t}var Zq=/[ \f\n\r\t\v\u2028\u2029]+/,e7=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];Dt(r)||(n?i=r.toString().split(""):i=r.toString().split(Zq));var o=i.map(function(u){return{word:u,width:Sm(u,s).width}}),l=n?0:Sm("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Mve=function(e,r,n,s,i){var o=e.maxLines,l=e.children,u=e.style,d=e.breakAll,h=Te(o),m=l,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(q,Y){var z=Y.word,J=Y.width,ne=q[q.length-1];if(ne&&(s==null||i||ne.width+J+n<Number(s)))ne.words.push(z),ne.width+=J+n;else{var H={words:[z],width:J};q.push(H)}return q},[])},x=p(r),_=function(G){return G.reduce(function(q,Y){return q.width>Y.width?q:Y})};if(!h)return x;for(var b="",y=function(G){var q=m.slice(0,G),Y=e7({breakAll:d,style:u,children:q+b}).wordsWithComputedWidth,z=p(Y),J=z.length>o||_(z).width>Number(s);return[J,z]},N=0,S=m.length-1,T=0,E;N<=S&&T<=m.length-1;){var C=Math.floor((N+S)/2),O=C-1,k=y(O),R=PL(k,2),M=R[0],V=R[1],$=y(C),D=PL($,1),L=D[0];if(!M&&!L&&(N=C+1),M&&L&&(S=C-1),!M&&L){E=V;break}T++}return E||x},RL=function(e){var r=Dt(e)?[]:e.toString().split(Zq);return[{words:r}]},Dve=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!th.isSsr){var u,d,h=e7({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,p=h.spaceWidth;u=m,d=p}else return RL(s);return Mve({breakAll:o,children:s,maxLines:l,style:i},u,d,r,n)}return RL(s)},OL="#808080",gx=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,u=e.capHeight,d=u===void 0?"0.71em":u,h=e.scaleToFit,m=h===void 0?!1:h,p=e.textAnchor,x=p===void 0?"start":p,_=e.verticalAnchor,b=_===void 0?"end":_,y=e.fill,N=y===void 0?OL:y,S=kL(e,Tve),T=j.useMemo(function(){return Dve({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),E=S.dx,C=S.dy,O=S.angle,k=S.className,R=S.breakAll,M=kL(S,Cve);if(!Xr(n)||!Xr(i))return null;var V=n+(Te(E)?E:0),$=i+(Te(C)?C:0),D;switch(b){case"start":D=nN("calc(".concat(d,")"));break;case"middle":D=nN("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:D=nN("calc(".concat(T.length-1," * -").concat(l,")"));break}var L=[];if(m){var B=T[0].width,G=S.width;L.push("scale(".concat((Te(G)?G/B:1)/B,")"))}return O&&L.push("rotate(".concat(O,", ").concat(V,", ").concat($,")")),L.length&&(M.transform=L.join(" ")),K.createElement("text",bA({},Tt(M,!0),{x:V,y:$,className:$t("recharts-text",k),textAnchor:x,fill:N.includes("url")?OL:N}),T.map(function(q,Y){var z=q.words.join(R?"":" ");return K.createElement("tspan",{x:V,dy:Y===0?D:l,key:"".concat(z,"-").concat(Y)},z)}))};function $l(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z2(t){let e,r,n;t.length!==2?(e=$l,r=(l,u)=>$l(t(l),u),n=(l,u)=>t(l)-u):(e=t===$l||t===Lve?t:Fve,r=t,n=t);function s(l,u,d=0,h=l.length){if(d<h){if(e(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<0?d=m+1:h=m}while(d<h)}return d}function i(l,u,d=0,h=l.length){if(d<h){if(e(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,u,d=0,h=l.length){const m=s(l,u,d,h-1);return m>d&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:s,center:o,right:i}}function Fve(){return 0}function t7(t){return t===null?NaN:+t}function*$ve(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Vve=z2($l),rg=Vve.right;z2(t7).center;class ML extends Map{constructor(e,r=zve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(DL(this,e))}has(e){return super.has(DL(this,e))}set(e,r){return super.set(Bve(this,e),r)}delete(e){return super.delete(Uve(this,e))}}function DL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Bve({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Uve({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function zve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qve(t=$l){if(t===$l)return r7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function r7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hve=Math.sqrt(50),Wve=Math.sqrt(10),Gve=Math.sqrt(2);function vx(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Hve?10:i>=Wve?5:i>=Gve?2:1;let l,u,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=r&&r<2?vx(t,e,r*2):[l,u,d]}function wA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?vx(e,t,r):vx(t,e,r);if(!(i>=s))return[];const l=i-s+1,u=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)u[d]=(i-d)/-o;else for(let d=0;d<l;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(s+d)/-o;else for(let d=0;d<l;++d)u[d]=(s+d)*o;return u}function _A(t,e,r){return e=+e,t=+t,r=+r,vx(t,e,r)[2]}function jA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?_A(e,t,r):_A(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function LL(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FL(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n7(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?r7:qve(s);n>r;){if(n-r>600){const u=n-r+1,d=e-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(e-d*m/u+p)),_=Math.min(n,Math.floor(e+(u-d)*m/u+p));n7(t,e,x,_,s)}const i=t[e];let o=r,l=n;for(Kh(t,r,e),s(t[n],i)>0&&Kh(t,r,n);o<l;){for(Kh(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?Kh(t,r,l):(++l,Kh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Kh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Kve(t,e,r){if(t=Float64Array.from($ve(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return FL(t);if(e>=1)return LL(t);var n,s=(n-1)*e,i=Math.floor(s),o=LL(n7(t,i).subarray(0,i+1)),l=FL(t.subarray(i+1));return o+(l-o)*(s-i)}}function Yve(t,e,r=t7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function Qve(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function ci(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SA=Symbol("implicit");function q2(){var t=new ML,e=[],r=[],n=SA;function s(i){let o=t.get(i);if(o===void 0){if(n!==SA)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new ML;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return q2(e,r).unknown(n)},ci.apply(s,arguments),s}function sp(){var t=q2().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,u=0,d=0,h=.5;delete t.unknown;function m(){var p=e().length,x=s<n,_=x?s:n,b=x?n:s;i=(b-_)/Math.max(1,p-u+d*2),l&&(i=Math.floor(i)),_+=(b-_-i*(p-u))*h,o=i*(1-u),l&&(_=Math.round(_),o=Math.round(o));var y=Qve(p).map(function(N){return _+i*N});return r(x?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},t.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),m()):u},t.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},t.copy=function(){return sp(e(),[n,s]).round(l).paddingInner(u).paddingOuter(d).align(h)},ci.apply(m(),arguments)}function s7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return s7(e())},t}function Nm(){return s7(sp.apply(null,arguments).paddingInner(1))}function H2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function i7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ng(){}var ip=.7,yx=1/ip,Ud="\\s*([+-]?\\d+)\\s*",ap="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xve=/^#([0-9a-f]{3,8})$/,Jve=new RegExp(`^rgb\\(${Ud},${Ud},${Ud}\\)$`),Zve=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),eye=new RegExp(`^rgba\\(${Ud},${Ud},${Ud},${ap}\\)$`),tye=new RegExp(`^rgba\\(${wa},${wa},${wa},${ap}\\)$`),rye=new RegExp(`^hsl\\(${ap},${wa},${wa}\\)$`),nye=new RegExp(`^hsla\\(${ap},${wa},${wa},${ap}\\)$`),$L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H2(ng,op,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VL,formatHex:VL,formatHex8:sye,formatHsl:iye,formatRgb:BL,toString:BL});function VL(){return this.rgb().formatHex()}function sye(){return this.rgb().formatHex8()}function iye(){return a7(this).formatHsl()}function BL(){return this.rgb().formatRgb()}function op(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Xve.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?UL(e):r===3?new ls(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?qv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?qv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jve.exec(t))?new ls(e[1],e[2],e[3],1):(e=Zve.exec(t))?new ls(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eye.exec(t))?qv(e[1],e[2],e[3],e[4]):(e=tye.exec(t))?qv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rye.exec(t))?HL(e[1],e[2]/100,e[3]/100,1):(e=nye.exec(t))?HL(e[1],e[2]/100,e[3]/100,e[4]):$L.hasOwnProperty(t)?UL($L[t]):t==="transparent"?new ls(NaN,NaN,NaN,0):null}function UL(t){return new ls(t>>16&255,t>>8&255,t&255,1)}function qv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ls(t,e,r,n)}function aye(t){return t instanceof ng||(t=op(t)),t?(t=t.rgb(),new ls(t.r,t.g,t.b,t.opacity)):new ls}function NA(t,e,r,n){return arguments.length===1?aye(t):new ls(t,e,r,n??1)}function ls(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}H2(ls,NA,i7(ng,{brighter(t){return t=t==null?yx:Math.pow(yx,t),new ls(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new ls(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ls(su(this.r),su(this.g),su(this.b),xx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zL,formatHex:zL,formatHex8:oye,formatRgb:qL,toString:qL}));function zL(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function oye(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function qL(){const t=xx(this.opacity);return`${t===1?"rgb(":"rgba("}${su(this.r)}, ${su(this.g)}, ${su(this.b)}${t===1?")":`, ${t})`}`}function xx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function su(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wc(t){return t=su(t),(t<16?"0":"")+t.toString(16)}function HL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Mi(t,e,r,n)}function a7(t){if(t instanceof Mi)return new Mi(t.h,t.s,t.l,t.opacity);if(t instanceof ng||(t=op(t)),!t)return new Mi;if(t instanceof Mi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,u=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new Mi(o,l,u,t.opacity)}function lye(t,e,r,n){return arguments.length===1?a7(t):new Mi(t,e,r,n??1)}function Mi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}H2(Mi,lye,i7(ng,{brighter(t){return t=t==null?yx:Math.pow(yx,t),new Mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new Mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new ls(sN(t>=240?t-240:t+120,s,n),sN(t,s,n),sN(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Mi(WL(this.h),Hv(this.s),Hv(this.l),xx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xx(this.opacity);return`${t===1?"hsl(":"hsla("}${WL(this.h)}, ${Hv(this.s)*100}%, ${Hv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WL(t){return t=(t||0)%360,t<0?t+360:t}function Hv(t){return Math.max(0,Math.min(1,t||0))}function sN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const W2=t=>()=>t;function cye(t,e){return function(r){return t+r*e}}function uye(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function dye(t){return(t=+t)==1?o7:function(e,r){return r-e?uye(e,r,t):W2(isNaN(e)?r:e)}}function o7(t,e){var r=e-t;return r?cye(t,r):W2(isNaN(t)?e:t)}const GL=function t(e){var r=dye(e);function n(s,i){var o=r((s=NA(s)).r,(i=NA(i)).r),l=r(s.g,i.g),u=r(s.b,i.b),d=o7(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=u(h),s.opacity=d(h),s+""}}return n.gamma=t,n}(1);function fye(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function hye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mye(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=rh(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function pye(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function gye(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=rh(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var EA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iN=new RegExp(EA.source,"g");function vye(t){return function(){return t}}function yye(t){return function(e){return t(e)+""}}function xye(t,e){var r=EA.lastIndex=iN.lastIndex=0,n,s,i,o=-1,l=[],u=[];for(t=t+"",e=e+"";(n=EA.exec(t))&&(s=iN.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:bx(n,s)})),r=iN.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?yye(u[0].x):vye(e):(e=u.length,function(d){for(var h=0,m;h<e;++h)l[(m=u[h]).i]=m.x(d);return l.join("")})}function rh(t,e){var r=typeof e,n;return e==null||r==="boolean"?W2(e):(r==="number"?bx:r==="string"?(n=op(e))?(e=n,GL):xye:e instanceof op?GL:e instanceof Date?pye:hye(e)?fye:Array.isArray(e)?mye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gye:bx)(t,e)}function G2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function bye(t,e){e===void 0&&(e=t,t=rh);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function wye(t){return function(){return t}}function wx(t){return+t}var KL=[0,1];function qn(t){return t}function AA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:wye(isNaN(e)?NaN:.5)}function _ye(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function jye(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=AA(s,n),i=r(o,i)):(n=AA(n,s),i=r(i,o)),function(l){return i(n(l))}}function Sye(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=AA(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var u=rg(t,l,1,n)-1;return i[u](s[u](l))}}function sg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function p0(){var t=KL,e=KL,r=rh,n,s,i,o=qn,l,u,d;function h(){var p=Math.min(t.length,e.length);return o!==qn&&(o=_ye(t[0],t[p-1])),l=p>2?Sye:jye,u=d=null,m}function m(p){return p==null||isNaN(p=+p)?i:(u||(u=l(t.map(n),e,r)))(n(o(p)))}return m.invert=function(p){return o(s((d||(d=l(e,t.map(n),bx)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,wx),h()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),r=G2,h()},m.clamp=function(p){return arguments.length?(o=p?!0:qn,h()):o!==qn},m.interpolate=function(p){return arguments.length?(r=p,h()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,x){return n=p,s=x,h()}}function K2(){return p0()(qn,qn)}function Nye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _x(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function yf(t){return t=_x(Math.abs(t)),t?t[1]:NaN}function Eye(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],u=0;s>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(s-=l,s+l)),!((u+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Aye(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Tye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lp(t){if(!(e=Tye.exec(t)))throw new Error("invalid format: "+t);var e;return new Y2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lp.prototype=Y2.prototype;function Y2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Y2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cye(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var l7;function kye(t,e){var r=_x(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(l7=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+_x(t,Math.max(0,e+i-1))[0]}function YL(t,e){var r=_x(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const QL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YL(t*100,e),r:YL,s:kye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XL(t){return t}var JL=Array.prototype.map,ZL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pye(t){var e=t.grouping===void 0||t.thousands===void 0?XL:Eye(JL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?XL:Aye(JL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(m){m=lp(m);var p=m.fill,x=m.align,_=m.sign,b=m.symbol,y=m.zero,N=m.width,S=m.comma,T=m.precision,E=m.trim,C=m.type;C==="n"?(S=!0,C="g"):QL[C]||(T===void 0&&(T=12),E=!0,C="g"),(y||p==="0"&&x==="=")&&(y=!0,p="0",x="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=b==="$"?n:/[%p]/.test(C)?o:"",R=QL[C],M=/[defgprs%]/.test(C);T=T===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function V($){var D=O,L=k,B,G,q;if(C==="c")L=R($)+L,$="";else{$=+$;var Y=$<0||1/$<0;if($=isNaN($)?u:R(Math.abs($),T),E&&($=Cye($)),Y&&+$==0&&_!=="+"&&(Y=!1),D=(Y?_==="("?_:l:_==="-"||_==="("?"":_)+D,L=(C==="s"?ZL[8+l7/3]:"")+L+(Y&&_==="("?")":""),M){for(B=-1,G=$.length;++B<G;)if(q=$.charCodeAt(B),48>q||q>57){L=(q===46?s+$.slice(B+1):$.slice(B))+L,$=$.slice(0,B);break}}}S&&!y&&($=e($,1/0));var z=D.length+$.length+L.length,J=z<N?new Array(N-z+1).join(p):"";switch(S&&y&&($=e(J+$,J.length?N-L.length:1/0),J=""),x){case"<":$=D+$+L+J;break;case"=":$=D+J+$+L;break;case"^":$=J.slice(0,z=J.length>>1)+D+$+L+J.slice(z);break;default:$=J+D+$+L;break}return i($)}return V.toString=function(){return m+""},V}function h(m,p){var x=d((m=lp(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(yf(p)/3)))*3,b=Math.pow(10,-_),y=ZL[8+_/3];return function(N){return x(b*N)+y}}return{format:d,formatPrefix:h}}var Wv,Q2,c7;Iye({thousands:",",grouping:[3],currency:["$",""]});function Iye(t){return Wv=Pye(t),Q2=Wv.format,c7=Wv.formatPrefix,Wv}function Rye(t){return Math.max(0,-yf(Math.abs(t)))}function Oye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yf(e)/3)))*3-yf(Math.abs(t)))}function Mye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yf(e)-yf(t))+1}function u7(t,e,r,n){var s=jA(t,e,r),i;switch(n=lp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Oye(s,o))&&(n.precision=i),c7(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Mye(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Rye(s))&&(n.precision=i-(n.type==="%")*2);break}}return Q2(n)}function lc(t){var e=t.domain;return t.ticks=function(r){var n=e();return wA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return u7(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);h-- >0;){if(d=_A(o,l,r),d===u)return n[s]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function jx(){var t=K2();return t.copy=function(){return sg(t,jx())},ci.apply(t,arguments),lc(t)}function d7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,wx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return d7(t).unknown(e)},t=arguments.length?Array.from(t,wx):[0,1],lc(r)}function f7(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function e3(t){return Math.log(t)}function t3(t){return Math.exp(t)}function Dye(t){return-Math.log(-t)}function Lye(t){return-Math.exp(-t)}function Fye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $ye(t){return t===10?Fye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Vye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function r3(t){return(e,r)=>-t(-e,r)}function X2(t){const e=t(e3,t3),r=e.domain;let n=10,s,i;function o(){return s=Vye(n),i=$ye(n),r()[0]<0?(s=r3(s),i=r3(i),t(Dye,Lye)):t(e3,t3),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const u=r();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let p=s(d),x=s(h),_,b;const y=l==null?10:+l;let N=[];if(!(n%1)&&x-p<y){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(_=1;_<n;++_)if(b=p<0?_/i(-p):_*i(p),!(b<d)){if(b>h)break;N.push(b)}}else for(;p<=x;++p)for(_=n-1;_>=1;--_)if(b=p>0?_/i(-p):_*i(p),!(b<d)){if(b>h)break;N.push(b)}N.length*2<y&&(N=wA(d,h,y))}else N=wA(p,x,Math.min(x-p,y)).map(i);return m?N.reverse():N},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=lp(u)).precision==null&&(u.trim=!0),u=Q2(u)),l===1/0)return u;const d=Math.max(1,n*l/e.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*n<n-.5&&(m*=n),m<=d?u(h):""}},e.nice=()=>r(f7(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function h7(){const t=X2(p0()).domain([1,10]);return t.copy=()=>sg(t,h7()).base(t.base()),ci.apply(t,arguments),t}function n3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function s3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function J2(t){var e=1,r=t(n3(e),s3(e));return r.constant=function(n){return arguments.length?t(n3(e=+n),s3(e)):e},lc(r)}function m7(){var t=J2(p0());return t.copy=function(){return sg(t,m7()).constant(t.constant())},ci.apply(t,arguments)}function i3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uye(t){return t<0?-t*t:t*t}function Z2(t){var e=t(qn,qn),r=1;function n(){return r===1?t(qn,qn):r===.5?t(Bye,Uye):t(i3(r),i3(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},lc(e)}function ek(){var t=Z2(p0());return t.copy=function(){return sg(t,ek()).exponent(t.exponent())},ci.apply(t,arguments),t}function zye(){return ek.apply(null,arguments).exponent(.5)}function a3(t){return Math.sign(t)*t*t}function qye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function p7(){var t=K2(),e=[0,1],r=!1,n;function s(i){var o=qye(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(a3(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,wx)).map(a3)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return p7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ci.apply(s,arguments),lc(s)}function g7(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Yve(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[rg(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort($l),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return g7().domain(t).range(e).unknown(n)},ci.apply(i,arguments)}function v7(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[rg(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,l()):s.slice()},o.invertExtent=function(u){var d=s.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return v7().domain([t,e]).range(s).unknown(i)},ci.apply(lc(o),arguments)}function y7(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[rg(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return y7().domain(t).range(e).unknown(r)},ci.apply(s,arguments)}const aN=new Date,oN=new Date;function en(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const u=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let d;do u.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return u},s.filter=i=>en(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(aN.setTime(+i),oN.setTime(+o),t(aN),t(oN),Math.floor(r(aN,oN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Sx=en(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?en(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sx);Sx.range;const no=1e3,ni=no*60,so=ni*60,_o=so*24,tk=_o*7,o3=_o*30,lN=_o*365,Gc=en(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCSeconds());Gc.range;const rk=en(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*no)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getMinutes());rk.range;const nk=en(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCMinutes());nk.range;const sk=en(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*no-t.getMinutes()*ni)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getHours());sk.range;const ik=en(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getUTCHours());ik.range;const ig=en(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ni)/_o,t=>t.getDate()-1);ig.range;const g0=en(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_o,t=>t.getUTCDate()-1);g0.range;const x7=en(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_o,t=>Math.floor(t/_o));x7.range;function Tu(t){return en(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ni)/tk)}const v0=Tu(0),Nx=Tu(1),Hye=Tu(2),Wye=Tu(3),xf=Tu(4),Gye=Tu(5),Kye=Tu(6);v0.range;Nx.range;Hye.range;Wye.range;xf.range;Gye.range;Kye.range;function Cu(t){return en(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/tk)}const y0=Cu(0),Ex=Cu(1),Yye=Cu(2),Qye=Cu(3),bf=Cu(4),Xye=Cu(5),Jye=Cu(6);y0.range;Ex.range;Yye.range;Qye.range;bf.range;Xye.range;Jye.range;const ak=en(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ak.range;const ok=en(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ok.range;const jo=en(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:en(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});jo.range;const So=en(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());So.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:en(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});So.range;function b7(t,e,r,n,s,i){const o=[[Gc,1,no],[Gc,5,5*no],[Gc,15,15*no],[Gc,30,30*no],[i,1,ni],[i,5,5*ni],[i,15,15*ni],[i,30,30*ni],[s,1,so],[s,3,3*so],[s,6,6*so],[s,12,12*so],[n,1,_o],[n,2,2*_o],[r,1,tk],[e,1,o3],[e,3,3*o3],[t,1,lN]];function l(d,h,m){const p=h<d;p&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:u(d,h,m),_=x?x.range(d,+h+1):[];return p?_.reverse():_}function u(d,h,m){const p=Math.abs(h-d)/m,x=z2(([,,y])=>y).right(o,p);if(x===o.length)return t.every(jA(d/lN,h/lN,m));if(x===0)return Sx.every(Math.max(jA(d,h,m),1));const[_,b]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return _.every(b)}return[l,u]}const[Zye,exe]=b7(So,ok,y0,x7,ik,nk),[txe,rxe]=b7(jo,ak,v0,ig,sk,rk);function cN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function nxe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,d=Qh(s),h=Xh(s),m=Qh(i),p=Xh(i),x=Qh(o),_=Xh(o),b=Qh(l),y=Xh(l),N=Qh(u),S=Xh(u),T={a:Y,A:z,b:J,B:ne,c:null,d:h3,e:h3,f:Exe,g:Dxe,G:Fxe,H:jxe,I:Sxe,j:Nxe,L:w7,m:Axe,M:Txe,p:H,q:Q,Q:g3,s:v3,S:Cxe,u:kxe,U:Pxe,V:Ixe,w:Rxe,W:Oxe,x:null,X:null,y:Mxe,Y:Lxe,Z:$xe,"%":p3},E={a:re,A:Z,b:me,B:pe,c:null,d:m3,e:m3,f:zxe,g:Zxe,G:tbe,H:Vxe,I:Bxe,j:Uxe,L:j7,m:qxe,M:Hxe,p:fe,q:we,Q:g3,s:v3,S:Wxe,u:Gxe,U:Kxe,V:Yxe,w:Qxe,W:Xxe,x:null,X:null,y:Jxe,Y:ebe,Z:rbe,"%":p3},C={a:V,A:$,b:D,B:L,c:B,d:d3,e:d3,f:xxe,g:u3,G:c3,H:f3,I:f3,j:pxe,L:yxe,m:mxe,M:gxe,p:M,q:hxe,Q:wxe,s:_xe,S:vxe,u:lxe,U:cxe,V:uxe,w:oxe,W:dxe,x:G,X:q,y:u3,Y:c3,Z:fxe,"%":bxe};T.x=O(r,T),T.X=O(n,T),T.c=O(e,T),E.x=O(r,E),E.X=O(n,E),E.c=O(e,E);function O(ce,be){return function(Ee){var ue=[],Ke=-1,Ve=0,Ge=ce.length,ut,Gt,kr;for(Ee instanceof Date||(Ee=new Date(+Ee));++Ke<Ge;)ce.charCodeAt(Ke)===37&&(ue.push(ce.slice(Ve,Ke)),(Gt=l3[ut=ce.charAt(++Ke)])!=null?ut=ce.charAt(++Ke):Gt=ut==="e"?" ":"0",(kr=be[ut])&&(ut=kr(Ee,Gt)),ue.push(ut),Ve=Ke+1);return ue.push(ce.slice(Ve,Ke)),ue.join("")}}function k(ce,be){return function(Ee){var ue=Yh(1900,void 0,1),Ke=R(ue,ce,Ee+="",0),Ve,Ge;if(Ke!=Ee.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(be&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ve=uN(Yh(ue.y,0,1)),Ge=Ve.getUTCDay(),Ve=Ge>4||Ge===0?Ex.ceil(Ve):Ex(Ve),Ve=g0.offset(Ve,(ue.V-1)*7),ue.y=Ve.getUTCFullYear(),ue.m=Ve.getUTCMonth(),ue.d=Ve.getUTCDate()+(ue.w+6)%7):(Ve=cN(Yh(ue.y,0,1)),Ge=Ve.getDay(),Ve=Ge>4||Ge===0?Nx.ceil(Ve):Nx(Ve),Ve=ig.offset(Ve,(ue.V-1)*7),ue.y=Ve.getFullYear(),ue.m=Ve.getMonth(),ue.d=Ve.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ge="Z"in ue?uN(Yh(ue.y,0,1)).getUTCDay():cN(Yh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ge+5)%7:ue.w+ue.U*7-(Ge+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,uN(ue)):cN(ue)}}function R(ce,be,Ee,ue){for(var Ke=0,Ve=be.length,Ge=Ee.length,ut,Gt;Ke<Ve;){if(ue>=Ge)return-1;if(ut=be.charCodeAt(Ke++),ut===37){if(ut=be.charAt(Ke++),Gt=C[ut in l3?be.charAt(Ke++):ut],!Gt||(ue=Gt(ce,Ee,ue))<0)return-1}else if(ut!=Ee.charCodeAt(ue++))return-1}return ue}function M(ce,be,Ee){var ue=d.exec(be.slice(Ee));return ue?(ce.p=h.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function V(ce,be,Ee){var ue=x.exec(be.slice(Ee));return ue?(ce.w=_.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function $(ce,be,Ee){var ue=m.exec(be.slice(Ee));return ue?(ce.w=p.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function D(ce,be,Ee){var ue=N.exec(be.slice(Ee));return ue?(ce.m=S.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function L(ce,be,Ee){var ue=b.exec(be.slice(Ee));return ue?(ce.m=y.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function B(ce,be,Ee){return R(ce,e,be,Ee)}function G(ce,be,Ee){return R(ce,r,be,Ee)}function q(ce,be,Ee){return R(ce,n,be,Ee)}function Y(ce){return o[ce.getDay()]}function z(ce){return i[ce.getDay()]}function J(ce){return u[ce.getMonth()]}function ne(ce){return l[ce.getMonth()]}function H(ce){return s[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function re(ce){return o[ce.getUTCDay()]}function Z(ce){return i[ce.getUTCDay()]}function me(ce){return u[ce.getUTCMonth()]}function pe(ce){return l[ce.getUTCMonth()]}function fe(ce){return s[+(ce.getUTCHours()>=12)]}function we(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var be=O(ce+="",T);return be.toString=function(){return ce},be},parse:function(ce){var be=k(ce+="",!1);return be.toString=function(){return ce},be},utcFormat:function(ce){var be=O(ce+="",E);return be.toString=function(){return ce},be},utcParse:function(ce){var be=k(ce+="",!0);return be.toString=function(){return ce},be}}}var l3={"-":"",_:" ",0:"0"},ln=/^\s*\d+/,sxe=/^%/,ixe=/[\\^$*+?|[\]().{}]/g;function Ht(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function axe(t){return t.replace(ixe,"\\$&")}function Qh(t){return new RegExp("^(?:"+t.map(axe).join("|")+")","i")}function Xh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function oxe(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function lxe(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function cxe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function uxe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function dxe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function c3(t,e,r){var n=ln.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function u3(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fxe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hxe(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mxe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function d3(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function pxe(t,e,r){var n=ln.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function f3(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function gxe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function vxe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function yxe(t,e,r){var n=ln.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function xxe(t,e,r){var n=ln.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bxe(t,e,r){var n=sxe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function wxe(t,e,r){var n=ln.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function _xe(t,e,r){var n=ln.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function h3(t,e){return Ht(t.getDate(),e,2)}function jxe(t,e){return Ht(t.getHours(),e,2)}function Sxe(t,e){return Ht(t.getHours()%12||12,e,2)}function Nxe(t,e){return Ht(1+ig.count(jo(t),t),e,3)}function w7(t,e){return Ht(t.getMilliseconds(),e,3)}function Exe(t,e){return w7(t,e)+"000"}function Axe(t,e){return Ht(t.getMonth()+1,e,2)}function Txe(t,e){return Ht(t.getMinutes(),e,2)}function Cxe(t,e){return Ht(t.getSeconds(),e,2)}function kxe(t){var e=t.getDay();return e===0?7:e}function Pxe(t,e){return Ht(v0.count(jo(t)-1,t),e,2)}function _7(t){var e=t.getDay();return e>=4||e===0?xf(t):xf.ceil(t)}function Ixe(t,e){return t=_7(t),Ht(xf.count(jo(t),t)+(jo(t).getDay()===4),e,2)}function Rxe(t){return t.getDay()}function Oxe(t,e){return Ht(Nx.count(jo(t)-1,t),e,2)}function Mxe(t,e){return Ht(t.getFullYear()%100,e,2)}function Dxe(t,e){return t=_7(t),Ht(t.getFullYear()%100,e,2)}function Lxe(t,e){return Ht(t.getFullYear()%1e4,e,4)}function Fxe(t,e){var r=t.getDay();return t=r>=4||r===0?xf(t):xf.ceil(t),Ht(t.getFullYear()%1e4,e,4)}function $xe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function m3(t,e){return Ht(t.getUTCDate(),e,2)}function Vxe(t,e){return Ht(t.getUTCHours(),e,2)}function Bxe(t,e){return Ht(t.getUTCHours()%12||12,e,2)}function Uxe(t,e){return Ht(1+g0.count(So(t),t),e,3)}function j7(t,e){return Ht(t.getUTCMilliseconds(),e,3)}function zxe(t,e){return j7(t,e)+"000"}function qxe(t,e){return Ht(t.getUTCMonth()+1,e,2)}function Hxe(t,e){return Ht(t.getUTCMinutes(),e,2)}function Wxe(t,e){return Ht(t.getUTCSeconds(),e,2)}function Gxe(t){var e=t.getUTCDay();return e===0?7:e}function Kxe(t,e){return Ht(y0.count(So(t)-1,t),e,2)}function S7(t){var e=t.getUTCDay();return e>=4||e===0?bf(t):bf.ceil(t)}function Yxe(t,e){return t=S7(t),Ht(bf.count(So(t),t)+(So(t).getUTCDay()===4),e,2)}function Qxe(t){return t.getUTCDay()}function Xxe(t,e){return Ht(Ex.count(So(t)-1,t),e,2)}function Jxe(t,e){return Ht(t.getUTCFullYear()%100,e,2)}function Zxe(t,e){return t=S7(t),Ht(t.getUTCFullYear()%100,e,2)}function ebe(t,e){return Ht(t.getUTCFullYear()%1e4,e,4)}function tbe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bf(t):bf.ceil(t),Ht(t.getUTCFullYear()%1e4,e,4)}function rbe(){return"+0000"}function p3(){return"%"}function g3(t){return+t}function v3(t){return Math.floor(+t/1e3)}var pd,N7,E7;nbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nbe(t){return pd=nxe(t),N7=pd.format,pd.parse,E7=pd.utcFormat,pd.utcParse,pd}function sbe(t){return new Date(t)}function ibe(t){return t instanceof Date?+t:+new Date(+t)}function lk(t,e,r,n,s,i,o,l,u,d){var h=K2(),m=h.invert,p=h.domain,x=d(".%L"),_=d(":%S"),b=d("%I:%M"),y=d("%I %p"),N=d("%a %d"),S=d("%b %d"),T=d("%B"),E=d("%Y");function C(O){return(u(O)<O?x:l(O)<O?_:o(O)<O?b:i(O)<O?y:n(O)<O?s(O)<O?N:S:r(O)<O?T:E)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?p(Array.from(O,ibe)):p().map(sbe)},h.ticks=function(O){var k=p();return t(k[0],k[k.length-1],O??10)},h.tickFormat=function(O,k){return k==null?C:d(k)},h.nice=function(O){var k=p();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?p(f7(k,O)):h},h.copy=function(){return sg(h,lk(t,e,r,n,s,i,o,l,u,d))},h}function abe(){return ci.apply(lk(txe,rxe,jo,ak,v0,ig,sk,rk,Gc,N7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function obe(){return ci.apply(lk(Zye,exe,So,ok,y0,g0,ik,nk,Gc,E7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x0(){var t=0,e=1,r,n,s,i,o=qn,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(p){var x,_;return arguments.length?([x,_]=p,o=m(x,_),d):[o(0),o(1)]}}return d.range=h(rh),d.rangeRound=h(G2),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return i=m,r=m(t),n=m(e),s=r===n?0:1/(n-r),d}}function cc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function A7(){var t=lc(x0()(qn));return t.copy=function(){return cc(t,A7())},Oo.apply(t,arguments)}function T7(){var t=X2(x0()).domain([1,10]);return t.copy=function(){return cc(t,T7()).base(t.base())},Oo.apply(t,arguments)}function C7(){var t=J2(x0());return t.copy=function(){return cc(t,C7()).constant(t.constant())},Oo.apply(t,arguments)}function ck(){var t=Z2(x0());return t.copy=function(){return cc(t,ck()).exponent(t.exponent())},Oo.apply(t,arguments)}function lbe(){return ck.apply(null,arguments).exponent(.5)}function k7(){var t=[],e=qn;function r(n){if(n!=null&&!isNaN(n=+n))return e((rg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort($l),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Kve(t,i/n))},r.copy=function(){return k7(e).domain(t)},Oo.apply(r,arguments)}function b0(){var t=0,e=.5,r=1,n=1,s,i,o,l,u,d=qn,h,m=!1,p;function x(b){return isNaN(b=+b)?p:(b=.5+((b=+h(b))-i)*(n*b<n*i?l:u),d(m?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([t,e,r]=b,s=h(t=+t),i=h(e=+e),o=h(r=+r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,x):[t,e,r]},x.clamp=function(b){return arguments.length?(m=!!b,x):m},x.interpolator=function(b){return arguments.length?(d=b,x):d};function _(b){return function(y){var N,S,T;return arguments.length?([N,S,T]=y,d=bye(b,[N,S,T]),x):[d(0),d(.5),d(1)]}}return x.range=_(rh),x.rangeRound=_(G2),x.unknown=function(b){return arguments.length?(p=b,x):p},function(b){return h=b,s=b(t),i=b(e),o=b(r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,x}}function P7(){var t=lc(b0()(qn));return t.copy=function(){return cc(t,P7())},Oo.apply(t,arguments)}function I7(){var t=X2(b0()).domain([.1,1,10]);return t.copy=function(){return cc(t,I7()).base(t.base())},Oo.apply(t,arguments)}function R7(){var t=J2(b0());return t.copy=function(){return cc(t,R7()).constant(t.constant())},Oo.apply(t,arguments)}function uk(){var t=Z2(b0());return t.copy=function(){return cc(t,uk()).exponent(t.exponent())},Oo.apply(t,arguments)}function cbe(){return uk.apply(null,arguments).exponent(.5)}const y3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sp,scaleDiverging:P7,scaleDivergingLog:I7,scaleDivergingPow:uk,scaleDivergingSqrt:cbe,scaleDivergingSymlog:R7,scaleIdentity:d7,scaleImplicit:SA,scaleLinear:jx,scaleLog:h7,scaleOrdinal:q2,scalePoint:Nm,scalePow:ek,scaleQuantile:g7,scaleQuantize:v7,scaleRadial:p7,scaleSequential:A7,scaleSequentialLog:T7,scaleSequentialPow:ck,scaleSequentialQuantile:k7,scaleSequentialSqrt:lbe,scaleSequentialSymlog:C7,scaleSqrt:zye,scaleSymlog:m7,scaleThreshold:y7,scaleTime:abe,scaleUtc:obe,tickFormat:u7},Symbol.toStringTag,{value:"Module"}));var dN,x3;function O7(){if(x3)return dN;x3=1;var t=Xf();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],u=n(l);if(u!=null&&(d===void 0?u===u&&!t(u):s(u,d)))var d=u,h=l}return h}return dN=e,dN}var fN,b3;function ube(){if(b3)return fN;b3=1;function t(e,r){return e>r}return fN=t,fN}var hN,w3;function dbe(){if(w3)return hN;w3=1;var t=O7(),e=ube(),r=eh();function n(s){return s&&s.length?t(s,r,e):void 0}return hN=n,hN}var fbe=dbe();const Pl=tr(fbe);var mN,_3;function hbe(){if(_3)return mN;_3=1;function t(e,r){return e<r}return mN=t,mN}var pN,j3;function mbe(){if(j3)return pN;j3=1;var t=O7(),e=hbe(),r=eh();function n(s){return s&&s.length?t(s,r,e):void 0}return pN=n,pN}var pbe=mbe();const w0=tr(pbe);var gN,S3;function gbe(){if(S3)return gN;S3=1;var t=E2(),e=oc(),r=Uq(),n=ms();function s(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return gN=s,gN}var vN,N3;function vbe(){if(N3)return vN;N3=1;var t=Vq(),e=gbe();function r(n,s){return t(e(n,s),1)}return vN=r,vN}var ybe=vbe();const xbe=tr(ybe);var yN,E3;function bbe(){if(E3)return yN;E3=1;var t=$2();function e(r,n){return t(r,n)}return yN=e,yN}var wbe=bbe();const cp=tr(wbe);var nh=1e9,_be={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fk,br=!0,li="[DecimalError] ",iu=li+"Invalid argument: ",dk=li+"Exponent out of range: ",sh=Math.floor,Vc=Math.pow,jbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ps,on=1e7,pr=7,M7=9007199254740991,Ax=sh(M7/pr),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*pr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(t){return fo(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,r=e.constructor;return nr(fo(e,new r(t),0,1),r.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return qr(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ps))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(Ps)?new n(0):(br=!1,e=fo(up(r,i),up(t,i),i),br=!0,nr(e,s))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?F7(e,t):D7(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(li+"NaN");return r.s?(br=!1,e=fo(r,t,0,1).times(t),br=!0,r.minus(e)):nr(new n(r),s)};$e.naturalExponential=$e.exp=function(){return L7(this)};$e.naturalLogarithm=$e.ln=function(){return up(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D7(e,t):F7(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(iu+t);if(e=qr(s)+1,n=s.d.length-1,r=n*pr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};$e.squareRoot=$e.sqrt=function(){var t,e,r,n,s,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(li+"NaN")}for(t=qr(l),br=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=pa(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=sh((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=n,n=i.plus(fo(l,i,o+2)).times(.5),pa(i.d).slice(0,o)===(e=pa(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(nr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return br=!0,nr(n,r)};$e.times=$e.mul=function(t){var e,r,n,s,i,o,l,u,d,h=this,m=h.constructor,p=h.d,x=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,u=p.length,d=x.length,u<d&&(i=p,p=x,x=i,o=u,u=d,d=o),i=[],o=u+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,s=u+n;s>n;)l=i[s]+x[n]*p[s-n-1]+e,i[s--]=l%on|0,e=l/on|0;i[s]=(i[s]+e)%on|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,br?nr(t,m.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ea(t,0,nh),e===void 0?e=n.rounding:Ea(e,0,8),nr(r,t+qr(r)+1,e))};$e.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=yu(n,!0):(Ea(t,0,nh),e===void 0?e=s.rounding:Ea(e,0,8),n=nr(new s(n),t+1,e),r=yu(n,!0,t+1)),r};$e.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?yu(s):(Ea(t,0,nh),e===void 0?e=i.rounding:Ea(e,0,8),n=nr(new i(s),t+qr(s)+1,e),r=yu(n.abs(),!1,t+qr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return nr(new e(t),qr(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,r,n,s,i,o,l=this,u=l.constructor,d=12,h=+(t=new u(t));if(!t.s)return new u(Ps);if(l=new u(l),!l.s){if(t.s<1)throw Error(li+"Infinity");return l}if(l.eq(Ps))return l;if(n=u.precision,t.eq(Ps))return nr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=h<0?-h:h)<=M7){for(s=new u(Ps),e=Math.ceil(n/pr+4),br=!1;r%2&&(s=s.times(l),T3(s.d,e)),r=sh(r/2),r!==0;)l=l.times(l),T3(l.d,e);return br=!0,t.s<0?new u(Ps).div(s):nr(s,n)}}else if(i<0)throw Error(li+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,br=!1,s=t.times(up(l,n+d)),br=!0,s=L7(s),s.s=i,s};$e.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=qr(s),n=yu(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ea(t,1,nh),e===void 0?e=i.rounding:Ea(e,0,8),s=nr(new i(s),t,e),r=qr(s),n=yu(s,t<=r||r<=i.toExpNeg,t)),n};$e.toSignificantDigits=$e.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ea(t,1,nh),e===void 0?e=n.rounding:Ea(e,0,8)),nr(new n(r),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),r=t.constructor;return yu(t,e<=r.toExpNeg||e>=r.toExpPos)};function D7(t,e){var r,n,s,i,o,l,u,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),br?nr(e,m):e;if(u=t.d,d=e.d,o=t.e,s=e.e,u=u.slice(),i=o-s,i){for(i<0?(n=u,i=-i,l=d.length):(n=d,s=o,l=u.length),o=Math.ceil(m/pr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=d.length,l-i<0&&(i=l,n=d,d=u,u=n),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/on|0,u[i]%=on;for(r&&(u.unshift(r),++s),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=s,br?nr(e,m):e}function Ea(t,e,r){if(t!==~~t||t<e||t>r)throw Error(iu+t)}function pa(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=pr-n.length,r&&(i+=gl(r)),i+=n;o=t[e],n=o+"",r=pr-n.length,r&&(i+=gl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var fo=function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%on|0,o=i/on|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=s[l]){u=n[l]>s[l]?1:-1;break}return u}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*on+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,u,d,h,m,p,x,_,b,y,N,S,T,E,C,O,k,R,M=n.constructor,V=n.s==s.s?1:-1,$=n.d,D=s.d;if(!n.s)return new M(n);if(!s.s)throw Error(li+"Division by zero");for(u=n.e-s.e,k=D.length,C=$.length,x=new M(V),_=x.d=[],d=0;D[d]==($[d]||0);)++d;if(D[d]>($[d]||0)&&--u,i==null?S=i=M.precision:o?S=i+(qr(n)-qr(s))+1:S=i,S<0)return new M(0);if(S=S/pr+2|0,d=0,k==1)for(h=0,D=D[0],S++;(d<C||h)&&S--;d++)T=h*on+($[d]||0),_[d]=T/D|0,h=T%D|0;else{for(h=on/(D[0]+1)|0,h>1&&(D=t(D,h),$=t($,h),k=D.length,C=$.length),E=k,b=$.slice(0,k),y=b.length;y<k;)b[y++]=0;R=D.slice(),R.unshift(0),O=D[0],D[1]>=on/2&&++O;do h=0,l=e(D,b,k,y),l<0?(N=b[0],k!=y&&(N=N*on+(b[1]||0)),h=N/O|0,h>1?(h>=on&&(h=on-1),m=t(D,h),p=m.length,y=b.length,l=e(m,b,p,y),l==1&&(h--,r(m,k<p?R:D,p))):(h==0&&(l=h=1),m=D.slice()),p=m.length,p<y&&m.unshift(0),r(b,m,y),l==-1&&(y=b.length,l=e(D,b,k,y),l<1&&(h++,r(b,k<y?R:D,y))),y=b.length):l===0&&(h++,b=[0]),_[d++]=h,l&&b[0]?b[y++]=$[E]||0:(b=[$[E]],y=1);while((E++<C||b[0]!==void 0)&&S--)}return _[0]||_.shift(),x.e=u,nr(x,o?i+qr(x)+1:i)}}();function L7(t,e){var r,n,s,i,o,l,u=0,d=0,h=t.constructor,m=h.precision;if(qr(t)>16)throw Error(dk+qr(t));if(!t.s)return new h(Ps);for(br=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(Vc(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new h(Ps),h.precision=l;;){if(s=nr(s.times(t),l),r=r.times(++u),o=i.plus(fo(s,r,l)),pa(o.d).slice(0,l)===pa(i.d).slice(0,l)){for(;d--;)i=nr(i.times(i),l);return h.precision=m,e==null?(br=!0,nr(i,m)):i}i=o}}function qr(t){for(var e=t.e*pr,r=t.d[0];r>=10;r/=10)e++;return e}function xN(t,e,r){if(e>t.LN10.sd())throw br=!0,r&&(t.precision=r),Error(li+"LN10 precision limit exceeded");return nr(new t(t.LN10),e)}function gl(t){for(var e="";t--;)e+="0";return e}function up(t,e){var r,n,s,i,o,l,u,d,h,m=1,p=10,x=t,_=x.d,b=x.constructor,y=b.precision;if(x.s<1)throw Error(li+(x.s?"NaN":"-Infinity"));if(x.eq(Ps))return new b(0);if(e==null?(br=!1,d=y):d=e,x.eq(10))return e==null&&(br=!0),xN(b,d);if(d+=p,b.precision=d,r=pa(_),n=r.charAt(0),i=qr(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=pa(x.d),n=r.charAt(0),m++;i=qr(x),n>1?(x=new b("0."+r),i++):x=new b(n+"."+r.slice(1))}else return u=xN(b,d+2,y).times(i+""),x=up(new b(n+"."+r.slice(1)),d-p).plus(u),b.precision=y,e==null?(br=!0,nr(x,y)):x;for(l=o=x=fo(x.minus(Ps),x.plus(Ps),d),h=nr(x.times(x),d),s=3;;){if(o=nr(o.times(h),d),u=l.plus(fo(o,new b(s),d)),pa(u.d).slice(0,d)===pa(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(xN(b,d+2,y).times(i+""))),l=fo(l,new b(m),d),b.precision=y,e==null?(br=!0,nr(l,y)):l;l=u,s+=2}}function A3(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=sh(r/pr),t.d=[],n=(r+1)%pr,r<0&&(n+=pr),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=pr;n<s;)t.d.push(+e.slice(n,n+=pr));e=e.slice(n),n=pr-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),br&&(t.e>Ax||t.e<-Ax))throw Error(dk+r)}else t.s=0,t.e=0,t.d=[0];return t}function nr(t,e,r){var n,s,i,o,l,u,d,h,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=pr,s=e,d=m[h=0];else{if(h=Math.ceil((n+1)/pr),i=m.length,h>=i)return t;for(d=i=m[h],o=1;i>=10;i/=10)o++;n%=pr,s=n-pr+o}if(r!==void 0&&(i=Vc(10,o-s-1),l=d/i%10|0,u=e<0||m[h+1]!==void 0||d%i,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?s>0?d/Vc(10,o-s):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return u?(i=qr(t),m.length=1,e=e-i-1,m[0]=Vc(10,(pr-e%pr)%pr),t.e=sh(-e/pr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=Vc(10,pr-n),m[h]=s>0?(d/Vc(10,o-s)%Vc(10,s)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==on&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=on)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(br&&(t.e>Ax||t.e<-Ax))throw Error(dk+qr(t));return t}function F7(t,e){var r,n,s,i,o,l,u,d,h,m,p=t.constructor,x=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),br?nr(e,x):e;if(u=t.d,m=e.d,n=e.e,d=t.e,u=u.slice(),o=d-n,o){for(h=o<0,h?(r=u,o=-o,l=m.length):(r=m,n=d,l=u.length),s=Math.max(Math.ceil(x/pr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,l=m.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(u[s]!=m[s]){h=u[s]<m[s];break}o=0}for(h&&(r=u,u=m,m=r,e.s=-e.s),l=u.length,s=m.length-l;s>0;--s)u[l++]=0;for(s=m.length;s>o;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=on-1;--u[i],u[s]+=on}u[s]-=m[s]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,br?nr(e,x):e):new p(0)}function yu(t,e,r){var n,s=qr(t),i=pa(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+gl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+gl(-s-1)+i,r&&(n=r-o)>0&&(i+=gl(n))):s>=o?(i+=gl(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+gl(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=gl(n))),t.s<0?"-"+i:i}function T3(t,e){if(t.length>e)return t.length=e,!0}function $7(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(iu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return A3(o,i.toString())}else if(typeof i!="string")throw Error(iu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jbe.test(i))A3(o,i);else throw Error(iu+i)}if(s.prototype=$e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=$7,s.config=s.set=Sbe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function Sbe(t){if(!t||typeof t!="object")throw Error(li+"Object expected");var e,r,n,s=["precision",1,nh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(sh(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(iu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(iu+r+": "+n);return this}var fk=$7(_be);Ps=new fk(1);const er=fk;function Nbe(t){return Cbe(t)||Tbe(t)||Abe(t)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(t,e){if(t){if(typeof t=="string")return TA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TA(t,e)}}function Tbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cbe(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kbe=function(e){return e},V7={},B7=function(e){return e===V7},C3=function(e){return function r(){return arguments.length===0||arguments.length===1&&B7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Pbe=function t(e,r){return e===1?r:C3(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==V7}).length;return o>=e?r.apply(void 0,s):t(e-o,C3(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=s.map(function(m){return B7(m)?u.shift():m});return r.apply(void 0,Nbe(h).concat(u))}))})},_0=function(e){return Pbe(e.length,e)},CA=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},Ibe=_0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Rbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return kbe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,u){return u(l)},i.apply(void 0,arguments))}},kA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},U7=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,u){return l===r[u]})||(r=i,n=e.apply(void 0,i)),n}};function Obe(t){var e;return t===0?e=1:e=Math.floor(new er(t).abs().log(10).toNumber())+1,e}function Mbe(t,e,r){for(var n=new er(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var Dbe=_0(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),Lbe=_0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Fbe=_0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const j0={rangeStep:Mbe,getDigitCount:Obe,interpolateNumber:Dbe,uninterpolateNumber:Lbe,uninterpolateTruncation:Fbe};function PA(t){return Bbe(t)||Vbe(t)||z7(t)||$be()}function $be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bbe(t){if(Array.isArray(t))return IA(t)}function dp(t,e){return qbe(t)||zbe(t,e)||z7(t,e)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){s=!0,i=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function qbe(t){if(Array.isArray(t))return t}function q7(t){var e=dp(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function H7(t,e,r){if(t.lte(0))return new er(0);var n=j0.getDigitCount(t.toNumber()),s=new er(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new er(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(s);return e?u:new er(Math.ceil(u))}function Hbe(t,e,r){var n=1,s=new er(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new er(10).pow(j0.getDigitCount(t)-1),s=new er(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new er(Math.floor(t)))}else t===0?s=new er(Math.floor((e-1)/2)):r||(s=new er(Math.floor(t)));var o=Math.floor((e-1)/2),l=Rbe(Ibe(function(u){return s.add(new er(u-o).mul(n)).toNumber()}),CA);return l(0,e)}function W7(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new er(0),tickMin:new er(0),tickMax:new er(0)};var i=H7(new er(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new er(0):(o=new er(t).add(e).div(2),o=o.sub(new er(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new er(e).sub(o).div(i).toNumber()),d=l+u+1;return d>r?W7(t,e,r,n,s+1):(d<r&&(u=e>0?u+(r-d):u,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new er(l).mul(i)),tickMax:o.add(new er(u).mul(i))})}function Wbe(t){var e=dp(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=q7([r,n]),u=dp(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(PA(CA(0,s-1).map(function(){return 1/0}))):[].concat(PA(CA(0,s-1).map(function(){return-1/0})),[h]);return r>n?kA(m):m}if(d===h)return Hbe(d,s,i);var p=W7(d,h,o,i),x=p.step,_=p.tickMin,b=p.tickMax,y=j0.rangeStep(_,b.add(new er(.1).mul(x)),x);return r>n?kA(y):y}function Gbe(t,e){var r=dp(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=q7([n,s]),l=dp(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0)return[n,s];if(u===d)return[u];var h=Math.max(e,2),m=H7(new er(d).sub(u).div(h-1),i,0),p=[].concat(PA(j0.rangeStep(new er(u),new er(d).sub(new er(.99).mul(m)),m)),[d]);return n>s?kA(p):p}var Kbe=U7(Wbe),Ybe=U7(Gbe),Qbe="Invariant failed";function xu(t,e){throw new Error(Qbe)}var Xbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tx.apply(this,arguments)}function Jbe(t,e){return r0e(t)||t0e(t,e)||e0e(t,e)||Zbe()}function Zbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(t,e){if(t){if(typeof t=="string")return k3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k3(t,e)}}function k3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function r0e(t){if(Array.isArray(t))return t}function n0e(t,e){if(t==null)return{};var r=s0e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y7(n.key),n)}}function o0e(t,e,r){return e&&a0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l0e(t,e,r){return e=Cx(e),c0e(t,G7()?Reflect.construct(e,r||[],Cx(t).constructor):e.apply(t,r))}function c0e(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(t)}function u0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cx(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RA(t,e)}function K7(t,e,r){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y7(t){var e=f0e(t,"string");return wf(e)=="symbol"?e:e+""}function f0e(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S0=function(t){function e(){return i0e(this,e),l0e(this,e,arguments)}return d0e(e,t),o0e(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,u=n.data,d=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,p=n0e(n,Xbe),x=Tt(p,!1);this.props.direction==="x"&&h.type!=="number"&&xu();var _=u.map(function(b){var y=d(b,l),N=y.x,S=y.y,T=y.value,E=y.errorVal;if(!E)return null;var C=[],O,k;if(Array.isArray(E)){var R=Jbe(E,2);O=R[0],k=R[1]}else O=k=E;if(i==="vertical"){var M=h.scale,V=S+s,$=V+o,D=V-o,L=M(T-O),B=M(T+k);C.push({x1:B,y1:$,x2:B,y2:D}),C.push({x1:L,y1:V,x2:B,y2:V}),C.push({x1:L,y1:$,x2:L,y2:D})}else if(i==="horizontal"){var G=m.scale,q=N+s,Y=q-o,z=q+o,J=G(T-O),ne=G(T+k);C.push({x1:Y,y1:ne,x2:z,y2:ne}),C.push({x1:q,y1:J,x2:q,y2:ne}),C.push({x1:Y,y1:J,x2:z,y2:J})}return K.createElement(Ar,Tx({className:"recharts-errorBar",key:"bar-".concat(C.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},x),C.map(function(H){return K.createElement("line",Tx({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return K.createElement(Ar,{className:"recharts-errorBars"},_)}}])}(K.Component);K7(S0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});K7(S0,"displayName","ErrorBar");function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){h0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h0e(t,e,r){return e=m0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m0e(t){var e=p0e(t,"string");return fp(e)=="symbol"?e:e+""}function p0e(t,e){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q7=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=Ts(r,Bd);if(!o)return null;var l=Bd.defaultProps,u=l!==void 0?Lc(Lc({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(h,m){var p=m.item,x=m.props,_=x.sectors||x.data||[];return h.concat(_.map(function(b){return{type:o.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):d=(n||[]).map(function(h){var m=h.item,p=m.type.defaultProps,x=p!==void 0?Lc(Lc({},p),m.props):{},_=x.dataKey,b=x.name,y=x.legendType,N=x.hide;return{inactive:N,dataKey:_,type:u.iconType||y||"square",color:hk(m),value:b||_,payload:x}}),Lc(Lc(Lc({},u),Bd.getWithHeight(o,s)),{},{payload:d,item:o})};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function I3(t){return x0e(t)||y0e(t)||v0e(t)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0e(t,e){if(t){if(typeof t=="string")return OA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(t,e)}}function y0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x0e(t){if(Array.isArray(t))return OA(t)}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(r),!0).forEach(function(n){zd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zd(t,e,r){return e=b0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b0e(t){var e=w0e(t,"string");return hp(e)=="symbol"?e:e+""}function w0e(t,e){if(hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(t,e,r){return Dt(t)||Dt(e)?r:Xr(e)?ii(t,e,r):Nt(e)?e(t):r}function Em(t,e,r,n){var s=xbe(t,function(l){return Fs(l,e)});if(r==="number"){var i=s.filter(function(l){return Te(l)||parseFloat(l)});return i.length?[w0(i),Pl(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Dt(l)}):s;return o.map(function(l){return Xr(l)||l instanceof Date?l:""})}var _0e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,d=0;d<l;d++){var h=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(Li(m-h)!==Li(p-m)){var _=[];if(Li(p-m)===Li(u[1]-u[0])){x=p;var b=m+u[1]-u[0];_[0]=Math.min(b,(b+h)/2),_[1]=Math.max(b,(b+h)/2)}else{x=h;var y=p+u[1]-u[0];_[0]=Math.min(m,(y+m)/2),_[1]=Math.max(m,(y+m)/2)}var N=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>N[0]&&e<=N[1]||e>=_[0]&&e<=_[1]){o=s[d].index;break}}else{var S=Math.min(h,p),T=Math.max(h,p);if(e>(S+m)/2&&e<=(T+m)/2){o=s[d].index;break}}}else for(var E=0;E<l;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},hk=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Rr(Rr({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},j0e=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),u=0,d=l.length;u<d;u++)for(var h=i[l[u]].stackGroups,m=Object.keys(h),p=0,x=m.length;p<x;p++){var _=h[m[p]],b=_.items,y=_.cateAxisId,N=b.filter(function(k){return co(k.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,T=S!==void 0?Rr(Rr({},S),N[0].props):N[0].props,E=T.barSize,C=T[y];o[C]||(o[C]=[]);var O=Dt(E)?r:E;o[C].push({item:N[0],stackList:N.slice(1),barSize:Dt(O)?void 0:vu(O,n,0)})}}return o},S0e=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,u=o.length;if(u<1)return null;var d=vu(r,s,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,x=s/u,_=o.reduce(function(E,C){return E+C.barSize||0},0);_+=(u-1)*d,_>=s&&(_-=(u-1)*d,d=0),_>=s&&x>0&&(p=!0,x*=.9,_=u*x);var b=(s-_)/2>>0,y={offset:b-d,size:0};h=o.reduce(function(E,C){var O={item:C.item,position:{offset:y.offset+y.size+d,size:p?x:C.barSize}},k=[].concat(I3(E),[O]);return y=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){k.push({item:R,position:y})}),k},m)}else{var N=vu(n,s,0,!0);s-2*N-(u-1)*d<=0&&(d=0);var S=(s-2*N-(u-1)*d)/u;S>1&&(S>>=0);var T=l===+l?Math.min(S,l):S;h=o.reduce(function(E,C,O){var k=[].concat(I3(E),[{item:C.item,position:{offset:N+(S+d)*O+(S-T)/2,size:T}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){k.push({item:R,position:k[k.length-1].position})}),k},m)}return h},N0e=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),d=Q7({children:i,legendWidth:u});if(d){var h=s||{},m=h.width,p=h.height,x=d.align,_=d.verticalAlign,b=d.layout;if((b==="vertical"||b==="horizontal"&&_==="middle")&&x!=="center"&&Te(e[x]))return Rr(Rr({},e),{},zd({},x,e[x]+(m||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&_!=="middle"&&Te(e[_]))return Rr(Rr({},e),{},zd({},_,e[_]+(p||0)))}return e},E0e=function(e,r,n){return Dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},X7=function(e,r,n,s,i){var o=r.props.children,l=Ui(o,S0).filter(function(d){return E0e(s,i,d.props.direction)});if(l&&l.length){var u=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=Fs(h,n);if(Dt(m))return d;var p=Array.isArray(m)?[w0(m),Pl(m)]:[m,m],x=u.reduce(function(_,b){var y=Fs(h,b,0),N=p[0]-Math.abs(Array.isArray(y)?y[0]:y),S=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,_[0]),Math.max(S,_[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},A0e=function(e,r,n,s,i){var o=r.map(function(l){return X7(e,l,n,i,s)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},J7=function(e,r,n,s,i){var o=r.map(function(u){var d=u.props.dataKey;return n==="number"&&d&&X7(e,u,d,s)||Em(e,d,n,i)});if(n==="number")return o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,u.push(d[h]));return u},[])},Z7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},eH=function(e,r,n,s){if(s)return e.map(function(u){return u.coordinate});var i,o,l=e.map(function(u){return u.coordinate===r&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate});return i||l.push(r),o||l.push(n),l},io=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,u=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Li(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:s(p)+d,value:m,offset:d}});return h.filter(function(m){return!Zf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:s(m)+d,value:m,index:p,offset:d}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,p){return{coordinate:s(m)+d,value:i?i[m]:m,index:p,offset:d}})},bN=new WeakMap,Gv=function(e,r){if(typeof r!="function")return e;bN.has(e)||bN.set(e,new WeakMap);var n=bN.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},T0e=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:sp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:jx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nm(),realScaleType:"point"}:i==="category"?{scale:sp(),realScaleType:"band"}:{scale:jx(),realScaleType:"linear"};if(Zp(s)){var u="scale".concat(l0(s));return{scale:(y3[u]||Nm)(),realScaleType:y3[u]?u:"point"}}return Nt(s)?{scale:s}:{scale:Nm(),realScaleType:"point"}},O3=1e-4,C0e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-O3,o=Math.max(s[0],s[1])+O3,l=e(r[0]),u=e(r[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([r[0],r[n-1]])}},k0e=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},P0e=function(e,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Te(e[0])||e[0]<n)&&(i[0]=n),(!Te(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},I0e=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var u=Zf(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},R0e=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Zf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},O0e={sign:I0e,expand:gme,none:hf,silhouette:vme,wiggle:yme,positive:R0e},M0e=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=O0e[n],o=pme().keys(s).value(function(l,u){return+Fs(l,u,0)}).order(uA).offset(i);return o(e)},D0e=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,u={},d=l.reduce(function(m,p){var x,_=(x=p.type)!==null&&x!==void 0&&x.defaultProps?Rr(Rr({},p.type.defaultProps),p.props):p.props,b=_.stackId,y=_.hide;if(y)return m;var N=_[n],S=m[N]||{hasStack:!1,stackGroups:{}};if(Xr(b)){var T=S.stackGroups[b]||{numericAxisId:n,cateAxisId:s,items:[]};T.items.push(p),S.hasStack=!0,S.stackGroups[b]=T}else S.stackGroups[eg("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[p]};return Rr(Rr({},m),{},zd({},N,S))},u),h={};return Object.keys(d).reduce(function(m,p){var x=d[p];if(x.hasStack){var _={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,y){var N=x.stackGroups[y];return Rr(Rr({},b),{},zd({},y,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:M0e(e,N.items,i)}))},_)}return Rr(Rr({},m),{},zd({},p,x))},h)},L0e=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=Kbe(d,i,l);return e.domain([w0(h),Pl(h)]),{niceTicks:h}}if(i&&s==="number"){var m=e.domain(),p=Ybe(m,i,l);return{niceTicks:p}}return null};function M3(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Dt(s[e.dataKey])){var l=nx(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Fs(s,Dt(o)?e.dataKey:o);return Dt(u)?null:e.scale(u)}var D3=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var u=Fs(o,r.dataKey,r.domain[l]);return Dt(u)?null:r.scale(u)-i/2+s},F0e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},$0e=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Rr(Rr({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(Xr(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},V0e=function(e){return e.reduce(function(r,n){return[w0(n.concat([r[0]]).filter(Te)),Pl(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},tH=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,u=l.reduce(function(d,h){var m=V0e(h.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},L3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MA=function(e,r,n){if(Nt(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Te(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(L3.test(e[0])){var i=+L3.exec(e[0])[1];s[0]=r[0]-i}else Nt(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Te(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(F3.test(e[1])){var o=+F3.exec(e[1])[1];s[1]=r[1]+o}else Nt(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},kx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=B2(r,function(m){return m.coordinate}),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},$3=function(e,r,n){return!e||!e.length||cp(e,ii(n,"type.defaultProps.domain"))?r:e},rH=function(e,r){var n=e.type.defaultProps?Rr(Rr({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,d=n.chartType,h=n.hide;return Rr(Rr({},Tt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:hk(e),value:Fs(r,s),type:u,payload:r,chartType:d,hide:h})};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function V3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(r),!0).forEach(function(n){B0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B0e(t,e,r){return e=U0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U0e(t){var e=z0e(t,"string");return mp(e)=="symbol"?e:e+""}function z0e(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Px=Math.PI/180,q0e=function(e){return e*180/Math.PI},yn=function(e,r,n,s){return{x:e+Math.cos(-Px*s)*n,y:r+Math.sin(-Px*s)*n}},H0e=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},W0e=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=H0e({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var u=(n-i)/l,d=Math.acos(u);return s>o&&(d=2*Math.PI-d),{radius:l,angle:q0e(d),angleInRadian:d}},G0e=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},K0e=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},U3=function(e,r){var n=e.x,s=e.y,i=W0e({x:n,y:s},r),o=i.radius,l=i.angle,u=r.innerRadius,d=r.outerRadius;if(o<u||o>d)return!1;if(o===0)return!0;var h=G0e(r),m=h.startAngle,p=h.endAngle,x=l,_;if(m<=p){for(;x>p;)x-=360;for(;x<m;)x+=360;_=x>=m&&x<=p}else{for(;x>m;)x-=360;for(;x<p;)x+=360;_=x>=p&&x<=m}return _?B3(B3({},r),{},{radius:o,angle:K0e(x,r)}):null};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}var Y0e=["offset"];function Q0e(t){return ewe(t)||Z0e(t)||J0e(t)||X0e()}function X0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J0e(t,e){if(t){if(typeof t=="string")return DA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(t,e)}}function Z0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ewe(t){if(Array.isArray(t))return DA(t)}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function twe(t,e){if(t==null)return{};var r=rwe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(r),!0).forEach(function(n){nwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nwe(t,e,r){return e=swe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function swe(t){var e=iwe(t,"string");return pp(e)=="symbol"?e:e+""}function iwe(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gp.apply(this,arguments)}var awe=function(e){var r=e.value,n=e.formatter,s=Dt(e.children)?r:e.children;return Nt(n)?n(s):s},owe=function(e,r){var n=Li(r-e),s=Math.min(Math.abs(r-e),360);return n*s},lwe=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,u=i,d=u.cx,h=u.cy,m=u.innerRadius,p=u.outerRadius,x=u.startAngle,_=u.endAngle,b=u.clockWise,y=(m+p)/2,N=owe(x,_),S=N>=0?1:-1,T,E;s==="insideStart"?(T=x+S*o,E=b):s==="insideEnd"?(T=_-S*o,E=!b):s==="end"&&(T=_+S*o,E=b),E=N<=0?E:!E;var C=yn(d,h,y,T),O=yn(d,h,y,T+(E?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),R=Dt(e.id)?eg("recharts-radial-line-"):e.id;return K.createElement("text",gp({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:R,d:k})),K.createElement("textPath",{xlinkHref:"#".concat(R)},r))},cwe=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,u=i.innerRadius,d=i.outerRadius,h=i.startAngle,m=i.endAngle,p=(h+m)/2;if(s==="outside"){var x=yn(o,l,d+n,p),_=x.x,b=x.y;return{x:_,y:b,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(u+d)/2,N=yn(o,l,y,p),S=N.x,T=N.y;return{x:S,y:T,textAnchor:"middle",verticalAnchor:"middle"}},uwe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,u=o.y,d=o.width,h=o.height,m=h>=0?1:-1,p=m*s,x=m>0?"end":"start",_=m>0?"start":"end",b=d>=0?1:-1,y=b*s,N=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var T={x:l+d/2,y:u-m*s,textAnchor:"middle",verticalAnchor:x};return Qr(Qr({},T),n?{height:Math.max(u-n.y,0),width:d}:{})}if(i==="bottom"){var E={x:l+d/2,y:u+h+p,textAnchor:"middle",verticalAnchor:_};return Qr(Qr({},E),n?{height:Math.max(n.y+n.height-(u+h),0),width:d}:{})}if(i==="left"){var C={x:l-y,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return Qr(Qr({},C),n?{width:Math.max(C.x-n.x,0),height:h}:{})}if(i==="right"){var O={x:l+d+y,y:u+h/2,textAnchor:S,verticalAnchor:"middle"};return Qr(Qr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:h}:{})}var k=n?{width:d,height:h}:{};return i==="insideLeft"?Qr({x:l+y,y:u+h/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?Qr({x:l+d-y,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},k):i==="insideTop"?Qr({x:l+d/2,y:u+p,textAnchor:"middle",verticalAnchor:_},k):i==="insideBottom"?Qr({x:l+d/2,y:u+h-p,textAnchor:"middle",verticalAnchor:x},k):i==="insideTopLeft"?Qr({x:l+y,y:u+p,textAnchor:S,verticalAnchor:_},k):i==="insideTopRight"?Qr({x:l+d-y,y:u+p,textAnchor:N,verticalAnchor:_},k):i==="insideBottomLeft"?Qr({x:l+y,y:u+h-p,textAnchor:S,verticalAnchor:x},k):i==="insideBottomRight"?Qr({x:l+d-y,y:u+h-p,textAnchor:N,verticalAnchor:x},k):Jf(i)&&(Te(i.x)||Hc(i.x))&&(Te(i.y)||Hc(i.y))?Qr({x:l+vu(i.x,d),y:u+vu(i.y,h),textAnchor:"end",verticalAnchor:"end"},k):Qr({x:l+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},dwe=function(e){return"cx"in e&&Te(e.cx)};function In(t){var e=t.offset,r=e===void 0?5:e,n=twe(t,Y0e),s=Qr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,u=s.children,d=s.content,h=s.className,m=h===void 0?"":h,p=s.textBreakAll;if(!i||Dt(l)&&Dt(u)&&!j.isValidElement(d)&&!Nt(d))return null;if(j.isValidElement(d))return j.cloneElement(d,s);var x;if(Nt(d)){if(x=j.createElement(d,s),j.isValidElement(x))return x}else x=awe(s);var _=dwe(i),b=Tt(s,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lwe(s,x,b);var y=_?cwe(s):uwe(s);return K.createElement(gx,gp({className:$t("recharts-label",m)},b,y,{breakAll:p}),x)}In.displayName="Label";var nH=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,u=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,p=e.y,x=e.top,_=e.left,b=e.width,y=e.height,N=e.clockWise,S=e.labelViewBox;if(S)return S;if(Te(b)&&Te(y)){if(Te(m)&&Te(p))return{x:m,y:p,width:b,height:y};if(Te(x)&&Te(_))return{x,y:_,width:b,height:y}}return Te(m)&&Te(p)?{x:m,y:p,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:h||u||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},fwe=function(e,r){return e?e===!0?K.createElement(In,{key:"label-implicit",viewBox:r}):Xr(e)?K.createElement(In,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===In?j.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(In,{key:"label-implicit",content:e,viewBox:r}):Nt(e)?K.createElement(In,{key:"label-implicit",content:e,viewBox:r}):Jf(e)?K.createElement(In,gp({viewBox:r},e,{key:"label-implicit"})):null:null},hwe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=nH(e),o=Ui(s,In).map(function(u,d){return j.cloneElement(u,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=fwe(e.label,r||i);return[l].concat(Q0e(o))};In.parseViewBox=nH;In.renderCallByParent=hwe;var wN,q3;function mwe(){if(q3)return wN;q3=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return wN=t,wN}var pwe=mwe();const gwe=tr(pwe);function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var vwe=["valueAccessor"],ywe=["data","dataKey","clockWise","id","textBreakAll"];function xwe(t){return jwe(t)||_we(t)||wwe(t)||bwe()}function bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wwe(t,e){if(t){if(typeof t=="string")return LA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(t,e)}}function _we(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jwe(t){if(Array.isArray(t))return LA(t)}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ix.apply(this,arguments)}function H3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function W3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(r),!0).forEach(function(n){Swe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Swe(t,e,r){return e=Nwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nwe(t){var e=Ewe(t,"string");return vp(e)=="symbol"?e:e+""}function Ewe(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G3(t,e){if(t==null)return{};var r=Awe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Awe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Twe=function(e){return Array.isArray(e.value)?gwe(e.value):e.value};function Vl(t){var e=t.valueAccessor,r=e===void 0?Twe:e,n=G3(t,vwe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,d=G3(n,ywe);return!s||!s.length?null:K.createElement(Ar,{className:"recharts-label-list"},s.map(function(h,m){var p=Dt(i)?r(h,m):Fs(h&&h.payload,i),x=Dt(l)?{}:{id:"".concat(l,"-").concat(m)};return K.createElement(In,Ix({},Tt(h,!0),d,x,{parentViewBox:h.parentViewBox,value:p,textBreakAll:u,viewBox:In.parseViewBox(Dt(o)?h:W3(W3({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Vl.displayName="LabelList";function Cwe(t,e){return t?t===!0?K.createElement(Vl,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Nt(t)?K.createElement(Vl,{key:"labelList-implicit",data:e,content:t}):Jf(t)?K.createElement(Vl,Ix({data:e},t,{key:"labelList-implicit"})):null:null}function kwe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Ui(n,Vl).map(function(o,l){return j.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=Cwe(t.label,e);return[i].concat(xwe(s))}Vl.renderCallByParent=kwe;function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FA.apply(this,arguments)}function K3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(r),!0).forEach(function(n){Pwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pwe(t,e,r){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iwe(t){var e=Rwe(t,"string");return yp(e)=="symbol"?e:e+""}function Rwe(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Owe=function(e,r){var n=Li(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Kv=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,u=e.cornerRadius,d=e.cornerIsExternal,h=u*(l?1:-1)+s,m=Math.asin(u/h)/Px,p=d?i:i+o*m,x=yn(r,n,h,p),_=yn(r,n,s,p),b=d?i-o*m:i,y=yn(r,n,h*Math.cos(m*Px),b);return{center:x,circleTangency:_,lineTangency:y,theta:m}},sH=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,u=Owe(o,l),d=o+u,h=yn(r,n,i,o),m=yn(r,n,i,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var x=yn(r,n,s,o),_=yn(r,n,s,d);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Mwe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=Li(h-d),p=Kv({cx:r,cy:n,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:u}),x=p.circleTangency,_=p.lineTangency,b=p.theta,y=Kv({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),N=y.circleTangency,S=y.lineTangency,T=y.theta,E=u?Math.abs(d-h):Math.abs(d-h)-b-T;if(E<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sH({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:h});var C="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var O=Kv({cx:r,cy:n,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=O.circleTangency,R=O.lineTangency,M=O.theta,V=Kv({cx:r,cy:n,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),$=V.circleTangency,D=V.lineTangency,L=V.theta,B=u?Math.abs(d-h):Math.abs(d-h)-M-L;if(B<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Dwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iH=function(e){var r=Y3(Y3({},Dwe),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,p=r.className;if(o<i||h===m)return null;var x=$t("recharts-sector",p),_=o-i,b=vu(l,_,0,!0),y;return b>0&&Math.abs(h-m)<360?y=Mwe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):y=sH({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),K.createElement("path",FA({},Tt(r,!0),{className:x,d:y,role:"img"}))};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$A.apply(this,arguments)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function X3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){Lwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lwe(t,e,r){return e=Fwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fwe(t){var e=$we(t,"string");return xp(e)=="symbol"?e:e+""}function $we(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J3={curveBasisClosed:sme,curveBasisOpen:ime,curveBasis:nme,curveBumpX:zhe,curveBumpY:qhe,curveLinearClosed:ame,curveLinear:u0,curveMonotoneX:ome,curveMonotoneY:lme,curveNatural:cme,curveStep:ume,curveStepAfter:fme,curveStepBefore:dme},Yv=function(e){return e.x===+e.x&&e.y===+e.y},Jh=function(e){return e.x},Zh=function(e){return e.y},Vwe=function(e,r){if(Nt(e))return e;var n="curve".concat(l0(e));return(n==="curveMonotone"||n==="curveBump")&&r?J3["".concat(n).concat(r==="vertical"?"Y":"X")]:J3[n]||u0},Bwe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,u=e.connectNulls,d=u===void 0?!1:u,h=Vwe(n,l),m=d?i.filter(function(b){return Yv(b)}):i,p;if(Array.isArray(o)){var x=d?o.filter(function(b){return Yv(b)}):o,_=m.map(function(b,y){return X3(X3({},b),{},{base:x[y]})});return l==="vertical"?p=Vv().y(Zh).x1(Jh).x0(function(b){return b.base.x}):p=Vv().x(Jh).y1(Zh).y0(function(b){return b.base.y}),p.defined(Yv).curve(h),p(_)}return l==="vertical"&&Te(o)?p=Vv().y(Zh).x1(Jh).x0(o):Te(o)?p=Vv().x(Jh).y1(Zh).y0(o):p=cq().x(Jh).y(Zh),p.defined(Yv).curve(h),p(m)},Am=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Bwe(e):s;return K.createElement("path",$A({},Tt(e,!1),sx(e),{className:$t("recharts-curve",r),d:o,ref:i}))},_N={exports:{}},jN,Z3;function Uwe(){if(Z3)return jN;Z3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jN=t,jN}var SN,eF;function zwe(){if(eF)return SN;eF=1;var t=Uwe();function e(){}function r(){}return r.resetWarningCache=e,SN=function(){function n(o,l,u,d,h,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},SN}var tF;function qwe(){return tF||(tF=1,_N.exports=zwe()()),_N.exports}var Hwe=qwe();const vt=tr(Hwe);var Wwe=Object.getOwnPropertyNames,Gwe=Object.getOwnPropertySymbols,Kwe=Object.prototype.hasOwnProperty;function rF(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function Qv(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var u=t(r,n,s);return i.delete(r),i.delete(n),u}}function nF(t){return Wwe(t).concat(Gwe(t))}var aH=Object.hasOwn||function(t,e){return Kwe.call(t,e)};function ih(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var oH="_owner",sF=Object.getOwnPropertyDescriptor,iF=Object.keys;function Ywe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Qwe(t,e){return ih(t.getTime(),e.getTime())}function aF(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.entries(),i=0,o,l;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,h=0;(l=u.next())&&!l.done;){var m=o.value,p=m[0],x=m[1],_=l.value,b=_[0],y=_[1];!d&&!n[h]&&(d=r.equals(p,b,i,h,t,e,r)&&r.equals(x,y,p,b,t,e,r))&&(n[h]=!0),h++}if(!d)return!1;i++}return!0}function Xwe(t,e,r){var n=iF(t),s=n.length;if(iF(e).length!==s)return!1;for(var i;s-- >0;)if(i=n[s],i===oH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!aH(e,i)||!r.equals(t[i],e[i],i,i,t,e,r))return!1;return!0}function em(t,e,r){var n=nF(t),s=n.length;if(nF(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],i===oH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!aH(e,i)||!r.equals(t[i],e[i],i,i,t,e,r)||(o=sF(t,i),l=sF(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Jwe(t,e){return ih(t.valueOf(),e.valueOf())}function Zwe(t,e){return t.source===e.source&&t.flags===e.flags}function oF(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.values(),i,o;(i=s.next())&&!i.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;)!u&&!n[d]&&(u=r.equals(i.value,o.value,i.value,o.value,t,e,r))&&(n[d]=!0),d++;if(!u)return!1}return!0}function e1e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var t1e="[object Arguments]",r1e="[object Boolean]",n1e="[object Date]",s1e="[object Map]",i1e="[object Number]",a1e="[object Object]",o1e="[object RegExp]",l1e="[object Set]",c1e="[object String]",u1e=Array.isArray,lF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cF=Object.assign,d1e=Object.prototype.toString.call.bind(Object.prototype.toString);function f1e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,s=t.areObjectsEqual,i=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,u=t.areTypedArraysEqual;return function(h,m,p){if(h===m)return!0;if(h==null||m==null||typeof h!="object"||typeof m!="object")return h!==h&&m!==m;var x=h.constructor;if(x!==m.constructor)return!1;if(x===Object)return s(h,m,p);if(u1e(h))return e(h,m,p);if(lF!=null&&lF(h))return u(h,m,p);if(x===Date)return r(h,m,p);if(x===RegExp)return o(h,m,p);if(x===Map)return n(h,m,p);if(x===Set)return l(h,m,p);var _=d1e(h);return _===n1e?r(h,m,p):_===o1e?o(h,m,p):_===s1e?n(h,m,p):_===l1e?l(h,m,p):_===a1e?typeof h.then!="function"&&typeof m.then!="function"&&s(h,m,p):_===t1e?s(h,m,p):_===r1e||_===i1e||_===c1e?i(h,m,p):!1}}function h1e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?em:Ywe,areDatesEqual:Qwe,areMapsEqual:n?rF(aF,em):aF,areObjectsEqual:n?em:Xwe,arePrimitiveWrappersEqual:Jwe,areRegExpsEqual:Zwe,areSetsEqual:n?rF(oF,em):oF,areTypedArraysEqual:n?em:e1e};if(r&&(s=cF({},s,r(s))),e){var i=Qv(s.areArraysEqual),o=Qv(s.areMapsEqual),l=Qv(s.areObjectsEqual),u=Qv(s.areSetsEqual);s=cF({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return s}function m1e(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function p1e(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(u,d){var h=n(),m=h.cache,p=m===void 0?e?new WeakMap:void 0:m,x=h.meta;return r(u,d,{cache:p,equals:s,meta:x,strict:i})};if(e)return function(u,d){return r(u,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,d){return r(u,d,o)}}var g1e=uc();uc({strict:!0});uc({circular:!0});uc({circular:!0,strict:!0});uc({createInternalComparator:function(){return ih}});uc({strict:!0,createInternalComparator:function(){return ih}});uc({circular:!0,createInternalComparator:function(){return ih}});uc({circular:!0,createInternalComparator:function(){return ih},strict:!0});function uc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=h1e(t),u=f1e(l),d=n?n(u):m1e(u);return p1e({circular:r,comparator:u,createState:s,equals:d,strict:o})}function v1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):v1e(s)};requestAnimationFrame(n)}function VA(t){"@babel/helpers - typeof";return VA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(t)}function y1e(t){return _1e(t)||w1e(t)||b1e(t)||x1e()}function x1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1e(t,e){if(t){if(typeof t=="string")return dF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dF(t,e)}}function dF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _1e(t){if(Array.isArray(t))return t}function j1e(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=y1e(o),u=l[0],d=l.slice(1);if(typeof u=="number"){uF(s.bind(null,d),u);return}s(u),uF(s.bind(null,d));return}VA(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){lH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lH(t,e,r){return e=S1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S1e(t){var e=N1e(t,"string");return bp(e)==="symbol"?e:String(e)}function N1e(t,e){if(bp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E1e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},A1e=function(e){return e},T1e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Tm=function(e,r){return Object.keys(r).reduce(function(n,s){return hF(hF({},n),{},lH({},s,e(s,r[s])))},{})},mF=function(e,r,n){return e.map(function(s){return"".concat(T1e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function C1e(t,e){return I1e(t)||P1e(t,e)||cH(t,e)||k1e()}function k1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function I1e(t){if(Array.isArray(t))return t}function R1e(t){return D1e(t)||M1e(t)||cH(t)||O1e()}function O1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(t,e){if(t){if(typeof t=="string")return BA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BA(t,e)}}function M1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D1e(t){if(Array.isArray(t))return BA(t)}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rx=1e-4,uH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},dH=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},pF=function(e,r){return function(n){var s=uH(e,r);return dH(s,n)}},L1e=function(e,r){return function(n){var s=uH(e,r),i=[].concat(R1e(s.map(function(o,l){return o*l}).slice(1)),[0]);return dH(i,n)}},gF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=C1e(d,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var m=pF(s,o),p=pF(i,l),x=L1e(s,o),_=function(N){return N>1?1:N<0?0:N},b=function(N){for(var S=N>1?1:N,T=S,E=0;E<8;++E){var C=m(T)-S,O=x(T);if(Math.abs(C-S)<Rx||O<Rx)return p(T);T=_(T-C/O)}return p(T)};return b.isStepper=!1,b},F1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,u=function(h,m,p){var x=-(h-m)*n,_=p*i,b=p+(x-_)*l/1e3,y=p*l/1e3+h;return Math.abs(y-m)<Rx&&Math.abs(b)<Rx?[m,0]:[y,b]};return u.isStepper=!0,u.dt=l,u},$1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gF(s);case"spring":return F1e();default:if(s.split("(")[0]==="cubic-bezier")return gF(s)}return typeof s=="function"?s:null};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function vF(t){return U1e(t)||B1e(t)||fH(t)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U1e(t){if(Array.isArray(t))return zA(t)}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){UA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UA(t,e,r){return e=z1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z1e(t){var e=q1e(t,"string");return wp(e)==="symbol"?e:String(e)}function q1e(t,e){if(wp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H1e(t,e){return K1e(t)||G1e(t,e)||fH(t,e)||W1e()}function W1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fH(t,e){if(t){if(typeof t=="string")return zA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function K1e(t){if(Array.isArray(t))return t}var Ox=function(e,r,n){return e+(r-e)*n},qA=function(e){var r=e.from,n=e.to;return r!==n},Y1e=function t(e,r,n){var s=Tm(function(i,o){if(qA(o)){var l=e(o.from,o.to,o.velocity),u=H1e(l,2),d=u[0],h=u[1];return pn(pn({},o),{},{from:d,velocity:h})}return o},r);return n<1?Tm(function(i,o){return qA(o)?pn(pn({},o),{},{velocity:Ox(o.velocity,s[i].velocity,n),from:Ox(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const Q1e=function(t,e,r,n,s){var i=E1e(t,e),o=i.reduce(function(y,N){return pn(pn({},y),{},UA({},N,[t[N],e[N]]))},{}),l=i.reduce(function(y,N){return pn(pn({},y),{},UA({},N,{from:t[N],velocity:0,to:e[N]}))},{}),u=-1,d,h,m=function(){return null},p=function(){return Tm(function(N,S){return S.from},l)},x=function(){return!Object.values(l).filter(qA).length},_=function(N){d||(d=N);var S=N-d,T=S/r.dt;l=Y1e(r,l,T),s(pn(pn(pn({},t),e),p())),d=N,x()||(u=requestAnimationFrame(m))},b=function(N){h||(h=N);var S=(N-h)/n,T=Tm(function(C,O){return Ox.apply(void 0,vF(O).concat([r(S)]))},o);if(s(pn(pn(pn({},t),e),T)),S<1)u=requestAnimationFrame(m);else{var E=Tm(function(C,O){return Ox.apply(void 0,vF(O).concat([r(1)]))},o);s(pn(pn(pn({},t),e),E))}};return m=r.isStepper?_:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}var X1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function J1e(t,e){if(t==null)return{};var r=Z1e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z1e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function NN(t){return n_e(t)||r_e(t)||t_e(t)||e_e()}function e_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t_e(t,e){if(t){if(typeof t=="string")return HA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(t,e)}}function r_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n_e(t){if(Array.isArray(t))return HA(t)}function HA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){fm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fm(t,e,r){return e=hH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hH(n.key),n)}}function a_e(t,e,r){return e&&i_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hH(t){var e=o_e(t,"string");return _f(e)==="symbol"?e:String(e)}function o_e(t,e){if(_f(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WA(t,e)}function c_e(t){var e=u_e();return function(){var n=Mx(t),s;if(e){var i=Mx(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return GA(this,s)}}function GA(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KA(t)}function KA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}var No=function(t){l_e(r,t);var e=c_e(r);function r(n,s){var i;s_e(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,u=o.attributeName,d=o.from,h=o.to,m=o.steps,p=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(KA(i)),i.changeStyle=i.changeStyle.bind(KA(i)),!l||x<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:h}),GA(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof p=="function")return i.state={style:d},GA(i);i.state={style:u?fm({},u,d):d}}else i.state={style:{}};return i}return a_e(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,u=i.attributeName,d=i.shouldReAnimate,h=i.to,m=i.from,p=this.state.style;if(l){if(!o){var x={style:u?fm({},u,h):h};this.state&&p&&(u&&p[u]!==h||!u&&p!==h)&&this.setState(x);return}if(!(g1e(s.to,h)&&s.canBegin&&s.isActive)){var _=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=_||d?m:s.to;if(this.state&&p){var y={style:u?fm({},u,b):b};(u&&p[u]!==b||!u&&p!==b)&&this.setState(y)}this.runAnimation(Ei(Ei({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,u=s.duration,d=s.easing,h=s.begin,m=s.onAnimationEnd,p=s.onAnimationStart,x=Q1e(o,l,$1e(d),u,this.changeStyle),_=function(){i.stopJSAnimation=x()};this.manager.start([p,h,_,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,u=s.onAnimationStart,d=o[0],h=d.style,m=d.duration,p=m===void 0?0:m,x=function(b,y,N){if(N===0)return b;var S=y.duration,T=y.easing,E=T===void 0?"ease":T,C=y.style,O=y.properties,k=y.onAnimationEnd,R=N>0?o[N-1]:y,M=O||Object.keys(C);if(typeof E=="function"||E==="spring")return[].concat(NN(b),[i.runJSAnimation.bind(i,{from:R.style,to:C,duration:S,easing:E}),S]);var V=mF(M,S,E),$=Ei(Ei(Ei({},R.style),C),{},{transition:V});return[].concat(NN(b),[$,S,k]).filter(A1e)};return this.manager.start([u].concat(NN(o.reduce(x,[h,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=j1e());var i=s.begin,o=s.duration,l=s.attributeName,u=s.to,d=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,p=s.steps,x=s.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var b=l?fm({},l,u):u,y=mF(Object.keys(b),o,d);_.start([h,i,Ei(Ei({},b),{},{transition:y}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=J1e(s,X1e),d=j.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||d===0||o<=0)return i;var m=function(x){var _=x.props,b=_.style,y=b===void 0?{}:b,N=_.className,S=j.cloneElement(x,Ei(Ei({},u),{},{style:Ei(Ei({},y),h),className:N}));return S};return d===1?m(j.Children.only(i)):K.createElement("div",null,j.Children.map(i,function(p){return m(p)}))}}]),r}(j.PureComponent);No.displayName="Animate";No.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};No.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};vt.object,vt.object,vt.object,vt.element;vt.object,vt.object,vt.object,vt.oneOfType([vt.array,vt.element]),vt.any;function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dx.apply(this,arguments)}function d_e(t,e){return p_e(t)||m_e(t,e)||h_e(t,e)||f_e()}function f_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(t,e){if(t){if(typeof t=="string")return bF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bF(t,e)}}function bF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function p_e(t){if(Array.isArray(t))return t}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){g_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g_e(t,e,r){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v_e(t){var e=y_e(t,"string");return _p(e)=="symbol"?e:e+""}function y_e(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jF=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,u=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,x=4;p<x;p++)m[p]=i[p]>o?o:i[p];h="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+u*m[0],",").concat(r)),h+="L ".concat(e+n-u*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),h+="L ".concat(e+n,",").concat(r+s-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-u*m[2],",").concat(r+s)),h+="L ".concat(e+u*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+s-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var _=Math.min(o,i);h="M ".concat(e,",").concat(r+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e+u*_,",").concat(r,`
            L `).concat(e+n-u*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*_,`
            L `).concat(e+n,",").concat(r+s-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e+n-u*_,",").concat(r+s,`
            L `).concat(e+u*_,",").concat(r+s,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e,",").concat(r+s-l*_," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},x_e=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var d=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+u),p=Math.max(o,o+u);return n>=d&&n<=h&&s>=m&&s<=p}return!1},b_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mk=function(e){var r=_F(_F({},b_e),e),n=j.useRef(),s=j.useState(-1),i=d_e(s,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var u=r.x,d=r.y,h=r.width,m=r.height,p=r.radius,x=r.className,_=r.animationEasing,b=r.animationDuration,y=r.animationBegin,N=r.isAnimationActive,S=r.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var T=$t("recharts-rectangle",x);return S?K.createElement(No,{canBegin:o>0,from:{width:h,height:m,x:u,y:d},to:{width:h,height:m,x:u,y:d},duration:b,animationEasing:_,isActive:S},function(E){var C=E.width,O=E.height,k=E.x,R=E.y;return K.createElement(No,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:N,easing:_},K.createElement("path",Dx({},Tt(r,!0),{className:T,d:jF(k,R,C,O,p),ref:n})))}):K.createElement("path",Dx({},Tt(r,!0),{className:T,d:jF(u,d,h,m,p)}))};function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YA.apply(this,arguments)}var pk=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=$t("recharts-dot",i);return r===+r&&n===+n&&s===+s?K.createElement("circle",YA({},Tt(e,!1),sx(e),{className:o,cx:r,cy:n,r:s})):null};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}var w_e=["x","y","top","left","width","height","className"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function __e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){j_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j_e(t,e,r){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S_e(t){var e=N_e(t,"string");return jp(e)=="symbol"?e:e+""}function N_e(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E_e(t,e){if(t==null)return{};var r=A_e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var T_e=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},C_e=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,u=e.left,d=u===void 0?0:u,h=e.width,m=h===void 0?0:h,p=e.height,x=p===void 0?0:p,_=e.className,b=E_e(e,w_e),y=__e({x:n,y:i,top:l,left:d,width:m,height:x},b);return!Te(n)||!Te(i)||!Te(m)||!Te(x)||!Te(l)||!Te(d)?null:K.createElement("path",QA({},Tt(y,!0),{className:$t("recharts-cross",_),d:T_e(n,i,m,x,l,d)}))},EN,NF;function k_e(){if(NF)return EN;NF=1;var t=Iq(),e=t(Object.getPrototypeOf,Object);return EN=e,EN}var AN,EF;function P_e(){if(EF)return AN;EF=1;var t=Io(),e=k_e(),r=Ro(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,u=o.call(Object);function d(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return AN=d,AN}var I_e=P_e();const R_e=tr(I_e);var TN,AF;function O_e(){if(AF)return TN;AF=1;var t=Io(),e=Ro(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return TN=n,TN}var M_e=O_e();const D_e=tr(M_e);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lx.apply(this,arguments)}function L_e(t,e){return B_e(t)||V_e(t,e)||$_e(t,e)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(t,e){if(t){if(typeof t=="string")return TF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TF(t,e)}}function TF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function B_e(t){if(Array.isArray(t))return t}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){U_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U_e(t,e,r){return e=z_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z_e(t){var e=q_e(t,"string");return Sp(e)=="symbol"?e:e+""}function q_e(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PF=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},H_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W_e=function(e){var r=kF(kF({},H_e),e),n=j.useRef(),s=j.useState(-1),i=L_e(s,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var u=r.x,d=r.y,h=r.upperWidth,m=r.lowerWidth,p=r.height,x=r.className,_=r.animationEasing,b=r.animationDuration,y=r.animationBegin,N=r.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||p!==+p||h===0&&m===0||p===0)return null;var S=$t("recharts-trapezoid",x);return N?K.createElement(No,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:u,y:d},to:{upperWidth:h,lowerWidth:m,height:p,x:u,y:d},duration:b,animationEasing:_,isActive:N},function(T){var E=T.upperWidth,C=T.lowerWidth,O=T.height,k=T.x,R=T.y;return K.createElement(No,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:_},K.createElement("path",Lx({},Tt(r,!0),{className:S,d:PF(k,R,E,C,O),ref:n})))}):K.createElement("g",null,K.createElement("path",Lx({},Tt(r,!0),{className:S,d:PF(u,d,h,m,p)})))},G_e=["option","shapeType","propTransformer","activeClassName","isActive"];function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function K_e(t,e){if(t==null)return{};var r=Y_e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){Q_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q_e(t,e,r){return e=X_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X_e(t){var e=J_e(t,"string");return Np(e)=="symbol"?e:e+""}function J_e(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z_e(t,e){return Fx(Fx({},e),t)}function eje(t,e){return t==="symbols"}function RF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(mk,r);case"trapezoid":return K.createElement(W_e,r);case"sector":return K.createElement(iH,r);case"symbols":if(eje(e))return K.createElement(R2,r);break;default:return null}}function tje(t){return j.isValidElement(t)?t.props:t}function rje(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?Z_e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,u=K_e(t,G_e),d;if(j.isValidElement(e))d=j.cloneElement(e,Fx(Fx({},u),tje(e)));else if(Nt(e))d=e(u);else if(R_e(e)&&!D_e(e)){var h=s(e,u);d=K.createElement(RF,{shapeType:r,elementProps:h})}else{var m=u;d=K.createElement(RF,{shapeType:r,elementProps:m})}return l?K.createElement(Ar,{className:o},d):d}function N0(t,e){return e!=null&&"trapezoids"in t.props}function E0(t,e){return e!=null&&"sectors"in t.props}function Ep(t,e){return e!=null&&"points"in t.props}function nje(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function sje(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ije(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function aje(t,e){var r;return N0(t,e)?r=nje:E0(t,e)?r=sje:Ep(t,e)&&(r=ije),r}function oje(t,e){var r;return N0(t,e)?r="trapezoids":E0(t,e)?r="sectors":Ep(t,e)&&(r="points"),r}function lje(t,e){if(N0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(E0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ep(t,e)?e.payload:{}}function cje(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=oje(r,e),i=lje(r,e),o=n.filter(function(u,d){var h=cp(i,u),m=r.props[s].filter(function(_){var b=aje(r,e);return b(_,e)}),p=r.props[s].indexOf(m[m.length-1]),x=d===p;return h&&x}),l=n.indexOf(o[o.length-1]);return l}var CN,OF;function uje(){if(OF)return CN;OF=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var l=-1,u=e(t((s-n)/(i||1)),0),d=Array(u);u--;)d[o?u:++l]=n,n+=i;return d}return CN=r,CN}var kN,MF;function mH(){if(MF)return kN;MF=1;var t=Kq(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-1/0){var i=s<0?-1:1;return i*r}return s===s?s:0}return kN=n,kN}var PN,DF;function dje(){if(DF)return PN;DF=1;var t=uje(),e=m0(),r=mH();function n(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,s)}}return PN=n,PN}var IN,LF;function fje(){if(LF)return IN;LF=1;var t=dje(),e=t();return IN=e,IN}var hje=fje();const $x=tr(hje);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){pH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pH(t,e,r){return e=mje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mje(t){var e=pje(t,"string");return Ap(e)=="symbol"?e:e+""}function pje(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gje=["Webkit","Moz","O","ms"],vje=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=gje.reduce(function(i,o){return $F($F({},i),{},pH({},o+n,r))},{});return s[e]=r,s};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vx.apply(this,arguments)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){Ns(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vH(n.key),n)}}function xje(t,e,r){return e&&BF(t.prototype,e),r&&BF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bje(t,e,r){return e=Bx(e),wje(t,gH()?Reflect.construct(e,r||[],Bx(t).constructor):e.apply(t,r))}function wje(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _je(t)}function _je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(t)}function jje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},XA(t,e)}function Ns(t,e,r){return e=vH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vH(t){var e=Sje(t,"string");return jf(e)=="symbol"?e:e+""}function Sje(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nje=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,d=Nm().domain($x(0,u)).range([i,i+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:h}},UF=function(e){return e.changedTouches&&!!e.changedTouches.length},Sf=function(t){function e(r){var n;return yje(this,e),n=bje(this,e,[r]),Ns(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Ns(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Ns(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ns(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ns(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ns(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ns(n,"handleSlideDragStart",function(s){var i=UF(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jje(e,t),xje(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,d=l.data,h=d.length-1,m=Math.min(s,i),p=Math.max(s,i),x=e.getIndexInRange(o,m),_=e.getIndexInRange(o,p);return{startIndex:x-x%u,endIndex:_===h?h:_-_%u}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,u=Fs(i[n],l,n);return Nt(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,u=this.props,d=u.x,h=u.width,m=u.travellerWidth,p=u.startIndex,x=u.endIndex,_=u.onChange,b=n.pageX-i;b>0?b=Math.min(b,d+h-m-l,d+h-m-o):b<0&&(b=Math.max(b,d-o,d-l));var y=this.getIndex({startX:o+b,endX:l+b});(y.startIndex!==p||y.endIndex!==x)&&_&&_(y),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=UF(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,u=s.startX,d=this.state[o],h=this.props,m=h.x,p=h.width,x=h.travellerWidth,_=h.onChange,b=h.gap,y=h.data,N={startX:this.state.startX,endX:this.state.endX},S=n.pageX-i;S>0?S=Math.min(S,m+p-x-d):S<0&&(S=Math.max(S,m-d)),N[o]=d+S;var T=this.getIndex(N),E=T.startIndex,C=T.endIndex,O=function(){var R=y.length-1;return o==="startX"&&(l>u?E%b===0:C%b===0)||l<u&&C===R||o==="endX"&&(l>u?C%b===0:E%b===0)||l>u&&C===R};this.setState(Ns(Ns({},o,d+S),"brushMoveStartX",n.pageX),function(){_&&O()&&_(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,u=o.startX,d=o.endX,h=this.state[s],m=l.indexOf(h);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var x=l[p];s==="startX"&&x>=d||s==="endX"&&x<=u||this.setState(Ns({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,u=n.fill,d=n.stroke;return K.createElement("rect",{stroke:d,fill:u,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,u=n.data,d=n.children,h=n.padding,m=j.Children.only(d);return m?K.cloneElement(m,{x:s,y:i,width:o,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,u=this.props,d=u.y,h=u.travellerWidth,m=u.height,p=u.traveller,x=u.ariaLabel,_=u.data,b=u.startIndex,y=u.endIndex,N=Math.max(n,this.props.x),S=RN(RN({},Tt(this.props,!1)),{},{x:N,y:d,width:h,height:m}),T=x||"Min value: ".concat((i=_[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=_[y])===null||o===void 0?void 0:o.name);return K.createElement(Ar,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,S))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,u=i.stroke,d=i.travellerWidth,h=Math.min(n,s)+d,m=Math.max(Math.abs(s-n)-d,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,d=n.stroke,h=this.state,m=h.startX,p=h.endX,x=5,_={pointerEvents:"none",fill:d};return K.createElement(Ar,{className:"recharts-brush-texts"},K.createElement(gx,Vx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-x,y:o+l/2},_),this.getTextOfTick(s)),K.createElement(gx,Vx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+u+x,y:o+l/2},_),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,u=n.y,d=n.width,h=n.height,m=n.alwaysShowText,p=this.state,x=p.startX,_=p.endX,b=p.isTextActive,y=p.isSlideMoving,N=p.isTravellerMoving,S=p.isTravellerFocused;if(!s||!s.length||!Te(l)||!Te(u)||!Te(d)||!Te(h)||d<=0||h<=0)return null;var T=$t("recharts-brush",i),E=K.Children.count(o)===1,C=vje("userSelect","none");return K.createElement(Ar,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(x,_),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(_,"endX"),(b||y||N||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,u=n.stroke,d=Math.floor(i+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:s,y:i,width:o,height:l,fill:u,stroke:"none"}),K.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return K.isValidElement(n)?i=K.cloneElement(n,s):Nt(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,u=n.travellerWidth,d=n.updateId,h=n.startIndex,m=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return RN({prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Nje({data:i,width:o,x:l,travellerWidth:u,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([l,l+o-u]);var p=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>s?l=u:o=u}return s>=n[l]?l:o}}])}(j.PureComponent);Ns(Sf,"displayName","Brush");Ns(Sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ON,zF;function Eje(){if(zF)return ON;zF=1;var t=V2();function e(r,n){var s;return t(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return ON=e,ON}var MN,qF;function Aje(){if(qF)return MN;qF=1;var t=Nq(),e=oc(),r=Eje(),n=ms(),s=m0();function i(o,l,u){var d=n(o)?t:r;return u&&s(o,l,u)&&(l=void 0),d(o,e(l,3))}return MN=i,MN}var Tje=Aje();const Cje=tr(Tje);var _a=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},DN,HF;function kje(){if(HF)return DN;HF=1;var t=zq();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return DN=e,DN}var LN,WF;function Pje(){if(WF)return LN;WF=1;var t=kje(),e=Bq(),r=oc();function n(s,i){var o={};return i=r(i,3),e(s,function(l,u,d){t(o,u,i(l,u,d))}),o}return LN=n,LN}var Ije=Pje();const Rje=tr(Ije);var FN,GF;function Oje(){if(GF)return FN;GF=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return FN=t,FN}var $N,KF;function Mje(){if(KF)return $N;KF=1;var t=V2();function e(r,n){var s=!0;return t(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return $N=e,$N}var VN,YF;function Dje(){if(YF)return VN;YF=1;var t=Oje(),e=Mje(),r=oc(),n=ms(),s=m0();function i(o,l,u){var d=n(o)?t:e;return u&&s(o,l,u)&&(l=void 0),d(o,r(l,3))}return VN=i,VN}var Lje=Dje();const yH=tr(Lje);var Fje=["x","y"];function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JA.apply(this,arguments)}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){$je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $je(t,e,r){return e=Vje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vje(t){var e=Bje(t,"string");return Tp(e)=="symbol"?e:e+""}function Bje(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uje(t,e){if(t==null)return{};var r=zje(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qje(t,e){var r=t.x,n=t.y,s=Uje(t,Fje),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),d="".concat(e.height||s.height),h=parseInt(d,10),m="".concat(e.width||s.width),p=parseInt(m,10);return tm(tm(tm(tm(tm({},e),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:h,width:p,name:e.name,radius:e.radius})}function XF(t){return K.createElement(rje,JA({shapeType:"rectangle",propTransformer:qje,activeClassName:"recharts-active-bar"},t))}var Hje=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,s):(i||xu(),r)}},Wje=["value","background"],xH;function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Gje(t,e){if(t==null)return{};var r=Kje(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ux.apply(this,arguments)}function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){Il(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wH(n.key),n)}}function Qje(t,e,r){return e&&ZF(t.prototype,e),r&&ZF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xje(t,e,r){return e=zx(e),Jje(t,bH()?Reflect.construct(e,r||[],zx(t).constructor):e.apply(t,r))}function Jje(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zje(t)}function Zje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(t)}function eSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZA(t,e)}function Il(t,e,r){return e=wH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wH(t){var e=tSe(t,"string");return Nf(e)=="symbol"?e:e+""}function tSe(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ag=function(t){function e(){var r;Yje(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Xje(this,e,[].concat(s)),Il(r,"state",{isAnimationFinished:!1}),Il(r,"id",eg("recharts-bar-")),Il(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Il(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return eSe(e,t),Qje(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,u=i.activeIndex,d=i.activeBar,h=Tt(this.props,!1);return n&&n.map(function(m,p){var x=p===u,_=x?d:o,b=Br(Br(Br({},h),m),{},{isActive:x,option:_,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return K.createElement(Ar,Ux({className:"recharts-bar-rectangle"},ix(s.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),K.createElement(XF,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,m=s.animationId,p=this.state.prevData;return K.createElement(No,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t,b=i.map(function(y,N){var S=p&&p[N];if(S){var T=Zs(S.x,y.x),E=Zs(S.y,y.y),C=Zs(S.width,y.width),O=Zs(S.height,y.height);return Br(Br({},y),{},{x:T(_),y:E(_),width:C(_),height:O(_)})}if(o==="horizontal"){var k=Zs(0,y.height),R=k(_);return Br(Br({},y),{},{y:y.y+y.height-R,height:R})}var M=Zs(0,y.width),V=M(_);return Br(Br({},y),{},{width:V})});return K.createElement(Ar,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!cp(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,u=Tt(this.props.background,!1);return i.map(function(d,h){d.value;var m=d.background,p=Gje(d,Wje);if(!m)return null;var x=Br(Br(Br(Br(Br({},p),{},{fill:"#eee"},m),u),ix(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(XF,Ux({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},x))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,u=i.yAxis,d=i.layout,h=i.children,m=Ui(h,S0);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,x=function(y,N){var S=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:S,errorVal:Fs(y,N)}},_={clipPath:n?"url(#clipPath-".concat(s,")"):null};return K.createElement(Ar,_,m.map(function(b){return K.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:u,layout:d,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,u=n.yAxis,d=n.left,h=n.top,m=n.width,p=n.height,x=n.isAnimationActive,_=n.background,b=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,N=$t("recharts-bar",o),S=l&&l.allowDataOverflow,T=u&&u.allowDataOverflow,E=S||T,C=Dt(b)?this.id:b;return K.createElement(Ar,{className:N},S||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(C)},K.createElement("rect",{x:S?d:d-m/2,y:T?h:h-p/2,width:S?m:m*2,height:T?p:p*2}))):null,K.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(C,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,C),(!x||y)&&Vl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(j.PureComponent);xH=ag;Il(ag,"displayName","Bar");Il(ag,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!th.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Il(ag,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,p=t.offset,x=k0e(n,r);if(!x)return null;var _=e.layout,b=r.type.defaultProps,y=b!==void 0?Br(Br({},b),r.props):r.props,N=y.dataKey,S=y.children,T=y.minPointSize,E=_==="horizontal"?o:i,C=d?E.scale.domain():null,O=F0e({numericAxis:E}),k=Ui(S,Qq),R=m.map(function(M,V){var $,D,L,B,G,q;d?$=P0e(d[h+V],C):($=Fs(M,N),Array.isArray($)||($=[O,$]));var Y=Hje(T,xH.defaultProps.minPointSize)($[1],V);if(_==="horizontal"){var z,J=[o.scale($[0]),o.scale($[1])],ne=J[0],H=J[1];D=D3({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:M,index:V}),L=(z=H??ne)!==null&&z!==void 0?z:void 0,B=x.size;var Q=ne-H;if(G=Number.isNaN(Q)?0:Q,q={x:D,y:o.y,width:B,height:o.height},Math.abs(Y)>0&&Math.abs(G)<Math.abs(Y)){var re=Li(G||Y)*(Math.abs(Y)-Math.abs(G));L-=re,G+=re}}else{var Z=[i.scale($[0]),i.scale($[1])],me=Z[0],pe=Z[1];if(D=me,L=D3({axis:o,ticks:u,bandSize:s,offset:x.offset,entry:M,index:V}),B=pe-me,G=x.size,q={x:i.x,y:L,width:i.width,height:G},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var fe=Li(B||Y)*(Math.abs(Y)-Math.abs(B));B+=fe}}return Br(Br(Br({},M),{},{x:D,y:L,width:B,height:G,value:d?$:$[1],payload:M,background:q},k&&k[V]&&k[V].props),{},{tooltipPayload:[rH(r,M)],tooltipPosition:{x:D+B/2,y:L+G/2}})});return Br({data:R,layout:_},p)});function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function rSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_H(n.key),n)}}function nSe(t,e,r){return e&&e$(t.prototype,e),r&&e$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){A0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A0(t,e,r){return e=_H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _H(t){var e=sSe(t,"string");return Cp(e)=="symbol"?e:e+""}function sSe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iSe=function(e,r,n,s,i){var o=e.width,l=e.height,u=e.layout,d=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Ts(d,ag);return h.reduce(function(x,_){var b=r[_],y=b.orientation,N=b.domain,S=b.padding,T=S===void 0?{}:S,E=b.mirror,C=b.reversed,O="".concat(y).concat(E?"Mirror":""),k,R,M,V,$;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=N[1]-N[0],L=1/0,B=b.categoricalDomain.sort();if(B.forEach(function(Z,me){me>0&&(L=Math.min((Z||0)-(B[me-1]||0),L))}),Number.isFinite(L)){var G=L/D,q=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(k=G*q/2),b.padding==="no-gap"){var Y=vu(e.barCategoryGap,G*q),z=G*q/2;k=z-Y-(z-Y)/q*Y}}}s==="xAxis"?R=[n.left+(T.left||0)+(k||0),n.left+n.width-(T.right||0)-(k||0)]:s==="yAxis"?R=u==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(k||0),n.top+n.height-(T.bottom||0)-(k||0)]:R=b.range,C&&(R=[R[1],R[0]]);var J=T0e(b,i,p),ne=J.scale,H=J.realScaleType;ne.domain(N).range(R),C0e(ne);var Q=L0e(ne,Ii(Ii({},b),{},{realScaleType:H}));s==="xAxis"?($=y==="top"&&!E||y==="bottom"&&E,M=n.left,V=m[O]-$*b.height):s==="yAxis"&&($=y==="left"&&!E||y==="right"&&E,M=m[O]-$*b.width,V=n.top);var re=Ii(Ii(Ii({},b),Q),{},{realScaleType:H,x:M,y:V,scale:ne,width:s==="xAxis"?n.width:b.width,height:s==="yAxis"?n.height:b.height});return re.bandSize=kx(re,Q),!b.hide&&s==="xAxis"?m[O]+=($?-1:1)*re.height:b.hide||(m[O]+=($?-1:1)*re.width),Ii(Ii({},x),{},A0({},_,re))},{})},jH=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},aSe=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return jH({x:r,y:n},{x:s,y:i})},SH=function(){function t(e){rSe(this,t),this.scale=e}return nSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();A0(SH,"EPS",1e-4);var gk=function(e){var r=Object.keys(e).reduce(function(n,s){return Ii(Ii({},n),{},A0({},s,SH.create(e[s])))},{});return Ii(Ii({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Rje(s,function(u,d){return r[d].apply(u,{bandAware:o,position:l})})},isInRange:function(s){return yH(s,function(i,o){return r[o].isInRange(i)})}})};function oSe(t){return(t%180+180)%180}var lSe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=oSe(s),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},BN,r$;function cSe(){if(r$)return BN;r$=1;var t=oc(),e=tg(),r=f0();function n(s){return function(i,o,l){var u=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(m){return d(u[m],m,u)}}var h=s(i,o,l);return h>-1?u[d?i[h]:h]:void 0}}return BN=n,BN}var UN,n$;function uSe(){if(n$)return UN;n$=1;var t=mH();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return UN=e,UN}var zN,s$;function dSe(){if(s$)return zN;s$=1;var t=Dq(),e=oc(),r=uSe(),n=Math.max;function s(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var d=l==null?0:r(l);return d<0&&(d=n(u+d,0)),t(i,e(o,3),d)}return zN=s,zN}var qN,i$;function fSe(){if(i$)return qN;i$=1;var t=cSe(),e=dSe(),r=t(e);return qN=r,qN}var hSe=fSe();const mSe=tr(hSe);var pSe=X9();const gSe=tr(pSe);var vSe=gSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vk=j.createContext(void 0),yk=j.createContext(void 0),NH=j.createContext(void 0),EH=j.createContext({}),AH=j.createContext(void 0),TH=j.createContext(0),CH=j.createContext(0),a$=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,u=e.width,d=e.height,h=vSe(i);return K.createElement(vk.Provider,{value:n},K.createElement(yk.Provider,{value:s},K.createElement(EH.Provider,{value:i},K.createElement(NH.Provider,{value:h},K.createElement(AH.Provider,{value:o},K.createElement(TH.Provider,{value:d},K.createElement(CH.Provider,{value:u},l)))))))},ySe=function(){return j.useContext(AH)},kH=function(e){var r=j.useContext(vk);r==null&&xu();var n=r[e];return n==null&&xu(),n},xSe=function(){var e=j.useContext(vk);return bl(e)},bSe=function(){var e=j.useContext(yk),r=mSe(e,function(n){return yH(n.domain,Number.isFinite)});return r||bl(e)},PH=function(e){var r=j.useContext(yk);r==null&&xu();var n=r[e];return n==null&&xu(),n},wSe=function(){var e=j.useContext(NH);return e},_Se=function(){return j.useContext(EH)},xk=function(){return j.useContext(CH)},bk=function(){return j.useContext(TH)};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function jSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RH(n.key),n)}}function NSe(t,e,r){return e&&SSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ESe(t,e,r){return e=qx(e),ASe(t,IH()?Reflect.construct(e,r||[],qx(t).constructor):e.apply(t,r))}function ASe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TSe(t)}function TSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(t)}function CSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eT(t,e)}function o$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function l$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(r),!0).forEach(function(n){wk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wk(t,e,r){return e=RH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RH(t){var e=kSe(t,"string");return Ef(e)=="symbol"?e:e+""}function kSe(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PSe(t,e){return MSe(t)||OSe(t,e)||RSe(t,e)||ISe()}function ISe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RSe(t,e){if(t){if(typeof t=="string")return c$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c$(t,e)}}function c$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function MSe(t){if(Array.isArray(t))return t}function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tT.apply(this,arguments)}var DSe=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Nt(e)?n=e(r):n=K.createElement("line",tT({},r,{className:"recharts-reference-line-line"})),n},LSe=function(e,r,n,s,i,o,l,u,d){var h=i.x,m=i.y,p=i.width,x=i.height;if(n){var _=d.y,b=e.y.apply(_,{position:o});if(_a(d,"discard")&&!e.y.isInRange(b))return null;var y=[{x:h+p,y:b},{x:h,y:b}];return u==="left"?y.reverse():y}if(r){var N=d.x,S=e.x.apply(N,{position:o});if(_a(d,"discard")&&!e.x.isInRange(S))return null;var T=[{x:S,y:m+x},{x:S,y:m}];return l==="top"?T.reverse():T}if(s){var E=d.segment,C=E.map(function(O){return e.apply(O,{position:o})});return _a(d,"discard")&&Cje(C,function(O){return!e.isInRange(O)})?null:C}return null};function FSe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,u=t.alwaysShow,d=ySe(),h=kH(s),m=PH(i),p=wSe();if(!d||!p)return null;uo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=gk({x:h.scale,y:m.scale}),_=Xr(e),b=Xr(r),y=n&&n.length===2,N=LSe(x,_,b,y,p,t.position,h.orientation,m.orientation,t);if(!N)return null;var S=PSe(N,2),T=S[0],E=T.x,C=T.y,O=S[1],k=O.x,R=O.y,M=_a(t,"hidden")?"url(#".concat(d,")"):void 0,V=l$(l$({clipPath:M},Tt(t,!0)),{},{x1:E,y1:C,x2:k,y2:R});return K.createElement(Ar,{className:$t("recharts-reference-line",l)},DSe(o,V),In.renderCallByParent(t,aSe({x1:E,y1:C,x2:k,y2:R})))}var _k=function(t){function e(){return jSe(this,e),ESe(this,e,arguments)}return CSe(e,t),NSe(e,[{key:"render",value:function(){return K.createElement(FSe,this.props)}}])}(K.Component);wk(_k,"displayName","ReferenceLine");wk(_k,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(this,arguments)}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function u$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(r),!0).forEach(function(n){T0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MH(n.key),n)}}function BSe(t,e,r){return e&&VSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function USe(t,e,r){return e=Hx(e),zSe(t,OH()?Reflect.construct(e,r||[],Hx(t).constructor):e.apply(t,r))}function zSe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qSe(t)}function qSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(t)}function HSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nT(t,e)}function T0(t,e,r){return e=MH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MH(t){var e=WSe(t,"string");return Af(e)=="symbol"?e:e+""}function WSe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GSe=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=gk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return _a(e,"discard")&&!o.isInRange(l)?null:l},C0=function(t){function e(){return $Se(this,e),USe(this,e,arguments)}return HSe(e,t),BSe(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,d=Xr(s),h=Xr(i);if(uo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=GSe(this.props);if(!m)return null;var p=m.x,x=m.y,_=this.props,b=_.shape,y=_.className,N=_a(this.props,"hidden")?"url(#".concat(u,")"):void 0,S=d$(d$({clipPath:N},Tt(this.props,!0)),{},{cx:p,cy:x});return K.createElement(Ar,{className:$t("recharts-reference-dot",y)},e.renderDot(b,S),In.renderCallByParent(this.props,{x:p-o,y:x-o,width:2*o,height:2*o}))}}])}(K.Component);T0(C0,"displayName","ReferenceDot");T0(C0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});T0(C0,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Nt(t)?r=t(e):r=K.createElement(pk,rT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function sT(){return sT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sT.apply(this,arguments)}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function f$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function h$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(r),!0).forEach(function(n){k0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LH(n.key),n)}}function QSe(t,e,r){return e&&YSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,r){return e=Wx(e),JSe(t,DH()?Reflect.construct(e,r||[],Wx(t).constructor):e.apply(t,r))}function JSe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(t)}function eNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iT(t,e)}function k0(t,e,r){return e=LH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LH(t){var e=tNe(t,"string");return Tf(e)=="symbol"?e:e+""}function tNe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rNe=function(e,r,n,s,i){var o=i.x1,l=i.x2,u=i.y1,d=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var p=gk({x:h.scale,y:m.scale}),x={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(u,{position:"start"}):p.y.rangeMin},_={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return _a(i,"discard")&&(!p.isInRange(x)||!p.isInRange(_))?null:jH(x,_)},P0=function(t){function e(){return KSe(this,e),XSe(this,e,arguments)}return eNe(e,t),QSe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,u=n.className,d=n.alwaysShow,h=n.clipPathId;uo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Xr(s),p=Xr(i),x=Xr(o),_=Xr(l),b=this.props.shape;if(!m&&!p&&!x&&!_&&!b)return null;var y=rNe(m,p,x,_,this.props);if(!y&&!b)return null;var N=_a(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(Ar,{className:$t("recharts-reference-area",u)},e.renderRect(b,h$(h$({clipPath:N},Tt(this.props,!0)),y)),In.renderCallByParent(this.props,y))}}])}(K.Component);k0(P0,"displayName","ReferenceArea");k0(P0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});k0(P0,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Nt(t)?r=t(e):r=K.createElement(mk,sT({},e,{className:"recharts-reference-area-rect"})),r});function FH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function nNe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lSe(n,r)}function sNe(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Gx(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function iNe(t,e){return FH(t,e+1)}function aNe(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,u=0,d=1,h=o,m=function(){var _=n==null?void 0:n[u];if(_===void 0)return{v:FH(n,d)};var b=u,y,N=function(){return y===void 0&&(y=r(_,b)),y},S=_.coordinate,T=u===0||Gx(t,S,N,h,l);T||(u=0,h=o,d+=1),T&&(h=S+t*(N()/2+s),u+=d)},p;d<=i.length;)if(p=m(),p)return p.v;return[]}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){oNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oNe(t,e,r){return e=lNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lNe(t){var e=cNe(t,"string");return kp(e)=="symbol"?e:e+""}function cNe(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uNe(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,u=e.end,d=function(p){var x=i[p],_,b=function(){return _===void 0&&(_=r(x,p)),_};if(p===o-1){var y=t*(x.coordinate+t*b()/2-u);i[p]=x=Tn(Tn({},x),{},{tickCoord:y>0?x.coordinate-y*t:x.coordinate})}else i[p]=x=Tn(Tn({},x),{},{tickCoord:x.coordinate});var N=Gx(t,x.tickCoord,b,l,u);N&&(u=x.tickCoord-t*(b()/2+s),i[p]=Tn(Tn({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return i}function dNe(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,u=e.start,d=e.end;if(i){var h=n[l-1],m=r(h,l-1),p=t*(h.coordinate+t*m/2-d);o[l-1]=h=Tn(Tn({},h),{},{tickCoord:p>0?h.coordinate-p*t:h.coordinate});var x=Gx(t,h.tickCoord,function(){return m},u,d);x&&(d=h.tickCoord-t*(m/2+s),o[l-1]=Tn(Tn({},h),{},{isShow:!0}))}for(var _=i?l-1:l,b=function(S){var T=o[S],E,C=function(){return E===void 0&&(E=r(T,S)),E};if(S===0){var O=t*(T.coordinate-t*C()/2-u);o[S]=T=Tn(Tn({},T),{},{tickCoord:O<0?T.coordinate-O*t:T.coordinate})}else o[S]=T=Tn(Tn({},T),{},{tickCoord:T.coordinate});var k=Gx(t,T.tickCoord,C,u,d);k&&(u=T.tickCoord+t*(C()/2+s),o[S]=Tn(Tn({},T),{},{isShow:!0}))},y=0;y<_;y++)b(y);return o}function jk(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,u=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!s||!s.length||!n)return[];if(Te(u)||th.isSsr)return iNe(s,typeof u=="number"&&Te(u)?u:0);var p=[],x=l==="top"||l==="bottom"?"width":"height",_=h&&x==="width"?Sm(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(T,E){var C=Nt(d)?d(T.value,E):T.value;return x==="width"?nNe(Sm(C,{fontSize:e,letterSpacing:r}),_,m):Sm(C,{fontSize:e,letterSpacing:r})[x]},y=s.length>=2?Li(s[1].coordinate-s[0].coordinate):1,N=sNe(i,y,x);return u==="equidistantPreserveStart"?aNe(y,N,b,s,o):(u==="preserveStart"||u==="preserveStartEnd"?p=dNe(y,N,b,s,o,u==="preserveStartEnd"):p=uNe(y,N,b,s,o),p.filter(function(S){return S.isShow}))}var fNe=["viewBox"],hNe=["viewBox"],mNe=["ticks"];function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function p$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(r),!0).forEach(function(n){Sk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HN(t,e){if(t==null)return{};var r=pNe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VH(n.key),n)}}function vNe(t,e,r){return e&&g$(t.prototype,e),r&&g$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yNe(t,e,r){return e=Kx(e),xNe(t,$H()?Reflect.construct(e,r||[],Kx(t).constructor):e.apply(t,r))}function xNe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bNe(t)}function bNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($H=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(t)}function wNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aT(t,e)}function Sk(t,e,r){return e=VH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VH(t){var e=_Ne(t,"string");return Cf(e)=="symbol"?e:e+""}function _Ne(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ah=function(t){function e(r){var n;return gNe(this,e),n=yNe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return wNe(e,t),vNe(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=HN(n,fNe),l=this.props,u=l.viewBox,d=HN(l,hNe);return!Vd(i,u)||!Vd(o,d)||!Vd(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,d=s.orientation,h=s.tickSize,m=s.mirror,p=s.tickMargin,x,_,b,y,N,S,T=m?-1:1,E=n.tickSize||h,C=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=_=n.coordinate,y=o+ +!m*u,b=y-T*E,S=b-T*p,N=C;break;case"left":b=y=n.coordinate,_=i+ +!m*l,x=_-T*E,N=x-T*p,S=C;break;case"right":b=y=n.coordinate,_=i+ +m*l,x=_+T*E,N=x+T*p,S=C;break;default:x=_=n.coordinate,y=o+ +m*u,b=y+T*E,S=b+T*p,N=C;break}return{line:{x1:x,y1:b,x2:_,y2:y},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,u=n.orientation,d=n.mirror,h=n.axisLine,m=Bn(Bn(Bn({},Tt(this.props,!1)),Tt(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var p=+(u==="top"&&!d||u==="bottom"&&d);m=Bn(Bn({},m),{},{x1:s,y1:i+p*l,x2:s+o,y2:i+p*l})}else{var x=+(u==="left"&&!d||u==="right"&&d);m=Bn(Bn({},m),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return K.createElement("line",Nd({},m,{className:$t("recharts-cartesian-axis-line",ii(h,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,u=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,p=l.unit,x=jk(Bn(Bn({},this.props),{},{ticks:n}),s,i),_=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Tt(this.props,!1),N=Tt(h,!1),S=Bn(Bn({},y),{},{fill:"none"},Tt(u,!1)),T=x.map(function(E,C){var O=o.getTickLineCoord(E),k=O.line,R=O.tick,M=Bn(Bn(Bn(Bn({textAnchor:_,verticalAnchor:b},y),{},{stroke:"none",fill:d},N),R),{},{index:C,payload:E,visibleTicksCount:x.length,tickFormatter:m});return K.createElement(Ar,Nd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},ix(o.props,E,C)),u&&K.createElement("line",Nd({},S,k,{className:$t("recharts-cartesian-axis-tick-line",ii(u,"className"))})),h&&e.renderTickItem(h,M,"".concat(Nt(m)?m(E.value,C):E.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,u=s.ticksGenerator,d=s.className,h=s.hide;if(h)return null;var m=this.props,p=m.ticks,x=HN(m,mNe),_=p;return Nt(u)&&(_=p&&p.length>0?u(this.props):u(x)),o<=0||l<=0||!_||!_.length?null:K.createElement(Ar,{className:$t("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),In.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,s):Nt(n)?o=n(s):o=K.createElement(gx,Nd({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(j.Component);Sk(ah,"displayName","CartesianAxis");Sk(ah,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jNe=["x1","y1","x2","y2","key"],SNe=["offset"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function v$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(r),!0).forEach(function(n){NNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NNe(t,e,r){return e=ENe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ENe(t){var e=ANe(t,"string");return bu(e)=="symbol"?e:e+""}function ANe(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kc.apply(this,arguments)}function y$(t,e){if(t==null)return{};var r=TNe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CNe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,u=e.ry;return K.createElement("rect",{x:s,y:i,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BH(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Nt(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,u=y$(e,jNe),d=Tt(u,!1);d.offset;var h=y$(d,SNe);r=K.createElement("line",Kc({},h,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function kNe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,u){var d=Rn(Rn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(u),index:u});return BH(s,d)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function PNe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,u){var d=Rn(Rn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(u),index:u});return BH(s,d)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function INe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,u=t.horizontal,d=u===void 0?!0:u;if(!d||!e||!e.length)return null;var h=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,x){return p-x});s!==h[0]&&h.unshift(0);var m=h.map(function(p,x){var _=!h[x+1],b=_?s+o-p:h[x+1]-p;if(b<=0)return null;var y=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y:p,x:n,height:b,width:i,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function RNe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(p){return Math.round(p+i-i)}).sort(function(p,x){return p-x});i!==h[0]&&h.unshift(0);var m=h.map(function(p,x){var _=!h[x+1],b=_?i+l-p:h[x+1]-p;if(b<=0)return null;var y=x%n.length;return K.createElement("rect",{key:"react-".concat(x),x:p,y:o,width:b,height:u,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var ONe=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return eH(jk(Rn(Rn(Rn({},ah.defaultProps),n),{},{ticks:io(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},MNe=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return eH(jk(Rn(Rn(Rn({},ah.defaultProps),n),{},{ticks:io(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},gd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UH(t){var e,r,n,s,i,o,l=xk(),u=bk(),d=_Se(),h=Rn(Rn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:gd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:gd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:gd.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:gd.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:gd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:gd.verticalFill,x:Te(t.x)?t.x:d.left,y:Te(t.y)?t.y:d.top,width:Te(t.width)?t.width:d.width,height:Te(t.height)?t.height:d.height}),m=h.x,p=h.y,x=h.width,_=h.height,b=h.syncWithTicks,y=h.horizontalValues,N=h.verticalValues,S=xSe(),T=bSe();if(!Te(x)||x<=0||!Te(_)||_<=0||!Te(m)||m!==+m||!Te(p)||p!==+p)return null;var E=h.verticalCoordinatesGenerator||ONe,C=h.horizontalCoordinatesGenerator||MNe,O=h.horizontalPoints,k=h.verticalPoints;if((!O||!O.length)&&Nt(C)){var R=y&&y.length,M=C({yAxis:T?Rn(Rn({},T),{},{ticks:R?y:T.ticks}):void 0,width:l,height:u,offset:d},R?!0:b);uo(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bu(M),"]")),Array.isArray(M)&&(O=M)}if((!k||!k.length)&&Nt(E)){var V=N&&N.length,$=E({xAxis:S?Rn(Rn({},S),{},{ticks:V?N:S.ticks}):void 0,width:l,height:u,offset:d},V?!0:b);uo(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bu($),"]")),Array.isArray($)&&(k=$)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(CNe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(kNe,Kc({},h,{offset:d,horizontalPoints:O,xAxis:S,yAxis:T})),K.createElement(PNe,Kc({},h,{offset:d,verticalPoints:k,xAxis:S,yAxis:T})),K.createElement(INe,Kc({},h,{horizontalPoints:O})),K.createElement(RNe,Kc({},h,{verticalPoints:k})))}UH.displayName="CartesianGrid";var DNe=["layout","type","stroke","connectNulls","isRange","ref"],LNe=["key"],zH;function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function qH(t,e){if(t==null)return{};var r=FNe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yc.apply(this,arguments)}function x$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ml(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(r),!0).forEach(function(n){ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WH(n.key),n)}}function VNe(t,e,r){return e&&b$(t.prototype,e),r&&b$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BNe(t,e,r){return e=Yx(e),UNe(t,HH()?Reflect.construct(e,r||[],Yx(t).constructor):e.apply(t,r))}function UNe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zNe(t)}function zNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function Yx(t){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(t)}function qNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}function oT(t,e){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oT(t,e)}function ga(t,e,r){return e=WH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=HNe(t,"string");return kf(e)=="symbol"?e:e+""}function HNe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dc=function(t){function e(){var r;$Ne(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=BNe(this,e,[].concat(s)),ga(r,"state",{isAnimationFinished:!0}),ga(r,"id",eg("recharts-area-")),ga(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Nt(o)&&o()}),ga(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Nt(o)&&o()}),r}return qNe(e,t),VNe(e,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,d=u.dot,h=u.points,m=u.dataKey,p=Tt(this.props,!1),x=Tt(d,!0),_=h.map(function(y,N){var S=ml(ml(ml({key:"dot-".concat(N),r:3},p),x),{},{index:N,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:h});return e.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return K.createElement(Ar,Yc({className:"recharts-area-dots"},b),_)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,u=o[0].x,d=o[o.length-1].x,h=n*Math.abs(u-d),m=Pl(o.map(function(p){return p.y||0}));return Te(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Pl(i.map(function(p){return p.y||0})),m)),Te(m)?K.createElement("rect",{x:u<d?u:u-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,u=o[0].y,d=o[o.length-1].y,h=n*Math.abs(u-d),m=Pl(o.map(function(p){return p.x||0}));return Te(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Pl(i.map(function(p){return p.x||0})),m)),Te(m)?K.createElement("rect",{x:0,y:u<d?u:u-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,u=l.layout,d=l.type,h=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var x=qH(l,DNe);return K.createElement(Ar,{clipPath:i?"url(#clipPath-".concat(o,")"):null},K.createElement(Am,Yc({},Tt(x,!0),{points:n,connectNulls:m,type:d,baseLine:s,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&K.createElement(Am,Yc({},Tt(this.props,!1),{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:n})),h!=="none"&&p&&K.createElement(Am,Yc({},Tt(this.props,!1),{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,x=o.animationId,_=this.state,b=_.prevPoints,y=_.prevBaseLine;return K.createElement(No,{begin:h,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(b){var T=b.length/l.length,E=l.map(function(R,M){var V=Math.floor(M*T);if(b[V]){var $=b[V],D=Zs($.x,R.x),L=Zs($.y,R.y);return ml(ml({},R),{},{x:D(S),y:L(S)})}return R}),C;if(Te(u)&&typeof u=="number"){var O=Zs(y,u);C=O(S)}else if(Dt(u)||Zf(u)){var k=Zs(y,0);C=k(S)}else C=u.map(function(R,M){var V=Math.floor(M*T);if(y[V]){var $=y[V],D=Zs($.x,R.x),L=Zs($.y,R.y);return ml(ml({},R),{},{x:D(S),y:L(S)})}return R});return i.renderAreaStatically(E,C,n,s)}return K.createElement(Ar,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(S))),K.createElement(Ar,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,u,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,u=i.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,p=d.totalLength;return u&&o&&o.length&&(!h&&p>0||!cp(h,o)||!cp(m,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,u=s.className,d=s.top,h=s.left,m=s.xAxis,p=s.yAxis,x=s.width,_=s.height,b=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,S=l.length===1,T=$t("recharts-area",u),E=m&&m.allowDataOverflow,C=p&&p.allowDataOverflow,O=E||C,k=Dt(y)?this.id:y,R=(n=Tt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=R.r,V=M===void 0?3:M,$=R.strokeWidth,D=$===void 0?2:$,L=_he(o)?o:{},B=L.clipDot,G=B===void 0?!0:B,q=V*2+D;return K.createElement(Ar,{className:T},E||C?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(k)},K.createElement("rect",{x:E?h:h-x/2,y:C?d:d-_/2,width:E?x:x*2,height:C?_:_*2})),!G&&K.createElement("clipPath",{id:"clipPath-dots-".concat(k)},K.createElement("rect",{x:h-q/2,y:d-q/2,width:x+q,height:_+q}))):null,S?null:this.renderArea(O,k),(o||S)&&this.renderDots(O,G,k),(!b||N)&&Vl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);zH=dc;ga(dc,"displayName","Area");ga(dc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!th.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ga(dc,"getBaseValue",function(t,e,r,n){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(Te(l)&&typeof l=="number")return l;var u=s==="horizontal"?n:r,d=u.scale.domain();if(u.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});ga(dc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,u=t.dataKey,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,p=t.offset,x=e.layout,_=d&&d.length,b=zH.getBaseValue(e,r,n,s),y=x==="horizontal",N=!1,S=m.map(function(E,C){var O;_?O=d[h+C]:(O=Fs(E,u),Array.isArray(O)?N=!0:O=[b,O]);var k=O[1]==null||_&&Fs(E,u)==null;return y?{x:M3({axis:n,ticks:i,bandSize:l,entry:E,index:C}),y:k?null:s.scale(O[1]),value:O,payload:E}:{x:k?null:n.scale(O[1]),y:M3({axis:s,ticks:o,bandSize:l,entry:E,index:C}),value:O,payload:E}}),T;return _||N?T=S.map(function(E){var C=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:C!=null&&E.y!=null?s.scale(C):null}:{x:C!=null?n.scale(C):null,y:E.y}}):T=y?s.scale(b):n.scale(b),ml({points:S,baseLine:T,layout:x,isRange:N},p)});ga(dc,"renderDotItem",function(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Nt(t))r=t(e);else{var n=$t("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=qH(e,LNe);r=K.createElement(pk,Yc({},i,{key:s,className:n}))}return r});function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function WNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YH(n.key),n)}}function KNe(t,e,r){return e&&GNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YNe(t,e,r){return e=Qx(e),QNe(t,GH()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function QNe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XNe(t)}function XNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function JNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lT(t,e)}function lT(t,e){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lT(t,e)}function KH(t,e,r){return e=YH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YH(t){var e=ZNe(t,"string");return Pf(e)=="symbol"?e:e+""}function ZNe(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cT.apply(this,arguments)}function eEe(t){var e=t.xAxisId,r=xk(),n=bk(),s=kH(e);return s==null?null:K.createElement(ah,cT({},s,{className:$t("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return io(o,!0)}}))}var I0=function(t){function e(){return WNe(this,e),YNe(this,e,arguments)}return JNe(e,t),KNe(e,[{key:"render",value:function(){return K.createElement(eEe,this.props)}}])}(K.Component);KH(I0,"displayName","XAxis");KH(I0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function tEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JH(n.key),n)}}function nEe(t,e,r){return e&&rEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,r){return e=Xx(e),iEe(t,QH()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function iEe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(t)}function aEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function oEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uT(t,e)}function XH(t,e,r){return e=JH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JH(t){var e=lEe(t,"string");return If(e)=="symbol"?e:e+""}function lEe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dT.apply(this,arguments)}var cEe=function(e){var r=e.yAxisId,n=xk(),s=bk(),i=PH(r);return i==null?null:K.createElement(ah,dT({},i,{className:$t("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return io(l,!0)}}))},R0=function(t){function e(){return tEe(this,e),sEe(this,e,arguments)}return oEe(e,t),nEe(e,[{key:"render",value:function(){return K.createElement(cEe,this.props)}}])}(K.Component);XH(R0,"displayName","YAxis");XH(R0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function w$(t){return hEe(t)||fEe(t)||dEe(t)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(t,e){if(t){if(typeof t=="string")return fT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fT(t,e)}}function fEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hEe(t){if(Array.isArray(t))return fT(t)}function fT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hT=function(e,r,n,s,i){var o=Ui(e,_k),l=Ui(e,C0),u=[].concat(w$(o),w$(l)),d=Ui(e,P0),h="".concat(s,"Id"),m=s[0],p=r;if(u.length&&(p=u.reduce(function(b,y){if(y.props[h]===n&&_a(y.props,"extendDomain")&&Te(y.props[m])){var N=y.props[m];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},p)),d.length){var x="".concat(m,"1"),_="".concat(m,"2");p=d.reduce(function(b,y){if(y.props[h]===n&&_a(y.props,"extendDomain")&&Te(y.props[x])&&Te(y.props[_])){var N=y.props[x],S=y.props[_];return[Math.min(b[0],N,S),Math.max(b[1],N,S)]}return b},p)}return i&&i.length&&(p=i.reduce(function(b,y){return Te(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},p)),p},WN={exports:{}},_$;function mEe(){return _$||(_$=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function i(u,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new s(h,m||u,p),_=r?r+d:d;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],x]:u._events[_].push(x):(u._events[_]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,_=new Array(x);p<x;p++)_[p]=m[p].fn;return _},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,p,x,_){var b=r?r+d:d;if(!this._events[b])return!1;var y=this._events[b],N=arguments.length,S,T;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,m),!0;case 4:return y.fn.call(y.context,h,m,p),!0;case 5:return y.fn.call(y.context,h,m,p,x),!0;case 6:return y.fn.call(y.context,h,m,p,x,_),!0}for(T=1,S=new Array(N-1);T<N;T++)S[T-1]=arguments[T];y.fn.apply(y.context,S)}else{var E=y.length,C;for(T=0;T<E;T++)switch(y[T].once&&this.removeListener(d,y[T].fn,void 0,!0),N){case 1:y[T].fn.call(y[T].context);break;case 2:y[T].fn.call(y[T].context,h);break;case 3:y[T].fn.call(y[T].context,h,m);break;case 4:y[T].fn.call(y[T].context,h,m,p);break;default:if(!S)for(C=1,S=new Array(N-1);C<N;C++)S[C-1]=arguments[C];y[T].fn.apply(y[T].context,S)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,p){var x=r?r+d:d;if(!this._events[x])return this;if(!h)return o(this,x),this;var _=this._events[x];if(_.fn)_.fn===h&&(!p||_.once)&&(!m||_.context===m)&&o(this,x);else{for(var b=0,y=[],N=_.length;b<N;b++)(_[b].fn!==h||p&&!_[b].once||m&&_[b].context!==m)&&y.push(_[b]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(WN)),WN.exports}var pEe=mEe();const gEe=tr(pEe);var GN=new gEe,KN="recharts.syncMouseEvents";function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function vEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZH(n.key),n)}}function xEe(t,e,r){return e&&yEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YN(t,e,r){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=bEe(t,"string");return Pp(e)=="symbol"?e:e+""}function bEe(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wEe=function(){function t(){vEe(this,t),YN(this,"activeIndex",0),YN(this,"coordinateList",[]),YN(this,"layout","horizontal")}return xEe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,u=r.layout,d=u===void 0?null:u,h=r.offset,m=h===void 0?null:h,p=r.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,u=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+u+d,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])}();function _Ee(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Te(n)&&Te(s))return!0}return!1}function jEe(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function eW(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=yn(e,r,n,s),l=yn(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function SEe(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,p=yn(l,u,d,m),x=yn(l,u,h,m);n=p.x,s=p.y,i=x.x,o=x.y}else return eW(e);return[{x:n,y:s},{x:i,y:o}]}function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function j$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(r),!0).forEach(function(n){NEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NEe(t,e,r){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EEe(t){var e=AEe(t,"string");return Ip(e)=="symbol"?e:e+""}function AEe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TEe(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,u=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!i||!o||p!=="ScatterChart"&&s!=="axis")return null;var _,b=Am;if(p==="ScatterChart")_=o,b=C_e;else if(p==="BarChart")_=jEe(m,o,u,h),b=mk;else if(m==="radial"){var y=eW(o),N=y.cx,S=y.cy,T=y.radius,E=y.startAngle,C=y.endAngle;_={cx:N,cy:S,startAngle:E,endAngle:C,innerRadius:T,outerRadius:T},b=iH}else _={points:SEe(m,o,u)},b=Am;var O=Xv(Xv(Xv(Xv({stroke:"#ccc",pointerEvents:"none"},u),_),Tt(x,!1)),{},{payload:l,payloadIndex:d,className:$t("recharts-tooltip-cursor",x.className)});return j.isValidElement(x)?j.cloneElement(x,O):j.createElement(b,O)}var CEe=["item"],kEe=["children","className","width","height","style","compact","title","desc"];function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cm.apply(this,arguments)}function S$(t,e){return REe(t)||IEe(t,e)||rW(t,e)||PEe()}function PEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function REe(t){if(Array.isArray(t))return t}function N$(t,e){if(t==null)return{};var r=OEe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nW(n.key),n)}}function LEe(t,e,r){return e&&DEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FEe(t,e,r){return e=Jx(e),$Ee(t,tW()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function $Ee(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(t)}function VEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tW=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function BEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mT(t,e)}function Of(t){return qEe(t)||zEe(t)||rW(t)||UEe()}function UEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(t,e){if(t){if(typeof t=="string")return pT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pT(t,e)}}function zEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qEe(t){if(Array.isArray(t))return pT(t)}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(r),!0).forEach(function(n){st(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function st(t,e,r){return e=nW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nW(t){var e=HEe(t,"string");return Rf(e)=="symbol"?e:e+""}function HEe(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WEe={xAxis:["bottom","top"],yAxis:["left","right"]},GEe={width:"100%",height:"100%"},sW={x:0,y:0};function Jv(t){return t}var KEe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},YEe=function(e,r,n,s){var i=r.find(function(h){return h&&h.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return ge(ge(ge({},s),yn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,d=s.angle;return ge(ge(ge({},s),yn(s.cx,s.cy,u,d)),{},{angle:d,radius:u})}return sW},O0=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var d=u.props.data;return d&&d.length?[].concat(Of(l),Of(d)):l},[]);return o.length>0?o:e&&e.length&&Te(s)&&Te(i)?e.slice(s,i+1):[]};function iW(t){return t==="number"?[0,"auto"]:void 0}var gT=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=O0(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(u,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;p=nx(x,o.dataKey,s)}else p=m&&m[n]||l[n];return p?[].concat(Of(u),[rH(d,p)]):u},[])},A$=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=KEe(i,n),l=e.orderedTooltipTicks,u=e.tooltipAxis,d=e.tooltipTicks,h=_0e(o,l,d,u);if(h>=0&&d){var m=d[h]&&d[h].value,p=gT(e,r,h,m),x=YEe(n,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:p,activeCoordinate:x}}return null},QEe=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,p=e.stackOffset,x=Z7(h,i);return n.reduce(function(_,b){var y,N=b.type.defaultProps!==void 0?ge(ge({},b.type.defaultProps),b.props):b.props,S=N.type,T=N.dataKey,E=N.allowDataOverflow,C=N.allowDuplicatedCategory,O=N.scale,k=N.ticks,R=N.includeHidden,M=N[o];if(_[M])return _;var V=O0(e.data,{graphicalItems:s.filter(function(Q){var re,Z=o in Q.props?Q.props[o]:(re=Q.type.defaultProps)===null||re===void 0?void 0:re[o];return Z===M}),dataStartIndex:u,dataEndIndex:d}),$=V.length,D,L,B;_Ee(N.domain,E,S)&&(D=MA(N.domain,null,E),x&&(S==="number"||O!=="auto")&&(B=Em(V,T,"category")));var G=iW(S);if(!D||D.length===0){var q,Y=(q=N.domain)!==null&&q!==void 0?q:G;if(T){if(D=Em(V,T,S),S==="category"&&x){var z=hhe(D);C&&z?(L=D,D=$x(0,$)):C||(D=$3(Y,D,b).reduce(function(Q,re){return Q.indexOf(re)>=0?Q:[].concat(Of(Q),[re])},[]))}else if(S==="category")C?D=D.filter(function(Q){return Q!==""&&!Dt(Q)}):D=$3(Y,D,b).reduce(function(Q,re){return Q.indexOf(re)>=0||re===""||Dt(re)?Q:[].concat(Of(Q),[re])},[]);else if(S==="number"){var J=A0e(V,s.filter(function(Q){var re,Z,me=o in Q.props?Q.props[o]:(re=Q.type.defaultProps)===null||re===void 0?void 0:re[o],pe="hide"in Q.props?Q.props.hide:(Z=Q.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return me===M&&(R||!pe)}),T,i,h);J&&(D=J)}x&&(S==="number"||O!=="auto")&&(B=Em(V,T,"category"))}else x?D=$x(0,$):l&&l[M]&&l[M].hasStack&&S==="number"?D=p==="expand"?[0,1]:tH(l[M].stackGroups,u,d):D=J7(V,s.filter(function(Q){var re=o in Q.props?Q.props[o]:Q.type.defaultProps[o],Z="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return re===M&&(R||!Z)}),S,h,!0);if(S==="number")D=hT(m,D,M,i,k),Y&&(D=MA(Y,D,E));else if(S==="category"&&Y){var ne=Y,H=D.every(function(Q){return ne.indexOf(Q)>=0});H&&(D=ne)}}return ge(ge({},_),{},st({},M,ge(ge({},N),{},{axisType:i,domain:D,categoricalDomain:B,duplicateDomain:L,originalDomain:(y=N.domain)!==null&&y!==void 0?y:G,isCategorical:x,layout:h})))},{})},XEe=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,p=O0(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:d}),x=p.length,_=Z7(h,i),b=-1;return n.reduce(function(y,N){var S=N.type.defaultProps!==void 0?ge(ge({},N.type.defaultProps),N.props):N.props,T=S[o],E=iW("number");if(!y[T]){b++;var C;return _?C=$x(0,x):l&&l[T]&&l[T].hasStack?(C=tH(l[T].stackGroups,u,d),C=hT(m,C,T,i)):(C=MA(E,J7(p,n.filter(function(O){var k,R,M=o in O.props?O.props[o]:(k=O.type.defaultProps)===null||k===void 0?void 0:k[o],V="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return M===T&&!V}),"number",h),s.defaultProps.allowDataOverflow),C=hT(m,C,T,i)),ge(ge({},y),{},st({},T,ge(ge({axisType:i},s.defaultProps),{},{hide:!0,orientation:ii(WEe,"".concat(i,".").concat(b%2),null),domain:C,originalDomain:E,isCategorical:_,layout:h})))}return y},{})},JEe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,h=e.children,m="".concat(s,"Id"),p=Ui(h,i),x={};return p&&p.length?x=QEe(e,{axes:p,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d}):o&&o.length&&(x=XEe(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d})),x},ZEe=function(e){var r=bl(e),n=io(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:B2(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:kx(r,n)}},T$=function(e){var r=e.children,n=e.defaultShowTooltip,s=Ts(r,Sf),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},eAe=function(e){return!e||!e.length?!1:e.some(function(r){var n=co(r&&r.type);return n&&n.indexOf("Bar")>=0})},C$=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tAe=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,u=l===void 0?{}:l,d=n.width,h=n.height,m=n.children,p=n.margin||{},x=Ts(m,Sf),_=Ts(m,Bd),b=Object.keys(u).reduce(function(C,O){var k=u[O],R=k.orientation;return!k.mirror&&!k.hide?ge(ge({},C),{},st({},R,C[R]+k.width)):C},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(C,O){var k=o[O],R=k.orientation;return!k.mirror&&!k.hide?ge(ge({},C),{},st({},R,ii(C,"".concat(R))+k.height)):C},{top:p.top||0,bottom:p.bottom||0}),N=ge(ge({},y),b),S=N.bottom;x&&(N.bottom+=x.props.height||Sf.defaultProps.height),_&&r&&(N=N0e(N,s,n,r));var T=d-N.left-N.right,E=h-N.top-N.bottom;return ge(ge({brushBottom:S},N),{},{width:Math.max(T,0),height:Math.max(E,0)})},rAe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},nAe=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,p=function(y,N){var S=N.graphicalItems,T=N.stackGroups,E=N.offset,C=N.updateId,O=N.dataStartIndex,k=N.dataEndIndex,R=y.barSize,M=y.layout,V=y.barGap,$=y.barCategoryGap,D=y.maxBarSize,L=C$(M),B=L.numericAxisName,G=L.cateAxisName,q=eAe(S),Y=[];return S.forEach(function(z,J){var ne=O0(y.data,{graphicalItems:[z],dataStartIndex:O,dataEndIndex:k}),H=z.type.defaultProps!==void 0?ge(ge({},z.type.defaultProps),z.props):z.props,Q=H.dataKey,re=H.maxBarSize,Z=H["".concat(B,"Id")],me=H["".concat(G,"Id")],pe={},fe=u.reduce(function(Zt,Ie){var tt=N["".concat(Ie.axisType,"Map")],et=H["".concat(Ie.axisType,"Id")];tt&&tt[et]||Ie.axisType==="zAxis"||xu();var Kt=tt[et];return ge(ge({},Zt),{},st(st({},Ie.axisType,Kt),"".concat(Ie.axisType,"Ticks"),io(Kt)))},pe),we=fe[G],ce=fe["".concat(G,"Ticks")],be=T&&T[Z]&&T[Z].hasStack&&$0e(z,T[Z].stackGroups),Ee=co(z.type).indexOf("Bar")>=0,ue=kx(we,ce),Ke=[],Ve=q&&j0e({barSize:R,stackGroups:T,totalSize:rAe(fe,G)});if(Ee){var Ge,ut,Gt=Dt(re)?D:re,kr=(Ge=(ut=kx(we,ce,!0))!==null&&ut!==void 0?ut:Gt)!==null&&Ge!==void 0?Ge:0;Ke=S0e({barGap:V,barCategoryGap:$,bandSize:kr!==ue?kr:ue,sizeList:Ve[me],maxBarSize:Gt}),kr!==ue&&(Ke=Ke.map(function(Zt){return ge(ge({},Zt),{},{position:ge(ge({},Zt.position),{},{offset:Zt.position.offset-kr/2})})}))}var kt=z&&z.type&&z.type.getComposedData;kt&&Y.push({props:ge(ge({},kt(ge(ge({},fe),{},{displayedData:ne,props:y,dataKey:Q,item:z,bandSize:ue,barPosition:Ke,offset:E,stackedData:be,layout:M,dataStartIndex:O,dataEndIndex:k}))),{},st(st(st({key:z.key||"item-".concat(J)},B,fe[B]),G,fe[G]),"animationId",C)),childIndex:Nhe(z,y.children),item:z})}),Y},x=function(y,N){var S=y.props,T=y.dataStartIndex,E=y.dataEndIndex,C=y.updateId;if(!Z4({props:S}))return null;var O=S.children,k=S.layout,R=S.stackOffset,M=S.data,V=S.reverseStackOrder,$=C$(k),D=$.numericAxisName,L=$.cateAxisName,B=Ui(O,n),G=D0e(M,B,"".concat(D,"Id"),"".concat(L,"Id"),R,V),q=u.reduce(function(H,Q){var re="".concat(Q.axisType,"Map");return ge(ge({},H),{},st({},re,JEe(S,ge(ge({},Q),{},{graphicalItems:B,stackGroups:Q.axisType===D&&G,dataStartIndex:T,dataEndIndex:E}))))},{}),Y=tAe(ge(ge({},q),{},{props:S,graphicalItems:B}),N==null?void 0:N.legendBBox);Object.keys(q).forEach(function(H){q[H]=h(S,q[H],Y,H.replace("Map",""),r)});var z=q["".concat(L,"Map")],J=ZEe(z),ne=p(S,ge(ge({},q),{},{dataStartIndex:T,dataEndIndex:E,updateId:C,graphicalItems:B,stackGroups:G,offset:Y}));return ge(ge({formattedGraphicalItems:ne,graphicalItems:B,offset:Y,stackGroups:G},J),q)},_=function(b){function y(N){var S,T,E;return MEe(this,y),E=FEe(this,y,[N]),st(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),st(E,"accessibilityManager",new wEe),st(E,"handleLegendBBoxUpdate",function(C){if(C){var O=E.state,k=O.dataStartIndex,R=O.dataEndIndex,M=O.updateId;E.setState(ge({legendBBox:C},x({props:E.props,dataStartIndex:k,dataEndIndex:R,updateId:M},ge(ge({},E.state),{},{legendBBox:C}))))}}),st(E,"handleReceiveSyncEvent",function(C,O,k){if(E.props.syncId===C){if(k===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(O)}}),st(E,"handleBrushChange",function(C){var O=C.startIndex,k=C.endIndex;if(O!==E.state.dataStartIndex||k!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return ge({dataStartIndex:O,dataEndIndex:k},x({props:E.props,dataStartIndex:O,dataEndIndex:k,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),st(E,"handleMouseEnter",function(C){var O=E.getMouseInfo(C);if(O){var k=ge(ge({},O),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var R=E.props.onMouseEnter;Nt(R)&&R(k,C)}}),st(E,"triggeredAfterMouseMove",function(C){var O=E.getMouseInfo(C),k=O?ge(ge({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var R=E.props.onMouseMove;Nt(R)&&R(k,C)}),st(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),st(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),st(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),st(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var k=E.props.onMouseLeave;Nt(k)&&k(O,C)}),st(E,"handleOuterEvent",function(C){var O=She(C),k=ii(E.props,"".concat(O));if(O&&Nt(k)){var R,M;/.*touch.*/i.test(O)?M=E.getMouseInfo(C.changedTouches[0]):M=E.getMouseInfo(C),k((R=M)!==null&&R!==void 0?R:{},C)}}),st(E,"handleClick",function(C){var O=E.getMouseInfo(C);if(O){var k=ge(ge({},O),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var R=E.props.onClick;Nt(R)&&R(k,C)}}),st(E,"handleMouseDown",function(C){var O=E.props.onMouseDown;if(Nt(O)){var k=E.getMouseInfo(C);O(k,C)}}),st(E,"handleMouseUp",function(C){var O=E.props.onMouseUp;if(Nt(O)){var k=E.getMouseInfo(C);O(k,C)}}),st(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),st(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),st(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),st(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&GN.emit(KN,E.props.syncId,C,E.eventEmitterSymbol)}),st(E,"applySyncEvent",function(C){var O=E.props,k=O.layout,R=O.syncMethod,M=E.state.updateId,V=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(ge({dataStartIndex:V,dataEndIndex:$},x({props:E.props,dataStartIndex:V,dataEndIndex:$,updateId:M},E.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,L=C.chartY,B=C.activeTooltipIndex,G=E.state,q=G.offset,Y=G.tooltipTicks;if(!q)return;if(typeof R=="function")B=R(Y,C);else if(R==="value"){B=-1;for(var z=0;z<Y.length;z++)if(Y[z].value===C.activeLabel){B=z;break}}var J=ge(ge({},q),{},{x:q.left,y:q.top}),ne=Math.min(D,J.x+J.width),H=Math.min(L,J.y+J.height),Q=Y[B]&&Y[B].value,re=gT(E.state,E.props.data,B),Z=Y[B]?{x:k==="horizontal"?Y[B].coordinate:ne,y:k==="horizontal"?H:Y[B].coordinate}:sW;E.setState(ge(ge({},C),{},{activeLabel:Q,activeCoordinate:Z,activePayload:re,activeTooltipIndex:B}))}else E.setState(C)}),st(E,"renderCursor",function(C){var O,k=E.state,R=k.isTooltipActive,M=k.activeCoordinate,V=k.activePayload,$=k.offset,D=k.activeTooltipIndex,L=k.tooltipAxisBandSize,B=E.getTooltipEventType(),G=(O=C.props.active)!==null&&O!==void 0?O:R,q=E.props.layout,Y=C.key||"_recharts-cursor";return K.createElement(TEe,{key:Y,activeCoordinate:M,activePayload:V,activeTooltipIndex:D,chartName:r,element:C,isActive:G,layout:q,offset:$,tooltipAxisBandSize:L,tooltipEventType:B})}),st(E,"renderPolarAxis",function(C,O,k){var R=ii(C,"type.axisType"),M=ii(E.state,"".concat(R,"Map")),V=C.type.defaultProps,$=V!==void 0?ge(ge({},V),C.props):C.props,D=M&&M[$["".concat(R,"Id")]];return j.cloneElement(C,ge(ge({},D),{},{className:$t(R,D.className),key:C.key||"".concat(O,"-").concat(k),ticks:io(D,!0)}))}),st(E,"renderPolarGrid",function(C){var O=C.props,k=O.radialLines,R=O.polarAngles,M=O.polarRadius,V=E.state,$=V.radiusAxisMap,D=V.angleAxisMap,L=bl($),B=bl(D),G=B.cx,q=B.cy,Y=B.innerRadius,z=B.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(R)?R:io(B,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(M)?M:io(L,!0).map(function(J){return J.coordinate}),cx:G,cy:q,innerRadius:Y,outerRadius:z,key:C.key||"polar-grid",radialLines:k})}),st(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,O=E.props,k=O.children,R=O.width,M=O.height,V=E.props.margin||{},$=R-(V.left||0)-(V.right||0),D=Q7({children:k,formattedGraphicalItems:C,legendWidth:$,legendContent:d});if(!D)return null;var L=D.item,B=N$(D,CEe);return j.cloneElement(L,ge(ge({},B),{},{chartWidth:R,chartHeight:M,margin:V,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),st(E,"renderTooltip",function(){var C,O=E.props,k=O.children,R=O.accessibilityLayer,M=Ts(k,ua);if(!M)return null;var V=E.state,$=V.isTooltipActive,D=V.activeCoordinate,L=V.activePayload,B=V.activeLabel,G=V.offset,q=(C=M.props.active)!==null&&C!==void 0?C:$;return j.cloneElement(M,{viewBox:ge(ge({},G),{},{x:G.left,y:G.top}),active:q,label:B,payload:q?L:[],coordinate:D,accessibilityLayer:R})}),st(E,"renderBrush",function(C){var O=E.props,k=O.margin,R=O.data,M=E.state,V=M.offset,$=M.dataStartIndex,D=M.dataEndIndex,L=M.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Gv(E.handleBrushChange,C.props.onChange),data:R,x:Te(C.props.x)?C.props.x:V.left,y:Te(C.props.y)?C.props.y:V.top+V.height+V.brushBottom-(k.bottom||0),width:Te(C.props.width)?C.props.width:V.width,startIndex:$,endIndex:D,updateId:"brush-".concat(L)})}),st(E,"renderReferenceElement",function(C,O,k){if(!C)return null;var R=E,M=R.clipPathId,V=E.state,$=V.xAxisMap,D=V.yAxisMap,L=V.offset,B=C.type.defaultProps||{},G=C.props,q=G.xAxisId,Y=q===void 0?B.xAxisId:q,z=G.yAxisId,J=z===void 0?B.yAxisId:z;return j.cloneElement(C,{key:C.key||"".concat(O,"-").concat(k),xAxis:$[Y],yAxis:D[J],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),st(E,"renderActivePoints",function(C){var O=C.item,k=C.activePoint,R=C.basePoint,M=C.childIndex,V=C.isRange,$=[],D=O.props.key,L=O.item.type.defaultProps!==void 0?ge(ge({},O.item.type.defaultProps),O.item.props):O.item.props,B=L.activeDot,G=L.dataKey,q=ge(ge({index:M,dataKey:G,cx:k.x,cy:k.y,r:4,fill:hk(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Tt(B,!1)),sx(B));return $.push(y.renderActiveDot(B,q,"".concat(D,"-activePoint-").concat(M))),R?$.push(y.renderActiveDot(B,ge(ge({},q),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(M))):V&&$.push(null),$}),st(E,"renderGraphicChild",function(C,O,k){var R=E.filterFormatItem(C,O,k);if(!R)return null;var M=E.getTooltipEventType(),V=E.state,$=V.isTooltipActive,D=V.tooltipAxis,L=V.activeTooltipIndex,B=V.activeLabel,G=E.props.children,q=Ts(G,ua),Y=R.props,z=Y.points,J=Y.isRange,ne=Y.baseLine,H=R.item.type.defaultProps!==void 0?ge(ge({},R.item.type.defaultProps),R.item.props):R.item.props,Q=H.activeDot,re=H.hide,Z=H.activeBar,me=H.activeShape,pe=!!(!re&&$&&q&&(Q||Z||me)),fe={};M!=="axis"&&q&&q.props.trigger==="click"?fe={onClick:Gv(E.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(fe={onMouseLeave:Gv(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Gv(E.handleItemMouseEnter,C.props.onMouseEnter)});var we=j.cloneElement(C,ge(ge({},R.props),fe));function ce(Ie){return typeof D.dataKey=="function"?D.dataKey(Ie.payload):null}if(pe)if(L>=0){var be,Ee;if(D.dataKey&&!D.allowDuplicatedCategory){var ue=typeof D.dataKey=="function"?ce:"payload.".concat(D.dataKey.toString());be=nx(z,ue,B),Ee=J&&ne&&nx(ne,ue,B)}else be=z==null?void 0:z[L],Ee=J&&ne&&ne[L];if(me||Z){var Ke=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[j.cloneElement(C,ge(ge(ge({},R.props),fe),{},{activeIndex:Ke})),null,null]}if(!Dt(be))return[we].concat(Of(E.renderActivePoints({item:R,activePoint:be,basePoint:Ee,childIndex:L,isRange:J})))}else{var Ve,Ge=(Ve=E.getItemByXY(E.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:we},ut=Ge.graphicalItem,Gt=ut.item,kr=Gt===void 0?C:Gt,kt=ut.childIndex,Zt=ge(ge(ge({},R.props),fe),{},{activeIndex:kt});return[j.cloneElement(kr,Zt),null,null]}return J?[we,null,null]:[we,null]}),st(E,"renderCustomized",function(C,O,k){return j.cloneElement(C,ge(ge({key:"recharts-customized-".concat(k)},E.props),E.state))}),st(E,"renderMap",{CartesianGrid:{handler:Jv,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Jv},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Jv},YAxis:{handler:Jv},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=N.id)!==null&&S!==void 0?S:eg("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Yq(E.triggeredAfterMouseMove,(T=N.throttleDelay)!==null&&T!==void 0?T:1e3/60),E.state={},E}return BEe(y,b),LEe(y,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,E=S.data,C=S.height,O=S.layout,k=Ts(T,ua);if(k){var R=k.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,V=gT(this.state,E,R,M),$=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+C)/2,L=O==="horizontal",B=L?{x:$,y:D}:{y:$,x:D},G=this.state.formattedGraphicalItems.find(function(Y){var z=Y.item;return z.type.name==="Scatter"});G&&(B=ge(ge({},B),G.props.points[R].tooltipPosition),V=G.props.points[R].tooltipPayload);var q={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:M,activePayload:V,activeCoordinate:B};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(S){nA([Ts(S.children,ua)],[Ts(this.props.children,ua)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ts(this.props.children,ua);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return l.indexOf(T)>=0?T:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,E=T.getBoundingClientRect(),C=fve(E),O={chartX:Math.round(S.pageX-C.left),chartY:Math.round(S.pageY-C.top)},k=E.width/T.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,k);if(!R)return null;var M=this.state,V=M.xAxisMap,$=M.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&V&&$){var L=bl(V).scale,B=bl($).scale,G=L&&L.invert?L.invert(O.chartX):null,q=B&&B.invert?B.invert(O.chartY):null;return ge(ge({},O),{},{xValue:G,yValue:q})}var Y=A$(this.state,this.props.data,this.props.layout,R);return Y?ge(ge({},O),Y):null}},{key:"inRange",value:function(S,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,O=S/E,k=T/E;if(C==="horizontal"||C==="vertical"){var R=this.state.offset,M=O>=R.left&&O<=R.left+R.width&&k>=R.top&&k<=R.top+R.height;return M?{x:O,y:k}:null}var V=this.state,$=V.angleAxisMap,D=V.radiusAxisMap;if($&&D){var L=bl($);return U3({x:O,y:k},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),E=Ts(S,ua),C={};E&&T==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=sx(this.props,this.handleOuterEvent);return ge(ge({},O),C)}},{key:"addListener",value:function(){GN.on(KN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){GN.removeListener(KN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,E){for(var C=this.state.formattedGraphicalItems,O=0,k=C.length;O<k;O++){var R=C[O];if(R.item===S||R.props.key===S.key||T===co(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,E=T.left,C=T.top,O=T.height,k=T.width;return K.createElement("defs",null,K.createElement("clipPath",{id:S},K.createElement("rect",{x:E,y:C,height:O,width:k})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,E){var C=S$(E,2),O=C[0],k=C[1];return ge(ge({},T),{},st({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,E){var C=S$(E,2),O=C[0],k=C[1];return ge(ge({},T),{},st({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,E=T.formattedGraphicalItems,C=T.activeItem;if(E&&E.length)for(var O=0,k=E.length;O<k;O++){var R=E[O],M=R.props,V=R.item,$=V.type.defaultProps!==void 0?ge(ge({},V.type.defaultProps),V.props):V.props,D=co(V.type);if(D==="Bar"){var L=(M.data||[]).find(function(Y){return x_e(S,Y)});if(L)return{graphicalItem:R,payload:L}}else if(D==="RadialBar"){var B=(M.data||[]).find(function(Y){return U3(S,Y)});if(B)return{graphicalItem:R,payload:B}}else if(N0(R,C)||E0(R,C)||Ep(R,C)){var G=cje({graphicalItem:R,activeTooltipItem:C,itemData:$.data}),q=$.activeIndex===void 0?G:$.activeIndex;return{graphicalItem:ge(ge({},R),{},{childIndex:q}),payload:Ep(R,C)?$.data[G]:R.props.data[G]}}}return null}},{key:"render",value:function(){var S=this;if(!Z4(this))return null;var T=this.props,E=T.children,C=T.className,O=T.width,k=T.height,R=T.style,M=T.compact,V=T.title,$=T.desc,D=N$(T,kEe),L=Tt(D,!1);if(M)return K.createElement(a$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(iA,Cm({},L,{width:O,height:k,title:V,desc:$}),this.renderClipPath(),tD(E,this.renderMap)));if(this.props.accessibilityLayer){var B,G;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(G=this.props.role)!==null&&G!==void 0?G:"application",L.onKeyDown=function(Y){S.accessibilityManager.keyboardEvent(Y)},L.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return K.createElement(a$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Cm({className:$t("recharts-wrapper",C),style:ge({position:"relative",cursor:"default",width:O,height:k},R)},q,{ref:function(z){S.container=z}}),K.createElement(iA,Cm({},L,{width:O,height:k,title:V,desc:$,style:GEe}),this.renderClipPath(),tD(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);return st(_,"displayName",r),st(_,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),st(_,"getDerivedStateFromProps",function(b,y){var N=b.dataKey,S=b.data,T=b.children,E=b.width,C=b.height,O=b.layout,k=b.stackOffset,R=b.margin,M=y.dataStartIndex,V=y.dataEndIndex;if(y.updateId===void 0){var $=T$(b);return ge(ge(ge({},$),{},{updateId:0},x(ge(ge({props:b},$),{},{updateId:0}),y)),{},{prevDataKey:N,prevData:S,prevWidth:E,prevHeight:C,prevLayout:O,prevStackOffset:k,prevMargin:R,prevChildren:T})}if(N!==y.prevDataKey||S!==y.prevData||E!==y.prevWidth||C!==y.prevHeight||O!==y.prevLayout||k!==y.prevStackOffset||!Vd(R,y.prevMargin)){var D=T$(b),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=ge(ge({},A$(y,S,O)),{},{updateId:y.updateId+1}),G=ge(ge(ge({},D),L),B);return ge(ge(ge({},G),x(ge({props:b},G),y)),{},{prevDataKey:N,prevData:S,prevWidth:E,prevHeight:C,prevLayout:O,prevStackOffset:k,prevMargin:R,prevChildren:T})}if(!nA(T,y.prevChildren)){var q,Y,z,J,ne=Ts(T,Sf),H=ne&&(q=(Y=ne.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&q!==void 0?q:M,Q=ne&&(z=(J=ne.props)===null||J===void 0?void 0:J.endIndex)!==null&&z!==void 0?z:V,re=H!==M||Q!==V,Z=!Dt(S),me=Z&&!re?y.updateId:y.updateId+1;return ge(ge({updateId:me},x(ge(ge({props:b},y),{},{updateId:me,dataStartIndex:H,dataEndIndex:Q}),y)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:Q})}return null}),st(_,"renderActiveDot",function(b,y,N){var S;return j.isValidElement(b)?S=j.cloneElement(b,y):Nt(b)?S=b(y):S=K.createElement(pk,y),K.createElement(Ar,{className:"recharts-active-dot",key:N},S)}),function(y){return K.createElement(_,y)}},sAe=nAe({chartName:"AreaChart",GraphicalChild:dc,axisComponents:[{axisType:"xAxis",AxisComp:I0},{axisType:"yAxis",AxisComp:R0}],formatAxisMap:iSe});const QN=({data:t,title:e,dataKey:r="value",color:n="#00ffcc",height:s=300})=>a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:e}),a.jsx("div",{style:{width:"100%",height:s},children:a.jsx(ive,{width:"100%",height:"100%",children:a.jsxs(sAe,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`color${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:n,stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})}),a.jsx(UH,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),a.jsx(I0,{dataKey:"date",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(R0,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(ua,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),a.jsx(dc,{type:"monotone",dataKey:r,stroke:n,fillOpacity:1,fill:`url(#color${r})`})]})})})]}),aW=[{id:"food_explorer",name:"Food Explorer",description:"Scan 10 different food products",icon:"",level:"bronze",achieved:!1,progress:2,progressMax:10},{id:"water_tracker",name:"Hydration Hero",description:"Track your water intake for 7 consecutive days",icon:"",level:"silver",achieved:!1,progress:3,progressMax:7},{id:"recipe_master",name:"Recipe Master",description:"Save and try 5 healthy recipes",icon:"",level:"gold",achieved:!1,progress:1,progressMax:5},{id:"community_helper",name:"Community Guide",description:"Help 3 users by answering their questions in the community",icon:"",level:"bronze",achieved:!1,progress:0,progressMax:3},{id:"health_analyst",name:"Health Analyst",description:"Complete all health calculators in the HealthBox",icon:"",level:"silver",achieved:!0}],oW=[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",completed:!0,date:new Date(Date.now()-864e5*3),reward:{points:100}},{id:"complete_profile",name:"Getting to Know You",description:"Complete your user profile with all health data",completed:!0,date:new Date(Date.now()-864e5*2),reward:{points:150}},{id:"first_scan",name:"Food Detective",description:"Scan your first food product",completed:!0,date:new Date(Date.now()-864e5),reward:{points:50,badges:[{id:"first_scan_badge",name:"Scanner Novice",description:"First food product scanned",icon:"",level:"bronze",achieved:!0}]}},{id:"first_week",name:"One Week Strong",description:"Use SafeBite for 7 consecutive days",completed:!1,reward:{points:200}},{id:"health_guru",name:"Health Guru",description:"Achieve all health goals for one week",completed:!1,reward:{points:500,badges:[{id:"health_guru_badge",name:"Health Master",description:"Achieved all health goals for a week",icon:"",level:"gold",achieved:!1}]}}];aW.filter(t=>t.achieved),oW.filter(t=>t.completed);const iAe=()=>aW,aAe=()=>oW,oAe=()=>{const[t,e]=j.useState("healthReport"),[r,n]=j.useState(null),[s,i]=j.useState(!0),[o,l]=j.useState(""),[u,d]=j.useState(null),{toast:h}=ir(),{isGuest:m}=Kn(),p=Ut(We),x=wr(We),_=iAe(),b=aAe();j.useEffect(()=>{(async()=>{if(m){i(!1);return}try{const G=p.currentUser;if(!G){i(!1);return}const q=ht(x,"users",G.uid),Y=await sr(q);if(Y.exists()){const z=Y.data();d(z),console.log("User profile loaded for reports:",z)}else console.log("No user profile found!")}catch(G){console.error("Error fetching user profile:",G),l(G.message)}finally{i(!1)}})()},[m,p,x]);const y=()=>{var B,G,q;if((B=u==null?void 0:u.weeklyCheckin)!=null&&B.answers){const Y=u.weeklyCheckin.answers,z=((G=u.profile)==null?void 0:G.health_goals)==="Weight Loss"?1600:((q=u.profile)==null?void 0:q.health_goals)==="Muscle Gain"?2200:1800,J=Y.exercise>300?1.2:Y.exercise>150?1.1:1,ne=Y.home_cooked>15?.9:Y.home_cooked>10?.95:1,H=Y.junk_food>10?1.2:Y.junk_food>5?1.1:1,Q=z*J*ne*H;return{calorieData:[{date:"Mon",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Tue",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Wed",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Thu",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Fri",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Sat",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Sun",value:Math.round(Q*(.9+Math.random()*.2))}],waterData:[{date:"Mon",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.8)):6},{date:"Tue",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):5},{date:"Wed",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.1)):8},{date:"Thu",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1)):7},{date:"Fri",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.7)):4},{date:"Sat",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.2)):9},{date:"Sun",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):6}],nutrientData:[{date:"Mon",value:Y.junk_food>5?70:85},{date:"Tue",value:Y.junk_food>5?65:78},{date:"Wed",value:Y.junk_food>5?75:92},{date:"Thu",value:Y.junk_food>5?68:76},{date:"Fri",value:Y.junk_food>5?72:82},{date:"Sat",value:Y.junk_food>5?74:89},{date:"Sun",value:Y.junk_food>5?71:86}]}}return{calorieData:[{date:"Mon",value:1800},{date:"Tue",value:1600},{date:"Wed",value:2100},{date:"Thu",value:1500},{date:"Fri",value:1900},{date:"Sat",value:2200},{date:"Sun",value:1700}],waterData:[{date:"Mon",value:6},{date:"Tue",value:5},{date:"Wed",value:8},{date:"Thu",value:7},{date:"Fri",value:4},{date:"Sat",value:9},{date:"Sun",value:6}],nutrientData:[{date:"Mon",value:85},{date:"Tue",value:78},{date:"Wed",value:92},{date:"Thu",value:76},{date:"Fri",value:82},{date:"Sat",value:89},{date:"Sun",value:86}]}},{calorieData:N,waterData:S,nutrientData:T}=y(),C=(()=>{var B;if(u!=null&&u.profile){const G=u.profile,q=(B=u.weeklyCheckin)==null?void 0:B.answers;let Y=G.health_goals==="Weight Loss"?1600:G.health_goals==="Muscle Gain"?2200:1800,z=G.health_goals==="Muscle Gain"?120:G.health_goals==="Weight Loss"?100:80,J=G.health_goals==="Weight Loss"?150:G.health_goals==="Muscle Gain"?250:200,ne=G.health_goals==="Weight Loss"?50:G.health_goals==="Muscle Gain"?70:60;q&&(q.exercise>300?Y+=200:q.exercise>150&&(Y+=100),q.exercise>300?z+=20:q.exercise>150&&(z+=10));const H=Math.round(Y*.9),Q=q!=null&&q.water_intake?(q.water_intake*.25).toFixed(1):"6.5",re=Math.round(z*.9),Z=Math.round(J*.92),me=Math.round(ne*.97),pe=(q==null?void 0:q.junk_food)>5?32:22,fe=q!=null&&q.exercise?Math.round(q.exercise/7):35;return[{name:"Daily Calories",value:H.toLocaleString(),target:Y.toLocaleString(),unit:"kcal",progress:Math.round(H/Y*100)},{name:"Water Intake",value:Q,target:"8",unit:"cups",progress:Math.round(parseFloat(Q)/8*100)},{name:"Protein",value:re.toString(),target:z.toString(),unit:"g",progress:Math.round(re/z*100)},{name:"Carbs",value:Z.toString(),target:J.toString(),unit:"g",progress:Math.round(Z/J*100)},{name:"Fat",value:me.toString(),target:ne.toString(),unit:"g",progress:Math.round(me/ne*100)},{name:"Sugar",value:pe.toString(),target:"25",unit:"g",progress:Math.round(pe/25*100)},{name:"Exercise",value:fe.toString(),target:"30",unit:"min",progress:Math.round(fe/30*100)}]}return[{name:"Daily Calories",value:"1,750",target:"2,000",unit:"kcal",progress:87},{name:"Water Intake",value:"6.5",target:"8",unit:"cups",progress:81},{name:"Protein",value:"72",target:"80",unit:"g",progress:90},{name:"Carbs",value:"230",target:"250",unit:"g",progress:92},{name:"Fat",value:"58",target:"60",unit:"g",progress:97},{name:"Sugar",value:"32",target:"25",unit:"g",progress:128},{name:"Exercise",value:"35",target:"30",unit:"min",progress:117}]})(),k=(()=>{var G,q,Y,z,J,ne,H,Q;const B=[{name:"High Sodium Foods",count:((G=u==null?void 0:u.profile)==null?void 0:G.health_conditions)==="Hypertension"?7:4,recommendation:"Try to reduce your sodium intake by choosing low-sodium alternatives."},{name:"Artificial Additives",count:((Y=(q=u==null?void 0:u.weeklyCheckin)==null?void 0:q.answers)==null?void 0:Y.junk_food)>5?10:7,recommendation:"Consider choosing more natural food options with fewer additives."},{name:"Added Sugar",count:((z=u==null?void 0:u.profile)==null?void 0:z.health_conditions)==="Diabetes"?8:5,recommendation:"Look for sugar-free or reduced sugar alternatives."}];return((J=u==null?void 0:u.profile)==null?void 0:J.health_conditions)==="Diabetes"&&B.push({name:"High Glycemic Index Foods",count:6,recommendation:"Choose low glycemic index foods to help manage blood sugar levels."}),((ne=u==null?void 0:u.profile)==null?void 0:ne.health_conditions)==="Heart Issues"&&B.push({name:"Trans Fats",count:3,recommendation:"Avoid foods with trans fats as they can increase risk of heart disease."}),(((H=u==null?void 0:u.profile)==null?void 0:H.dietary_preferences)==="Vegan"||((Q=u==null?void 0:u.profile)==null?void 0:Q.dietary_preferences)==="Vegetarian")&&B.push({name:"Hidden Animal Products",count:2,recommendation:"Watch for hidden animal-derived ingredients in processed foods."}),B})(),R=()=>{h({title:"Report Downloaded",description:"Your health report has been downloaded successfully."})},M=B=>{n(r===B?null:B)},V=(B,G)=>{h({title:"Shared successfully",description:`Your achievement has been shared to ${B}.`}),n(null)},$=y().calorieData,D=y().waterData,L=y().nutrientData;return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(Qi,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s&&a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(zr,{className:"h-8 w-8 text-safebite-teal animate-spin"}),a.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading your reports..."})]}),!s&&o&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(fs,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Error Loading Reports"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:o}),a.jsx(te,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Try Again"})]}),!s&&!o&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Reports & Achievements"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your health progress and earn badges for healthy habits"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(te,{onClick:R,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(MY,{className:"mr-2 h-4 w-4"}),"Download Report"]})})]}),a.jsxs(oi,{defaultValue:"healthReport",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(Ls,{className:"grid grid-cols-3 gap-2",children:[a.jsxs(jt,{value:"healthReport",className:t==="healthReport"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(TY,{className:"mr-2 h-4 w-4"}),"Health Report"]}),a.jsxs(jt,{value:"badges",className:t==="badges"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(km,{className:"mr-2 h-4 w-4"}),"Badges"]}),a.jsxs(jt,{value:"achievements",className:t==="achievements"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Td,{className:"mr-2 h-4 w-4"}),"Achievements"]})]})}),a.jsxs(Bt,{value:"healthReport",className:"mt-0",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Dr,{className:"mr-2 h-5 w-5"}),"Weekly Overview"]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Health Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Your weekly health rating"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-3xl font-bold text-safebite-teal",children:"78"}),a.jsxs("div",{className:"ml-2 text-green-400 flex items-center text-sm",children:[a.jsx(AY,{className:"h-4 w-4 mr-1"}),"+12%"]})]})]}),a.jsx("div",{className:"space-y-4",children:C.map(B=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-safebite-text",children:B.name}),a.jsxs("span",{className:"text-safebite-text-secondary",children:[B.value," / ",B.target," ",B.unit]})]}),a.jsx(Qm,{value:B.progress,className:`h-2 ${B.progress>100?B.name==="Exercise"?"bg-green-600":"bg-amber-600":""}`})]},B.name))})]})]}),a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Food Safety Analysis"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Safety Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Based on scanned products"})]}),a.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center text-safebite-dark-blue text-2xl font-bold",children:"6.5"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"Food safety issues found in your scanned products this week:"}),k.map((B,G)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:B.name}),a.jsxs(Le,{className:"bg-amber-500 text-safebite-dark-blue",children:[B.count," items"]})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:B.recommendation})]},G))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(QN,{title:"Calorie Intake",data:$,color:"#00ffcc"}),a.jsx(QN,{title:"Water Intake (cups)",data:D,color:"#3b82f6"}),a.jsx(QN,{title:"Nutrient Score",data:L,color:"#a855f7"})]})]}),a.jsx(Bt,{value:"badges",className:"mt-0",children:a.jsx(Re,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(km,{className:"mr-2 h-5 w-5"}),"Your Badges"]})}),a.jsx("div",{className:"p-6",children:s?a.jsx("div",{className:"flex justify-center",children:a.jsx(zr,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading badges. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:_&&_.map((B,G)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"mb-2 text-sm text-safebite-text-secondary",children:B.category}),a.jsx(Le,{className:"mb-2 bg-amber-500 text-safebite-dark-blue",children:"Badge"}),a.jsx(kn,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:B.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:B.description}),a.jsx(te,{onClick:()=>M("badge-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="badge-"+G&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(te,{onClick:()=>V("facebook"),variant:"ghost",size:"icon",children:a.jsx(lR,{className:"h-5 w-5"})}),a.jsx(te,{onClick:()=>V("twitter"),variant:"ghost",size:"icon",children:a.jsx(aE,{className:"h-5 w-5"})}),a.jsx(te,{onClick:()=>V("instagram"),variant:"ghost",size:"icon",children:a.jsx(by,{className:"h-5 w-5"})})]})]},G))})})]})})}),a.jsx(Bt,{value:"achievements",className:"mt-0",children:a.jsx(Re,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Td,{className:"mr-2 h-5 w-5"}),"Achievements"]})}),a.jsx("div",{className:"p-6",children:s?a.jsx("div",{className:"flex justify-center",children:a.jsx(zr,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading achievements. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b&&b.map((B,G)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx(Td,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:B.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:B.description}),a.jsxs("p",{className:"text-safebite-text-secondary text-center mb-2",children:["Progress: ",B.progress,"%"]}),a.jsx(Qm,{value:B.progress,className:"w-full mb-2"}),a.jsx(te,{onClick:()=>M("achievement-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="achievement-"+G&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(te,{onClick:()=>V("facebook"),variant:"ghost",size:"icon",children:a.jsx(lR,{className:"h-5 w-5"})}),a.jsx(te,{onClick:()=>V("twitter"),variant:"ghost",size:"icon",children:a.jsx(aE,{className:"h-5 w-5"})}),a.jsx(te,{onClick:()=>V("instagram"),variant:"ghost",size:"icon",children:a.jsx(by,{className:"h-5 w-5"})})]})]},G))})})]})})})]})]})})]})},Nk="https://safebite-backend.onrender.com/api";console.log("Backend API URL:",Nk);console.log("Using API URL:",Nk);const Ek=t=>{let e=t.nutritionScore||"yellow";return t.nutritionScore||(t.nutrients.protein>15&&(t.nutrients.fiber||0)>3&&(t.nutrients.sugar||0)<10?e="green":(t.nutrients.fat>20||(t.nutrients.sugar||0)>15)&&(e="red")),{id:`mongodb-${t._id}`,name:t.name,brand:t.brand,calories:t.calories,nutritionScore:e,image:t.image||`https://source.unsplash.com/random/100x100/?${encodeURIComponent(t.name)}`,nutrients:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,fiber:t.nutrients.fiber,sugar:t.nutrients.sugar},details:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,sodium:t.nutrients.sodium||0,sugar:t.nutrients.sugar||0,calories:t.calories,ingredients:t.ingredients||[],allergens:t.allergens||[],additives:t.additives||[]},source:"MongoDB"}},vT=async t=>{const e=await Promise.allSettled([lAe(t),cAe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.warn("All MongoDB search methods failed or returned no results"),[]},lAe=async t=>{try{const e=`${Nk}/products/search?query=${encodeURIComponent(t)}`;console.log("Searching MongoDB via API:",e);const r=new AbortController,n=setTimeout(()=>r.abort(),1e4),s=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:r.signal});if(console.log("API response status:",s.status),clearTimeout(n),!s.ok)throw console.warn(`API error: ${s.status} - ${s.statusText}`),new Error(`API error: ${s.status} - ${s.statusText}`);const i=await s.json();return console.log(`Found ${i.length} products from MongoDB via API`),Array.isArray(i)?i.map(o=>Ek(o)):(console.warn("API did not return an array:",i),[])}catch(e){return console.error("Error searching MongoDB via API:",e),[]}},cAe=async t=>{try{console.log("Trying direct Render backend...");const e=`https://safebite-backend.onrender.com/api/products/search?query=${encodeURIComponent(t)}`,r=new AbortController,n=setTimeout(()=>r.abort(),1e4),s=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:r.signal});if(clearTimeout(n),!s.ok)throw new Error(`Render API error: ${s.status}`);const i=await s.json();return console.log(`Found ${i.length} products from MongoDB via Render backend`),Array.isArray(i)?i.map(o=>Ek(o)):(console.warn("Render API did not return an array:",i),[])}catch(e){return console.error("Render backend search failed:",e),[]}},lW=Object.freeze(Object.defineProperty({__proto__:null,convertProductToFoodItem:Ek,searchProductsInMongoDB:vT},Symbol.toStringTag,{value:"Module"})),uAe=async t=>{try{console.log("Searching recipes from MongoDB:",t);const e=`${t} recipe`,r=await vT(e);let n=[...r];if(t.toLowerCase().indexOf("recipe")===-1){const o=await vT(t);n=[...r,...o]}return n.filter(o=>{var l,u,d,h;return((l=o.details)==null?void 0:l.ingredients)&&o.details.ingredients.length>0||((u=o.category)==null?void 0:u.toLowerCase().includes("recipe"))||((d=o.name)==null?void 0:d.toLowerCase().includes("recipe"))||t.toLowerCase().includes("recipe")&&((h=o.details)==null?void 0:h.ingredients)}).filter((o,l,u)=>l===u.findIndex(d=>d.id===o.id)).map(o=>{var u,d,h,m,p,x,_,b;let l=((u=o.details)==null?void 0:u.instructions)||[];return l.length===0&&((d=o.details)!=null&&d.ingredients)&&o.details.ingredients.length>0&&(l=Ak(o.name,o.details.ingredients)),{id:o.id,title:o.name,image:o.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(o.name+" food")}`,calories:o.calories||0,servings:o.servings||4,cookTime:o.cookTime||o.cook_time||30,prepTime:o.prepTime||o.prep_time||15,healthLabels:dAe(o),source:o.source||"MongoDB",ingredients:((h=o.details)==null?void 0:h.ingredients)||[],instructions:l,nutrients:{protein:((m=o.nutrients)==null?void 0:m.protein)||0,carbs:((p=o.nutrients)==null?void 0:p.carbs)||0,fat:((x=o.nutrients)==null?void 0:x.fat)||0,fiber:((_=o.nutrients)==null?void 0:_.fiber)||0,sodium:((b=o.details)==null?void 0:b.sodium)||0}}})}catch(e){return console.error("Error searching recipes from MongoDB:",e),[]}},dAe=t=>{var r,n,s,i;const e=[];if(t.nutritionScore==="green"?e.push("Healthy"):t.nutritionScore==="red"?e.push("High-Calorie"):e.push("Balanced"),((r=t.nutrients)==null?void 0:r.protein)>15&&e.push("High-Protein"),((n=t.nutrients)==null?void 0:n.fiber)>5&&e.push("High-Fiber"),((s=t.nutrients)==null?void 0:s.fat)<5&&e.push("Low-Fat"),(i=t.details)!=null&&i.ingredients){const o=t.details.ingredients.join(" ").toLowerCase(),l=["meat","chicken","beef","pork","fish","seafood","lamb"],u=["milk","cheese","yogurt","cream","butter"];l.some(d=>o.includes(d))||(e.push("Vegetarian"),u.some(d=>o.includes(d))||e.push("Vegan"))}return e},fAe="a522a439",hAe="636a3e9b2dd910c9b39f42bfdcbcf61a",mAe="07d50733",pAe="80fcb49b500737827a9a23f7049653b9",la=async t=>{try{console.log("Getting recipes for query:",t);try{const e=await k$(t);if(console.log(`Edamam returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("Edamam search failed:",e)}try{const e=await uAe(t);if(console.log(`MongoDB returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("MongoDB search failed:",e)}if(t.includes(" ")){const e=t.split(" ")[0];console.log(`Trying simplified query: ${e}`);try{const r=await k$(e);if(console.log(`Simplified query returned ${r.length} recipes`),r.length>0)return r}catch(r){console.error("Simplified query search failed:",r)}}return console.log("No recipes found for query:",t),[]}catch(e){return console.error("Error getting recipes:",e),[]}},k$=async t=>{try{console.log("Searching recipes from Edamam:",t);const e=await Promise.allSettled([gAe(t),vAe(t)]);let r=[];for(const n of e)n.status==="fulfilled"&&n.value.length>0&&(r=[...r,...n.value]);return r}catch(e){return console.error("Error searching recipes from Edamam:",e),[]}},gAe=async t=>{try{console.log("Searching Edamam Recipe API:",t);const e=`https://api.edamam.com/api/recipes/v2?type=public&q=${encodeURIComponent(t)}&app_id=${fAe}&app_key=${hAe}`;console.log("Edamam Recipe API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Recipe API error: ${r.status}`),new Error(`Edamam Recipe API error: ${r.status}`);const n=await r.json();return!n.hits||n.hits.length===0?[]:n.hits.map(s=>{var o,l,u,d,h,m,p,x,_,b;const i=s.recipe;return{id:`edamam-${i.uri.split("#recipe_")[1]}`,title:i.label,image:i.image,calories:Math.round(i.calories/i.yield),servings:i.yield,cookTime:i.totalTime>0?i.totalTime:30,prepTime:Math.round(i.totalTime/3)||10,healthLabels:i.healthLabels||[],source:"Edamam",ingredients:i.ingredientLines||[],instructions:Ak(i.label,i.ingredientLines||[]),nutrients:{protein:Math.round(((l=(o=i.totalNutrients)==null?void 0:o.PROCNT)==null?void 0:l.quantity)/i.yield)||0,carbs:Math.round(((d=(u=i.totalNutrients)==null?void 0:u.CHOCDF)==null?void 0:d.quantity)/i.yield)||0,fat:Math.round(((m=(h=i.totalNutrients)==null?void 0:h.FAT)==null?void 0:m.quantity)/i.yield)||0,fiber:Math.round(((x=(p=i.totalNutrients)==null?void 0:p.FIBTG)==null?void 0:x.quantity)/i.yield)||0,sodium:Math.round(((b=(_=i.totalNutrients)==null?void 0:_.NA)==null?void 0:b.quantity)/i.yield)||0}}})}catch(e){return console.error("Error searching Edamam Recipe API:",e),[]}},vAe=async t=>{try{console.log("Searching Edamam Food API for recipes:",t);const e=`https://api.edamam.com/api/food-database/v2/parser?app_id=${mAe}&app_key=${pAe}&ingr=${encodeURIComponent(t)}`;console.log("Edamam Food API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Food API error: ${r.status}`),new Error(`Edamam Food API error: ${r.status}`);const n=await r.json();return!n.hints||n.hints.length===0?[]:n.hints.filter(s=>{const i=s.food;return i.category==="Generic meals"||i.category==="Generic dishes"||i.foodContentsLabel}).map(s=>{const i=s.food,o=s.measures,l=o.find(d=>d.label==="Serving")||o[0],u=i.foodContentsLabel?i.foodContentsLabel.split(";").map(d=>d.trim()):[i.label];return{id:`edamam-food-${i.foodId}`,title:i.label,image:i.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(i.label+" food")}`,calories:Math.round(i.nutrients.ENERC_KCAL)||0,servings:4,cookTime:30,prepTime:15,healthLabels:i.healthLabels||[],source:"Edamam Food",ingredients:u,instructions:Ak(i.label,u),nutrients:{protein:Math.round(i.nutrients.PROCNT)||0,carbs:Math.round(i.nutrients.CHOCDF)||0,fat:Math.round(i.nutrients.FAT)||0,fiber:Math.round(i.nutrients.FIBTG)||0,sodium:Math.round(i.nutrients.NA)||0}}})}catch(e){return console.error("Error searching Edamam Food API for recipes:",e),[]}},Ak=(t,e)=>{const r=[`Prepare all ingredients for ${t}.`,"Wash and chop all vegetables and herbs as needed."],n=e.some(l=>/chicken|beef|pork|turkey|lamb|meat|fish|seafood|shrimp/i.test(l)),s=e.some(l=>/vegetable|carrot|onion|pepper|tomato|potato|broccoli|spinach|lettuce|kale|cabbage/i.test(l)),i=e.some(l=>/milk|cheese|cream|yogurt|butter/i.test(l)),o=e.some(l=>/rice|pasta|noodle|bread|flour|grain|wheat|oat|barley|quinoa/i.test(l));return n&&r.push("Season the meat with salt and pepper.","Cook the meat until it reaches the appropriate internal temperature."),s&&r.push("Saut the vegetables until tender."),o&&r.push("Cook the grains according to package instructions."),n&&s&&r.push("Combine the cooked meat and vegetables."),i&&r.push("Add dairy ingredients and stir until well incorporated."),r.push("Adjust seasoning to taste.",`Serve ${t} hot and enjoy!`),r},yAe=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(!1),[s,i]=j.useState([]),[o,l]=j.useState("all"),[u,d]=j.useState(null),[h,m]=j.useState([]),[p,x]=j.useState(null),[_,b]=j.useState(!1),{toast:y}=ir(),N=Ut(We),S=wr(We),[T,E]=j.useState(null),[C,O]=j.useState([]);j.useEffect(()=>{(async()=>{if(N.currentUser)try{const L=ht(S,"users",N.currentUser.uid),B=await sr(L);B.exists()&&E(B.data());const G=ht(S,"user_activities",N.currentUser.uid),q=await sr(G);if(q.exists()){const Y=q.data();O(Y.activities||[])}}catch(L){console.error("Error loading user data:",L)}})()},[N.currentUser,S]),j.useEffect(()=>{(async()=>{n(!0),d(null);try{const L=N.currentUser;if(L)try{const G=ht(S,"users",L.uid),q=await sr(G);q.exists()&&q.data().favoriteRecipes&&m(q.data().favoriteRecipes)}catch(G){console.error("Error loading favorite recipes:",G)}const B=await la("");if(i(B),B.length===0){const G=await la("popular");i(G)}}catch(L){console.error("Error loading initial recipes:",L),i([]),d("Unable to load recipes. Please try again later.")}finally{n(!1)}})()},[N,S]);const k=async()=>{if(t.trim()){n(!0),d(null);try{console.log("Searching for recipes with query:",t);const D=await la(t);i(D),RM(t,D);const L=N.currentUser;if(L)try{const B=ht(S,"users",L.uid);await Wn(B,{recipeSearches:{recent:t,timestamp:new Date().toISOString(),resultCount:D.length}},{merge:!0})}catch(B){console.error("Error saving recipe search:",B)}if(D.length>0)y({title:`Found ${D.length} recipes`,description:"Here are your recipe results"});else{console.log("No results found, trying with a more generic search term");const B=t.split(" ")[0];if(B&&B!==t)try{const G=await la(B);if(G.length>0){i(G),y({title:`Found ${G.length} recipes`,description:`Showing results for "${B}" instead`});return}}catch(G){console.error("Error with generic search:",G)}y({title:"No recipes found",description:"Try a different search term or check our popular recipes",variant:"default"});try{console.log("Trying popular recipes as fallback");const G=await la("popular");G.length>0?(i(G),y({title:"Showing popular recipes instead",description:"We couldn't find recipes matching your search"})):d("No recipes found. Please try a different search term.")}catch(G){console.error("Error getting fallback recipes:",G),d("Unable to load recipes. Please try again later.")}}}catch(D){console.error("Error searching recipes:",D),i([]),d("Unable to fetch recipes. Please try again later."),y({title:"Search Error",description:"Unable to fetch recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}}},R=async D=>{l(D),n(!0),d(null);try{if(D==="all"){const L=await la("popular");i(L)}else if(D==="favorites")if(h.length>0)try{const B=(await la("popular")).filter(G=>h.includes(G.id));B.length>0?i(B):(i([]),d("Your favorite recipes could not be loaded. Please try again later."))}catch(L){console.error("Error loading favorite recipes:",L),i([]),d("Your favorite recipes could not be loaded. Please try again later.")}else i([]),d("You have no favorite recipes yet. Click the star icon to add recipes to your favorites.");else if(D==="edamam"){const L=await la("popular");i(L.filter(B=>B.source.includes("Edamam")))}else if(D==="edamam-food"){const L=await la("popular");i(L.filter(B=>B.source.includes("Edamam Food")))}else{const L=await la("popular");i(L)}s.length===0&&D!=="favorites"&&d("No recipes found. Please try searching for specific recipes.")}catch(L){console.error("Error changing tab:",L),i([]),d("Unable to load recipes. Please try again later."),y({title:"Error",description:"Unable to load recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}},M=async D=>{const L=N.currentUser;if(!L){y({title:"Sign in required",description:"Please sign in to save favorite recipes",variant:"default"});return}try{let B;h.includes(D)?(B=h.filter(q=>q!==D),y({title:"Removed from favorites",description:"Recipe removed from your favorites"})):(B=[...h,D],y({title:"Added to favorites",description:"Recipe added to your favorites"})),m(B);const G=ht(S,"users",L.uid);await Wn(G,{favoriteRecipes:B},{merge:!0})}catch(B){console.error("Error toggling favorite recipe:",B),y({title:"Error",description:"Unable to update favorites. Please try again.",variant:"destructive"})}},V=D=>{y({title:"Recipe saved",description:"Recipe added to your favorites"})},$=D=>{x(D),b(!0);try{RM("view_details",[D])}catch(L){console.error("Error tracking recipe view:",L)}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(Qi,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Healthy Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Discover nutritious and delicious Indian recipes tailored to your health goals"})]}),a.jsx("div",{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{placeholder:"Search for recipes (e.g., vegetarian curry, low-calorie)",className:"sci-fi-input pl-10",value:t,onChange:D=>e(D.target.value),onKeyDown:D=>D.key==="Enter"&&k()})]})}),a.jsxs(te,{onClick:k,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(Hr,{className:"mr-2 h-4 w-4"}),"Search"]}),a.jsxs(te,{variant:"outline",className:"sci-fi-button",children:[a.jsx(VY,{className:"mr-2 h-4 w-4"}),"Filters"]})]})}),a.jsxs(oi,{defaultValue:"all",className:"mb-6",children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(Ls,{className:"grid grid-cols-3 gap-2",children:[a.jsxs(jt,{value:"all",onClick:()=>R("all"),className:o==="all"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(pm,{className:"mr-2 h-4 w-4"}),"All Recipes"]}),a.jsxs(jt,{value:"favorites",onClick:()=>R("favorites"),className:o==="favorites"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(kn,{className:"mr-2 h-4 w-4 text-yellow-400"}),"Favorites"]}),a.jsxs(jt,{value:"edamam",onClick:()=>R("edamam"),className:o==="edamam"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(zi,{className:"mr-2 h-4 w-4"}),"Edamam Recipes"]})]})}),a.jsx(Bt,{value:"all",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ro,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(D=>a.jsxs(Re,{className:"sci-fi-card overflow-hidden hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image||"https://via.placeholder.com/300x200?text=No+Image",alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Le,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2 line-clamp-1",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Di,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories||"N/A"," kcal"]}),a.jsx(Dr,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.cookTime||"30"," min"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels&&D.healthLabels.slice(0,2).map((L,B)=>a.jsx(Le,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs(te,{variant:"outline",className:"w-full sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>$(D),children:[a.jsx(ei,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]},D.id))})}),a.jsx(Bt,{value:"mongodb",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ro,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.filter(D=>D.source==="MongoDB").map(D=>a.jsxs(Re,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Le,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Di,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(Dr,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx(ti,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((L,B)=>a.jsx(Le,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(te,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:()=>V(D.id),children:a.jsx(Ed,{className:"h-4 w-4"})})]})]})]},D.id))})}),a.jsx(Bt,{value:"edamam",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ro,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.filter(D=>D.source==="Edamam").map(D=>a.jsxs(Re,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Le,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Di,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(Dr,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx(ti,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((L,B)=>a.jsx(Le,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(te,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:()=>V(D.id),children:a.jsx(Ed,{className:"h-4 w-4"})})]})]})]},D.id))})}),a.jsx(Bt,{value:"fatsecret",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ro,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.filter(D=>D.source==="FatSecret").map(D=>a.jsxs(Re,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Le,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Di,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(Dr,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx(ti,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((L,B)=>a.jsx(Le,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(te,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:()=>V(D.id),children:a.jsx(Ed,{className:"h-4 w-4"})})]})]})]},D.id))})})]})]}),a.jsx(Ld,{open:_,onOpenChange:b,children:a.jsx(tu,{className:"sci-fi-card max-w-4xl",children:p&&a.jsxs(a.Fragment,{children:[a.jsxs(ru,{children:[a.jsxs(nu,{className:"text-2xl flex items-center",children:[a.jsx(pm,{className:"h-6 w-6 text-safebite-teal mr-3"}),p.title]}),a.jsxs(nf,{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs(Le,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(ti,{className:"h-3 w-3 mr-1"}),p.servings||"4"," servings"]}),a.jsxs(Le,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Dr,{className:"h-3 w-3 mr-1"}),p.cookTime||"30"," min"]}),a.jsx(Le,{className:"bg-safebite-card-bg-alt",children:p.source})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-safebite-teal/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),p.ingredients?a.jsx("ul",{className:"space-y-3 text-safebite-text-secondary",children:p.ingredients.map((D,L)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-safebite-teal/20 text-safebite-teal text-xs font-medium mr-3",children:L+1}),D]},L))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Ingredient information not available"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-purple-500/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),p.instructions?a.jsx("div",{className:"text-safebite-text-secondary",children:p.instructions.map((D,L)=>a.jsxs("div",{className:"mb-4 flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-purple-500/20 text-purple-500 text-sm font-medium mr-3",children:L+1}),a.jsx("p",{children:D})]},L))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Instruction information not available"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("div",{className:"flex space-x-2",children:a.jsxs(te,{variant:"outline",className:"sci-fi-button",onClick:()=>M(p.id),children:[a.jsx(kn,{className:"h-4 w-4 mr-2"}),"Add to Favorites"]})}),a.jsx(PU,{asChild:!0,children:a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Close"})})]})]})})}),a.jsx(Po,{currentPage:"recipes",userData:{profile:T,recentActivity:C},autoOpen:!0,initialMessage:"Looking for recipe ideas? I can suggest recipes based on dietary preferences, ingredients you have, or health goals. What kind of recipes are you interested in?"})]})]})},xAe=({isOpen:t,onClose:e,toolId:r,toolName:n,toolData:s})=>{const[i,o]=j.useState(!0),[l,u]=j.useState(!1),{toast:d}=ir(),h=Ut(We),m=wr(We),{isGuest:p}=Kn();if(!t)return null;const x=async()=>{if(p){d({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}u(!0);try{const _=h.currentUser;if(!_)throw new Error("User not authenticated");const b=ht(m,"users",_.uid),y=await sr(b),N=y.exists()?y.data():{};await Wn(b,{healthboxResults:{...N.healthboxResults,[r]:{name:n,data:s,timestamp:Date.now(),showOnDashboard:i}}},{merge:!0}),d({title:"Results saved",description:i?"Your results have been saved and will be displayed on your dashboard.":"Your results have been saved.",icon:a.jsx(Ri,{className:"h-4 w-4 text-green-500"})}),e()}catch(_){console.error("Error saving results:",_),d({title:"Error",description:"Failed to save results. Please try again.",variant:"destructive",icon:a.jsx(Hn,{className:"h-4 w-4 text-red-500"})})}finally{u(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Re,{className:"w-full max-w-md mx-4 bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(_t,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(te,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(xn,{className:"h-5 w-5"})}),a.jsx(yt,{className:"text-xl font-bold text-safebite-text",children:"Save Results"})]}),a.jsxs(ct,{className:"pt-6",children:[a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["Save your ",n," results to access them later. You can also choose to display these results on your dashboard."]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg mb-6",children:[a.jsx(it,{htmlFor:"show-on-dashboard",className:"text-safebite-text cursor-pointer",children:"Show on dashboard"}),a.jsx(Zb,{id:"show-on-dashboard",checked:i,onCheckedChange:o})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(te,{variant:"outline",onClick:e,disabled:l,children:"Cancel"}),a.jsx(te,{onClick:x,disabled:l,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:l?a.jsx(a.Fragment,{children:a.jsx("span",{className:"animate-pulse",children:"Saving..."})}):a.jsxs(a.Fragment,{children:[a.jsx(j6,{className:"mr-2 h-4 w-4"}),"Save Results"]})})]})]})]})})},bAe=({onSaveResults:t})=>{const[e,r]=j.useState(170),[n,s]=j.useState(70),[i,o]=j.useState(null),[l,u]=j.useState(""),d=()=>{if(e&&n){const h=e/100,m=n/(h*h),p=Math.round(m*10)/10;let x="";m<18.5?x="Underweight":m>=18.5&&m<25?x="Normal weight":m>=25&&m<30?x="Overweight":x="Obesity",o(p),u(x),ri("bmi","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(xy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"BMI Calculator"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(xt,{id:"height",type:"number",value:e,onChange:h=>r(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(xt,{id:"weight",type:"number",value:n,onChange:h=>s(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsx(te,{onClick:d,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate BMI"}),i!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Your BMI:"}),a.jsx("span",{className:"text-safebite-text font-semibold",children:i})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:l})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx(Le,{className:`
                  ${l==="Underweight"?"bg-blue-500":""}
                  ${l==="Normal weight"?"bg-green-500":""}
                  ${l==="Overweight"?"bg-orange-500":""}
                  ${l==="Obesity"?"bg-red-500":""}
                  text-white
                `,children:l}),t&&a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t("bmi-calculator","BMI Calculator",{bmi:i,category:l,height:e,weight:n,date:new Date().toISOString()}),children:[a.jsx(j6,{className:"mr-2 h-4 w-4"}),"Save to Dashboard"]})]})]})]})})]})};var wAe=[" ","Enter","ArrowUp","ArrowDown"],_Ae=[" ","Enter"],og="Select",[M0,D0,jAe]=Mp(og),[oh,nCe]=$s(og,[jAe,ub]),L0=ub(),[SAe,fc]=oh(og),[NAe,EAe]=oh(og),cW=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:m,disabled:p,required:x,form:_}=t,b=L0(e),[y,N]=j.useState(null),[S,T]=j.useState(null),[E,C]=j.useState(!1),O=Yf(d),[k=!1,R]=ds({prop:n,defaultProp:s,onChange:i}),[M,V]=ds({prop:o,defaultProp:l,onChange:u}),$=j.useRef(null),D=y?_||!!y.closest("form"):!0,[L,B]=j.useState(new Set),G=Array.from(L).map(q=>q.props.value).join(";");return a.jsx(nV,{...b,children:a.jsxs(SAe,{required:x,scope:e,trigger:y,onTriggerChange:N,valueNode:S,onValueNodeChange:T,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:$i(),value:M,onValueChange:V,open:k,onOpenChange:R,dir:O,triggerPointerDownPosRef:$,disabled:p,children:[a.jsx(M0.Provider,{scope:e,children:a.jsx(NAe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(q=>{B(Y=>new Set(Y).add(q))},[]),onNativeOptionRemove:j.useCallback(q=>{B(Y=>{const z=new Set(Y);return z.delete(q),z})},[]),children:r})}),D?a.jsxs(OW,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:m,value:M,onChange:q=>V(q.target.value),disabled:p,form:_,children:[M===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},G):null]})})};cW.displayName=og;var uW="SelectTrigger",dW=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=L0(r),o=fc(uW,r),l=o.disabled||n,u=Ct(e,o.onTriggerChange),d=D0(r),h=j.useRef("touch"),[m,p,x]=MW(b=>{const y=d().filter(T=>!T.disabled),N=y.find(T=>T.value===o.value),S=DW(y,b,N);S!==void 0&&o.onValueChange(S.value)}),_=b=>{l||(o.onOpenChange(!0),x()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(sV,{asChild:!0,...i,children:a.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":RW(o.value)?"":void 0,...s,ref:u,onClick:Ue(s.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&_(b)}),onPointerDown:Ue(s.onPointerDown,b=>{h.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:Ue(s.onKeyDown,b=>{const y=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(y&&b.key===" ")&&wAe.includes(b.key)&&(_(),b.preventDefault())})})})});dW.displayName=uW;var fW="SelectValue",hW=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=t,u=fc(fW,r),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,m=Ct(e,u.onValueNodeChange);return Zr(()=>{d(h)},[d,h]),a.jsx(qe.span,{...l,ref:m,style:{pointerEvents:"none"},children:RW(u.value)?a.jsx(a.Fragment,{children:o}):i})});hW.displayName=fW;var AAe="SelectIcon",mW=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(qe.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});mW.displayName=AAe;var TAe="SelectPortal",pW=t=>a.jsx(tb,{asChild:!0,...t});pW.displayName=TAe;var wu="SelectContent",gW=j.forwardRef((t,e)=>{const r=fc(wu,t.__scopeSelect),[n,s]=j.useState();if(Zr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Mf.createPortal(a.jsx(vW,{scope:t.__scopeSelect,children:a.jsx(M0.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(yW,{...t,ref:e})});gW.displayName=wu;var Ci=10,[vW,hc]=oh(wu),CAe="SelectContentImpl",yW=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:_,hideWhenDetached:b,avoidCollisions:y,...N}=t,S=fc(wu,r),[T,E]=j.useState(null),[C,O]=j.useState(null),k=Ct(e,fe=>E(fe)),[R,M]=j.useState(null),[V,$]=j.useState(null),D=D0(r),[L,B]=j.useState(!1),G=j.useRef(!1);j.useEffect(()=>{if(T)return cU(T)},[T]),tU();const q=j.useCallback(fe=>{const[we,...ce]=D().map(ue=>ue.ref.current),[be]=ce.slice(-1),Ee=document.activeElement;for(const ue of fe)if(ue===Ee||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===we&&C&&(C.scrollTop=0),ue===be&&C&&(C.scrollTop=C.scrollHeight),ue==null||ue.focus(),document.activeElement!==Ee))return},[D,C]),Y=j.useCallback(()=>q([R,T]),[q,R,T]);j.useEffect(()=>{L&&Y()},[L,Y]);const{onOpenChange:z,triggerPointerDownPosRef:J}=S;j.useEffect(()=>{if(T){let fe={x:0,y:0};const we=be=>{var Ee,ue;fe={x:Math.abs(Math.round(be.pageX)-(((Ee=J.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(be.pageY)-(((ue=J.current)==null?void 0:ue.y)??0))}},ce=be=>{fe.x<=10&&fe.y<=10?be.preventDefault():T.contains(be.target)||z(!1),document.removeEventListener("pointermove",we),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",ce,{capture:!0})}}},[T,z,J]),j.useEffect(()=>{const fe=()=>z(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[z]);const[ne,H]=MW(fe=>{const we=D().filter(Ee=>!Ee.disabled),ce=we.find(Ee=>Ee.ref.current===document.activeElement),be=DW(we,fe,ce);be&&setTimeout(()=>be.ref.current.focus())}),Q=j.useCallback((fe,we,ce)=>{const be=!G.current&&!ce;(S.value!==void 0&&S.value===we||be)&&(M(fe),be&&(G.current=!0))},[S.value]),re=j.useCallback(()=>T==null?void 0:T.focus(),[T]),Z=j.useCallback((fe,we,ce)=>{const be=!G.current&&!ce;(S.value!==void 0&&S.value===we||be)&&$(fe)},[S.value]),me=n==="popper"?yT:xW,pe=me===yT?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:_,hideWhenDetached:b,avoidCollisions:y}:{};return a.jsx(vW,{scope:r,content:T,viewport:C,onViewportChange:O,itemRefCallback:Q,selectedItem:R,onItemLeave:re,itemTextRefCallback:Z,focusSelectedItem:Y,selectedItemText:V,position:n,isPositioned:L,searchRef:ne,children:a.jsx(pC,{as:au,allowPinchZoom:!0,children:a.jsx(mC,{asChild:!0,trapped:S.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Ue(s,fe=>{var we;(we=S.trigger)==null||we.focus({preventScroll:!0}),fe.preventDefault()}),children:a.jsx(Dp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(me,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:fe=>fe.preventDefault(),...N,...pe,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ue(N.onKeyDown,fe=>{const we=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!we&&fe.key.length===1&&H(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let be=D().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Ee=fe.target,ue=be.indexOf(Ee);be=be.slice(ue+1)}setTimeout(()=>q(be)),fe.preventDefault()}})})})})})})});yW.displayName=CAe;var kAe="SelectItemAlignedPosition",xW=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=fc(wu,r),o=hc(wu,r),[l,u]=j.useState(null),[d,h]=j.useState(null),m=Ct(e,k=>h(k)),p=D0(r),x=j.useRef(!1),_=j.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:N,focusSelectedItem:S}=o,T=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&b&&y&&N){const k=i.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=V.left-R.left,ue=M.left-Ee,Ke=k.left-ue,Ve=k.width+Ke,Ge=Math.max(Ve,R.width),ut=window.innerWidth-Ci,Gt=ex(ue,[Ci,Math.max(Ci,ut-Ge)]);l.style.minWidth=Ve+"px",l.style.left=Gt+"px"}else{const Ee=R.right-V.right,ue=window.innerWidth-M.right-Ee,Ke=window.innerWidth-k.right-ue,Ve=k.width+Ke,Ge=Math.max(Ve,R.width),ut=window.innerWidth-Ci,Gt=ex(ue,[Ci,Math.max(Ci,ut-Ge)]);l.style.minWidth=Ve+"px",l.style.right=Gt+"px"}const $=p(),D=window.innerHeight-Ci*2,L=b.scrollHeight,B=window.getComputedStyle(d),G=parseInt(B.borderTopWidth,10),q=parseInt(B.paddingTop,10),Y=parseInt(B.borderBottomWidth,10),z=parseInt(B.paddingBottom,10),J=G+q+L+z+Y,ne=Math.min(y.offsetHeight*5,J),H=window.getComputedStyle(b),Q=parseInt(H.paddingTop,10),re=parseInt(H.paddingBottom,10),Z=k.top+k.height/2-Ci,me=D-Z,pe=y.offsetHeight/2,fe=y.offsetTop+pe,we=G+q+fe,ce=J-we;if(we<=Z){const Ee=$.length>0&&y===$[$.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-b.offsetTop-b.offsetHeight,Ke=Math.max(me,pe+(Ee?re:0)+ue+Y),Ve=we+Ke;l.style.height=Ve+"px"}else{const Ee=$.length>0&&y===$[0].ref.current;l.style.top="0px";const Ke=Math.max(Z,G+b.offsetTop+(Ee?Q:0)+pe)+ce;l.style.height=Ke+"px",b.scrollTop=we-Z+b.offsetTop}l.style.margin=`${Ci}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[p,i.trigger,i.valueNode,l,d,b,y,N,i.dir,n]);Zr(()=>T(),[T]);const[E,C]=j.useState();Zr(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const O=j.useCallback(k=>{k&&_.current===!0&&(T(),S==null||S(),_.current=!1)},[T,S]);return a.jsx(IAe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(qe.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xW.displayName=kAe;var PAe="SelectPopperPosition",yT=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ci,...i}=t,o=L0(r);return a.jsx(iV,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yT.displayName=PAe;var[IAe,Tk]=oh(wu,{}),xT="SelectViewport",bW=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=hc(xT,r),o=Tk(xT,r),l=Ct(e,i.onViewportChange),u=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(M0.Slot,{scope:r,children:a.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ue(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const x=Math.abs(u.current-h.scrollTop);if(x>0){const _=window.innerHeight-Ci*2,b=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),N=Math.max(b,y);if(N<_){const S=N+x,T=Math.min(_,S),E=S-T;m.style.height=T+"px",m.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});bW.displayName=xT;var wW="SelectGroup",[RAe,OAe]=oh(wW),MAe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=$i();return a.jsx(RAe,{scope:r,id:s,children:a.jsx(qe.div,{role:"group","aria-labelledby":s,...n,ref:e})})});MAe.displayName=wW;var _W="SelectLabel",jW=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=OAe(_W,r);return a.jsx(qe.div,{id:s.id,...n,ref:e})});jW.displayName=_W;var Zx="SelectItem",[DAe,SW]=oh(Zx),NW=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,l=fc(Zx,r),u=hc(Zx,r),d=l.value===n,[h,m]=j.useState(i??""),[p,x]=j.useState(!1),_=Ct(e,S=>{var T;return(T=u.itemRefCallback)==null?void 0:T.call(u,S,n,s)}),b=$i(),y=j.useRef("touch"),N=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(DAe,{scope:r,value:n,disabled:s,textId:b,isSelected:d,onItemTextChange:j.useCallback(S=>{m(T=>T||((S==null?void 0:S.textContent)??"").trim())},[]),children:a.jsx(M0.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:a.jsx(qe.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:Ue(o.onFocus,()=>x(!0)),onBlur:Ue(o.onBlur,()=>x(!1)),onClick:Ue(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:Ue(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:Ue(o.onPointerDown,S=>{y.current=S.pointerType}),onPointerMove:Ue(o.onPointerMove,S=>{var T;y.current=S.pointerType,s?(T=u.onItemLeave)==null||T.call(u):y.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,S=>{var T;S.currentTarget===document.activeElement&&((T=u.onItemLeave)==null||T.call(u))}),onKeyDown:Ue(o.onKeyDown,S=>{var E;((E=u.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(_Ae.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});NW.displayName=Zx;var hm="SelectItemText",EW=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=fc(hm,r),l=hc(hm,r),u=SW(hm,r),d=EAe(hm,r),[h,m]=j.useState(null),p=Ct(e,N=>m(N),u.onItemTextChange,N=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,N,u.value,u.disabled)}),x=h==null?void 0:h.textContent,_=j.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=d;return Zr(()=>(b(_),()=>y(_)),[b,y,_]),a.jsxs(a.Fragment,{children:[a.jsx(qe.span,{id:u.textId,...i,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mf.createPortal(i.children,o.valueNode):null]})});EW.displayName=hm;var AW="SelectItemIndicator",TW=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return SW(AW,r).isSelected?a.jsx(qe.span,{"aria-hidden":!0,...n,ref:e}):null});TW.displayName=AW;var bT="SelectScrollUpButton",CW=j.forwardRef((t,e)=>{const r=hc(bT,t.__scopeSelect),n=Tk(bT,t.__scopeSelect),[s,i]=j.useState(!1),o=Ct(e,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(PW,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});CW.displayName=bT;var wT="SelectScrollDownButton",kW=j.forwardRef((t,e)=>{const r=hc(wT,t.__scopeSelect),n=Tk(wT,t.__scopeSelect),[s,i]=j.useState(!1),o=Ct(e,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(PW,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});kW.displayName=wT;var PW=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=hc("SelectScrollButton",r),o=j.useRef(null),l=D0(r),u=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>u(),[u]),Zr(()=>{var h;const d=l().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(qe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ue(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ue(s.onPointerLeave,()=>{u()})})}),LAe="SelectSeparator",IW=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(qe.div,{"aria-hidden":!0,...n,ref:e})});IW.displayName=LAe;var _T="SelectArrow",FAe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=L0(r),i=fc(_T,r),o=hc(_T,r);return i.open&&o.position==="popper"?a.jsx(aV,{...s,...n,ref:e}):null});FAe.displayName=_T;function RW(t){return t===""||t===void 0}var OW=j.forwardRef((t,e)=>{const{value:r,...n}=t,s=j.useRef(null),i=Ct(e,s),o=Xp(r);return j.useEffect(()=>{const l=s.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[o,r]),a.jsx(Lp,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});OW.displayName="BubbleSelect";function MW(t){const e=Gn(t),r=j.useRef(""),n=j.useRef(0),s=j.useCallback(o=>{const l=r.current+o;e(l),function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function DW(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=$Ae(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function $Ae(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var VAe=cW,LW=dW,BAe=hW,UAe=mW,zAe=pW,FW=gW,qAe=bW,$W=jW,VW=NW,HAe=EW,WAe=TW,BW=CW,UW=kW,zW=IW;const Eo=VAe,Ao=BAe,Aa=j.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(LW,{ref:n,className:Qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(UAe,{asChild:!0,children:a.jsx(CT,{className:"h-4 w-4 opacity-50"})})]}));Aa.displayName=LW.displayName;const qW=j.forwardRef(({className:t,...e},r)=>a.jsx(BW,{ref:r,className:Qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(v6,{className:"h-4 w-4"})}));qW.displayName=BW.displayName;const HW=j.forwardRef(({className:t,...e},r)=>a.jsx(UW,{ref:r,className:Qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(CT,{className:"h-4 w-4"})}));HW.displayName=UW.displayName;const Ta=j.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(zAe,{children:a.jsxs(FW,{ref:s,className:Qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(qW,{}),a.jsx(qAe,{className:Qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(HW,{})]})}));Ta.displayName=FW.displayName;const GAe=j.forwardRef(({className:t,...e},r)=>a.jsx($W,{ref:r,className:Qe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));GAe.displayName=$W.displayName;const Wt=j.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(VW,{ref:n,className:Qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(WAe,{children:a.jsx(El,{className:"h-4 w-4"})})}),a.jsx(HAe,{children:e})]}));Wt.displayName=VW.displayName;const KAe=j.forwardRef(({className:t,...e},r)=>a.jsx(zW,{ref:r,className:Qe("-mx-1 my-1 h-px bg-muted",t),...e}));KAe.displayName=zW.displayName;const YAe=()=>{const[t,e]=j.useState(30),[r,n]=j.useState("male"),[s,i]=j.useState(70),[o,l]=j.useState(170),[u,d]=j.useState("moderate"),[h,m]=j.useState(null),p=()=>{if(t&&s&&o){let x=0;r==="male"?x=88.362+13.397*s+4.799*o-5.677*t:x=447.593+9.247*s+3.098*o-4.33*t;let _=1.2;switch(u){case"sedentary":_=1.2;break;case"light":_=1.375;break;case"moderate":_=1.55;break;case"active":_=1.725;break;case"very_active":_=1.9;break}const b=Math.round(x*_);m(b),ri("calories","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(Di,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Calorie Calculator"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(xt,{id:"age",type:"number",value:t,onChange:x=>e(Number(x.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(Eo,{value:r,onValueChange:n,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select gender"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"male",children:"Male"}),a.jsx(Wt,{value:"female",children:"Female"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(xt,{id:"weight",type:"number",value:s,onChange:x=>i(Number(x.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(xt,{id:"height",type:"number",value:o,onChange:x=>l(Number(x.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(Eo,{value:u,onValueChange:d,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select activity level"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Wt,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Wt,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Wt,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Wt,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsx(te,{onClick:p,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Calories"}),h!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Calories:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[h," kcal"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Weight Loss: ",h-500," kcal"]}),a.jsxs("p",{children:["Weight Gain: ",h+500," kcal"]})]})]})]})})]})},QAe=()=>{const[t,e]=j.useState(70),[r,n]=j.useState("moderate"),[s,i]=j.useState("moderate"),[o,l]=j.useState(null),u=()=>{if(t){let d=t*30,h=1;switch(r){case"sedentary":h=1;break;case"light":h=1.1;break;case"moderate":h=1.2;break;case"active":h=1.3;break;case"very_active":h=1.4;break}let m=1;switch(s){case"cold":m=.9;break;case"moderate":m=1;break;case"hot":m=1.1;break;case"very_hot":m=1.2;break}const p=d*h*m,x=Math.round(p/100)/10;l(x),ri("water","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(LY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Water Intake Calculator"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(xt,{id:"weight",type:"number",value:t,onChange:d=>e(Number(d.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(Eo,{value:r,onValueChange:n,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select activity level"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Wt,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Wt,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Wt,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Wt,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"climate",className:"text-safebite-text-secondary",children:"Climate"}),a.jsxs(Eo,{value:s,onValueChange:i,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select climate"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"cold",children:"Cold"}),a.jsx(Wt,{value:"moderate",children:"Moderate"}),a.jsx(Wt,{value:"hot",children:"Hot"}),a.jsx(Wt,{value:"very_hot",children:"Very Hot"})]})]})]}),a.jsx(te,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Water Intake"}),o!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Water Intake:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," liters"]})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsxs("p",{children:["That's approximately ",Math.round(o*4)," glasses of water (250ml each)"]})})]})]})})]})},XAe=()=>{const[t,e]=j.useState(2e3),[r,n]=j.useState("maintain"),[s,i]=j.useState(null),[o,l]=j.useState(null),[u,d]=j.useState(null),h=()=>{if(t){let m=.3,p=.3,x=.4;switch(r){case"lose":m=.4,p=.3,x=.3;break;case"maintain":m=.3,p=.3,x=.4;break;case"gain":m=.25,p=.25,x=.5;break}const _=t*m,b=t*p,y=t*x,N=Math.round(_/4),S=Math.round(b/9),T=Math.round(y/4);l(N),d(S),i(T),ri("macros","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(g6,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Macro Calculator"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"calories",className:"text-safebite-text-secondary",children:"Daily Calories"}),a.jsx(xt,{id:"calories",type:"number",value:t,onChange:m=>e(Number(m.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"goal",className:"text-safebite-text-secondary",children:"Goal"}),a.jsxs(Eo,{value:r,onValueChange:n,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select goal"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"lose",children:"Lose Weight"}),a.jsx(Wt,{value:"maintain",children:"Maintain Weight"}),a.jsx(Wt,{value:"gain",children:"Gain Weight"})]})]})]}),a.jsx(te,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Macros"}),s!==null&&o!==null&&u!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Protein:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Carbs:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[s,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Fat:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[u,"g"]})]})]}),a.jsx("div",{className:"mt-3 h-4 bg-safebite-card-bg rounded-full overflow-hidden",children:a.jsxs("div",{className:"flex h-full",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${o*4/t*100}%`}}),a.jsx("div",{className:"bg-blue-500",style:{width:`${s*4/t*100}%`}}),a.jsx("div",{className:"bg-red-500",style:{width:`${u*9/t*100}%`}})]})}),a.jsxs("div",{className:"flex justify-between text-xs mt-1 text-safebite-text-secondary",children:[a.jsx("span",{children:"Protein"}),a.jsx("span",{children:"Carbs"}),a.jsx("span",{children:"Fat"})]})]})]})})]})},JAe=()=>{const[t,e]=j.useState(15),[r,n]=j.useState(5),[s,i]=j.useState(10),[o,l]=j.useState(3),[u,d]=j.useState(400),[h,m]=j.useState(null),[p,x]=j.useState(""),[_,b]=j.useState(""),y=()=>{let S=0,T=0;t<=1.6?S+=0:t<=3.2?S+=1:t<=4.8?S+=2:t<=6.4?S+=3:t<=8?S+=4:S+=5,r<=.9?S+=0:r<=1.9?S+=1:r<=2.8?S+=2:r<=3.7?S+=3:r<=4.7?S+=4:S+=5,s<=4.5?T+=0:s<=9?T+=1:s<=13.5?T+=2:s<=18?T+=3:s<=22.5?T+=4:T+=5,o<=1?T+=0:o<=2?T+=1:o<=3?T+=2:o<=4?T+=3:o<=5?T+=4:T+=5,u<=90?T+=0:u<=180?T+=1:u<=270?T+=2:u<=360?T+=3:u<=450?T+=4:T+=5;const E=S-T;m(E),E>=4?(x("A"),b("green")):E>=2?(x("B"),b("light-green")):E>=0?(x("C"),b("yellow")):E>=-2?(x("D"),b("orange")):(x("E"),b("red")),ri("nutrition_score","calculate")},N=()=>{switch(_){case"green":return"bg-green-500";case"light-green":return"bg-green-400";case"yellow":return"bg-yellow-400";case"orange":return"bg-orange-400";case"red":return"bg-red-500";default:return"bg-gray-400"}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(zi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Score"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"protein",className:"text-safebite-text-secondary",children:"Protein (g)"}),a.jsx(xt,{id:"protein",type:"number",value:t,onChange:S=>e(Number(S.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"fiber",className:"text-safebite-text-secondary",children:"Fiber (g)"}),a.jsx(xt,{id:"fiber",type:"number",value:r,onChange:S=>n(Number(S.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"sugar",className:"text-safebite-text-secondary",children:"Sugar (g)"}),a.jsx(xt,{id:"sugar",type:"number",value:s,onChange:S=>i(Number(S.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"saturatedFat",className:"text-safebite-text-secondary",children:"Sat. Fat (g)"}),a.jsx(xt,{id:"saturatedFat",type:"number",value:o,onChange:S=>l(Number(S.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"sodium",className:"text-safebite-text-secondary",children:"Sodium (mg)"}),a.jsx(xt,{id:"sodium",type:"number",value:u,onChange:S=>d(Number(S.target.value)),className:"sci-fi-input"})]})]}),a.jsx(te,{onClick:y,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Score"}),h!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Nutrition Score:"}),a.jsx("div",{className:`w-10 h-10 rounded-full ${N()} flex items-center justify-center text-white font-bold`,children:p})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsx("p",{children:"A = Excellent nutritional quality"}),a.jsx("p",{children:"E = Poor nutritional quality"})]})]})]})})]})},ZAe=()=>{const[t,e]=j.useState(170),[r,n]=j.useState("male"),[s,i]=j.useState("medium"),[o,l]=j.useState(null),[u,d]=j.useState(null),h=()=>{if(t){let m=0;r==="male"?m=50+2.3*((t-152.4)/2.54):m=45.5+2.3*((t-152.4)/2.54);let p=0;r==="male"?p=48+2.7*((t-152.4)/2.54):p=45.5+2.2*((t-152.4)/2.54);let x=0;r==="male"?x=56.2+1.41*((t-152.4)/2.54):x=53.1+1.36*((t-152.4)/2.54);const _=Math.round((m+p+x)/3);let b=1;switch(s){case"small":b=.9;break;case"medium":b=1;break;case"large":b=1.1;break}const y=Math.round(_*b);l(y);const N=Math.round(y*.9),S=Math.round(y*1.1);d({min:N,max:S}),ri("ideal_weight","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(xy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Ideal Weight Calculator"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(xt,{id:"height",type:"number",value:t,onChange:m=>e(Number(m.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(Eo,{value:r,onValueChange:n,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select gender"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"male",children:"Male"}),a.jsx(Wt,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"bodyFrame",className:"text-safebite-text-secondary",children:"Body Frame"}),a.jsxs(Eo,{value:s,onValueChange:i,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select body frame"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"small",children:"Small"}),a.jsx(Wt,{value:"medium",children:"Medium"}),a.jsx(Wt,{value:"large",children:"Large"})]})]})]})]}),a.jsx(te,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Ideal Weight"}),o!==null&&u!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Ideal Weight:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," kg"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Healthy weight range: ",u.min," - ",u.max," kg"]}),a.jsx("p",{className:"mt-1",children:"Based on multiple medical formulas and adjusted for your body frame."})]})]})]})})]})},eTe=()=>{const[t,e]=j.useState(70),[r,n]=j.useState(170),[s,i]=j.useState(30),[o,l]=j.useState("male"),[u,d]=j.useState(80),[h,m]=j.useState(36),[p,x]=j.useState(90),[_,b]=j.useState(null),[y,N]=j.useState(""),S=()=>{if(t&&r&&s&&u&&h){let T=0;if(o==="male")T=495/(1.0324-.19077*Math.log10(u-h)+.15456*Math.log10(r))-450;else{if(!p)return;T=495/(1.29579-.35004*Math.log10(u+p-h)+.221*Math.log10(r))-450}const E=Math.round(T*10)/10;b(E),o==="male"?E<6?N("Essential Fat"):E<14?N("Athletic"):E<18?N("Fitness"):E<25?N("Average"):N("Obese"):E<14?N("Essential Fat"):E<21?N("Athletic"):E<25?N("Fitness"):E<32?N("Average"):N("Obese"),ri("body_fat","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(XY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Body Fat Calculator"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(Eo,{value:o,onValueChange:l,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select gender"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"male",children:"Male"}),a.jsx(Wt,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(xt,{id:"age",type:"number",value:s,onChange:T=>i(Number(T.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(xt,{id:"height",type:"number",value:r,onChange:T=>n(Number(T.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(xt,{id:"weight",type:"number",value:t,onChange:T=>e(Number(T.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"neck",className:"text-safebite-text-secondary",children:"Neck (cm)"}),a.jsx(xt,{id:"neck",type:"number",value:h,onChange:T=>m(Number(T.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"waist",className:"text-safebite-text-secondary",children:"Waist (cm)"}),a.jsx(xt,{id:"waist",type:"number",value:u,onChange:T=>d(Number(T.target.value)),className:"sci-fi-input"})]}),o==="female"&&a.jsxs("div",{children:[a.jsx(it,{htmlFor:"hip",className:"text-safebite-text-secondary",children:"Hip (cm)"}),a.jsx(xt,{id:"hip",type:"number",value:p,onChange:T=>x(Number(T.target.value)),className:"sci-fi-input"})]})]}),a.jsx(te,{onClick:S,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Body Fat"}),_!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Body Fat Percentage:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[_,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:y})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Based on U.S. Navy Method"})})]})]})})]})},tTe=()=>{const[t,e]=j.useState(30),[r,n]=j.useState(70),[s,i]=j.useState("average"),[o,l]=j.useState(null),[u,d]=j.useState(null),h=()=>{if(t){const m=220-t,p=208-.7*t,x=207-.7*t,_=Math.round((m+p+x)/3);let b=0;switch(s){case"sedentary":b=-5;break;case"average":b=0;break;case"active":b=5;break;case"athlete":b=10;break}const y=_+b;l(y);const N=y-r,S={Recovery:{min:Math.round(r+N*.5),max:Math.round(r+N*.6)},"Fat Burning":{min:Math.round(r+N*.6),max:Math.round(r+N*.7)},Aerobic:{min:Math.round(r+N*.7),max:Math.round(r+N*.8)},Anaerobic:{min:Math.round(r+N*.8),max:Math.round(r+N*.9)},Maximum:{min:Math.round(r+N*.9),max:y}};d(S),ri("heart_rate","calculate")}};return a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[a.jsx(hs,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Heart Rate Zones"]})}),a.jsx(ct,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(it,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(xt,{id:"age",type:"number",value:t,onChange:m=>e(Number(m.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"restingHeartRate",className:"text-safebite-text-secondary",children:"Resting HR (bpm)"}),a.jsx(xt,{id:"restingHeartRate",type:"number",value:r,onChange:m=>n(Number(m.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(it,{htmlFor:"fitnessLevel",className:"text-safebite-text-secondary",children:"Fitness Level"}),a.jsxs(Eo,{value:s,onValueChange:i,children:[a.jsx(Aa,{className:"sci-fi-input",children:a.jsx(Ao,{placeholder:"Select fitness level"})}),a.jsxs(Ta,{children:[a.jsx(Wt,{value:"sedentary",children:"Sedentary"}),a.jsx(Wt,{value:"average",children:"Average"}),a.jsx(Wt,{value:"active",children:"Active"}),a.jsx(Wt,{value:"athlete",children:"Athlete"})]})]})]}),a.jsx(te,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Heart Rate Zones"}),o!==null&&u!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Max Heart Rate:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," bpm"]})]}),a.jsx("div",{className:"text-safebite-text-secondary text-sm font-medium mt-3 mb-1",children:"Training Zones:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([m,{min:p,max:x}])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("span",{className:"text-safebite-text-secondary",children:[m,":"]}),a.jsxs("span",{className:"text-safebite-text",children:[p," - ",x," bpm"]})]},m))})]})]})})]})},vd=({title:t,icon:e,description:r})=>a.jsxs(Re,{className:"sci-fi-card border-t-2 border-t-safebite-teal/50 shadow-md",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[e||a.jsx(Bl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),t||"Health Tool"]})}),a.jsxs(ct,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:r||"This health tool is currently under development and will be available soon."}),a.jsx("div",{className:"text-center p-4 bg-safebite-card-bg-alt rounded-md border border-safebite-teal/20",children:a.jsxs("p",{className:"text-safebite-teal flex items-center justify-center",children:[a.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})})]})]}),rTe=()=>{const[t,e]=j.useState("fitness"),[r,n]=j.useState([]),[s,i]=j.useState(""),[o,l]=j.useState([]),{toast:u}=ir(),[d,h]=j.useState(!1),[m,p]=j.useState(!1),[x,_]=j.useState(!1),[b,y]=j.useState({id:"",name:"",data:null}),{isGuest:N}=Kn(),[S,T]=j.useState(null),[E,C]=j.useState([]);j.useEffect(()=>{M()},[]),j.useEffect(()=>{(async()=>{if(!N&&auth.currentUser)try{const J=ht(db,"users",auth.currentUser.uid),ne=await sr(J);ne.exists()&&T(ne.data());const H=ht(db,"user_activities",auth.currentUser.uid),Q=await sr(H);if(Q.exists()){const re=Q.data();C(re.activities||[])}}catch(J){console.error("Error loading user data:",J)}})()},[N]);const O=z=>{e(z),ri("tab",z),kl.trackActivity("healthbox","change-tab",{tab:z})},k=z=>{const J=r.includes(z);n(J?r.filter(ne=>ne!==z):[...r,z]),ri("tool",z),kl.trackActivity("healthbox",J?"close-tool":"open-tool",{tool:z})},R=(z,J)=>{try{const ne=o.some(Q=>Q.id===z);let H;ne?H=o.filter(Q=>Q.id!==z):H=[...o,{id:z,category:J,addedAt:Date.now()}],l(H),V(H),ri("favorite",z),kl.trackActivity("healthbox",ne?"remove-favorite":"add-favorite",{tool:z}),u({title:ne?"Removed from favorites":"Added to favorites",description:`${z} has been ${ne?"removed from":"added to"} your favorites.`,variant:"default"})}catch(ne){console.error("Error toggling favorite:",ne),u({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},M=async()=>{try{const J=Ut(We).currentUser;if(J){const ne=wr(We),H=ht(ne,"userPreferences",J.uid),Q=await sr(H);Q.exists()&&Q.data().favoriteHealthTools&&l(Q.data().favoriteHealthTools)}}catch(z){console.error("Error loading favorite tools:",z)}},V=async z=>{try{const ne=Ut(We).currentUser;if(ne){const H=wr(We),Q=ht(H,"userPreferences",ne.uid);await Wn(Q,{favoriteHealthTools:z},{merge:!0})}}catch(J){console.error("Error saving favorite tools:",J)}},$=(z,J,ne)=>{if(N){u({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}y({id:z,name:J,data:ne}),_(!0),ri("save_results",z),kl.trackActivity("healthbox","save-results",{tool:z})},D={fitness:[{id:"bmi-calculator",title:"BMI Calculator",icon:a.jsx(xy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(bAe,{onSaveResults:$})},{id:"calorie-calculator",title:"Calorie Calculator",icon:a.jsx(Di,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(YAe,{})},{id:"water-intake-calculator",title:"Water Intake Calculator",icon:a.jsx(DY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(QAe,{})},{id:"macro-calculator",title:"Macro Calculator",icon:a.jsx(g6,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(XAe,{})},{id:"ideal-weight-calculator",title:"Ideal Weight Calculator",icon:a.jsx(xy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ZAe,{})},{id:"body-fat-calculator",title:"Body Fat Calculator",icon:a.jsx(sE,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(eTe,{})}],nutrition:[{id:"nutrition-score-calculator",title:"Nutrition Score Calculator",icon:a.jsx(kn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(JAe,{})},{id:"sleep-calculator",title:"Sleep Calculator",icon:a.jsx(Dr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vd,{title:"Sleep Calculator",icon:a.jsx(Dr,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],medical:[{id:"heart-rate-calculator",title:"Heart Rate Calculator",icon:a.jsx(hs,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(tTe,{})},{id:"blood-pressure-analyzer",title:"Blood Pressure Analyzer",icon:a.jsx(Bl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vd,{title:"Blood Pressure Analyzer",icon:a.jsx(Bl,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"stress-analyzer",title:"Stress Analyzer",icon:a.jsx(yy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vd,{title:"Stress Analyzer",icon:a.jsx(yy,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],safety:[{id:"food-safety-checker",title:"Food Safety Checker",icon:a.jsx(w1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vd,{title:"Food Safety Checker",icon:a.jsx(w1,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"medication-reminder",title:"Medication Reminder",icon:a.jsx(cR,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vd,{title:"Medication Reminder",icon:a.jsx(cR,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"disease-risk-assessment",title:"Disease Risk Assessment",icon:a.jsx(Ad,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vd,{title:"Disease Risk Assessment",icon:a.jsx(Ad,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}]},L=z=>{let J=z;return s&&(J=z.filter(ne=>ne.title.toLowerCase().includes(s.toLowerCase()))),d&&(J=J.filter(ne=>o.some(H=>H.id===ne.id))),J},B=D[t]||[],G=L(B),q=Object.values(D).flat(),Y=q.filter(z=>o.some(J=>J.id===z.id));return a.jsxs("div",{className:"flex min-h-screen bg-safebite-bg",children:[a.jsx(Qi,{}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs("h1",{className:"text-3xl font-bold text-safebite-text mb-6",children:[a.jsx(Fi,{className:"inline-block mr-2 h-6 w-6 text-safebite-teal"}),"Healthbox"]}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Explore our collection of health tools to monitor and improve your wellbeing."}),a.jsxs("div",{className:"mb-8 p-4 bg-safebite-card-bg rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Hr,{className:"absolute left-2 top-2.5 h-4 w-4 text-safebite-text-secondary"}),a.jsx(xt,{placeholder:"Search health tools...",className:"pl-8 bg-safebite-card-bg border-safebite-card-bg-alt",value:s,onChange:z=>i(z.target.value)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zb,{id:"favorites-only",checked:d,onCheckedChange:h}),a.jsx(it,{htmlFor:"favorites-only",className:"text-safebite-text",children:"Show favorites only"})]})]}),a.jsxs(oi,{defaultValue:t,onValueChange:O,className:"w-full",children:[a.jsxs(Ls,{className:"grid grid-cols-5 mb-8 bg-safebite-card-bg rounded-lg overflow-hidden",children:[a.jsxs(jt,{value:"fitness",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(sE,{className:"mr-2 h-4 w-4"}),"Fitness"]}),a.jsxs(jt,{value:"nutrition",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(zi,{className:"mr-2 h-4 w-4"}),"Nutrition"]}),a.jsxs(jt,{value:"medical",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ad,{className:"mr-2 h-4 w-4"}),"Medical"]}),a.jsxs(jt,{value:"safety",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(w1,{className:"mr-2 h-4 w-4"}),"Safety"]}),a.jsxs(jt,{value:"favorites",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ed,{className:"mr-2 h-4 w-4"}),"Favorites"]})]}),r.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Active Tools"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(z=>{const J=q.find(ne=>ne.id===z);return J?a.jsxs(Re,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg",children:[a.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[J.icon,J.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>R(J.id,t),className:"h-8 w-8",children:o.some(ne=>ne.id===J.id)?a.jsx(kn,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(kn,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>k(J.id),className:"h-8 w-8",children:a.jsx(y6,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(ct,{children:J.component})]},J.id):null})})]}),a.jsxs(Bt,{value:t,className:"mt-0",children:[G.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hn,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No tools found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:d?"You don't have any favorite tools in this category yet.":"No tools match your search criteria."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:G.map(z=>r.includes(z.id)?null:a.jsxs(Re,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[z.icon,z.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>R(z.id,t),className:"h-8 w-8",children:o.some(ne=>ne.id===z.id)?a.jsx(kn,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(kn,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>k(z.id),className:"h-8 w-8",children:a.jsx(rm,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(ct,{children:a.jsxs(te,{onClick:()=>k(z.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(rm,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},z.id))})]}),a.jsx(Bt,{value:"favorites",className:"mt-0",children:Y.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ed,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No favorites yet"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Star your favorite tools to access them quickly from this tab."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:Y.map(z=>r.includes(z.id)?null:a.jsxs(Re,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[a.jsxs(yt,{className:"flex items-center text-safebite-text",children:[z.icon,z.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>R(z.id,"favorites"),className:"h-8 w-8",children:a.jsx(kn,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"})}),a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>k(z.id),className:"h-8 w-8",children:a.jsx(rm,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(ct,{children:a.jsxs(te,{onClick:()=>k(z.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(rm,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},z.id))})})]})]})}),a.jsx(xAe,{isOpen:x,onClose:()=>_(!1),toolId:b.id,toolName:b.name,toolData:b.data}),a.jsx(Po,{currentPage:"healthbox",userData:{profile:S,recentActivity:E},autoOpen:!0,initialMessage:"Welcome to Healthbox! I can help you find the right health tools for your needs. What health aspect would you like to focus on today?"})]})},nTe=({isOpen:t,onClose:e,feature:r="this feature"})=>{const n=_r(),[s,i]=j.useState(!1);if(!t)return null;const o=[{icon:a.jsx(Ri,{className:"h-5 w-5 text-green-500"}),title:"Personalized Experience",description:"Get recommendations tailored to your health profile and preferences."},{icon:a.jsx(ou,{className:"h-5 w-5 text-blue-500"}),title:"Save Your Data",description:"Track your progress over time with saved health metrics and food logs."},{icon:a.jsx(CY,{className:"h-5 w-5 text-purple-500"}),title:"Detailed Analytics",description:"Access comprehensive charts and insights about your health journey."},{icon:a.jsx(ao,{className:"h-5 w-5 text-orange-500"}),title:"Secure Storage",description:"Your data is securely stored and protected with Firebase Authentication."}];return a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:a.jsxs(Re,{className:"sci-fi-card max-w-md w-full relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-safebite-teal/20 to-safebite-purple/20 rounded-lg blur-sm"}),a.jsxs("div",{className:"relative",children:[a.jsx(te,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:a.jsx(xn,{className:"h-5 w-5"})}),a.jsx(_t,{children:a.jsx(yt,{className:"text-xl font-bold text-center",children:s?"Benefits of Creating an Account":"Login Required"})}),a.jsx(ct,{children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4 mb-6",children:o.map((l,u)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-3 mt-0.5",children:l.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:l.title}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:l.description})]})]},u))}),a.jsx(te,{onClick:()=>i(!1),variant:"link",className:"text-safebite-text-secondary",children:"Back to login options"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx(eu,{className:"h-8 w-8 text-safebite-teal"})})}),a.jsxs("p",{className:"text-center text-safebite-text mb-6",children:["You need to be logged in to use ",r,"."]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(te,{onClick:()=>n("/auth/login"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(Pm,{className:"mr-2 h-4 w-4"}),"Log In"]}),a.jsxs(te,{onClick:()=>n("/auth/signup"),variant:"outline",className:"border-safebite-purple text-safebite-purple hover:bg-safebite-purple/10",children:[a.jsx(T6,{className:"mr-2 h-4 w-4"}),"Create Account"]}),a.jsx(te,{variant:"link",className:"text-safebite-text-secondary",onClick:()=>i(!0),children:"Why should I create an account?"})]})]})}),a.jsx(go,{className:"flex justify-center border-t border-safebite-card-bg-alt pt-4",children:a.jsx(te,{variant:"ghost",className:"text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:"Continue in Guest Mode"})})]})]})})},sTe=(t,e,r)=>new Promise(n=>{setTimeout(()=>{const s=[{name:"Chia Seeds",description:"Nutrient-dense seeds high in omega-3 fatty acids, fiber, and protein.",benefits:"Supports heart health, digestion, and provides sustained energy.",category:"superfoods"},{name:"Turmeric",description:"Powerful anti-inflammatory spice with curcumin as the active ingredient.",benefits:"Reduces inflammation, supports joint health, and has antioxidant properties.",category:"spices"},{name:"Kefir",description:"Fermented dairy drink rich in probiotics and protein.",benefits:"Supports gut health, immune function, and provides calcium.",category:"dairy"}],i={vegan:[{name:"Nutritional Yeast",description:"Deactivated yeast with a cheesy flavor, rich in B vitamins.",benefits:"Provides vitamin B12, protein, and adds savory flavor to dishes.",category:"vegan"},{name:"Tempeh",description:"Fermented soybean cake with a firm texture and nutty flavor.",benefits:"High in protein, probiotics, and contains all essential amino acids.",category:"vegan"}],vegetarian:[{name:"Greek Yogurt",description:"Strained yogurt with higher protein content than regular yogurt.",benefits:"Rich in protein, probiotics, and calcium for gut and bone health.",category:"dairy"},{name:"Cottage Cheese",description:"Fresh cheese curd product with a mild flavor.",benefits:"High in protein, low in calories, and contains casein protein for slow digestion.",category:"dairy"}],keto:[{name:"MCT Oil",description:"Medium-chain triglyceride oil derived from coconut oil.",benefits:"Quickly converted to ketones, provides energy, and supports ketosis.",category:"oils"},{name:"Macadamia Nuts",description:"High-fat, low-carb nuts with a buttery flavor.",benefits:"Rich in monounsaturated fats, low in carbs, and supports heart health.",category:"nuts"}],paleo:[{name:"Grass-Fed Beef",description:"Beef from cattle fed primarily grass instead of grain.",benefits:"Higher in omega-3s, CLA, and vitamins compared to conventional beef.",category:"meats"},{name:"Coconut Flour",description:"Grain-free flour alternative made from dried coconut meat.",benefits:"High in fiber, low in carbs, and suitable for grain-free baking.",category:"flours"}]},o={"weight loss":[{name:"Green Tea Extract",description:"Concentrated form of green tea rich in catechins.",benefits:"May boost metabolism, increase fat oxidation, and provide antioxidants.",category:"supplements"},{name:"Konjac Noodles",description:"Low-calorie, high-fiber noodles made from konjac yam.",benefits:"Very low in calories, high in glucomannan fiber, and promotes fullness.",category:"pasta alternatives"}],"muscle gain":[{name:"Whey Protein Isolate",description:"Highly filtered whey protein with minimal fat and lactose.",benefits:"Fast-absorbing protein source, rich in BCAAs for muscle recovery and growth.",category:"supplements"},{name:"Tart Cherry Juice",description:"Juice from tart cherries with anti-inflammatory properties.",benefits:"May reduce exercise-induced muscle soreness and improve recovery.",category:"beverages"}],"general health":[{name:"Fermented Foods Variety Pack",description:"Assortment of kimchi, sauerkraut, and pickled vegetables.",benefits:"Rich in probiotics, supports gut health, and enhances immune function.",category:"fermented foods"},{name:"Mixed Berry Blend",description:"Frozen blend of strawberries, blueberries, raspberries, and blackberries.",benefits:"High in antioxidants, fiber, and vitamin C for overall health.",category:"fruits"}]};let l=[...s],u="These products are generally beneficial for most dietary patterns and health goals.";if(e&&i[e.toLowerCase()]&&(l=[...i[e.toLowerCase()],...l].slice(0,5),u=`Products selected specifically for ${e} dietary pattern, focusing on essential nutrients that may be needed.`),r){const d=Object.keys(o).find(h=>r.toLowerCase().includes(h));d&&o[d]&&(l=[...o[d],...l].slice(0,5),u+=` Also included products that support your ${r} goal.`)}t.length>0&&(u+=` Considered your preferences for ${t.join(", ")}.`),n({products:l.slice(0,5),explanation:u})},1500)}),iTe=({userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n=!1})=>{const[s,i]=j.useState(null),[o,l]=j.useState(!1),[u,d]=j.useState(null),{toast:h}=ir();return j.useEffect(()=>{(async()=>{if(!(!t.length&&!e&&!r)){l(!0),d(null);try{Jy("gemini_product_recommendations",{userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n});const p=await sTe(t,e,r);i(p)}catch(p){console.error("Error getting AI recommendations:",p),d("Failed to generate AI recommendations. Please try again later."),h({title:"AI Recommendation Error",description:"Could not generate personalized recommendations.",variant:"destructive"})}finally{l(!1)}}})()},[t,e,r,h,n]),o?a.jsxs(Re,{className:"sci-fi-card",children:[a.jsxs(_t,{children:[a.jsxs(yt,{className:"flex items-center",children:[a.jsx(Fi,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(Wl,{children:"Generating personalized recommendations..."})]}),a.jsx(ct,{className:"flex justify-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(zr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Our AI is analyzing your preferences and health goals"})]})})]}):u?a.jsxs(Re,{className:"sci-fi-card",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center",children:[a.jsx(fs,{className:"h-5 w-5 mr-2 text-red-500"}),"AI Recommendations Unavailable"]})}),a.jsx(ct,{children:a.jsx("p",{className:"text-safebite-text-secondary",children:u})}),a.jsx(go,{children:a.jsx(te,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})})]}):s?a.jsxs(Re,{className:"sci-fi-card",children:[a.jsxs(_t,{children:[a.jsxs(yt,{className:"flex items-center",children:[a.jsx(Fi,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(Wl,{children:"Personalized suggestions based on your profile"})]}),a.jsxs(ct,{children:[a.jsx("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt",children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary italic",children:['"',s.explanation,'"']})}),a.jsx("div",{className:"space-y-3",children:s.products.map((m,p)=>a.jsx("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 mt-1",children:a.jsx(E6,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:m.name}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:m.description}),a.jsx("p",{className:"text-xs text-safebite-teal",children:m.benefits})]})]})},p))})]}),a.jsx(go,{children:a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Powered by AI - Recommendations based on your profile data"})})})]}):null},aTe=({className:t="",onStatusChange:e})=>{const[r,n]=j.useState(null),[s,i]=j.useState(Rs),[o,l]=j.useState(!1),[u,d]=j.useState(null),{toast:h}=ir(),m=async()=>{l(!0);try{const{isAvailable:p,activeUrl:x}=await R9();n(p),i(x),d(new Date),e&&e(p,x),h({title:p?"API is online":"API is offline",description:p?`Connected to the SafeBite API (${x===Rs?"Primary":"Backup"})`:"Unable to connect to any API server",variant:p?"default":"destructive"})}catch(p){console.error("Error checking API status:",p),n(!1),e&&e(!1,Rs)}finally{l(!1)}};return j.useEffect(()=>{m();const p=setInterval(()=>{m()},5*60*1e3);return()=>clearInterval(p)},[]),a.jsxs("div",{className:`flex items-center gap-1 ${t}`,children:[a.jsx(Pd,{children:a.jsxs(gm,{children:[a.jsx(vm,{asChild:!0,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${r===null?"bg-gray-400 animate-pulse":r?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"ml-1 text-xs text-safebite-text-secondary",children:["API ",r===null?"...":r?"Live":"Offline"]})]})}),a.jsx(Id,{side:"bottom",children:a.jsxs("div",{className:"text-xs",children:[a.jsxs("p",{className:"font-medium",children:["API Status: ",r?"Online":"Offline"]}),r&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Using ",s===Rs?"Primary":"Backup"," Server"]}),u&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Last checked: ",u.toLocaleTimeString()]})]})})]})}),a.jsx(te,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:m,disabled:o,children:a.jsx(iE,{className:`h-3 w-3 ${o?"animate-spin":""}`})}),a.jsx(te,{variant:"ghost",size:"icon",className:"h-6 w-6",asChild:!0,children:a.jsx("a",{href:`${s}/status`,target:"_blank",rel:"noopener noreferrer",children:a.jsx(ei,{className:"h-3 w-3"})})})]})},WW=({currentPage:t,totalPages:e,onPageChange:r,totalItems:n,itemsPerPage:s})=>{if(e<=1)return null;const i=()=>{const u=[];if(e<=5)for(let d=1;d<=e;d++)u.push(d);else{u.push(1);let d=Math.max(2,t-1),h=Math.min(e-1,t+1);t<=3&&(h=Math.min(e-1,4)),t>=e-2&&(d=Math.max(2,e-3)),d>2&&u.push("...");for(let m=d;m<=h;m++)u.push(m);h<e-1&&u.push("..."),u.push(e)}return u},o=l=>{l!==t&&l>=1&&l<=e&&r(l)};return a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(1),disabled:t===1,children:a.jsx(IY,{className:"h-4 w-4"})}),a.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t-1),disabled:t===1,children:a.jsx(PY,{className:"h-4 w-4"})}),i().map((l,u)=>l==="..."?a.jsx("span",{className:"px-2 text-safebite-text-secondary",children:"..."},`ellipsis-${u}`):a.jsx(te,{variant:t===l?"default":"outline",size:"icon",className:`h-8 w-8 ${t===l?"bg-safebite-teal text-safebite-dark-blue":""}`,onClick:()=>o(l),children:l},`page-${l}`)),a.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t+1),disabled:t===e,children:a.jsx(kT,{className:"h-4 w-4"})}),a.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(e),disabled:t===e,children:a.jsx(RY,{className:"h-4 w-4"})})]}),n!==void 0&&s!==void 0&&a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Showing ",Math.min((t-1)*s+1,n)," - ",Math.min(t*s,n)," of ",n," items"]})]})},oTe=()=>{const t=_r(),{toast:e}=ir(),r=Ut(We),n=wr(We),{isGuest:s}=Kn(),[i,o]=j.useState([]),[l,u]=j.useState([]),[d,h]=j.useState(!0),[m,p]=j.useState(""),[x,_]=j.useState("all"),[b,y]=j.useState("healthScore"),[N,S]=j.useState(1),[T,E]=j.useState(1),[C,O]=j.useState(0),k=20,[R,M]=j.useState([]),[V,$]=j.useState(!0),[D,L]=j.useState(""),[B,G]=j.useState("all"),[q,Y]=j.useState(1),[z,J]=j.useState(1),[ne,H]=j.useState(0),[Q,re]=j.useState([]),[Z,me]=j.useState(!1),[pe,fe]=j.useState(""),[we,ce]=j.useState([]),[be,Ee]=j.useState("products"),ue=[{id:"all",name:"All Products"},{id:"snacks",name:"Snacks"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"grains",name:"Grains & Cereals"},{id:"protein",name:"Protein Foods"},{id:"fruits",name:"Fruits & Vegetables"}],Ke=j.useCallback(Ie=>s?(fe(Ie),me(!0),!0):!1,[s,fe,me]);j.useEffect(()=>{(async()=>{if(r.currentUser&&!s)try{const tt=await sr(ht(n,"users",r.currentUser.uid));if(tt.exists()){const et=tt.data(),Kt=et.dietary_preferences||et.dietaryPreferences||[],Et=et.health_goals||et.healthGoals||"",Rt=et.allergens||[],rt=[...Array.isArray(Kt)?Kt:[Kt],Et,...Rt].filter(Boolean);re(rt);const bt=et.favoriteProducts||[];ce(bt)}}catch(tt){console.error("Error fetching user preferences:",tt)}})()},[r,n,s]);const[Ve,Ge]=j.useState(null),ut=async(Ie=1,tt="")=>{h(!0);try{Jy("product_page_view",{isGuest:s,page:Ie,search:tt});try{console.log(`Directly fetching from dataset: ${Rs}/dataset/products`);const et=new AbortController,Kt=setTimeout(()=>et.abort(),15e3);let Et=`${Rs}/dataset/products?page=${Ie}&limit=${k}`;tt&&(Et+=`&search=${encodeURIComponent(tt)}`);const Rt=await fetch(Et,{signal:et.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout(Kt),!Rt.ok)throw new Error(`Dataset returned status ${Rt.status}`);const rt=await Rt.json();console.log("Dataset response:",rt);let bt;if(Array.isArray(rt))bt={products:rt,total:rt.length,page:Ie,totalPages:Math.ceil(rt.length/k)};else if(rt.products&&Array.isArray(rt.products))bt={products:rt.products,total:rt.total||rt.products.length,page:rt.page||Ie,totalPages:rt.totalPages||Math.ceil((rt.total||rt.products.length)/k)};else throw new Error("Invalid response format from dataset");return o(bt.products),u(bt.products),S(bt.page),E(bt.totalPages),O(bt.total),Ge(!0),console.log("Successfully loaded products from dataset"),bt}catch(et){return console.error("Direct dataset call failed:",et),Ge(!1),e({title:"Dataset Unavailable",description:"Could not connect to the product dataset.",variant:"destructive"}),o([]),u([]),S(1),E(1),O(0),{products:[],total:0,page:1,totalPages:1}}}catch(et){return console.error("Error fetching products:",et),Ge(!1),e({title:"Dataset Unavailable",description:"Could not connect to the product dataset.",variant:"destructive"}),o([]),u([]),S(1),E(1),O(0),{products:[],total:0,page:1,totalPages:1}}finally{h(!1)}},Gt=async(Ie=1,tt="")=>{$(!0);try{Jy("grocery_page_view",{isGuest:s,page:Ie,search:tt});const et={products:FM.slice(0,4),total:4,page:Ie,totalPages:1};try{console.log(`Directly fetching from dataset: ${Rs}/dataset/groceryProducts`);const Kt=new AbortController,Et=setTimeout(()=>Kt.abort(),15e3);let Rt=`${Rs}/dataset/groceryProducts?page=${Ie}&limit=${k}`;tt&&(Rt+=`&search=${encodeURIComponent(tt)}`);const rt=await fetch(Rt,{signal:Kt.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout(Et),!rt.ok)throw new Error(`API returned status ${rt.status}`);const bt=await rt.json();console.log("Grocery API response:",bt);let ur;if(Array.isArray(bt))ur={products:bt,total:bt.length,page:Ie,totalPages:Math.ceil(bt.length/k)};else if(bt.products&&Array.isArray(bt.products))ur={products:bt.products,total:bt.total||bt.products.length,page:bt.page||Ie,totalPages:bt.totalPages||Math.ceil((bt.total||bt.products.length)/k)};else throw new Error("Invalid response format from API");return M(ur.products),Y(ur.page),J(ur.totalPages),H(ur.total),Ge(!0),console.log("Successfully loaded grocery products from API"),ur}catch(Kt){console.error("Direct grocery API call failed:",Kt),console.log("Falling back to utility function with status check");const Et=await Bde("groceryProducts",Ie,k,tt,et);return M(Et.products),Y(Et.page),J(Et.totalPages),H(Et.total),Et}}catch(et){console.error("Error fetching grocery products:",et);const Kt=FM.slice(0,4);return M(Kt),Y(1),J(1),H(4),{products:Kt,total:4,page:1,totalPages:1}}finally{$(!1)}};j.useEffect(()=>{ut(1,m)},[m]),j.useEffect(()=>{be==="grocery"&&R.length===0&&Gt(1,D)},[be,D,R]);const kr=Ie=>{Ge(Ie)},kt=j.useCallback(()=>{if(x==="all")ut(1,m);else{let Ie=[...i];if(Ie=Ie.filter(tt=>tt.category.toLowerCase()===x.toLowerCase()),m){const tt=m.toLowerCase();Ie=Ie.filter(et=>et.name.toLowerCase().includes(tt)||et.brand.toLowerCase().includes(tt)||et.description.toLowerCase().includes(tt)||et.tags.some(Kt=>Kt.toLowerCase().includes(tt)))}u(Ie)}},[x,m,i,ut,u]);j.useEffect(()=>{if(x==="all")u(i);else{const Ie=i.filter(tt=>tt.category.toLowerCase()===x.toLowerCase());u(Ie)}},[x,i,u]),j.useEffect(()=>{let Ie=[...l];Ie.sort((tt,et)=>{switch(b){case"healthScore":return et.healthScore-tt.healthScore;case"price":return tt.price?et.price?et.price-tt.price:-1:1;case"name":return tt.name.localeCompare(et.name);default:return 0}}),u(Ie)},[b,l,u]);const Zt=async Ie=>{if(!Ke("favorites"))try{const tt=we.includes(Ie)?we.filter(et=>et!==Ie):[...we,Ie];ce(tt),r.currentUser&&await Xy(ht(n,"users",r.currentUser.uid),{favoriteProducts:tt})}catch(tt){console.error("Error toggling favorite:",tt),e({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"flex min-h-screen bg-safebite-dark-blue",children:[a.jsx(Qi,{}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[d?a.jsx(zr,{className:"animate-spin h-8 w-8 text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(aTe,{apiAvailable:Ve,onApiStatusChange:kr}),a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(xt,{placeholder:"Search products...",value:m,onChange:Ie=>p(Ie.target.value),className:"w-full"}),a.jsx(te,{onClick:kt,className:"absolute top-1/2 right-2 -translate-y-1/2",children:a.jsx(Hr,{className:"h-4 w-4"})})]})]}),a.jsxs(oi,{defaultValue:"products",className:"mb-8",children:[a.jsxs(Ls,{className:"grid grid-cols-3 mb-4",children:[a.jsxs(jt,{value:"products",className:"flex items-center",children:[a.jsx(Rm,{className:"h-4 w-4 mr-2"})," Products"]}),a.jsxs(jt,{value:"recipes",className:"flex items-center",children:[a.jsx(zi,{className:"h-4 w-4 mr-2"})," Recipes"]}),a.jsxs(jt,{value:"grocery",className:"flex items-center",children:[a.jsx(iR,{className:"h-4 w-4 mr-2"})," Grocery"]})]}),a.jsxs(Bt,{value:"products",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("select",{value:x,onChange:Ie=>_(Ie.target.value),className:"mb-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-safebite-blue focus:border-transparent",children:ue.map(Ie=>a.jsx("option",{value:Ie.id,children:Ie.name},Ie.id))}),a.jsx(te,{onClick:()=>{y("healthScore")},className:`mb-2 ${b==="healthScore"?"bg-safebite-blue text-white":"bg-gray-200 text-gray-700"}`,children:"Health Score"}),a.jsx(te,{onClick:()=>{y("price")},className:`mb-2 ${b==="price"?"bg-safebite-blue text-white":"bg-gray-200 text-gray-700"}`,children:"Price"}),a.jsx(te,{onClick:()=>{y("name")},className:`mb-2 ${b==="name"?"bg-safebite-blue text-white":"bg-gray-200 text-gray-700"}`,children:"Name"})]}),d?a.jsx(zr,{className:"animate-spin h-8 w-8 text-white"}):l.length===0?a.jsx(Re,{className:"sci-fi-card p-8 text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Hn,{className:"h-8 w-8 text-safebite-teal mb-4"}),a.jsx("p",{className:"text-lg font-medium text-safebite-text",children:"No products found."}),a.jsx(te,{onClick:()=>{p(""),kt()},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"})]})}):a.jsx("div",{className:"products-grid",children:l.map(Ie=>a.jsxs(Re,{className:"sci-fi-card overflow-hidden flex flex-col h-full hover:shadow-neon-teal transition-all duration-300",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-safebite-card-bg-alt",children:[a.jsx("img",{src:Ie.imageUrl,alt:Ie.name,className:"object-cover w-full h-full"}),a.jsx(te,{onClick:tt=>{tt.stopPropagation(),Zt(Ie._id)},className:"absolute top-2 right-2 bg-transparent hover:bg-gray-200 text-white rounded-full p-1",children:we.includes(Ie._id)?a.jsx(Ri,{className:"h-4 w-4"}):a.jsx(hs,{className:"h-4 w-4"})})]}),a.jsxs(ct,{className:"flex-grow p-4",children:[a.jsx(yt,{children:Ie.name}),a.jsx(Wl,{className:"text-sm text-gray-500",children:Ie.brand}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Ie.dietaryInfo.slice(0,3).map((tt,et)=>a.jsx(Le,{className:"bg-gray-200 text-gray-700",children:tt},et))})]}),a.jsx(go,{className:"p-4 pt-0",children:a.jsxs(te,{onClick:()=>{t(`/product/${Ie._id}`)},className:"w-full bg-safebite-blue text-white",children:["View Details ",a.jsx(kT,{className:"h-4 w-4 ml-2"})]})})]},Ie._id))}),!d&&l.length>0&&a.jsx(WW,{currentPage:N,totalPages:T,onPageChange:Ie=>{S(Ie),ut(Ie,m)}})]}),a.jsx(Bt,{value:"recipes",children:a.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:a.jsx(iTe,{userPreferences:Q})})}),a.jsx(Bt,{value:"grocery",children:a.jsxs(Re,{className:"sci-fi-card mb-6",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"flex items-center",children:[a.jsx(iR,{className:"h-4 w-4 mr-2"})," Grocery Items"]})}),a.jsx(ct,{}),a.jsx(go,{children:a.jsx(te,{className:"w-full bg-safebite-blue text-white",children:"View All"})})]})})]})]}),Z&&a.jsx(nTe,{isOpen:Z,onClose:()=>me(!1),feature:pe})]})]})},Ck="https://safebite-backend.onrender.com",GW=async()=>{try{const t=await fetch(`${Ck}/status`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)return!1;const e=await t.json();return e&&e.status==="API is running"}catch(t){return console.error("Error checking API status:",t),!1}},lTe=async(t=1,e=20,r="")=>{try{if(!await GW())return console.warn("API is not available, returning empty data"),{products:[],total:0,page:1,totalPages:1};const s=`${Ck}/api/products?page=${t}&limit=${e}${r?`&search=${encodeURIComponent(r)}`:""}`,i=await fetch(s,{method:"GET",headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`API returned status ${i.status}`);const o=await i.json();return{products:o.products||[],total:o.total||0,page:o.page||t,totalPages:o.totalPages||1}}catch(n){return console.error("Error fetching products:",n),{products:[],total:0,page:1,totalPages:1}}},cTe=async(t=1,e=20,r="")=>{try{if(!await GW())return console.warn("API is not available, returning empty data"),{products:[],total:0,page:1,totalPages:1};const s=`${Ck}/api/groceryProducts?page=${t}&limit=${e}${r?`&search=${encodeURIComponent(r)}`:""}`,i=await fetch(s,{method:"GET",headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`API returned status ${i.status}`);const o=await i.json();return{products:o.products||[],total:o.total||0,page:o.page||t,totalPages:o.totalPages||1}}catch(n){return console.error("Error fetching grocery products:",n),{products:[],total:0,page:1,totalPages:1}}},uTe=()=>{const t=_r(),{toast:e}=ir(),[r,n]=j.useState([]),[s,i]=j.useState(!0),[o,l]=j.useState(""),[u,d]=j.useState(1),[h,m]=j.useState(1),[p,x]=j.useState(0),[_,b]=j.useState("products"),y=20;j.useEffect(()=>{N()},[u,o,_]);const N=async()=>{i(!0);try{let M;_==="products"?M=await lTe(u,y,o):M=await cTe(u,y,o),n(M.products),x(M.total),m(M.totalPages),kl.trackActivity("product","view-products",{page:u,search:o,type:_,count:M.products.length})}catch(M){console.error("Error loading products:",M),e({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"})}finally{i(!1)}},S=M=>{M.preventDefault(),d(1),N()},T=M=>{b(M),d(1),l("")},E=M=>_==="products"?M.name||"Unknown Product":M.ProductName||"Unknown Product",C=M=>_==="products"?M.brand||"":M.Brand||"",O=M=>_==="products"?M.category||"":M.Category||"",k=M=>M.healthScore!==void 0?M.healthScore:_==="grocery"?Math.floor(Math.random()*10)+1:5,R=M=>{let V="bg-yellow-500",$=a.jsx(ho,{className:"h-4 w-4"});return M>=8?(V="bg-green-500",$=a.jsx(Ri,{className:"h-4 w-4"})):M<=4&&(V="bg-red-500",$=a.jsx(Hn,{className:"h-4 w-4"})),a.jsxs(Le,{className:`${V} text-white flex items-center gap-1`,children:[$,M,"/10"]})};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Qi,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Product Search"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food products and get detailed nutritional information"})]}),a.jsxs("div",{className:"flex mb-6 border-b border-safebite-card-bg-alt",children:[a.jsx("button",{className:`px-4 py-2 font-medium ${_==="products"?"text-safebite-teal border-b-2 border-safebite-teal":"text-safebite-text-secondary hover:text-safebite-text"}`,onClick:()=>T("products"),children:"Products"}),a.jsx("button",{className:`px-4 py-2 font-medium ${_==="grocery"?"text-safebite-teal border-b-2 border-safebite-teal":"text-safebite-text-secondary hover:text-safebite-text"}`,onClick:()=>T("grocery"),children:"Grocery Products"})]}),a.jsx("form",{onSubmit:S,className:"mb-6",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-safebite-text-secondary"}),a.jsx(xt,{type:"text",placeholder:"Search products...",value:o,onChange:M=>l(M.target.value),className:"pl-10 bg-safebite-card-bg border-safebite-card-bg-alt"})]}),a.jsx(te,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Search"})]})}),s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(zr,{className:"h-8 w-8 animate-spin text-safebite-teal"})}):r.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 text-safebite-text-secondary",children:["Showing ",r.length," of ",p," products"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:r.map(M=>a.jsxs(Re,{className:"sci-fi-card hover:border-safebite-teal/50 transition-all duration-300",children:[a.jsxs(_t,{className:"pb-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(yt,{className:"text-lg font-medium text-safebite-text",children:E(M)}),R(k(M))]}),C(M)&&a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:C(M)})]}),a.jsxs(ct,{children:[O(M)&&a.jsx(Le,{variant:"outline",className:"mb-2",children:O(M)}),a.jsxs("div",{className:"flex justify-between mt-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"text-safebite-text-secondary hover:text-safebite-text",onClick:()=>{kl.trackActivity("product","view-details",{productId:M._id,productName:E(M)}),t(`/product/${M._id}`)},children:"View Details"}),a.jsx(te,{variant:"ghost",size:"sm",className:"text-safebite-teal hover:text-safebite-teal/80 hover:bg-safebite-teal/10",children:a.jsx(hs,{className:"h-4 w-4"})})]})]})]},M._id))}),a.jsx(WW,{currentPage:u,totalPages:h,onPageChange:d})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mb-4 text-safebite-text-secondary",children:"No products found. Try a different search term."}),a.jsx(te,{variant:"outline",onClick:()=>{l(""),d(1),N()},children:"Clear Search"})]})]})})]})},dTe=()=>{const t=_r(),{toast:e}=ir(),{isGuest:r}=Kn(),[n,s]=j.useState("food"),[i,o]=j.useState(""),[l,u]=j.useState(!1),[d,h]=j.useState([]),[m,p]=j.useState([]),[x,_]=j.useState(null),[b,y]=j.useState(null),[N,S]=j.useState(!1),[T,E]=j.useState(!1),[C,O]=j.useState(!1),[k,R]=j.useState(()=>{if(!r){const Z=localStorage.getItem("foodSearchHistory");return Z?JSON.parse(Z):[]}return[]}),[M,V]=j.useState(null),[$,D]=j.useState([]),L=Ut(We),B=wr(We);j.useEffect(()=>{(async()=>{if(!r&&L.currentUser)try{const me=ht(B,"users",L.currentUser.uid),pe=await sr(me);pe.exists()&&V(pe.data());const fe=ht(B,"user_activities",L.currentUser.uid),we=await sr(fe);if(we.exists()){const ce=we.data();D(ce.activities||[])}}catch(me){console.error("Error loading user data:",me)}})()},[r,L.currentUser,B]);const G=async()=>{if(!i.trim()){e({title:"Empty Search",description:"Please enter a food item to search",variant:"destructive"});return}u(!0),_(null),S(!1);try{Xa("search",{query:i});const Z=await Mue(i);if(Z&&Z.length>0){const me=Z.map(fe=>{let we="yellow";const ce=fe.nutrients||{},be=ce.protein||0,Ee=ce.fiber||0,ue=ce.sugar||0,Ke=ce.fat||0;be>15&&Ee>3&&ue<10?we="green":(Ke>20||ue>15)&&(we="red");const Ve=`https://source.unsplash.com/featured/?${encodeURIComponent(fe.name)},food`;return{id:fe.id||`food-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:fe.name,calories:fe.calories,nutritionScore:we,nutrients:{protein:ce.protein||0,carbs:ce.carbs||0,fat:ce.fat||0,fiber:ce.fiber||0,sugar:ce.sugar||0,sodium:ce.sodium||0},source:"CalorieNinjas",image:Ve,details:{protein:ce.protein||0,carbs:ce.carbs||0,fat:ce.fat||0,sodium:ce.sodium||0,sugar:ce.sugar||0,calories:fe.calories,ingredients:[],allergens:[],additives:[],servingSize:fe.serving_size||"100g",nutritionScore:we}}}),pe=[...k];pe.includes(i)||(pe.unshift(i),pe.length>5&&pe.pop(),R(pe),r||localStorage.setItem("foodSearchHistory",JSON.stringify(pe))),h(me),S(!1),e({title:"Search Complete",description:`Found ${Z.length} results for "${i}"`})}else h([]),S(!0),e({title:"No Results",description:`No results found for "${i}". Try a different search term.`,variant:"default"})}catch(Z){console.error("Search error:",Z),h([]),S(!0),e({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"})}finally{u(!1)}},q=async()=>{if(!i.trim()){e({title:"Empty Search",description:"Please enter a recipe to search",variant:"destructive"});return}u(!0),S(!1);try{Xa("recipe_search",{query:i});const Z=[{title:`${i.charAt(0).toUpperCase()+i.slice(1)} Pasta`,ingredients:"2 cups pasta|1 tbsp olive oil|1 onion, chopped|2 cloves garlic, minced|1 can diced tomatoes|1/2 tsp salt|1/4 tsp black pepper|Fresh basil leaves",servings:"4 Servings",instructions:"1. Cook pasta according to package directions. 2. Heat oil in a large skillet over medium heat. 3. Add onion and garlic, cook until softened. 4. Add tomatoes, salt, and pepper. Simmer for 10 minutes. 5. Drain pasta and toss with sauce. 6. Garnish with fresh basil."},{title:`Healthy ${i.charAt(0).toUpperCase()+i.slice(1)} Bowl`,ingredients:"1 cup quinoa|2 cups vegetable broth|1 cup chickpeas, drained and rinsed|1 avocado, sliced|1 cup cherry tomatoes, halved|1/4 cup red onion, diced|2 tbsp lemon juice|2 tbsp olive oil|Salt and pepper to taste",servings:"2 Servings",instructions:"1. Rinse quinoa under cold water. 2. In a medium saucepan, bring vegetable broth to a boil. 3. Add quinoa, reduce heat, cover and simmer for 15 minutes. 4. Fluff with a fork and let cool slightly. 5. In a large bowl, combine quinoa, chickpeas, avocado, tomatoes, and red onion. 6. Whisk together lemon juice, olive oil, salt, and pepper. 7. Pour dressing over quinoa mixture and toss to combine."},{title:`${i.charAt(0).toUpperCase()+i.slice(1)} Stir Fry`,ingredients:"2 tbsp vegetable oil|1 lb chicken breast, cut into strips|2 cups mixed vegetables (bell peppers, broccoli, carrots)|3 cloves garlic, minced|1 tbsp ginger, grated|3 tbsp soy sauce|1 tbsp honey|1 tsp sesame oil|2 green onions, sliced|Sesame seeds for garnish",servings:"3 Servings",instructions:"1. Heat oil in a large wok or skillet over high heat. 2. Add chicken and cook until no longer pink, about 5-6 minutes. 3. Add vegetables, garlic, and ginger. Stir-fry for 3-4 minutes until vegetables are crisp-tender. 4. In a small bowl, whisk together soy sauce, honey, and sesame oil. 5. Pour sauce over chicken and vegetables. Cook for 1-2 minutes until sauce thickens slightly. 6. Garnish with green onions and sesame seeds."}];try{const me=await qde(i);if(me&&Array.isArray(me)&&me.length>0){p(me),S(!1),e({title:"Recipe Search Complete",description:`Found ${me.length} recipes for "${i}"`});return}}catch(me){console.error("API recipe search error:",me)}p(Z),S(!1),e({title:"Recipe Search Complete",description:`Found ${Z.length} recipes for "${i}"`})}catch(Z){console.error("Recipe search error:",Z),p([]),S(!0),e({title:"Recipe Search Error",description:"There was a problem with your recipe search. Please try again.",variant:"destructive"})}finally{u(!1)}},Y=Z=>{_(Z),Xa("view_food_details",{foodId:Z.id,foodName:Z.name})},z=Z=>{y(Z),O(!0),Xa("view_recipe_details",{recipeName:Z.title})},J=()=>{E(!0)},ne=async Z=>{u(!0),_(null),E(!1),e({title:"Processing Image",description:"Analyzing the scanned image..."});try{Xa("scan_barcode",{}),setTimeout(()=>{e({title:"Scan Complete",description:"This feature is coming soon!"}),u(!1)},2e3)}catch(me){console.error("Scan error:",me),e({title:"Scan Error",description:"There was a problem scanning the barcode. Please try again.",variant:"destructive"}),u(!1)}},H=async Z=>{u(!0),_(null),E(!1),e({title:"Processing Image",description:"Analyzing the uploaded image..."});try{Xa("upload_image",{fileName:Z.name}),setTimeout(()=>{e({title:"Upload Complete",description:"This feature is coming soon!"}),u(!1)},2e3)}catch(me){console.error("Upload error:",me),e({title:"Upload Error",description:"There was a problem analyzing the image. Please try again.",variant:"destructive"}),u(!1)}},Q=()=>l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ro,{size:"lg"})}):N?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,i,'"']}),a.jsx(te,{variant:"outline",className:"sci-fi-button",onClick:()=>S(!1),children:"Try a Different Search"})]}):d.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(Z=>a.jsx(Ti,{name:Z.name,calories:Z.calories,nutritionScore:Z.nutritionScore,nutrients:Z.nutrients,image:Z.image,onClick:()=>Y(Z)},Z.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(zi,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Search for Food"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Enter a food item to get detailed nutrition information"})]}),re=()=>l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ro,{size:"lg"})}):N?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/10 animate-pulse opacity-75"}),a.jsx(fs,{className:"h-16 w-16 text-red-500 mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Recipes Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:[`We couldn't find any recipes matching "`,i,'". Try a different search term or check out these suggestions.']}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-6",children:[a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),q()},children:'Try "pasta"'}),a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),q()},children:'Try "curry"'}),a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),q()},children:'Try "chicken"'}),a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),q()},children:'Try "vegetarian"'})]}),a.jsx(te,{variant:"outline",className:"sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>S(!1),children:"Try a Different Search"})]}):m.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 w-full",children:m.map((Z,me)=>{const pe=Z.ingredients.split("|"),fe=pe.slice(0,3),we=pe.length-3,ce=Z.instructions.split(".").slice(0,2).join(".")+"...";return a.jsx(Re,{className:"sci-fi-card overflow-hidden border-2 border-safebite-teal/30 hover:border-safebite-teal/70 hover:shadow-lg transition-all duration-300 bg-safebite-card-bg/90",children:a.jsxs(ct,{className:"p-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx(pm,{className:"h-5 w-5 text-safebite-teal"})}),a.jsx("h3",{className:"text-xl font-bold text-safebite-text truncate",children:Z.title})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs(Le,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(ti,{className:"h-3 w-3 mr-1"}),Z.servings]}),a.jsxs(Le,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Dr,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-safebite-teal mr-2 flex-shrink-0"}),"Ingredients"]}),a.jsxs("ul",{className:"text-safebite-text-secondary text-sm space-y-1",children:[fe.map((be,Ee)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:be.trim()})]},Ee)),we>0&&a.jsxs("li",{className:"text-xs text-safebite-text-secondary italic mt-1",children:["+",we," more ingredients"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-purple-500 mr-2 flex-shrink-0"}),"Instructions"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm line-clamp-2",children:ce})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(te,{className:"sci-fi-button bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",onClick:()=>z(Z),children:[a.jsx(ei,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})},me)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/10 animate-ping opacity-75"}),a.jsx(Im,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Discover Delicious Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:"Enter a dish name, ingredient, or cuisine type to find amazing recipes tailored to your search"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-4",children:[a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),s("recipes"),q()},children:'Try "pasta"'}),a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),s("recipes"),q()},children:'Try "curry"'}),a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),s("recipes"),q()},children:'Try "chicken"'}),a.jsx(Le,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),s("recipes"),q()},children:'Try "vegetarian"'})]})]});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Qi,{}),T&&a.jsx(M9,{onScan:ne,onUpload:H,onClose:()=>E(!1)}),a.jsx(Ld,{open:C,onOpenChange:O,children:b&&a.jsxs(tu,{className:"max-w-4xl bg-safebite-card-bg border-safebite-teal/30",children:[a.jsx(ru,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-4",children:a.jsx(pm,{className:"h-6 w-6 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx(nu,{className:"text-2xl font-bold text-safebite-text",children:b.title}),a.jsxs(nf,{className:"text-safebite-text-secondary flex flex-wrap gap-2 mt-2",children:[a.jsxs(Le,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(ti,{className:"h-3 w-3 mr-1"}),b.servings]}),a.jsxs(Le,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Dr,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]})]})]})}),a.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-safebite-teal/30 to-transparent my-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-safebite-teal/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),a.jsx("ul",{className:"space-y-3 text-safebite-text-secondary",children:b.ingredients.split("|").map((Z,me)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-safebite-teal/20 text-safebite-teal text-xs font-medium mr-3",children:me+1}),Z.trim()]},me))})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-purple-500/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),a.jsx("div",{className:"text-safebite-text-secondary",children:b.instructions.split(".").filter(Z=>Z.trim()).map((Z,me)=>a.jsxs("div",{className:"mb-4 flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-purple-500/20 text-purple-500 text-sm font-medium mr-3",children:me+1}),a.jsxs("p",{children:[Z.trim(),"."]})]},me))})]})]}),a.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:a.jsx("p",{className:"italic",children:"Recipe generated based on your search query."})}),a.jsxs(te,{variant:"outline",className:"sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>O(!1),children:[a.jsx(xn,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),a.jsx("main",{className:"ml-0 md:ml-64 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Nutrition Center"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food nutrition information and recipes"})]})}),a.jsxs(oi,{defaultValue:"food",className:"w-full",onValueChange:Z=>{s(Z),o(""),h([]),p([]),_(null),S(!1)},children:[a.jsxs("div",{className:"sci-fi-card mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs(Ls,{className:"grid w-full grid-cols-2 max-w-[70%] border border-safebite-teal/30 p-1 bg-safebite-card-bg-alt/50",children:[a.jsxs(jt,{value:"food",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(zi,{className:"h-4 w-4 mr-2"}),"Food Nutrition"]}),a.jsxs(jt,{value:"recipes",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Im,{className:"h-4 w-4 mr-2"}),"Recipes"]})]}),a.jsxs(te,{onClick:()=>t("/food-delivery"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white font-medium shadow-md border border-white/10",children:[a.jsx("span",{className:"mr-2 text-lg",children:""})," Food Delivery"]})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(xt,{placeholder:n==="food"?"Search for food (e.g., apple, chicken breast)":"Search for recipes (e.g., pasta, vegetarian curry)",className:"sci-fi-input pl-10",value:i,onChange:Z=>o(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&(n==="food"?G():q())})]}),n==="food"&&k.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:"Recent searches:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((Z,me)=>a.jsxs(Le,{className:"cursor-pointer bg-safebite-card-bg-alt hover:bg-safebite-teal/20",onClick:()=>{o(Z),G()},children:[Z,a.jsx(xn,{className:"ml-1 h-3 w-3",onClick:pe=>{pe.stopPropagation();const fe=k.filter((we,ce)=>ce!==me);R(fe),r||localStorage.setItem("foodSearchHistory",JSON.stringify(fe))}})]},me))})]})]}),a.jsxs(te,{onClick:n==="food"?G:q,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md border border-white/10",children:[a.jsx(Hr,{className:"mr-2 h-5 w-5"}),"Search"]}),n==="food"&&a.jsxs(te,{variant:"outline",className:"sci-fi-button border-safebite-teal/30 hover:bg-safebite-teal/10 shadow-md",onClick:J,children:[a.jsx(ab,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Scan/Upload"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"w-full",children:[a.jsx(Bt,{value:"food",className:"mt-0",children:a.jsx("div",{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:i?`Results for "${i}"`:"Food Nutrition"}),Q()]})})}),a.jsx(Bt,{value:"recipes",className:"mt-0",children:a.jsx("div",{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:i?`Recipe Results for "${i}"`:"Recipe Search"}),re()]})})})]}),x&&a.jsx("div",{className:"w-full mt-6",children:a.jsx("div",{className:"sci-fi-card",children:a.jsx("div",{className:"p-4",children:a.jsx(O9,{food:x,onBack:()=>_(null),onAddToTracker:()=>{e({title:"Added to Tracker",description:`${x.name} has been added to your food tracker.`})},onAddTag:()=>{},onToggleFavorite:()=>{},isFavorite:!1,tags:[],aiAnalysis:"",isAnalysisLoading:!1})})})})]})]}),a.jsx(Ld,{open:C,onOpenChange:O,children:a.jsx(tu,{className:"sci-fi-card max-w-4xl",children:b&&a.jsxs(a.Fragment,{children:[a.jsx(ru,{children:a.jsxs(nu,{className:"text-2xl flex items-center",children:[a.jsx(pm,{className:"h-6 w-6 text-safebite-teal mr-3"}),b.title]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2 flex-shrink-0"}),"Ingredients"]}),a.jsx("ul",{className:"space-y-2",children:b.ingredients.split("|").map((Z,me)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2 flex-shrink-0"}),a.jsx("span",{children:Z.trim()})]},me))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2 flex-shrink-0"}),"Instructions"]}),a.jsx("div",{className:"space-y-3",children:b.instructions.split(".").filter(Z=>Z.trim()).map((Z,me)=>a.jsxs("p",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-purple-500/20 text-purple-500 text-xs font-medium mr-2 flex-shrink-0",children:me+1}),a.jsxs("span",{children:[Z.trim(),"."]})]},me))})]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs(Le,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal mr-2",children:[a.jsx(ti,{className:"h-3 w-3 mr-1"}),b.servings]}),a.jsxs(Le,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Dr,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]}),a.jsx(PU,{asChild:!0,children:a.jsx(te,{variant:"outline",className:"sci-fi-button",children:"Close"})})]})]})})}),a.jsxs(Ld,{children:[a.jsx(Gae,{asChild:!0,children:a.jsx(te,{variant:"outline",className:"fixed bottom-6 right-6 bg-orange-500 hover:bg-orange-600 text-white border-none shadow-lg z-50 rounded-full h-14 w-14 p-0",onClick:()=>Xa("open_food_delivery",{}),children:a.jsx(nE,{className:"h-6 w-6"})})}),a.jsxs(tu,{className:"sci-fi-card max-w-3xl",children:[a.jsxs(ru,{children:[a.jsxs(nu,{className:"text-2xl flex items-center",children:[a.jsx(nE,{className:"h-6 w-6 text-orange-500 mr-3"}),"Food Delivery Search"]}),a.jsx(nf,{children:"Search for restaurant meals from Zomato and Swiggy (Coming Soon)"})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-orange-500/30 p-8 text-center",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/10 to-red-500/10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mb-4",children:a.jsx(cs,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-orange-500 mb-2",children:"Coming Soon!"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"We're working on integrating with Zomato and Swiggy to provide nutritional information for restaurant meals."}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Le,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Under Development"})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-3",children:"Features Coming Soon:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(El,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Search for restaurant meals from Zomato and Swiggy"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(El,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"View nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(El,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Get health recommendations for restaurant orders"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(El,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Save favorite restaurant meals"})]})]})]})]})]}),a.jsx(Po,{currentPage:"nutrition",userData:{profile:M,recentActivity:$},autoOpen:!0})]})})]})},fTe=()=>{const t=Co();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safebite-dark-blue px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),a.jsxs("div",{className:"mb-8 inline-block p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:[a.jsx("p",{className:"text-xl text-safebite-text mb-4",children:"Page not found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",asChild:!0,children:a.jsxs(qt,{to:"/",children:[a.jsx(b6,{className:"mr-2 h-4 w-4"}),"Return to Home"]})})]})})},hTe=()=>{const t=_r(),{toast:e}=ir(),r=Ut(We),n=wr(We),s=new Oi,[i,o]=j.useState(!1),[l,u]=j.useState(""),d=async()=>{o(!0),u("");try{const m=(await oC(r,s)).user;(await sr(ht(n,"adminUsers",m.email))).exists()?(localStorage.setItem("isAdmin","true"),t("/admin/panel")):(e({title:"Access Denied",description:"You are not authorized to access the admin panel.",variant:"destructive"}),u("Access Denied: You are not an admin."),await r.signOut())}catch(h){console.error("Admin login error:",h),e({title:"Login Failed",description:h.message,variant:"destructive"}),u(h.message)}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(Re,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Login"}),l&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(fs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:l})]}),a.jsx("div",{children:a.jsxs(te,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:d,disabled:i,children:[i?a.jsx(ro,{size:"sm",className:"mr-2"}):null,"Sign In with Google"]})})]})})},mTe=()=>{const t=_r(),{toast:e}=ir(),r=Ut(We),n=wr(We),[s,i]=j.useState([]);j.useEffect(()=>{(async()=>{const u=$d(n,"users"),h=(await oue(u)).docs.map(m=>({id:m.id,...m.data()}));i(h)})()},[n]);const o=()=>{r.signOut().then(()=>{t("/auth/login")}).catch(l=>{e({title:"Error signing out",description:l.message,variant:"destructive"})})};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs(Re,{className:"sci-fi-card max-w-4xl w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Panel"}),a.jsx("p",{className:"text-safebite-text-secondary text-center mb-6",children:"Welcome, Admin1! Here you can manage users and their data."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"User ID"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Email"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Profile Data"})]})}),a.jsx("tbody",{children:s.map(l=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.id}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.email}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:JSON.stringify(l.profile)})]},l.id))})]})}),a.jsx(te,{className:"mt-6 w-full bg-red-500 text-white hover:bg-red-600",onClick:o,children:"Sign Out"})]})})})},pTe=()=>a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Tb,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"About SafeBite"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"A special project focused on helping people make informed food choices for better health"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Our Mission"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"SafeBite was created with a simple mission: to help people understand what's in their food and make healthier choices. In a world where processed foods dominate and nutrition labels can be confusing, we wanted to build a tool that makes food transparency accessible to everyone."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Our platform combines food data from multiple sources, personalized recommendations based on your health profile, and an intuitive interface to make healthy eating easier than ever."}),a.jsx("p",{className:"text-safebite-text-secondary",children:"This project is part of a special engineering project at IFHE Hyderabad, focused on applying technology to solve real-world health challenges."})]}),a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg p-6 border border-safebite-card-bg-alt",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Project Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Developer"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Aditya Shenvi"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Institution"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"IFHE Hyderabad"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Project Type"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Special Engineering Project"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Technologies Used"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Recharts"})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Meet the Developer"}),a.jsx(Re,{className:"sci-fi-card max-w-2xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center p-6",children:[a.jsx(Ly,{size:"xl",className:"mb-4 md:mb-0 md:mr-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-1",children:"Aditya Shenvi"}),a.jsx("p",{className:"text-safebite-teal text-sm mb-3",children:" Developer | Tech Enthusiast"}),a.jsx("p",{className:"text-safebite-text-secondary mb-3",children:"Engineering Student at IFHE Hyderabad with a passion for creating technology that improves people's lives. SafeBite represents the intersection of my interests in health, nutrition, and software development."}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[a.jsx("span",{className:"text-safebite-teal",children:" Passionate about:"})," Frontend, Backend, DevOps, UI/UX, Cybersecurity, Open Source, Digital Marketing"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(te,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(x6,{className:"mr-2 h-4 w-4"}),"GitHub"]}),a.jsxs(te,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(HY,{className:"mr-2 h-4 w-4"}),"LinkedIn"]}),a.jsxs(te,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(Zd,{className:"mr-2 h-4 w-4"}),"Contact"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"About This Project"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"SafeBite is a special engineering project developed as part of my coursework at IFHE Hyderabad. It combines my interest in health technology with modern web development practices to create a platform that helps users make informed food choices."})]})]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Data Sources & Acknowledgements"}),a.jsx("p",{className:"text-safebite-text-secondary max-w-3xl mx-auto mb-6",children:"SafeBite uses publicly available data from multiple food databases and APIs. All data is used for educational purposes only under fair use principles."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:[a.jsxs("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Edamam API",a.jsx(ei,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://www.calorieninjas.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["CalorieNinjas API",a.jsx(ei,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://platform.fatsecret.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["FatSecret API",a.jsx(ei,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://world.openfoodfacts.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Open Food Facts",a.jsx(ei,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(qt,{to:"/features",children:a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore SafeBite Features"})})})]}),a.jsx(Cb,{})]}),gTe=()=>{const t=[{title:"Food Search & Analysis",description:"Search for any food item across multiple databases to get comprehensive nutritional information. Scan barcodes for instant product details.",icon:a.jsx(Hr,{className:"h-10 w-10 text-safebite-teal"}),color:"bg-safebite-teal/10",border:"border-safebite-teal/30"},{title:"Personalized Health Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals and dietary preferences.",icon:a.jsx(rE,{className:"h-10 w-10 text-purple-500"}),color:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations based on your habits.",icon:a.jsx(hs,{className:"h-10 w-10 text-red-500"}),color:"bg-red-500/10",border:"border-red-500/30"},{title:"Food Safety Alerts",description:"Get warnings about ingredients that may affect your health goals or conflict with dietary restrictions and allergies.",icon:a.jsx(ao,{className:"h-10 w-10 text-yellow-500"}),color:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Barcode Scanner",description:"Quickly scan product barcodes to get instant nutritional information and safety alerts for packaged foods.",icon:a.jsx(S6,{className:"h-10 w-10 text-blue-500"}),color:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Recipe Recommendations",description:"Discover healthy recipes tailored to your dietary preferences, restrictions, and health goals.",icon:a.jsx(Im,{className:"h-10 w-10 text-green-500"}),color:"bg-green-500/10",border:"border-green-500/30"},{title:"Community Support",description:"Connect with others on similar health journeys, share experiences, and get motivation from the SafeBite community.",icon:a.jsx(ti,{className:"h-10 w-10 text-indigo-500"}),color:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"Smart Notifications",description:"Receive timely reminders for health check-ins, meal planning suggestions, and personalized health tips.",icon:a.jsx(ib,{className:"h-10 w-10 text-pink-500"}),color:"bg-pink-500/10",border:"border-pink-500/30"},{title:"Health Achievements",description:"Earn badges and track achievements as you make progress toward your health and nutrition goals.",icon:a.jsx(km,{className:"h-10 w-10 text-amber-500"}),color:"bg-amber-500/10",border:"border-amber-500/30"},{title:"AI-Powered Recommendations",description:"Get intelligent food and activity suggestions based on your profile, preferences, and progress data.",icon:a.jsx(Fi,{className:"h-10 w-10 text-cyan-500"}),color:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"Comprehensive Reports",description:"Access detailed reports on your nutrition, activity, and progress over time with visual charts and insights.",icon:a.jsx(rE,{className:"h-10 w-10 text-emerald-500"}),color:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Energy Tracking",description:"Monitor your energy levels in relation to your diet and activity to optimize your daily routine.",icon:a.jsx(cs,{className:"h-10 w-10 text-orange-500"}),color:"bg-orange-500/10",border:"border-orange-500/30"}];return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Tb,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"SafeBite Features"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Discover all the powerful tools and features that make SafeBite your ultimate companion for healthier food choices"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:t.map((e,r)=>a.jsxs(Re,{className:`sci-fi-card border ${e.border} hover:shadow-lg transition-shadow`,children:[a.jsx(_t,{className:`${e.color} rounded-t-lg`,children:a.jsxs("div",{className:"flex items-center",children:[e.icon,a.jsx(yt,{className:"ml-3 text-xl",children:e.title})]})}),a.jsx(ct,{className:"pt-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:e.description})})]},r))}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-8 mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:"Special Project Information"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"SafeBite is a special engineering project developed by Aditya Shenvi at IFHE Hyderabad"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Project Goals"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Create an intuitive platform for food nutrition analysis"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Provide personalized health recommendations based on user data"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Integrate multiple food databases for comprehensive information"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Develop a user-friendly interface with modern design principles"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Technical Implementation"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"React & TypeScript frontend with Tailwind CSS for styling"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Firebase authentication and Firestore database"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Integration with multiple food nutrition APIs"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Data visualization using Recharts library"})]})]})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Ready to experience all these features and start your journey to healthier eating?"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(qt,{to:"/auth/signup",children:a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto",children:"Sign Up Now"})}),a.jsx(qt,{to:"/about",children:a.jsx(te,{variant:"outline",className:"sci-fi-button w-full sm:w-auto",children:"Learn About the Project"})})]})]})]}),a.jsx(Cb,{})]})},vTe=()=>{const t=_r(),e=Ut(We),r=wr(We),[n,s]=j.useState(null),[i,o]=j.useState([]);return j.useEffect(()=>{(async()=>{if(e.currentUser)try{const u=ht(r,"users",e.currentUser.uid),d=await sr(u);d.exists()&&s(d.data());const h=ht(r,"user_activities",e.currentUser.uid),m=await sr(h);if(m.exists()){const p=m.data();o(p.activities||[])}}catch(u){console.error("Error loading user data:",u)}})()},[e.currentUser,r]),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Tb,{}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(te,{variant:"outline",className:"mb-4",onClick:()=>t("/dashboard"),children:[a.jsx(TT,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Get nutritional insights for your favorite restaurant meals from Zomato and Swiggy."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs(Re,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-4",children:a.jsx(zi,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-orange-500",children:"Zomato Integration"}),a.jsx(Le,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Zomato to provide nutritional information and health recommendations for your favorite restaurant meals."}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Dr,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zr,{className:"h-4 w-4 text-orange-500 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (65%)"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(te,{disabled:!0,className:"bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[a.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]}),a.jsxs(Re,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mr-4",children:a.jsx(Rm,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-orange-400",children:"Swiggy Integration"}),a.jsx(Le,{variant:"outline",className:"bg-orange-400/10 text-orange-400 border-orange-400/30",children:"Coming Soon"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Swiggy to provide nutritional information and health recommendations for your favorite restaurant meals."}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Dr,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zr,{className:"h-4 w-4 text-orange-400 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (42%)"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(te,{disabled:!0,className:"bg-orange-400/20 text-orange-400 hover:bg-orange-400/30 cursor-not-allowed",children:[a.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Why We're Building This"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Eating out shouldn't mean compromising on your health goals. Our integration with popular food delivery platforms will help you:"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Get nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Receive personalized recommendations based on your health profile"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Track your nutrition even when eating out"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Make informed choices that align with your health goals"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working hard to bring this feature to you. Check back soon for updates!"}),a.jsx(te,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]})]}),a.jsx(Po,{currentPage:"food-delivery",userData:{profile:n,recentActivity:i},autoOpen:!0,initialMessage:"Welcome to our Food Delivery section! While we're still working on integrating with Zomato and Swiggy, I can help you understand how to make healthier choices when ordering food. Would you like some tips for healthier restaurant ordering?"}),a.jsx(Cb,{})]})};var kk="Collapsible",[yTe,KW]=$s(kk),[xTe,Pk]=yTe(kk),YW=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=t,[u=!1,d]=ds({prop:n,defaultProp:s,onChange:o});return a.jsx(xTe,{scope:r,disabled:i,contentId:$i(),open:u,onOpenToggle:j.useCallback(()=>d(h=>!h),[d]),children:a.jsx(qe.div,{"data-state":Rk(u),"data-disabled":i?"":void 0,...l,ref:e})})});YW.displayName=kk;var QW="CollapsibleTrigger",XW=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,s=Pk(QW,r);return a.jsx(qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Rk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:Ue(t.onClick,s.onOpenToggle)})});XW.displayName=QW;var Ik="CollapsibleContent",JW=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Pk(Ik,t.__scopeCollapsible);return a.jsx(Ca,{present:r||s.open,children:({present:i})=>a.jsx(bTe,{...n,ref:e,present:i})})});JW.displayName=Ik;var bTe=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=t,o=Pk(Ik,r),[l,u]=j.useState(n),d=j.useRef(null),h=Ct(e,d),m=j.useRef(0),p=m.current,x=j.useRef(0),_=x.current,b=o.open||l,y=j.useRef(b),N=j.useRef();return j.useEffect(()=>{const S=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(S)},[]),Zr(()=>{const S=d.current;if(S){N.current=N.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const T=S.getBoundingClientRect();m.current=T.height,x.current=T.width,y.current||(S.style.transitionDuration=N.current.transitionDuration,S.style.animationName=N.current.animationName),u(n)}},[o.open,n]),a.jsx(qe.div,{"data-state":Rk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...i,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:b&&s})});function Rk(t){return t?"open":"closed"}var wTe=YW,_Te=XW,jTe=JW,Mo="Accordion",STe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ok,NTe,ETe]=Mp(Mo),[F0,sCe]=$s(Mo,[ETe,KW]),Mk=KW(),ZW=K.forwardRef((t,e)=>{const{type:r,...n}=t,s=n,i=n;return a.jsx(Ok.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(kTe,{...i,ref:e}):a.jsx(CTe,{...s,ref:e})})});ZW.displayName=Mo;var[eG,ATe]=F0(Mo),[tG,TTe]=F0(Mo,{collapsible:!1}),CTe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[l,u]=ds({prop:r,defaultProp:n,onChange:s});return a.jsx(eG,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:u,onItemClose:K.useCallback(()=>i&&u(""),[i,u]),children:a.jsx(tG,{scope:t.__scopeAccordion,collapsible:i,children:a.jsx(rG,{...o,ref:e})})})}),kTe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=t,[o=[],l]=ds({prop:r,defaultProp:n,onChange:s}),u=K.useCallback(h=>l((m=[])=>[...m,h]),[l]),d=K.useCallback(h=>l((m=[])=>m.filter(p=>p!==h)),[l]);return a.jsx(eG,{scope:t.__scopeAccordion,value:o,onItemOpen:u,onItemClose:d,children:a.jsx(tG,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(rG,{...i,ref:e})})})}),[PTe,$0]=F0(Mo),rG=K.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=t,l=K.useRef(null),u=Ct(l,e),d=NTe(r),m=Yf(s)==="ltr",p=Ue(t.onKeyDown,x=>{var R;if(!STe.includes(x.key))return;const _=x.target,b=d().filter(M=>{var V;return!((V=M.ref.current)!=null&&V.disabled)}),y=b.findIndex(M=>M.ref.current===_),N=b.length;if(y===-1)return;x.preventDefault();let S=y;const T=0,E=N-1,C=()=>{S=y+1,S>E&&(S=T)},O=()=>{S=y-1,S<T&&(S=E)};switch(x.key){case"Home":S=T;break;case"End":S=E;break;case"ArrowRight":i==="horizontal"&&(m?C():O());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(m?O():C());break;case"ArrowUp":i==="vertical"&&O();break}const k=S%N;(R=b[k].ref.current)==null||R.focus()});return a.jsx(PTe,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(Ok.Slot,{scope:r,children:a.jsx(qe.div,{...o,"data-orientation":i,ref:u,onKeyDown:n?void 0:p})})})}),eb="AccordionItem",[ITe,Dk]=F0(eb),nG=K.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...s}=t,i=$0(eb,r),o=ATe(eb,r),l=Mk(r),u=$i(),d=n&&o.value.includes(n)||!1,h=i.disabled||t.disabled;return a.jsx(ITe,{scope:r,open:d,disabled:h,triggerId:u,children:a.jsx(wTe,{"data-orientation":i.orientation,"data-state":cG(d),...l,...s,ref:e,disabled:h,open:d,onOpenChange:m=>{m?o.onItemOpen(n):o.onItemClose(n)}})})});nG.displayName=eb;var sG="AccordionHeader",iG=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=$0(Mo,r),i=Dk(sG,r);return a.jsx(qe.h3,{"data-orientation":s.orientation,"data-state":cG(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});iG.displayName=sG;var jT="AccordionTrigger",aG=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=$0(Mo,r),i=Dk(jT,r),o=TTe(jT,r),l=Mk(r);return a.jsx(Ok.ItemSlot,{scope:r,children:a.jsx(_Te,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:e})})});aG.displayName=jT;var oG="AccordionContent",lG=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=$0(Mo,r),i=Dk(oG,r),o=Mk(r);return a.jsx(jTe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});lG.displayName=oG;function cG(t){return t?"open":"closed"}var RTe=ZW,OTe=nG,MTe=iG,uG=aG,dG=lG;const DTe=RTe,fG=j.forwardRef(({className:t,...e},r)=>a.jsx(OTe,{ref:r,className:Qe("border-b",t),...e}));fG.displayName="AccordionItem";const hG=j.forwardRef(({className:t,children:e,...r},n)=>a.jsx(MTe,{className:"flex",children:a.jsxs(uG,{ref:n,className:Qe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(CT,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));hG.displayName=uG.displayName;const mG=j.forwardRef(({className:t,children:e,...r},n)=>a.jsx(dG,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Qe("pb-4 pt-0",t),children:e})}));mG.displayName=dG.displayName;const LTe=()=>{_r();const[t,e]=j.useState("");Kn(),Ut(We).currentUser;const n=[{id:"general",name:"General",icon:a.jsx(Al,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What is SafeBite?",answer:"SafeBite is a comprehensive food safety and nutrition platform designed to help you make informed decisions about the food you consume. It provides nutritional information, recipe suggestions, food safety alerts, and personalized health insights."},{question:"Is SafeBite free to use?",answer:"Yes, SafeBite offers a free tier with access to basic features. Premium features may require a subscription in future updates, but all current functionality is available for free."},{question:"How do I create an account?",answer:`Click on the "Sign Up" button in the top navigation bar, fill in your details, and follow the verification process. You can also use the guest mode to explore the platform without creating an account, but your data won't be saved.`},{question:"What's the difference between guest mode and a registered account?",answer:"Guest mode allows you to explore SafeBite without creating an account, but your data won't be saved between sessions and some features have usage limits. A registered account gives you full access to all features, saves your preferences, and provides personalized recommendations."},{question:"How does SafeBite handle my data?",answer:"SafeBite takes your privacy seriously. We only collect data necessary to provide our services and improve your experience. Your personal information is never sold to third parties. You can review our full privacy policy in the Settings page."}]},{id:"features",name:"Features",icon:a.jsx(Fi,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What features does SafeBite offer?",answer:"SafeBite offers food search with nutritional information, recipe suggestions, food safety alerts, health tools, community features, personalized dashboard, weekly health check-ins, and an AI assistant to help with nutrition and health questions."},{question:"How do I use the AI assistant?",answer:"The AI assistant is available through the chat icon in the bottom right corner of the screen. Click on it to start a conversation. You can ask questions about nutrition, food safety, recipes, or navigate to different parts of the application."},{question:"What are Health Tools?",answer:"Health Tools is a collection of calculators and analyzers to help you track and understand various aspects of your health, including BMI calculator, calorie needs estimator, sleep quality analyzer, stress level assessment, and more."},{question:"How do I search for food information?",answer:"Navigate to the Nutrition tab in the sidebar, then use the search bar to look up any food item. You can search by name, scan barcodes (on mobile), or upload product images for analysis."},{question:"How accurate is the nutritional information?",answer:"SafeBite uses data from multiple reliable sources including government databases and verified third-party APIs. While we strive for accuracy, nutritional content can vary based on preparation methods and specific brands."}]},{id:"account",name:"Account",icon:a.jsx(lu,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"How do I update my profile information?",answer:"Click on your profile picture in the sidebar to open the profile popup. From there, you can update your display name, email, password, and preferences."},{question:"Can I delete my account?",answer:"Yes, you can delete your account from the Settings page. Please note that this action is irreversible and all your data will be permanently deleted."},{question:"How do I change my password?",answer:"Click on your profile picture in the sidebar, go to the Account tab, and use the password update section to set a new password."},{question:"What happens if I forget my password?",answer:'On the login page, click "Forgot Password" and follow the instructions to reset your password via email.'},{question:"How do I switch between guest mode and my account?",answer:"If you're in guest mode, you can sign up or log in through the login page. If you're logged in, you can sign out using the button in the sidebar."}]},{id:"technical",name:"Technical",icon:a.jsx(IT,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"Which browsers are supported?",answer:"SafeBite works best on modern browsers like Chrome, Firefox, Safari, and Edge. We recommend keeping your browser updated to the latest version for optimal performance."},{question:"Is SafeBite available as a mobile app?",answer:"Currently, SafeBite is a web application optimized for both desktop and mobile browsers. A dedicated mobile app is planned for future releases."},{question:"Why am I experiencing slow performance?",answer:"Performance issues can be caused by slow internet connection, browser cache, or device limitations. Try clearing your browser cache, closing unnecessary tabs, and ensuring you have a stable internet connection."},{question:"How do I report a bug?",answer:"You can report bugs through the feedback form in the Settings page or by contacting our support team directly at support@safebite.example.com."},{question:"Does SafeBite work offline?",answer:"Some basic features may work offline if you've previously loaded them, but most functionality requires an internet connection to access our databases and APIs."}]}],s=[{id:"getting-started",title:"Getting Started with SafeBite",description:"Learn the basics of using SafeBite to improve your nutrition and food safety.",icon:a.jsx(b1,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/getting-started"},{id:"food-search",title:"How to Search for Food Information",description:"Master the food search feature to get detailed nutritional information.",icon:a.jsx(Hr,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/food-search"},{id:"recipes",title:"Finding and Saving Recipes",description:"Discover healthy recipes and save your favorites for quick access.",icon:a.jsx(Im,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/recipes"},{id:"health-tools",title:"Using Health Tools",description:"Get the most out of the health calculators and analyzers.",icon:a.jsx(Ad,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/health-tools"},{id:"weekly-check",title:"Weekly Health Check-ins",description:"Track your progress and get personalized insights with weekly check-ins.",icon:a.jsx(hs,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/weekly-check"},{id:"ai-assistant",title:"Chatting with the AI Assistant",description:"Learn how to effectively use the AI assistant for nutrition advice.",icon:a.jsx(Ev,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/ai-assistant"}],i=t.trim()===""?n:n.map(u=>({...u,faqs:u.faqs.filter(d=>d.question.toLowerCase().includes(t.toLowerCase())||d.answer.toLowerCase().includes(t.toLowerCase()))})).filter(u=>u.faqs.length>0),o=t.trim()===""?s:s.filter(u=>u.title.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase())),l=u=>{alert(`The "${u.title}" guide is coming soon!`)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(Fi,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(Fi,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx(Qi,{}),a.jsx(Po,{currentPage:"help",initialMessage:"Hi! I can help you find answers to your questions about SafeBite. What would you like to know?"}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"Help Center"})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(Al,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Find answers to your questions and learn how to use SafeBite effectively."]})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-safebite-text-secondary h-5 w-5"}),a.jsx(xt,{type:"text",placeholder:"Search for help topics...",className:"pl-10 bg-safebite-card-bg/70 border-safebite-teal/20 focus:border-safebite-teal/60 text-safebite-text",value:t,onChange:u=>e(u.target.value)})]})}),a.jsxs(oi,{defaultValue:"faqs",className:"w-full",children:[a.jsxs(Ls,{className:"grid grid-cols-3 mb-6 bg-safebite-card-bg/70 border border-safebite-teal/20",children:[a.jsxs(jt,{value:"faqs",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(Al,{className:"h-4 w-4 mr-2"}),"FAQs"]}),a.jsxs(jt,{value:"guides",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(b1,{className:"h-4 w-4 mr-2"}),"Guides"]}),a.jsxs(jt,{value:"contact",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(Ev,{className:"h-4 w-4 mr-2"}),"Contact Us"]})]}),a.jsxs(Bt,{value:"faqs",className:"space-y-6",children:[t.trim()!==""&&i.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Al,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No results found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any FAQs matching your search. Try different keywords or contact us for help."})]}),i.map(u=>a.jsxs(Re,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(_t,{className:"pb-2",children:a.jsxs(yt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[u.icon,a.jsx("span",{className:"ml-2",children:u.name})]})}),a.jsx(ct,{children:a.jsx(DTe,{type:"single",collapsible:!0,className:"w-full",children:u.faqs.map((d,h)=>a.jsxs(fG,{value:`item-${h}`,className:"border-safebite-teal/20",children:[a.jsx(hG,{className:"text-safebite-text hover:text-safebite-teal",children:d.question}),a.jsx(mG,{className:"text-safebite-text-secondary",children:d.answer})]},h))})})]},u.id))]}),a.jsxs(Bt,{value:"guides",className:"space-y-6",children:[t.trim()!==""&&o.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(b1,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No guides found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any guides matching your search. Try different keywords or check the FAQs section."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(u=>a.jsx(Re,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 cursor-pointer",onClick:()=>l(u),children:a.jsx(ct,{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"rounded-full p-2 bg-safebite-teal/10 mr-4",children:u.icon}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium mb-2 flex items-center",children:[u.title,a.jsx(Le,{className:"ml-2 bg-safebite-teal/20 text-safebite-teal text-[10px]",children:"Coming Soon"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-3",children:u.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-teal",children:[a.jsx("span",{children:"Read guide"}),a.jsx(kT,{className:"h-3 w-3 ml-1"})]})]})]})})},u.id))})]}),a.jsx(Bt,{value:"contact",className:"space-y-6",children:a.jsxs(Re,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(_t,{children:a.jsxs(yt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Ev,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Contact Us"]})}),a.jsxs(ct,{className:"space-y-6",children:[a.jsxs("div",{className:"bg-safebite-teal/10 border border-safebite-teal/30 rounded-md p-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Need help with SafeBite?"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Our support team is here to help you with any questions or issues you may have."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ev,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Chat Support"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Use our AI assistant in the bottom right corner for immediate help."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(PT,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Documentation"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Check our comprehensive guides and FAQs for detailed information."})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Email:"}),a.jsxs("a",{href:"mailto:support@safebite.example.com",className:"text-safebite-teal hover:underline flex items-center",children:["support@safebite.example.com",a.jsx(ei,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Twitter:"}),a.jsxs("a",{href:"https://twitter.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["@safebite",a.jsx(ei,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"GitHub:"}),a.jsxs("a",{href:"https://github.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["github.com/safebite",a.jsx(ei,{className:"h-3 w-3 ml-1"})]})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Feedback"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're constantly improving SafeBite based on your feedback. Let us know what you think!"}),a.jsx(te,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Send Feedback"})]})]})]})})]})]})]})]})},pG=()=>{const t=window.location.pathname;return t.includes("/auth/login")||t.includes("/auth/signup")||t.includes("/auth/forgot-password")||t==="/"||t==="/SafeBite-V1/"||t.includes("/about")||t.includes("/features")},FTe=()=>{if(!pG()){const t=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${t}/auth/login`}},$Te=new oZ,Ai=({children:t})=>{const e=Ut(We),[r,n]=j.useState("loading");return Kn(),j.useEffect(()=>{const s=()=>{const o=e.currentUser,l=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true";o||l?n("authenticated"):(n("unauthenticated"),pG()||FTe())};s();const i=e.onAuthStateChanged(()=>{s()});return()=>i()},[e]),r==="loading"?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal"})}):r==="authenticated"?a.jsx(a.Fragment,{children:t}):a.jsx(QZ,{to:"/auth/login",replace:!0})},VTe=()=>{const t=Ut(We);return j.useEffect(()=>{const e=window.location.pathname,n=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings","/tools","/features"].some(i=>e.toLowerCase().includes(i.toLowerCase())),s=e.includes("/auth/login")||e.includes("/auth/signup")||e.includes("/auth/forgot-password")||e==="/"||e==="/SafeBite-V1/"||e.includes("/about")||e.includes("/features");if(n&&!s){const i=t.currentUser,o=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true";if(!i&&!o){const l=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${l}/auth/login`}}},[t]),a.jsx($J,{children:a.jsxs(cZ,{client:$Te,children:[a.jsxs(Pd,{children:[a.jsx(MQ,{}),a.jsx(uX,{}),a.jsx(XB,{}),a.jsx(aee,{basename:"/SafeBite-V1/",children:a.jsxs(JZ,{children:[a.jsx(xr,{path:"/",element:a.jsx(qie,{})}),a.jsx(xr,{path:"/about",element:a.jsx(pTe,{})}),a.jsx(xr,{path:"/features",element:a.jsx(gTe,{})}),a.jsx(xr,{path:"/help",element:a.jsx(LTe,{})}),a.jsx(xr,{path:"/auth/login",element:a.jsx(Bue,{})}),a.jsx(xr,{path:"/auth/signup",element:a.jsx(Uue,{})}),a.jsx(xr,{path:"/auth/forgot-password",element:a.jsx(zue,{})}),a.jsx(xr,{path:"/questionnaire",element:a.jsx(kde,{})}),a.jsx(xr,{path:"/weekly-questions",element:a.jsx(Efe,{})}),a.jsx(xr,{path:"/dashboard",element:a.jsx(Ai,{children:a.jsx($de,{})})}),a.jsx(xr,{path:"/nutrition",element:a.jsx(Ai,{children:a.jsx(dTe,{})})}),a.jsx(xr,{path:"/food-search",element:a.jsx(Ai,{children:a.jsx(yfe,{})})}),a.jsx(xr,{path:"/food-delivery",element:a.jsx(Ai,{children:a.jsx(vTe,{})})}),a.jsx(xr,{path:"/product-recommendations",element:a.jsx(Ai,{children:a.jsx(oTe,{})})}),a.jsx(xr,{path:"/products",element:a.jsx(Ai,{children:a.jsx(uTe,{})})}),a.jsx(xr,{path:"/community",element:a.jsx(Ai,{children:a.jsx(xfe,{})})}),a.jsx(xr,{path:"/healthbox",element:a.jsx(Ai,{children:a.jsx(rTe,{})})}),a.jsx(xr,{path:"/reports",element:a.jsx(Ai,{children:a.jsx(oAe,{})})}),a.jsx(xr,{path:"/recipes",element:a.jsx(Ai,{children:a.jsx(yAe,{})})}),a.jsx(xr,{path:"/settings",element:a.jsx(Ai,{children:a.jsx(Due,{})})}),a.jsx(xr,{path:"/admin/login",element:a.jsx(hTe,{})}),a.jsx(xr,{path:"/admin/panel",element:a.jsx(mTe,{})}),a.jsx(xr,{path:"*",element:a.jsx(fTe,{})})]})})]}),a.jsx(Po,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or health!"})]})})};CK.createRoot(document.getElementById("root")).render(a.jsx(VTe,{}));
