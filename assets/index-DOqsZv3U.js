var Pae=Object.defineProperty;var lL=t=>{throw TypeError(t)};var Iae=(t,e,n)=>e in t?Pae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dn=(t,e,n)=>Iae(t,typeof e!="symbol"?e+"":e,n),u_=(t,e,n)=>e.has(t)||lL("Cannot "+n);var ke=(t,e,n)=>(u_(t,e,"read from private field"),n?n.call(t):e.get(t)),sn=(t,e,n)=>e.has(t)?lL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ot=(t,e,n,r)=>(u_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ni=(t,e,n)=>(u_(t,e,"access private method"),n);var Nb=(t,e,n,r)=>({set _(i){Ot(t,e,i,n)},get _(){return ke(t,e,r)}});function Rae(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d_={exports:{}},ag={},f_={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cL;function Oae(){if(cL)return Ft;cL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function b(W,Q,B){this.props=W,this.context=Q,this.refs=y,this.updater=B||g}b.prototype.isReactComponent={},b.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=b.prototype;function N(W,Q,B){this.props=W,this.context=Q,this.refs=y,this.updater=B||g}var k=N.prototype=new S;k.constructor=N,v(k,b.prototype),k.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,C={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(W,Q,B){var se,ue={},pe=null,ne=null;if(Q!=null)for(se in Q.ref!==void 0&&(ne=Q.ref),Q.key!==void 0&&(pe=""+Q.key),Q)A.call(Q,se)&&!T.hasOwnProperty(se)&&(ue[se]=Q[se]);var ae=arguments.length-2;if(ae===1)ue.children=B;else if(1<ae){for(var ie=Array(ae),ce=0;ce<ae;ce++)ie[ce]=arguments[ce+2];ue.children=ie}if(W&&W.defaultProps)for(se in ae=W.defaultProps,ae)ue[se]===void 0&&(ue[se]=ae[se]);return{$$typeof:t,type:W,key:pe,ref:ne,props:ue,_owner:C.current}}function P(W,Q){return{$$typeof:t,type:W.type,key:Q,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(B){return Q[B]})}var D=/\/+/g;function R(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Q.toString(36)}function V(W,Q,B,se,ue){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var ne=!1;if(W===null)ne=!0;else switch(pe){case"string":case"number":ne=!0;break;case"object":switch(W.$$typeof){case t:case e:ne=!0}}if(ne)return ne=W,ue=ue(ne),W=se===""?"."+R(ne,0):se,E(ue)?(B="",W!=null&&(B=W.replace(D,"$&/")+"/"),V(ue,Q,B,"",function(ce){return ce})):ue!=null&&(M(ue)&&(ue=P(ue,B+(!ue.key||ne&&ne.key===ue.key?"":(""+ue.key).replace(D,"$&/")+"/")+W)),Q.push(ue)),1;if(ne=0,se=se===""?".":se+":",E(W))for(var ae=0;ae<W.length;ae++){pe=W[ae];var ie=se+R(pe,ae);ne+=V(pe,Q,B,ie,ue)}else if(ie=p(W),typeof ie=="function")for(W=ie.call(W),ae=0;!(pe=W.next()).done;)pe=pe.value,ie=se+R(pe,ae++),ne+=V(pe,Q,B,ie,ue);else if(pe==="object")throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ne}function q(W,Q,B){if(W==null)return W;var se=[],ue=0;return V(W,se,"","",function(pe){return Q.call(B,pe,ue++)}),se}function H(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(B){(W._status===0||W._status===-1)&&(W._status=1,W._result=B)},function(B){(W._status===0||W._status===-1)&&(W._status=2,W._result=B)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var Y={current:null},K={transition:null},Z={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:K,ReactCurrentOwner:C};function U(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:q,forEach:function(W,Q,B){q(W,function(){Q.apply(this,arguments)},B)},count:function(W){var Q=0;return q(W,function(){Q++}),Q},toArray:function(W){return q(W,function(Q){return Q})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ft.Component=b,Ft.Fragment=n,Ft.Profiler=i,Ft.PureComponent=N,Ft.StrictMode=r,Ft.Suspense=c,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ft.act=U,Ft.cloneElement=function(W,Q,B){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var se=v({},W.props),ue=W.key,pe=W.ref,ne=W._owner;if(Q!=null){if(Q.ref!==void 0&&(pe=Q.ref,ne=C.current),Q.key!==void 0&&(ue=""+Q.key),W.type&&W.type.defaultProps)var ae=W.type.defaultProps;for(ie in Q)A.call(Q,ie)&&!T.hasOwnProperty(ie)&&(se[ie]=Q[ie]===void 0&&ae!==void 0?ae[ie]:Q[ie])}var ie=arguments.length-2;if(ie===1)se.children=B;else if(1<ie){ae=Array(ie);for(var ce=0;ce<ie;ce++)ae[ce]=arguments[ce+2];se.children=ae}return{$$typeof:t,type:W.type,key:ue,ref:pe,props:se,_owner:ne}},Ft.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},Ft.createElement=I,Ft.createFactory=function(W){var Q=I.bind(null,W);return Q.type=W,Q},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(W){return{$$typeof:l,render:W}},Ft.isValidElement=M,Ft.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:H}},Ft.memo=function(W,Q){return{$$typeof:u,type:W,compare:Q===void 0?null:Q}},Ft.startTransition=function(W){var Q=K.transition;K.transition={};try{W()}finally{K.transition=Q}},Ft.unstable_act=U,Ft.useCallback=function(W,Q){return Y.current.useCallback(W,Q)},Ft.useContext=function(W){return Y.current.useContext(W)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(W){return Y.current.useDeferredValue(W)},Ft.useEffect=function(W,Q){return Y.current.useEffect(W,Q)},Ft.useId=function(){return Y.current.useId()},Ft.useImperativeHandle=function(W,Q,B){return Y.current.useImperativeHandle(W,Q,B)},Ft.useInsertionEffect=function(W,Q){return Y.current.useInsertionEffect(W,Q)},Ft.useLayoutEffect=function(W,Q){return Y.current.useLayoutEffect(W,Q)},Ft.useMemo=function(W,Q){return Y.current.useMemo(W,Q)},Ft.useReducer=function(W,Q,B){return Y.current.useReducer(W,Q,B)},Ft.useRef=function(W){return Y.current.useRef(W)},Ft.useState=function(W){return Y.current.useState(W)},Ft.useSyncExternalStore=function(W,Q,B){return Y.current.useSyncExternalStore(W,Q,B)},Ft.useTransition=function(){return Y.current.useTransition()},Ft.version="18.3.1",Ft}var uL;function LI(){return uL||(uL=1,f_.exports=Oae()),f_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL;function Mae(){if(dL)return ag;dL=1;var t=LI(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var f,h={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:g,props:h,_owner:i.current}}return ag.Fragment=n,ag.jsx=o,ag.jsxs=o,ag}var fL;function Dae(){return fL||(fL=1,d_.exports=Mae()),d_.exports}var a=Dae(),kb={},h_={exports:{}},Ui={},m_={exports:{}},p_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL;function Lae(){return hL||(hL=1,function(t){function e(K,Z){var U=K.length;K.push(Z);e:for(;0<U;){var W=U-1>>>1,Q=K[W];if(0<i(Q,Z))K[W]=Z,K[U]=Q,U=W;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],U=K.pop();if(U!==Z){K[0]=U;e:for(var W=0,Q=K.length,B=Q>>>1;W<B;){var se=2*(W+1)-1,ue=K[se],pe=se+1,ne=K[pe];if(0>i(ue,U))pe<Q&&0>i(ne,ue)?(K[W]=ne,K[pe]=U,W=pe):(K[W]=ue,K[se]=U,W=se);else if(pe<Q&&0>i(ne,U))K[W]=ne,K[pe]=U,W=pe;else break e}}return Z}function i(K,Z){var U=K.sortIndex-Z.sortIndex;return U!==0?U:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,h=null,p=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=K)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function E(K){if(y=!1,k(K),!v)if(n(c)!==null)v=!0,H(A);else{var Z=n(u);Z!==null&&Y(E,Z.startTime-K)}}function A(K,Z){v=!1,y&&(y=!1,S(I),I=-1),g=!0;var U=p;try{for(k(Z),h=n(c);h!==null&&(!(h.expirationTime>Z)||K&&!L());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var Q=W(h.expirationTime<=Z);Z=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(c)&&r(c),k(Z)}else r(c);h=n(c)}if(h!==null)var B=!0;else{var se=n(u);se!==null&&Y(E,se.startTime-Z),B=!1}return B}finally{h=null,p=U,g=!1}}var C=!1,T=null,I=-1,P=5,M=-1;function L(){return!(t.unstable_now()-M<P)}function D(){if(T!==null){var K=t.unstable_now();M=K;var Z=!0;try{Z=T(!0,K)}finally{Z?R():(C=!1,T=null)}}else C=!1}var R;if(typeof N=="function")R=function(){N(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=D,R=function(){q.postMessage(null)}}else R=function(){b(D,0)};function H(K){T=K,C||(C=!0,R())}function Y(K,Z){I=b(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,H(A))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var U=p;p=Z;try{return K()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var U=p;p=K;try{return Z()}finally{p=U}},t.unstable_scheduleCallback=function(K,Z,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,K){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,K={id:f++,callback:Z,priorityLevel:K,startTime:U,expirationTime:Q,sortIndex:-1},U>W?(K.sortIndex=U,e(u,K),n(c)===null&&K===n(u)&&(y?(S(I),I=-1):y=!0,Y(E,U-W))):(K.sortIndex=Q,e(c,K),v||g||(v=!0,H(A))),K},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(K){var Z=p;return function(){var U=p;p=Z;try{return K.apply(this,arguments)}finally{p=U}}}}(p_)),p_}var mL;function Fae(){return mL||(mL=1,m_.exports=Lae()),m_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL;function $ae(){if(pL)return Ui;pL=1;var t=LI(),e=Fae();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)r.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(d){return c.call(h,d)?!0:c.call(f,d)?!1:u.test(d)?h[d]=!0:(f[d]=!0,!1)}function g(d,m,x,_){if(x!==null&&x.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return _?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function v(d,m,x,_){if(m===null||typeof m>"u"||g(d,m,x,_))return!0;if(_)return!1;if(x!==null)switch(x.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,x,_,O,$,G){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=_,this.attributeNamespace=O,this.mustUseProperty=x,this.propertyName=d,this.type=m,this.sanitizeURL=$,this.removeEmptyString=G}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];b[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(S,N);b[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(S,N);b[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(S,N);b[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function k(d,m,x,_){var O=b.hasOwnProperty(m)?b[m]:null;(O!==null?O.type!==0:_||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(v(m,x,O,_)&&(x=null),_||O===null?p(m)&&(x===null?d.removeAttribute(m):d.setAttribute(m,""+x)):O.mustUseProperty?d[O.propertyName]=x===null?O.type===3?!1:"":x:(m=O.attributeName,_=O.attributeNamespace,x===null?d.removeAttribute(m):(O=O.type,x=O===3||O===4&&x===!0?"":""+x,_?d.setAttributeNS(_,m,x):d.setAttribute(m,x))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),K=Symbol.iterator;function Z(d){return d===null||typeof d!="object"?null:(d=K&&d[K]||d["@@iterator"],typeof d=="function"?d:null)}var U=Object.assign,W;function Q(d){if(W===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);W=m&&m[1]||""}return`
`+W+d}var B=!1;function se(d,m){if(!d||B)return"";B=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ye){var _=ye}Reflect.construct(d,[],m)}else{try{m.call()}catch(ye){_=ye}d.call(m.prototype)}else{try{throw Error()}catch(ye){_=ye}d()}}catch(ye){if(ye&&_&&typeof ye.stack=="string"){for(var O=ye.stack.split(`
`),$=_.stack.split(`
`),G=O.length-1,te=$.length-1;1<=G&&0<=te&&O[G]!==$[te];)te--;for(;1<=G&&0<=te;G--,te--)if(O[G]!==$[te]){if(G!==1||te!==1)do if(G--,te--,0>te||O[G]!==$[te]){var re=`
`+O[G].replace(" at new "," at ");return d.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",d.displayName)),re}while(1<=G&&0<=te);break}}}finally{B=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?Q(d):""}function ue(d){switch(d.tag){case 5:return Q(d.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return d=se(d.type,!1),d;case 11:return d=se(d.type.render,!1),d;case 1:return d=se(d.type,!0),d;default:return""}}function pe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case T:return"Fragment";case C:return"Portal";case P:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case L:return(d.displayName||"Context")+".Consumer";case M:return(d._context.displayName||"Context")+".Provider";case D:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case q:return m=d.displayName||null,m!==null?m:pe(d.type)||"Memo";case H:m=d._payload,d=d._init;try{return pe(d(m))}catch{}}return null}function ne(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ae(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ie(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ce(d){var m=ie(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),_=""+d[m];if(!d.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,$=x.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return O.call(this)},set:function(G){_=""+G,$.call(this,G)}}),Object.defineProperty(d,m,{enumerable:x.enumerable}),{getValue:function(){return _},setValue:function(G){_=""+G},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function ge(d){d._valueTracker||(d._valueTracker=ce(d))}function le(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var x=m.getValue(),_="";return d&&(_=ie(d)?d.checked?"true":"false":d.value),d=_,d!==x?(m.setValue(d),!0):!1}function Ne(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function $e(d,m){var x=m.checked;return U({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function ot(d,m){var x=m.defaultValue==null?"":m.defaultValue,_=m.checked!=null?m.checked:m.defaultChecked;x=ae(m.value!=null?m.value:x),d._wrapperState={initialChecked:_,initialValue:x,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ae(d,m){m=m.checked,m!=null&&k(d,"checked",m,!1)}function Ke(d,m){Ae(d,m);var x=ae(m.value),_=m.type;if(x!=null)_==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(_==="submit"||_==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?Ce(d,m.type,x):m.hasOwnProperty("defaultValue")&&Ce(d,m.type,ae(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function Nt(d,m,x){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var _=m.type;if(!(_!=="submit"&&_!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,x||m===d.value||(d.value=m),d.defaultValue=m}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function Ce(d,m,x){(m!=="number"||Ne(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var Je=Array.isArray;function ht(d,m,x,_){if(d=d.options,m){m={};for(var O=0;O<x.length;O++)m["$"+x[O]]=!0;for(x=0;x<d.length;x++)O=m.hasOwnProperty("$"+d[x].value),d[x].selected!==O&&(d[x].selected=O),O&&_&&(d[x].defaultSelected=!0)}else{for(x=""+ae(x),m=null,O=0;O<d.length;O++){if(d[O].value===x){d[O].selected=!0,_&&(d[O].defaultSelected=!0);return}m!==null||d[O].disabled||(m=d[O])}m!==null&&(m.selected=!0)}}function mt(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function It(d,m){var x=m.value;if(x==null){if(x=m.children,m=m.defaultValue,x!=null){if(m!=null)throw Error(n(92));if(Je(x)){if(1<x.length)throw Error(n(93));x=x[0]}m=x}m==null&&(m=""),x=m}d._wrapperState={initialValue:ae(x)}}function lr(d,m){var x=ae(m.value),_=ae(m.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),m.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),_!=null&&(d.defaultValue=""+_)}function vr(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function he(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?he(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var it,vt=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,x,_,O){MSApp.execUnsafeLocalFunction(function(){return d(m,x,_,O)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=it.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function Dt(d,m){if(m){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=m;return}}d.textContent=m}var er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cr=["Webkit","ms","Moz","O"];Object.keys(er).forEach(function(d){Cr.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),er[m]=er[d]})});function Er(d,m,x){return m==null||typeof m=="boolean"||m===""?"":x||typeof m!="number"||m===0||er.hasOwnProperty(d)&&er[d]?(""+m).trim():m+"px"}function es(d,m){d=d.style;for(var x in m)if(m.hasOwnProperty(x)){var _=x.indexOf("--")===0,O=Er(x,m[x],_);x==="float"&&(x="cssFloat"),_?d.setProperty(x,O):d[x]=O}}var yi=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(d,m){if(m){if(yi[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Oi(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Jt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Xt=null,Bn=null,tr=null;function Qs(d){if(d=Hp(d)){if(typeof Xt!="function")throw Error(n(280));var m=d.stateNode;m&&(m=$v(m),Xt(d.stateNode,d.type,m))}}function Ns(d){Bn?tr?tr.push(d):tr=[d]:Bn=d}function jp(){if(Bn){var d=Bn,m=tr;if(tr=Bn=null,Qs(d),m)for(d=0;d<m.length;d++)Qs(m[d])}}function Au(d,m){return d(m)}function Sp(){}var Ho=!1;function Np(d,m,x){if(Ho)return d(m,x);Ho=!0;try{return Au(d,m,x)}finally{Ho=!1,(Bn!==null||tr!==null)&&(Sp(),jp())}}function nr(d,m){var x=d.stateNode;if(x===null)return null;var _=$v(x);if(_===null)return null;x=_[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(d=d.type,_=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!_;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,m,typeof x));return x}var bf=!1;if(l)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){bf=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{bf=!1}function Cu(d,m,x,_,O,$,G,te,re){var ye=Array.prototype.slice.call(arguments,3);try{m.apply(x,ye)}catch(Pe){this.onError(Pe)}}var Eu=!1,wf=null,Zs=!1,_p=null,FS={onError:function(d){Eu=!0,wf=d}};function jf(d,m,x,_,O,$,G,te,re){Eu=!1,wf=null,Cu.apply(FS,arguments)}function uv(d,m,x,_,O,$,G,te,re){if(jf.apply(this,arguments),Eu){if(Eu){var ye=wf;Eu=!1,wf=null}else throw Error(n(198));Zs||(Zs=!0,_p=ye)}}function ea(d){var m=d,x=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(x=m.return),d=m.return;while(d)}return m.tag===3?x:null}function Tu(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function ta(d){if(ea(d)!==d)throw Error(n(188))}function dv(d){var m=d.alternate;if(!m){if(m=ea(d),m===null)throw Error(n(188));return m!==d?null:d}for(var x=d,_=m;;){var O=x.return;if(O===null)break;var $=O.alternate;if($===null){if(_=O.return,_!==null){x=_;continue}break}if(O.child===$.child){for($=O.child;$;){if($===x)return ta(O),d;if($===_)return ta(O),m;$=$.sibling}throw Error(n(188))}if(x.return!==_.return)x=O,_=$;else{for(var G=!1,te=O.child;te;){if(te===x){G=!0,x=O,_=$;break}if(te===_){G=!0,_=O,x=$;break}te=te.sibling}if(!G){for(te=$.child;te;){if(te===x){G=!0,x=$,_=O;break}if(te===_){G=!0,_=$,x=O;break}te=te.sibling}if(!G)throw Error(n(189))}}if(x.alternate!==_)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:m}function kp(d){return d=dv(d),d!==null?Sf(d):null}function Sf(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Sf(d);if(m!==null)return m;d=d.sibling}return null}var Nf=e.unstable_scheduleCallback,Ap=e.unstable_cancelCallback,fv=e.unstable_shouldYield,$S=e.unstable_requestPaint,xn=e.unstable_now,hv=e.unstable_getCurrentPriorityLevel,Pu=e.unstable_ImmediatePriority,Wl=e.unstable_UserBlockingPriority,_s=e.unstable_NormalPriority,Cp=e.unstable_LowPriority,mv=e.unstable_IdlePriority,Iu=null,ts=null;function pv(d){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Iu,d,void 0,(d.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:yv,Ep=Math.log,gv=Math.LN2;function yv(d){return d>>>=0,d===0?32:31-(Ep(d)/gv|0)|0}var _f=64,kf=4194304;function Gl(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ru(d,m){var x=d.pendingLanes;if(x===0)return 0;var _=0,O=d.suspendedLanes,$=d.pingedLanes,G=x&268435455;if(G!==0){var te=G&~O;te!==0?_=Gl(te):($&=G,$!==0&&(_=Gl($)))}else G=x&~O,G!==0?_=Gl(G):$!==0&&(_=Gl($));if(_===0)return 0;if(m!==0&&m!==_&&(m&O)===0&&(O=_&-_,$=m&-m,O>=$||O===16&&($&4194240)!==0))return m;if((_&4)!==0&&(_|=x&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=_;0<m;)x=31-xi(m),O=1<<x,_|=d[x],m&=~O;return _}function VS(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(d,m){for(var x=d.suspendedLanes,_=d.pingedLanes,O=d.expirationTimes,$=d.pendingLanes;0<$;){var G=31-xi($),te=1<<G,re=O[G];re===-1?((te&x)===0||(te&_)!==0)&&(O[G]=VS(te,m)):re<=m&&(d.expiredLanes|=te),$&=~te}}function ns(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ou(){var d=_f;return _f<<=1,(_f&4194240)===0&&(_f=64),d}function Kl(d){for(var m=[],x=0;31>x;x++)m.push(d);return m}function Yl(d,m,x){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-xi(m),d[m]=x}function mn(d,m){var x=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var _=d.eventTimes;for(d=d.expirationTimes;0<x;){var O=31-xi(x),$=1<<O;m[O]=0,_[O]=-1,d[O]=-1,x&=~$}}function Xl(d,m){var x=d.entangledLanes|=m;for(d=d.entanglements;x;){var _=31-xi(x),O=1<<_;O&m|d[_]&m&&(d[_]|=m),x&=~O}}var qt=0;function Ql(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var xv,Af,vv,bv,wv,Tp=!1,Ga=[],Vr=null,na=null,ra=null,Jl=new Map,ks=new Map,Ka=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(d,m){switch(d){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Jl.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(m.pointerId)}}function Mi(d,m,x,_,O,$){return d===null||d.nativeEvent!==$?(d={blockedOn:m,domEventName:x,eventSystemFlags:_,nativeEvent:$,targetContainers:[O]},m!==null&&(m=Hp(m),m!==null&&Af(m)),d):(d.eventSystemFlags|=_,m=d.targetContainers,O!==null&&m.indexOf(O)===-1&&m.push(O),d)}function US(d,m,x,_,O){switch(m){case"focusin":return Vr=Mi(Vr,d,m,x,_,O),!0;case"dragenter":return na=Mi(na,d,m,x,_,O),!0;case"mouseover":return ra=Mi(ra,d,m,x,_,O),!0;case"pointerover":var $=O.pointerId;return Jl.set($,Mi(Jl.get($)||null,d,m,x,_,O)),!0;case"gotpointercapture":return $=O.pointerId,ks.set($,Mi(ks.get($)||null,d,m,x,_,O)),!0}return!1}function Sv(d){var m=$u(d.target);if(m!==null){var x=ea(m);if(x!==null){if(m=x.tag,m===13){if(m=Tu(x),m!==null){d.blockedOn=m,wv(d.priority,function(){vv(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Go(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var x=Cf(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var _=new x.constructor(x.type,x);nt=_,x.target.dispatchEvent(_),nt=null}else return m=Hp(x),m!==null&&Af(m),d.blockedOn=x,!1;m.shift()}return!0}function Mu(d,m,x){Go(d)&&x.delete(m)}function Nv(){Tp=!1,Vr!==null&&Go(Vr)&&(Vr=null),na!==null&&Go(na)&&(na=null),ra!==null&&Go(ra)&&(ra=null),Jl.forEach(Mu),ks.forEach(Mu)}function ia(d,m){d.blockedOn===m&&(d.blockedOn=null,Tp||(Tp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nv)))}function sa(d){function m(O){return ia(O,d)}if(0<Ga.length){ia(Ga[0],d);for(var x=1;x<Ga.length;x++){var _=Ga[x];_.blockedOn===d&&(_.blockedOn=null)}}for(Vr!==null&&ia(Vr,d),na!==null&&ia(na,d),ra!==null&&ia(ra,d),Jl.forEach(m),ks.forEach(m),x=0;x<Ka.length;x++)_=Ka[x],_.blockedOn===d&&(_.blockedOn=null);for(;0<Ka.length&&(x=Ka[0],x.blockedOn===null);)Sv(x),x.blockedOn===null&&Ka.shift()}var Ko=E.ReactCurrentBatchConfig,Zl=!0;function On(d,m,x,_){var O=qt,$=Ko.transition;Ko.transition=null;try{qt=1,Pp(d,m,x,_)}finally{qt=O,Ko.transition=$}}function zS(d,m,x,_){var O=qt,$=Ko.transition;Ko.transition=null;try{qt=4,Pp(d,m,x,_)}finally{qt=O,Ko.transition=$}}function Pp(d,m,x,_){if(Zl){var O=Cf(d,m,x,_);if(O===null)eN(d,m,_,Du,x),jv(d,_);else if(US(O,d,m,x,_))_.stopPropagation();else if(jv(d,_),m&4&&-1<BS.indexOf(d)){for(;O!==null;){var $=Hp(O);if($!==null&&xv($),$=Cf(d,m,x,_),$===null&&eN(d,m,_,Du,x),$===O)break;O=$}O!==null&&_.stopPropagation()}else eN(d,m,_,null,x)}}var Du=null;function Cf(d,m,x,_){if(Du=null,d=Jt(_),d=$u(d),d!==null)if(m=ea(d),m===null)d=null;else if(x=m.tag,x===13){if(d=Tu(m),d!==null)return d;d=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Du=d,null}function Ip(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hv()){case Pu:return 1;case Wl:return 4;case _s:case Cp:return 16;case mv:return 536870912;default:return 16}default:return 16}}var rs=null,Ef=null,Di=null;function Rp(){if(Di)return Di;var d,m=Ef,x=m.length,_,O="value"in rs?rs.value:rs.textContent,$=O.length;for(d=0;d<x&&m[d]===O[d];d++);var G=x-d;for(_=1;_<=G&&m[x-_]===O[$-_];_++);return Di=O.slice(d,1<_?1-_:void 0)}function Tf(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Ya(){return!0}function Op(){return!1}function Br(d){function m(x,_,O,$,G){this._reactName=x,this._targetInst=O,this.type=_,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var te in d)d.hasOwnProperty(te)&&(x=d[te],this[te]=x?x($):$[te]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Ya:Op,this.isPropagationStopped=Op,this}return U(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),m}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Br(aa),Xa=U({},aa,{view:0,detail:0}),qS=Br(Xa),If,Yo,ec,Lu=U({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==ec&&(ec&&d.type==="mousemove"?(If=d.screenX-ec.screenX,Yo=d.screenY-ec.screenY):Yo=If=0,ec=d),If)},movementY:function(d){return"movementY"in d?d.movementY:Yo}}),Rf=Br(Lu),Mp=U({},Lu,{dataTransfer:0}),_v=Br(Mp),Of=U({},Xa,{relatedTarget:0}),Mf=Br(Of),kv=U({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Br(kv),Av=U({},aa,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Cv=Br(Av),Ev=U({},aa,{data:0}),Dp=Br(Ev),Df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pv(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Tv[d])?!!m[d]:!1}function Qa(){return Pv}var j=U({},Xa,{key:function(d){if(d.key){var m=Df[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Tf(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?vi[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(d){return d.type==="keypress"?Tf(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Tf(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),F=Br(j),z=U({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=Br(z),de=U({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),xe=Br(de),Le=U({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cn=Br(Le),br=U({},Lu,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Gt=Br(br),Tr=[9,13,27,32],cr=l&&"CompositionEvent"in window,As=null;l&&"documentMode"in document&&(As=document.documentMode);var is=l&&"TextEvent"in window&&!As,Fu=l&&(!cr||As&&8<As&&11>=As),Lf=" ",n4=!1;function r4(d,m){switch(d){case"keyup":return Tr.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i4(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ff=!1;function Cse(d,m){switch(d){case"compositionend":return i4(m);case"keypress":return m.which!==32?null:(n4=!0,Lf);case"textInput":return d=m.data,d===Lf&&n4?null:d;default:return null}}function Ese(d,m){if(Ff)return d==="compositionend"||!cr&&r4(d,m)?(d=Rp(),Di=Ef=rs=null,Ff=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Fu&&m.locale!=="ko"?null:m.data;default:return null}}var Tse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s4(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Tse[d.type]:m==="textarea"}function a4(d,m,x,_){Ns(_),m=Dv(m,"onChange"),0<m.length&&(x=new Pf("onChange","change",null,x,_),d.push({event:x,listeners:m}))}var Lp=null,Fp=null;function Pse(d){N4(d,0)}function Iv(d){var m=zf(d);if(le(m))return d}function Ise(d,m){if(d==="change")return m}var o4=!1;if(l){var HS;if(l){var WS="oninput"in document;if(!WS){var l4=document.createElement("div");l4.setAttribute("oninput","return;"),WS=typeof l4.oninput=="function"}HS=WS}else HS=!1;o4=HS&&(!document.documentMode||9<document.documentMode)}function c4(){Lp&&(Lp.detachEvent("onpropertychange",u4),Fp=Lp=null)}function u4(d){if(d.propertyName==="value"&&Iv(Fp)){var m=[];a4(m,Fp,d,Jt(d)),Np(Pse,m)}}function Rse(d,m,x){d==="focusin"?(c4(),Lp=m,Fp=x,Lp.attachEvent("onpropertychange",u4)):d==="focusout"&&c4()}function Ose(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Iv(Fp)}function Mse(d,m){if(d==="click")return Iv(m)}function Dse(d,m){if(d==="input"||d==="change")return Iv(m)}function Lse(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var oa=typeof Object.is=="function"?Object.is:Lse;function $p(d,m){if(oa(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var x=Object.keys(d),_=Object.keys(m);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var O=x[_];if(!c.call(m,O)||!oa(d[O],m[O]))return!1}return!0}function d4(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function f4(d,m){var x=d4(d);d=0;for(var _;x;){if(x.nodeType===3){if(_=d+x.textContent.length,d<=m&&_>=m)return{node:x,offset:m-d};d=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=d4(x)}}function h4(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?h4(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function m4(){for(var d=window,m=Ne();m instanceof d.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)d=m.contentWindow;else break;m=Ne(d.document)}return m}function GS(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Fse(d){var m=m4(),x=d.focusedElem,_=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&h4(x.ownerDocument.documentElement,x)){if(_!==null&&GS(x)){if(m=_.start,d=_.end,d===void 0&&(d=m),"selectionStart"in x)x.selectionStart=m,x.selectionEnd=Math.min(d,x.value.length);else if(d=(m=x.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var O=x.textContent.length,$=Math.min(_.start,O);_=_.end===void 0?$:Math.min(_.end,O),!d.extend&&$>_&&(O=_,_=$,$=O),O=f4(x,$);var G=f4(x,_);O&&G&&(d.rangeCount!==1||d.anchorNode!==O.node||d.anchorOffset!==O.offset||d.focusNode!==G.node||d.focusOffset!==G.offset)&&(m=m.createRange(),m.setStart(O.node,O.offset),d.removeAllRanges(),$>_?(d.addRange(m),d.extend(G.node,G.offset)):(m.setEnd(G.node,G.offset),d.addRange(m)))}}for(m=[],d=x;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<m.length;x++)d=m[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var $se=l&&"documentMode"in document&&11>=document.documentMode,$f=null,KS=null,Vp=null,YS=!1;function p4(d,m,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;YS||$f==null||$f!==Ne(_)||(_=$f,"selectionStart"in _&&GS(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Vp&&$p(Vp,_)||(Vp=_,_=Dv(KS,"onSelect"),0<_.length&&(m=new Pf("onSelect","select",null,m,x),d.push({event:m,listeners:_}),m.target=$f)))}function Rv(d,m){var x={};return x[d.toLowerCase()]=m.toLowerCase(),x["Webkit"+d]="webkit"+m,x["Moz"+d]="moz"+m,x}var Vf={animationend:Rv("Animation","AnimationEnd"),animationiteration:Rv("Animation","AnimationIteration"),animationstart:Rv("Animation","AnimationStart"),transitionend:Rv("Transition","TransitionEnd")},XS={},g4={};l&&(g4=document.createElement("div").style,"AnimationEvent"in window||(delete Vf.animationend.animation,delete Vf.animationiteration.animation,delete Vf.animationstart.animation),"TransitionEvent"in window||delete Vf.transitionend.transition);function Ov(d){if(XS[d])return XS[d];if(!Vf[d])return d;var m=Vf[d],x;for(x in m)if(m.hasOwnProperty(x)&&x in g4)return XS[d]=m[x];return d}var y4=Ov("animationend"),x4=Ov("animationiteration"),v4=Ov("animationstart"),b4=Ov("transitionend"),w4=new Map,j4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(d,m){w4.set(d,m),s(m,[d])}for(var QS=0;QS<j4.length;QS++){var JS=j4[QS],Vse=JS.toLowerCase(),Bse=JS[0].toUpperCase()+JS.slice(1);tc(Vse,"on"+Bse)}tc(y4,"onAnimationEnd"),tc(x4,"onAnimationIteration"),tc(v4,"onAnimationStart"),tc("dblclick","onDoubleClick"),tc("focusin","onFocus"),tc("focusout","onBlur"),tc(b4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Use=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bp));function S4(d,m,x){var _=d.type||"unknown-event";d.currentTarget=x,uv(_,m,void 0,d),d.currentTarget=null}function N4(d,m){m=(m&4)!==0;for(var x=0;x<d.length;x++){var _=d[x],O=_.event;_=_.listeners;e:{var $=void 0;if(m)for(var G=_.length-1;0<=G;G--){var te=_[G],re=te.instance,ye=te.currentTarget;if(te=te.listener,re!==$&&O.isPropagationStopped())break e;S4(O,te,ye),$=re}else for(G=0;G<_.length;G++){if(te=_[G],re=te.instance,ye=te.currentTarget,te=te.listener,re!==$&&O.isPropagationStopped())break e;S4(O,te,ye),$=re}}}if(Zs)throw d=_p,Zs=!1,_p=null,d}function An(d,m){var x=m[aN];x===void 0&&(x=m[aN]=new Set);var _=d+"__bubble";x.has(_)||(_4(m,d,2,!1),x.add(_))}function ZS(d,m,x){var _=0;m&&(_|=4),_4(x,d,_,m)}var Mv="_reactListening"+Math.random().toString(36).slice(2);function Up(d){if(!d[Mv]){d[Mv]=!0,r.forEach(function(x){x!=="selectionchange"&&(Use.has(x)||ZS(x,!1,d),ZS(x,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Mv]||(m[Mv]=!0,ZS("selectionchange",!1,m))}}function _4(d,m,x,_){switch(Ip(m)){case 1:var O=On;break;case 4:O=zS;break;default:O=Pp}x=O.bind(null,m,x,d),O=void 0,!bf||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(O=!0),_?O!==void 0?d.addEventListener(m,x,{capture:!0,passive:O}):d.addEventListener(m,x,!0):O!==void 0?d.addEventListener(m,x,{passive:O}):d.addEventListener(m,x,!1)}function eN(d,m,x,_,O){var $=_;if((m&1)===0&&(m&2)===0&&_!==null)e:for(;;){if(_===null)return;var G=_.tag;if(G===3||G===4){var te=_.stateNode.containerInfo;if(te===O||te.nodeType===8&&te.parentNode===O)break;if(G===4)for(G=_.return;G!==null;){var re=G.tag;if((re===3||re===4)&&(re=G.stateNode.containerInfo,re===O||re.nodeType===8&&re.parentNode===O))return;G=G.return}for(;te!==null;){if(G=$u(te),G===null)return;if(re=G.tag,re===5||re===6){_=$=G;continue e}te=te.parentNode}}_=_.return}Np(function(){var ye=$,Pe=Jt(x),Ie=[];e:{var Te=w4.get(d);if(Te!==void 0){var ze=Pf,Ye=d;switch(d){case"keypress":if(Tf(x)===0)break e;case"keydown":case"keyup":ze=F;break;case"focusin":Ye="focus",ze=Mf;break;case"focusout":Ye="blur",ze=Mf;break;case"beforeblur":case"afterblur":ze=Mf;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=xe;break;case y4:case x4:case v4:ze=Xo;break;case b4:ze=cn;break;case"scroll":ze=qS;break;case"wheel":ze=Gt;break;case"copy":case"cut":case"paste":ze=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=J}var Ze=(m&4)!==0,rr=!Ze&&d==="scroll",fe=Ze?Te!==null?Te+"Capture":null:Te;Ze=[];for(var oe=ye,me;oe!==null;){me=oe;var De=me.stateNode;if(me.tag===5&&De!==null&&(me=De,fe!==null&&(De=nr(oe,fe),De!=null&&Ze.push(zp(oe,De,me)))),rr)break;oe=oe.return}0<Ze.length&&(Te=new ze(Te,Ye,null,x,Pe),Ie.push({event:Te,listeners:Ze}))}}if((m&7)===0){e:{if(Te=d==="mouseover"||d==="pointerover",ze=d==="mouseout"||d==="pointerout",Te&&x!==nt&&(Ye=x.relatedTarget||x.fromElement)&&($u(Ye)||Ye[Qo]))break e;if((ze||Te)&&(Te=Pe.window===Pe?Pe:(Te=Pe.ownerDocument)?Te.defaultView||Te.parentWindow:window,ze?(Ye=x.relatedTarget||x.toElement,ze=ye,Ye=Ye?$u(Ye):null,Ye!==null&&(rr=ea(Ye),Ye!==rr||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(ze=null,Ye=ye),ze!==Ye)){if(Ze=Rf,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(d==="pointerout"||d==="pointerover")&&(Ze=J,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),rr=ze==null?Te:zf(ze),me=Ye==null?Te:zf(Ye),Te=new Ze(De,oe+"leave",ze,x,Pe),Te.target=rr,Te.relatedTarget=me,De=null,$u(Pe)===ye&&(Ze=new Ze(fe,oe+"enter",Ye,x,Pe),Ze.target=me,Ze.relatedTarget=rr,De=Ze),rr=De,ze&&Ye)t:{for(Ze=ze,fe=Ye,oe=0,me=Ze;me;me=Bf(me))oe++;for(me=0,De=fe;De;De=Bf(De))me++;for(;0<oe-me;)Ze=Bf(Ze),oe--;for(;0<me-oe;)fe=Bf(fe),me--;for(;oe--;){if(Ze===fe||fe!==null&&Ze===fe.alternate)break t;Ze=Bf(Ze),fe=Bf(fe)}Ze=null}else Ze=null;ze!==null&&k4(Ie,Te,ze,Ze,!1),Ye!==null&&rr!==null&&k4(Ie,rr,Ye,Ze,!0)}}e:{if(Te=ye?zf(ye):window,ze=Te.nodeName&&Te.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Te.type==="file")var tt=Ise;else if(s4(Te))if(o4)tt=Dse;else{tt=Ose;var ct=Rse}else(ze=Te.nodeName)&&ze.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(tt=Mse);if(tt&&(tt=tt(d,ye))){a4(Ie,tt,x,Pe);break e}ct&&ct(d,Te,ye),d==="focusout"&&(ct=Te._wrapperState)&&ct.controlled&&Te.type==="number"&&Ce(Te,"number",Te.value)}switch(ct=ye?zf(ye):window,d){case"focusin":(s4(ct)||ct.contentEditable==="true")&&($f=ct,KS=ye,Vp=null);break;case"focusout":Vp=KS=$f=null;break;case"mousedown":YS=!0;break;case"contextmenu":case"mouseup":case"dragend":YS=!1,p4(Ie,x,Pe);break;case"selectionchange":if($se)break;case"keydown":case"keyup":p4(Ie,x,Pe)}var ut;if(cr)e:{switch(d){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else Ff?r4(d,x)&&(jt="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(jt="onCompositionStart");jt&&(Fu&&x.locale!=="ko"&&(Ff||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Ff&&(ut=Rp()):(rs=Pe,Ef="value"in rs?rs.value:rs.textContent,Ff=!0)),ct=Dv(ye,jt),0<ct.length&&(jt=new Dp(jt,d,null,x,Pe),Ie.push({event:jt,listeners:ct}),ut?jt.data=ut:(ut=i4(x),ut!==null&&(jt.data=ut)))),(ut=is?Cse(d,x):Ese(d,x))&&(ye=Dv(ye,"onBeforeInput"),0<ye.length&&(Pe=new Dp("onBeforeInput","beforeinput",null,x,Pe),Ie.push({event:Pe,listeners:ye}),Pe.data=ut))}N4(Ie,m)})}function zp(d,m,x){return{instance:d,listener:m,currentTarget:x}}function Dv(d,m){for(var x=m+"Capture",_=[];d!==null;){var O=d,$=O.stateNode;O.tag===5&&$!==null&&(O=$,$=nr(d,x),$!=null&&_.unshift(zp(d,$,O)),$=nr(d,m),$!=null&&_.push(zp(d,$,O))),d=d.return}return _}function Bf(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function k4(d,m,x,_,O){for(var $=m._reactName,G=[];x!==null&&x!==_;){var te=x,re=te.alternate,ye=te.stateNode;if(re!==null&&re===_)break;te.tag===5&&ye!==null&&(te=ye,O?(re=nr(x,$),re!=null&&G.unshift(zp(x,re,te))):O||(re=nr(x,$),re!=null&&G.push(zp(x,re,te)))),x=x.return}G.length!==0&&d.push({event:m,listeners:G})}var zse=/\r\n?/g,qse=/\u0000|\uFFFD/g;function A4(d){return(typeof d=="string"?d:""+d).replace(zse,`
`).replace(qse,"")}function Lv(d,m,x){if(m=A4(m),A4(d)!==m&&x)throw Error(n(425))}function Fv(){}var tN=null,nN=null;function rN(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var iN=typeof setTimeout=="function"?setTimeout:void 0,Hse=typeof clearTimeout=="function"?clearTimeout:void 0,C4=typeof Promise=="function"?Promise:void 0,Wse=typeof queueMicrotask=="function"?queueMicrotask:typeof C4<"u"?function(d){return C4.resolve(null).then(d).catch(Gse)}:iN;function Gse(d){setTimeout(function(){throw d})}function sN(d,m){var x=m,_=0;do{var O=x.nextSibling;if(d.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(_===0){d.removeChild(O),sa(m);return}_--}else x!=="$"&&x!=="$?"&&x!=="$!"||_++;x=O}while(x);sa(m)}function nc(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function E4(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return d;m--}else x==="/$"&&m++}d=d.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Uf,qp="__reactProps$"+Uf,Qo="__reactContainer$"+Uf,aN="__reactEvents$"+Uf,Kse="__reactListeners$"+Uf,Yse="__reactHandles$"+Uf;function $u(d){var m=d[Ja];if(m)return m;for(var x=d.parentNode;x;){if(m=x[Qo]||x[Ja]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(d=E4(d);d!==null;){if(x=d[Ja])return x;d=E4(d)}return m}d=x,x=d.parentNode}return null}function Hp(d){return d=d[Ja]||d[Qo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function zf(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function $v(d){return d[qp]||null}var oN=[],qf=-1;function rc(d){return{current:d}}function Cn(d){0>qf||(d.current=oN[qf],oN[qf]=null,qf--)}function vn(d,m){qf++,oN[qf]=d.current,d.current=m}var ic={},Jr=rc(ic),Li=rc(!1),Vu=ic;function Hf(d,m){var x=d.type.contextTypes;if(!x)return ic;var _=d.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===m)return _.__reactInternalMemoizedMaskedChildContext;var O={},$;for($ in x)O[$]=m[$];return _&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=O),O}function Fi(d){return d=d.childContextTypes,d!=null}function Vv(){Cn(Li),Cn(Jr)}function T4(d,m,x){if(Jr.current!==ic)throw Error(n(168));vn(Jr,m),vn(Li,x)}function P4(d,m,x){var _=d.stateNode;if(m=m.childContextTypes,typeof _.getChildContext!="function")return x;_=_.getChildContext();for(var O in _)if(!(O in m))throw Error(n(108,ne(d)||"Unknown",O));return U({},x,_)}function Bv(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ic,Vu=Jr.current,vn(Jr,d),vn(Li,Li.current),!0}function I4(d,m,x){var _=d.stateNode;if(!_)throw Error(n(169));x?(d=P4(d,m,Vu),_.__reactInternalMemoizedMergedChildContext=d,Cn(Li),Cn(Jr),vn(Jr,d)):Cn(Li),vn(Li,x)}var Jo=null,Uv=!1,lN=!1;function R4(d){Jo===null?Jo=[d]:Jo.push(d)}function Xse(d){Uv=!0,R4(d)}function sc(){if(!lN&&Jo!==null){lN=!0;var d=0,m=qt;try{var x=Jo;for(qt=1;d<x.length;d++){var _=x[d];do _=_(!0);while(_!==null)}Jo=null,Uv=!1}catch(O){throw Jo!==null&&(Jo=Jo.slice(d+1)),Nf(Pu,sc),O}finally{qt=m,lN=!1}}return null}var Wf=[],Gf=0,zv=null,qv=0,Cs=[],Es=0,Bu=null,Zo=1,el="";function Uu(d,m){Wf[Gf++]=qv,Wf[Gf++]=zv,zv=d,qv=m}function O4(d,m,x){Cs[Es++]=Zo,Cs[Es++]=el,Cs[Es++]=Bu,Bu=d;var _=Zo;d=el;var O=32-xi(_)-1;_&=~(1<<O),x+=1;var $=32-xi(m)+O;if(30<$){var G=O-O%5;$=(_&(1<<G)-1).toString(32),_>>=G,O-=G,Zo=1<<32-xi(m)+O|x<<O|_,el=$+d}else Zo=1<<$|x<<O|_,el=d}function cN(d){d.return!==null&&(Uu(d,1),O4(d,1,0))}function uN(d){for(;d===zv;)zv=Wf[--Gf],Wf[Gf]=null,qv=Wf[--Gf],Wf[Gf]=null;for(;d===Bu;)Bu=Cs[--Es],Cs[Es]=null,el=Cs[--Es],Cs[Es]=null,Zo=Cs[--Es],Cs[Es]=null}var ss=null,as=null,Mn=!1,la=null;function M4(d,m){var x=Rs(5,null,null,0);x.elementType="DELETED",x.stateNode=m,x.return=d,m=d.deletions,m===null?(d.deletions=[x],d.flags|=16):m.push(x)}function D4(d,m){switch(d.tag){case 5:var x=d.type;return m=m.nodeType!==1||x.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,ss=d,as=nc(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,ss=d,as=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(x=Bu!==null?{id:Zo,overflow:el}:null,d.memoizedState={dehydrated:m,treeContext:x,retryLane:1073741824},x=Rs(18,null,null,0),x.stateNode=m,x.return=d,d.child=x,ss=d,as=null,!0):!1;default:return!1}}function dN(d){return(d.mode&1)!==0&&(d.flags&128)===0}function fN(d){if(Mn){var m=as;if(m){var x=m;if(!D4(d,m)){if(dN(d))throw Error(n(418));m=nc(x.nextSibling);var _=ss;m&&D4(d,m)?M4(_,x):(d.flags=d.flags&-4097|2,Mn=!1,ss=d)}}else{if(dN(d))throw Error(n(418));d.flags=d.flags&-4097|2,Mn=!1,ss=d}}}function L4(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ss=d}function Hv(d){if(d!==ss)return!1;if(!Mn)return L4(d),Mn=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!rN(d.type,d.memoizedProps)),m&&(m=as)){if(dN(d))throw F4(),Error(n(418));for(;m;)M4(d,m),m=nc(m.nextSibling)}if(L4(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(m===0){as=nc(d.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++}d=d.nextSibling}as=null}}else as=ss?nc(d.stateNode.nextSibling):null;return!0}function F4(){for(var d=as;d;)d=nc(d.nextSibling)}function Kf(){as=ss=null,Mn=!1}function hN(d){la===null?la=[d]:la.push(d)}var Qse=E.ReactCurrentBatchConfig;function Wp(d,m,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var _=x.stateNode}if(!_)throw Error(n(147,d));var O=_,$=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(G){var te=O.refs;G===null?delete te[$]:te[$]=G},m._stringRef=$,m)}if(typeof d!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,d))}return d}function Wv(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function $4(d){var m=d._init;return m(d._payload)}function V4(d){function m(fe,oe){if(d){var me=fe.deletions;me===null?(fe.deletions=[oe],fe.flags|=16):me.push(oe)}}function x(fe,oe){if(!d)return null;for(;oe!==null;)m(fe,oe),oe=oe.sibling;return null}function _(fe,oe){for(fe=new Map;oe!==null;)oe.key!==null?fe.set(oe.key,oe):fe.set(oe.index,oe),oe=oe.sibling;return fe}function O(fe,oe){return fe=hc(fe,oe),fe.index=0,fe.sibling=null,fe}function $(fe,oe,me){return fe.index=me,d?(me=fe.alternate,me!==null?(me=me.index,me<oe?(fe.flags|=2,oe):me):(fe.flags|=2,oe)):(fe.flags|=1048576,oe)}function G(fe){return d&&fe.alternate===null&&(fe.flags|=2),fe}function te(fe,oe,me,De){return oe===null||oe.tag!==6?(oe=i_(me,fe.mode,De),oe.return=fe,oe):(oe=O(oe,me),oe.return=fe,oe)}function re(fe,oe,me,De){var tt=me.type;return tt===T?Pe(fe,oe,me.props.children,De,me.key):oe!==null&&(oe.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===H&&$4(tt)===oe.type)?(De=O(oe,me.props),De.ref=Wp(fe,oe,me),De.return=fe,De):(De=gb(me.type,me.key,me.props,null,fe.mode,De),De.ref=Wp(fe,oe,me),De.return=fe,De)}function ye(fe,oe,me,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==me.containerInfo||oe.stateNode.implementation!==me.implementation?(oe=s_(me,fe.mode,De),oe.return=fe,oe):(oe=O(oe,me.children||[]),oe.return=fe,oe)}function Pe(fe,oe,me,De,tt){return oe===null||oe.tag!==7?(oe=Xu(me,fe.mode,De,tt),oe.return=fe,oe):(oe=O(oe,me),oe.return=fe,oe)}function Ie(fe,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=i_(""+oe,fe.mode,me),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return me=gb(oe.type,oe.key,oe.props,null,fe.mode,me),me.ref=Wp(fe,null,oe),me.return=fe,me;case C:return oe=s_(oe,fe.mode,me),oe.return=fe,oe;case H:var De=oe._init;return Ie(fe,De(oe._payload),me)}if(Je(oe)||Z(oe))return oe=Xu(oe,fe.mode,me,null),oe.return=fe,oe;Wv(fe,oe)}return null}function Te(fe,oe,me,De){var tt=oe!==null?oe.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return tt!==null?null:te(fe,oe,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return me.key===tt?re(fe,oe,me,De):null;case C:return me.key===tt?ye(fe,oe,me,De):null;case H:return tt=me._init,Te(fe,oe,tt(me._payload),De)}if(Je(me)||Z(me))return tt!==null?null:Pe(fe,oe,me,De,null);Wv(fe,me)}return null}function ze(fe,oe,me,De,tt){if(typeof De=="string"&&De!==""||typeof De=="number")return fe=fe.get(me)||null,te(oe,fe,""+De,tt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case A:return fe=fe.get(De.key===null?me:De.key)||null,re(oe,fe,De,tt);case C:return fe=fe.get(De.key===null?me:De.key)||null,ye(oe,fe,De,tt);case H:var ct=De._init;return ze(fe,oe,me,ct(De._payload),tt)}if(Je(De)||Z(De))return fe=fe.get(me)||null,Pe(oe,fe,De,tt,null);Wv(oe,De)}return null}function Ye(fe,oe,me,De){for(var tt=null,ct=null,ut=oe,jt=oe=0,Rr=null;ut!==null&&jt<me.length;jt++){ut.index>jt?(Rr=ut,ut=null):Rr=ut.sibling;var Zt=Te(fe,ut,me[jt],De);if(Zt===null){ut===null&&(ut=Rr);break}d&&ut&&Zt.alternate===null&&m(fe,ut),oe=$(Zt,oe,jt),ct===null?tt=Zt:ct.sibling=Zt,ct=Zt,ut=Rr}if(jt===me.length)return x(fe,ut),Mn&&Uu(fe,jt),tt;if(ut===null){for(;jt<me.length;jt++)ut=Ie(fe,me[jt],De),ut!==null&&(oe=$(ut,oe,jt),ct===null?tt=ut:ct.sibling=ut,ct=ut);return Mn&&Uu(fe,jt),tt}for(ut=_(fe,ut);jt<me.length;jt++)Rr=ze(ut,fe,jt,me[jt],De),Rr!==null&&(d&&Rr.alternate!==null&&ut.delete(Rr.key===null?jt:Rr.key),oe=$(Rr,oe,jt),ct===null?tt=Rr:ct.sibling=Rr,ct=Rr);return d&&ut.forEach(function(mc){return m(fe,mc)}),Mn&&Uu(fe,jt),tt}function Ze(fe,oe,me,De){var tt=Z(me);if(typeof tt!="function")throw Error(n(150));if(me=tt.call(me),me==null)throw Error(n(151));for(var ct=tt=null,ut=oe,jt=oe=0,Rr=null,Zt=me.next();ut!==null&&!Zt.done;jt++,Zt=me.next()){ut.index>jt?(Rr=ut,ut=null):Rr=ut.sibling;var mc=Te(fe,ut,Zt.value,De);if(mc===null){ut===null&&(ut=Rr);break}d&&ut&&mc.alternate===null&&m(fe,ut),oe=$(mc,oe,jt),ct===null?tt=mc:ct.sibling=mc,ct=mc,ut=Rr}if(Zt.done)return x(fe,ut),Mn&&Uu(fe,jt),tt;if(ut===null){for(;!Zt.done;jt++,Zt=me.next())Zt=Ie(fe,Zt.value,De),Zt!==null&&(oe=$(Zt,oe,jt),ct===null?tt=Zt:ct.sibling=Zt,ct=Zt);return Mn&&Uu(fe,jt),tt}for(ut=_(fe,ut);!Zt.done;jt++,Zt=me.next())Zt=ze(ut,fe,jt,Zt.value,De),Zt!==null&&(d&&Zt.alternate!==null&&ut.delete(Zt.key===null?jt:Zt.key),oe=$(Zt,oe,jt),ct===null?tt=Zt:ct.sibling=Zt,ct=Zt);return d&&ut.forEach(function(Tae){return m(fe,Tae)}),Mn&&Uu(fe,jt),tt}function rr(fe,oe,me,De){if(typeof me=="object"&&me!==null&&me.type===T&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case A:e:{for(var tt=me.key,ct=oe;ct!==null;){if(ct.key===tt){if(tt=me.type,tt===T){if(ct.tag===7){x(fe,ct.sibling),oe=O(ct,me.props.children),oe.return=fe,fe=oe;break e}}else if(ct.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===H&&$4(tt)===ct.type){x(fe,ct.sibling),oe=O(ct,me.props),oe.ref=Wp(fe,ct,me),oe.return=fe,fe=oe;break e}x(fe,ct);break}else m(fe,ct);ct=ct.sibling}me.type===T?(oe=Xu(me.props.children,fe.mode,De,me.key),oe.return=fe,fe=oe):(De=gb(me.type,me.key,me.props,null,fe.mode,De),De.ref=Wp(fe,oe,me),De.return=fe,fe=De)}return G(fe);case C:e:{for(ct=me.key;oe!==null;){if(oe.key===ct)if(oe.tag===4&&oe.stateNode.containerInfo===me.containerInfo&&oe.stateNode.implementation===me.implementation){x(fe,oe.sibling),oe=O(oe,me.children||[]),oe.return=fe,fe=oe;break e}else{x(fe,oe);break}else m(fe,oe);oe=oe.sibling}oe=s_(me,fe.mode,De),oe.return=fe,fe=oe}return G(fe);case H:return ct=me._init,rr(fe,oe,ct(me._payload),De)}if(Je(me))return Ye(fe,oe,me,De);if(Z(me))return Ze(fe,oe,me,De);Wv(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,oe!==null&&oe.tag===6?(x(fe,oe.sibling),oe=O(oe,me),oe.return=fe,fe=oe):(x(fe,oe),oe=i_(me,fe.mode,De),oe.return=fe,fe=oe),G(fe)):x(fe,oe)}return rr}var Yf=V4(!0),B4=V4(!1),Gv=rc(null),Kv=null,Xf=null,mN=null;function pN(){mN=Xf=Kv=null}function gN(d){var m=Gv.current;Cn(Gv),d._currentValue=m}function yN(d,m,x){for(;d!==null;){var _=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,_!==null&&(_.childLanes|=m)):_!==null&&(_.childLanes&m)!==m&&(_.childLanes|=m),d===x)break;d=d.return}}function Qf(d,m){Kv=d,mN=Xf=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&($i=!0),d.firstContext=null)}function Ts(d){var m=d._currentValue;if(mN!==d)if(d={context:d,memoizedValue:m,next:null},Xf===null){if(Kv===null)throw Error(n(308));Xf=d,Kv.dependencies={lanes:0,firstContext:d}}else Xf=Xf.next=d;return m}var zu=null;function xN(d){zu===null?zu=[d]:zu.push(d)}function U4(d,m,x,_){var O=m.interleaved;return O===null?(x.next=x,xN(m)):(x.next=O.next,O.next=x),m.interleaved=x,tl(d,_)}function tl(d,m){d.lanes|=m;var x=d.alternate;for(x!==null&&(x.lanes|=m),x=d,d=d.return;d!==null;)d.childLanes|=m,x=d.alternate,x!==null&&(x.childLanes|=m),x=d,d=d.return;return x.tag===3?x.stateNode:null}var ac=!1;function vN(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z4(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function nl(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function oc(d,m,x){var _=d.updateQueue;if(_===null)return null;if(_=_.shared,(Qt&2)!==0){var O=_.pending;return O===null?m.next=m:(m.next=O.next,O.next=m),_.pending=m,tl(d,x)}return O=_.interleaved,O===null?(m.next=m,xN(_)):(m.next=O.next,O.next=m),_.interleaved=m,tl(d,x)}function Yv(d,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194240)!==0)){var _=m.lanes;_&=d.pendingLanes,x|=_,m.lanes=x,Xl(d,x)}}function q4(d,m){var x=d.updateQueue,_=d.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var O=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var G={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};$===null?O=$=G:$=$.next=G,x=x.next}while(x!==null);$===null?O=$=m:$=$.next=m}else O=$=m;x={baseState:_.baseState,firstBaseUpdate:O,lastBaseUpdate:$,shared:_.shared,effects:_.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=m:d.next=m,x.lastBaseUpdate=m}function Xv(d,m,x,_){var O=d.updateQueue;ac=!1;var $=O.firstBaseUpdate,G=O.lastBaseUpdate,te=O.shared.pending;if(te!==null){O.shared.pending=null;var re=te,ye=re.next;re.next=null,G===null?$=ye:G.next=ye,G=re;var Pe=d.alternate;Pe!==null&&(Pe=Pe.updateQueue,te=Pe.lastBaseUpdate,te!==G&&(te===null?Pe.firstBaseUpdate=ye:te.next=ye,Pe.lastBaseUpdate=re))}if($!==null){var Ie=O.baseState;G=0,Pe=ye=re=null,te=$;do{var Te=te.lane,ze=te.eventTime;if((_&Te)===Te){Pe!==null&&(Pe=Pe.next={eventTime:ze,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var Ye=d,Ze=te;switch(Te=m,ze=x,Ze.tag){case 1:if(Ye=Ze.payload,typeof Ye=="function"){Ie=Ye.call(ze,Ie,Te);break e}Ie=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Ze.payload,Te=typeof Ye=="function"?Ye.call(ze,Ie,Te):Ye,Te==null)break e;Ie=U({},Ie,Te);break e;case 2:ac=!0}}te.callback!==null&&te.lane!==0&&(d.flags|=64,Te=O.effects,Te===null?O.effects=[te]:Te.push(te))}else ze={eventTime:ze,lane:Te,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Pe===null?(ye=Pe=ze,re=Ie):Pe=Pe.next=ze,G|=Te;if(te=te.next,te===null){if(te=O.shared.pending,te===null)break;Te=te,te=Te.next,Te.next=null,O.lastBaseUpdate=Te,O.shared.pending=null}}while(!0);if(Pe===null&&(re=Ie),O.baseState=re,O.firstBaseUpdate=ye,O.lastBaseUpdate=Pe,m=O.shared.interleaved,m!==null){O=m;do G|=O.lane,O=O.next;while(O!==m)}else $===null&&(O.shared.lanes=0);Wu|=G,d.lanes=G,d.memoizedState=Ie}}function H4(d,m,x){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var _=d[m],O=_.callback;if(O!==null){if(_.callback=null,_=x,typeof O!="function")throw Error(n(191,O));O.call(_)}}}var Gp={},Za=rc(Gp),Kp=rc(Gp),Yp=rc(Gp);function qu(d){if(d===Gp)throw Error(n(174));return d}function bN(d,m){switch(vn(Yp,m),vn(Kp,d),vn(Za,Gp),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:je(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=je(m,d)}Cn(Za),vn(Za,m)}function Jf(){Cn(Za),Cn(Kp),Cn(Yp)}function W4(d){qu(Yp.current);var m=qu(Za.current),x=je(m,d.type);m!==x&&(vn(Kp,d),vn(Za,x))}function wN(d){Kp.current===d&&(Cn(Za),Cn(Kp))}var Un=rc(0);function Qv(d){for(var m=d;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var jN=[];function SN(){for(var d=0;d<jN.length;d++)jN[d]._workInProgressVersionPrimary=null;jN.length=0}var Jv=E.ReactCurrentDispatcher,NN=E.ReactCurrentBatchConfig,Hu=0,zn=null,wr=null,Pr=null,Zv=!1,Xp=!1,Qp=0,Jse=0;function Zr(){throw Error(n(321))}function _N(d,m){if(m===null)return!1;for(var x=0;x<m.length&&x<d.length;x++)if(!oa(d[x],m[x]))return!1;return!0}function kN(d,m,x,_,O,$){if(Hu=$,zn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Jv.current=d===null||d.memoizedState===null?nae:rae,d=x(_,O),Xp){$=0;do{if(Xp=!1,Qp=0,25<=$)throw Error(n(301));$+=1,Pr=wr=null,m.updateQueue=null,Jv.current=iae,d=x(_,O)}while(Xp)}if(Jv.current=nb,m=wr!==null&&wr.next!==null,Hu=0,Pr=wr=zn=null,Zv=!1,m)throw Error(n(300));return d}function AN(){var d=Qp!==0;return Qp=0,d}function eo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?zn.memoizedState=Pr=d:Pr=Pr.next=d,Pr}function Ps(){if(wr===null){var d=zn.alternate;d=d!==null?d.memoizedState:null}else d=wr.next;var m=Pr===null?zn.memoizedState:Pr.next;if(m!==null)Pr=m,wr=d;else{if(d===null)throw Error(n(310));wr=d,d={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Pr===null?zn.memoizedState=Pr=d:Pr=Pr.next=d}return Pr}function Jp(d,m){return typeof m=="function"?m(d):m}function CN(d){var m=Ps(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var _=wr,O=_.baseQueue,$=x.pending;if($!==null){if(O!==null){var G=O.next;O.next=$.next,$.next=G}_.baseQueue=O=$,x.pending=null}if(O!==null){$=O.next,_=_.baseState;var te=G=null,re=null,ye=$;do{var Pe=ye.lane;if((Hu&Pe)===Pe)re!==null&&(re=re.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),_=ye.hasEagerState?ye.eagerState:d(_,ye.action);else{var Ie={lane:Pe,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};re===null?(te=re=Ie,G=_):re=re.next=Ie,zn.lanes|=Pe,Wu|=Pe}ye=ye.next}while(ye!==null&&ye!==$);re===null?G=_:re.next=te,oa(_,m.memoizedState)||($i=!0),m.memoizedState=_,m.baseState=G,m.baseQueue=re,x.lastRenderedState=_}if(d=x.interleaved,d!==null){O=d;do $=O.lane,zn.lanes|=$,Wu|=$,O=O.next;while(O!==d)}else O===null&&(x.lanes=0);return[m.memoizedState,x.dispatch]}function EN(d){var m=Ps(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var _=x.dispatch,O=x.pending,$=m.memoizedState;if(O!==null){x.pending=null;var G=O=O.next;do $=d($,G.action),G=G.next;while(G!==O);oa($,m.memoizedState)||($i=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),x.lastRenderedState=$}return[$,_]}function G4(){}function K4(d,m){var x=zn,_=Ps(),O=m(),$=!oa(_.memoizedState,O);if($&&(_.memoizedState=O,$i=!0),_=_.queue,TN(Q4.bind(null,x,_,d),[d]),_.getSnapshot!==m||$||Pr!==null&&Pr.memoizedState.tag&1){if(x.flags|=2048,Zp(9,X4.bind(null,x,_,O,m),void 0,null),Ir===null)throw Error(n(349));(Hu&30)!==0||Y4(x,m,O)}return O}function Y4(d,m,x){d.flags|=16384,d={getSnapshot:m,value:x},m=zn.updateQueue,m===null?(m={lastEffect:null,stores:null},zn.updateQueue=m,m.stores=[d]):(x=m.stores,x===null?m.stores=[d]:x.push(d))}function X4(d,m,x,_){m.value=x,m.getSnapshot=_,J4(m)&&Z4(d)}function Q4(d,m,x){return x(function(){J4(m)&&Z4(d)})}function J4(d){var m=d.getSnapshot;d=d.value;try{var x=m();return!oa(d,x)}catch{return!0}}function Z4(d){var m=tl(d,1);m!==null&&fa(m,d,1,-1)}function e5(d){var m=eo();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:d},m.queue=d,d=d.dispatch=tae.bind(null,zn,d),[m.memoizedState,d]}function Zp(d,m,x,_){return d={tag:d,create:m,destroy:x,deps:_,next:null},m=zn.updateQueue,m===null?(m={lastEffect:null,stores:null},zn.updateQueue=m,m.lastEffect=d.next=d):(x=m.lastEffect,x===null?m.lastEffect=d.next=d:(_=x.next,x.next=d,d.next=_,m.lastEffect=d)),d}function t5(){return Ps().memoizedState}function eb(d,m,x,_){var O=eo();zn.flags|=d,O.memoizedState=Zp(1|m,x,void 0,_===void 0?null:_)}function tb(d,m,x,_){var O=Ps();_=_===void 0?null:_;var $=void 0;if(wr!==null){var G=wr.memoizedState;if($=G.destroy,_!==null&&_N(_,G.deps)){O.memoizedState=Zp(m,x,$,_);return}}zn.flags|=d,O.memoizedState=Zp(1|m,x,$,_)}function n5(d,m){return eb(8390656,8,d,m)}function TN(d,m){return tb(2048,8,d,m)}function r5(d,m){return tb(4,2,d,m)}function i5(d,m){return tb(4,4,d,m)}function s5(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function a5(d,m,x){return x=x!=null?x.concat([d]):null,tb(4,4,s5.bind(null,m,d),x)}function PN(){}function o5(d,m){var x=Ps();m=m===void 0?null:m;var _=x.memoizedState;return _!==null&&m!==null&&_N(m,_[1])?_[0]:(x.memoizedState=[d,m],d)}function l5(d,m){var x=Ps();m=m===void 0?null:m;var _=x.memoizedState;return _!==null&&m!==null&&_N(m,_[1])?_[0]:(d=d(),x.memoizedState=[d,m],d)}function c5(d,m,x){return(Hu&21)===0?(d.baseState&&(d.baseState=!1,$i=!0),d.memoizedState=x):(oa(x,m)||(x=Ou(),zn.lanes|=x,Wu|=x,d.baseState=!0),m)}function Zse(d,m){var x=qt;qt=x!==0&&4>x?x:4,d(!0);var _=NN.transition;NN.transition={};try{d(!1),m()}finally{qt=x,NN.transition=_}}function u5(){return Ps().memoizedState}function eae(d,m,x){var _=dc(d);if(x={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null},d5(d))f5(m,x);else if(x=U4(d,m,x,_),x!==null){var O=wi();fa(x,d,_,O),h5(x,m,_)}}function tae(d,m,x){var _=dc(d),O={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null};if(d5(d))f5(m,O);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var G=m.lastRenderedState,te=$(G,x);if(O.hasEagerState=!0,O.eagerState=te,oa(te,G)){var re=m.interleaved;re===null?(O.next=O,xN(m)):(O.next=re.next,re.next=O),m.interleaved=O;return}}catch{}finally{}x=U4(d,m,O,_),x!==null&&(O=wi(),fa(x,d,_,O),h5(x,m,_))}}function d5(d){var m=d.alternate;return d===zn||m!==null&&m===zn}function f5(d,m){Xp=Zv=!0;var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}function h5(d,m,x){if((x&4194240)!==0){var _=m.lanes;_&=d.pendingLanes,x|=_,m.lanes=x,Xl(d,x)}}var nb={readContext:Ts,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},nae={readContext:Ts,useCallback:function(d,m){return eo().memoizedState=[d,m===void 0?null:m],d},useContext:Ts,useEffect:n5,useImperativeHandle:function(d,m,x){return x=x!=null?x.concat([d]):null,eb(4194308,4,s5.bind(null,m,d),x)},useLayoutEffect:function(d,m){return eb(4194308,4,d,m)},useInsertionEffect:function(d,m){return eb(4,2,d,m)},useMemo:function(d,m){var x=eo();return m=m===void 0?null:m,d=d(),x.memoizedState=[d,m],d},useReducer:function(d,m,x){var _=eo();return m=x!==void 0?x(m):m,_.memoizedState=_.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},_.queue=d,d=d.dispatch=eae.bind(null,zn,d),[_.memoizedState,d]},useRef:function(d){var m=eo();return d={current:d},m.memoizedState=d},useState:e5,useDebugValue:PN,useDeferredValue:function(d){return eo().memoizedState=d},useTransition:function(){var d=e5(!1),m=d[0];return d=Zse.bind(null,d[1]),eo().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,x){var _=zn,O=eo();if(Mn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=m(),Ir===null)throw Error(n(349));(Hu&30)!==0||Y4(_,m,x)}O.memoizedState=x;var $={value:x,getSnapshot:m};return O.queue=$,n5(Q4.bind(null,_,$,d),[d]),_.flags|=2048,Zp(9,X4.bind(null,_,$,x,m),void 0,null),x},useId:function(){var d=eo(),m=Ir.identifierPrefix;if(Mn){var x=el,_=Zo;x=(_&~(1<<32-xi(_)-1)).toString(32)+x,m=":"+m+"R"+x,x=Qp++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=Jse++,m=":"+m+"r"+x.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},rae={readContext:Ts,useCallback:o5,useContext:Ts,useEffect:TN,useImperativeHandle:a5,useInsertionEffect:r5,useLayoutEffect:i5,useMemo:l5,useReducer:CN,useRef:t5,useState:function(){return CN(Jp)},useDebugValue:PN,useDeferredValue:function(d){var m=Ps();return c5(m,wr.memoizedState,d)},useTransition:function(){var d=CN(Jp)[0],m=Ps().memoizedState;return[d,m]},useMutableSource:G4,useSyncExternalStore:K4,useId:u5,unstable_isNewReconciler:!1},iae={readContext:Ts,useCallback:o5,useContext:Ts,useEffect:TN,useImperativeHandle:a5,useInsertionEffect:r5,useLayoutEffect:i5,useMemo:l5,useReducer:EN,useRef:t5,useState:function(){return EN(Jp)},useDebugValue:PN,useDeferredValue:function(d){var m=Ps();return wr===null?m.memoizedState=d:c5(m,wr.memoizedState,d)},useTransition:function(){var d=EN(Jp)[0],m=Ps().memoizedState;return[d,m]},useMutableSource:G4,useSyncExternalStore:K4,useId:u5,unstable_isNewReconciler:!1};function ca(d,m){if(d&&d.defaultProps){m=U({},m),d=d.defaultProps;for(var x in d)m[x]===void 0&&(m[x]=d[x]);return m}return m}function IN(d,m,x,_){m=d.memoizedState,x=x(_,m),x=x==null?m:U({},m,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var rb={isMounted:function(d){return(d=d._reactInternals)?ea(d)===d:!1},enqueueSetState:function(d,m,x){d=d._reactInternals;var _=wi(),O=dc(d),$=nl(_,O);$.payload=m,x!=null&&($.callback=x),m=oc(d,$,O),m!==null&&(fa(m,d,O,_),Yv(m,d,O))},enqueueReplaceState:function(d,m,x){d=d._reactInternals;var _=wi(),O=dc(d),$=nl(_,O);$.tag=1,$.payload=m,x!=null&&($.callback=x),m=oc(d,$,O),m!==null&&(fa(m,d,O,_),Yv(m,d,O))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var x=wi(),_=dc(d),O=nl(x,_);O.tag=2,m!=null&&(O.callback=m),m=oc(d,O,_),m!==null&&(fa(m,d,_,x),Yv(m,d,_))}};function m5(d,m,x,_,O,$,G){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(_,$,G):m.prototype&&m.prototype.isPureReactComponent?!$p(x,_)||!$p(O,$):!0}function p5(d,m,x){var _=!1,O=ic,$=m.contextType;return typeof $=="object"&&$!==null?$=Ts($):(O=Fi(m)?Vu:Jr.current,_=m.contextTypes,$=(_=_!=null)?Hf(d,O):ic),m=new m(x,$),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rb,d.stateNode=m,m._reactInternals=d,_&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=O,d.__reactInternalMemoizedMaskedChildContext=$),m}function g5(d,m,x,_){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,_),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,_),m.state!==d&&rb.enqueueReplaceState(m,m.state,null)}function RN(d,m,x,_){var O=d.stateNode;O.props=x,O.state=d.memoizedState,O.refs={},vN(d);var $=m.contextType;typeof $=="object"&&$!==null?O.context=Ts($):($=Fi(m)?Vu:Jr.current,O.context=Hf(d,$)),O.state=d.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(IN(d,m,$,x),O.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(m=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),m!==O.state&&rb.enqueueReplaceState(O,O.state,null),Xv(d,x,O,_),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308)}function Zf(d,m){try{var x="",_=m;do x+=ue(_),_=_.return;while(_);var O=x}catch($){O=`
Error generating stack: `+$.message+`
`+$.stack}return{value:d,source:m,stack:O,digest:null}}function ON(d,m,x){return{value:d,source:null,stack:x??null,digest:m??null}}function MN(d,m){try{console.error(m.value)}catch(x){setTimeout(function(){throw x})}}var sae=typeof WeakMap=="function"?WeakMap:Map;function y5(d,m,x){x=nl(-1,x),x.tag=3,x.payload={element:null};var _=m.value;return x.callback=function(){ub||(ub=!0,XN=_),MN(d,m)},x}function x5(d,m,x){x=nl(-1,x),x.tag=3;var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var O=m.value;x.payload=function(){return _(O)},x.callback=function(){MN(d,m)}}var $=d.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(x.callback=function(){MN(d,m),typeof _!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var G=m.stack;this.componentDidCatch(m.value,{componentStack:G!==null?G:""})}),x}function v5(d,m,x){var _=d.pingCache;if(_===null){_=d.pingCache=new sae;var O=new Set;_.set(m,O)}else O=_.get(m),O===void 0&&(O=new Set,_.set(m,O));O.has(x)||(O.add(x),d=vae.bind(null,d,m,x),m.then(d,d))}function b5(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function w5(d,m,x,_,O){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(m=nl(-1,1),m.tag=2,oc(x,m,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=O,d)}var aae=E.ReactCurrentOwner,$i=!1;function bi(d,m,x,_){m.child=d===null?B4(m,null,x,_):Yf(m,d.child,x,_)}function j5(d,m,x,_,O){x=x.render;var $=m.ref;return Qf(m,O),_=kN(d,m,x,_,$,O),x=AN(),d!==null&&!$i?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~O,rl(d,m,O)):(Mn&&x&&cN(m),m.flags|=1,bi(d,m,_,O),m.child)}function S5(d,m,x,_,O){if(d===null){var $=x.type;return typeof $=="function"&&!r_($)&&$.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(m.tag=15,m.type=$,N5(d,m,$,_,O)):(d=gb(x.type,null,_,m,m.mode,O),d.ref=m.ref,d.return=m,m.child=d)}if($=d.child,(d.lanes&O)===0){var G=$.memoizedProps;if(x=x.compare,x=x!==null?x:$p,x(G,_)&&d.ref===m.ref)return rl(d,m,O)}return m.flags|=1,d=hc($,_),d.ref=m.ref,d.return=m,m.child=d}function N5(d,m,x,_,O){if(d!==null){var $=d.memoizedProps;if($p($,_)&&d.ref===m.ref)if($i=!1,m.pendingProps=_=$,(d.lanes&O)!==0)(d.flags&131072)!==0&&($i=!0);else return m.lanes=d.lanes,rl(d,m,O)}return DN(d,m,x,_,O)}function _5(d,m,x){var _=m.pendingProps,O=_.children,$=d!==null?d.memoizedState:null;if(_.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(th,os),os|=x;else{if((x&1073741824)===0)return d=$!==null?$.baseLanes|x:x,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,vn(th,os),os|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=$!==null?$.baseLanes:x,vn(th,os),os|=_}else $!==null?(_=$.baseLanes|x,m.memoizedState=null):_=x,vn(th,os),os|=_;return bi(d,m,O,x),m.child}function k5(d,m){var x=m.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(m.flags|=512,m.flags|=2097152)}function DN(d,m,x,_,O){var $=Fi(x)?Vu:Jr.current;return $=Hf(m,$),Qf(m,O),x=kN(d,m,x,_,$,O),_=AN(),d!==null&&!$i?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~O,rl(d,m,O)):(Mn&&_&&cN(m),m.flags|=1,bi(d,m,x,O),m.child)}function A5(d,m,x,_,O){if(Fi(x)){var $=!0;Bv(m)}else $=!1;if(Qf(m,O),m.stateNode===null)sb(d,m),p5(m,x,_),RN(m,x,_,O),_=!0;else if(d===null){var G=m.stateNode,te=m.memoizedProps;G.props=te;var re=G.context,ye=x.contextType;typeof ye=="object"&&ye!==null?ye=Ts(ye):(ye=Fi(x)?Vu:Jr.current,ye=Hf(m,ye));var Pe=x.getDerivedStateFromProps,Ie=typeof Pe=="function"||typeof G.getSnapshotBeforeUpdate=="function";Ie||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(te!==_||re!==ye)&&g5(m,G,_,ye),ac=!1;var Te=m.memoizedState;G.state=Te,Xv(m,_,G,O),re=m.memoizedState,te!==_||Te!==re||Li.current||ac?(typeof Pe=="function"&&(IN(m,x,Pe,_),re=m.memoizedState),(te=ac||m5(m,x,te,_,Te,re,ye))?(Ie||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(m.flags|=4194308)):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=_,m.memoizedState=re),G.props=_,G.state=re,G.context=ye,_=te):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),_=!1)}else{G=m.stateNode,z4(d,m),te=m.memoizedProps,ye=m.type===m.elementType?te:ca(m.type,te),G.props=ye,Ie=m.pendingProps,Te=G.context,re=x.contextType,typeof re=="object"&&re!==null?re=Ts(re):(re=Fi(x)?Vu:Jr.current,re=Hf(m,re));var ze=x.getDerivedStateFromProps;(Pe=typeof ze=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(te!==Ie||Te!==re)&&g5(m,G,_,re),ac=!1,Te=m.memoizedState,G.state=Te,Xv(m,_,G,O);var Ye=m.memoizedState;te!==Ie||Te!==Ye||Li.current||ac?(typeof ze=="function"&&(IN(m,x,ze,_),Ye=m.memoizedState),(ye=ac||m5(m,x,ye,_,Te,Ye,re)||!1)?(Pe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(_,Ye,re),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(_,Ye,re)),typeof G.componentDidUpdate=="function"&&(m.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof G.componentDidUpdate!="function"||te===d.memoizedProps&&Te===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&Te===d.memoizedState||(m.flags|=1024),m.memoizedProps=_,m.memoizedState=Ye),G.props=_,G.state=Ye,G.context=re,_=ye):(typeof G.componentDidUpdate!="function"||te===d.memoizedProps&&Te===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&Te===d.memoizedState||(m.flags|=1024),_=!1)}return LN(d,m,x,_,$,O)}function LN(d,m,x,_,O,$){k5(d,m);var G=(m.flags&128)!==0;if(!_&&!G)return O&&I4(m,x,!1),rl(d,m,$);_=m.stateNode,aae.current=m;var te=G&&typeof x.getDerivedStateFromError!="function"?null:_.render();return m.flags|=1,d!==null&&G?(m.child=Yf(m,d.child,null,$),m.child=Yf(m,null,te,$)):bi(d,m,te,$),m.memoizedState=_.state,O&&I4(m,x,!0),m.child}function C5(d){var m=d.stateNode;m.pendingContext?T4(d,m.pendingContext,m.pendingContext!==m.context):m.context&&T4(d,m.context,!1),bN(d,m.containerInfo)}function E5(d,m,x,_,O){return Kf(),hN(O),m.flags|=256,bi(d,m,x,_),m.child}var FN={dehydrated:null,treeContext:null,retryLane:0};function $N(d){return{baseLanes:d,cachePool:null,transitions:null}}function T5(d,m,x){var _=m.pendingProps,O=Un.current,$=!1,G=(m.flags&128)!==0,te;if((te=G)||(te=d!==null&&d.memoizedState===null?!1:(O&2)!==0),te?($=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(O|=1),vn(Un,O&1),d===null)return fN(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(G=_.children,d=_.fallback,$?(_=m.mode,$=m.child,G={mode:"hidden",children:G},(_&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=yb(G,_,0,null),d=Xu(d,_,x,null),$.return=m,d.return=m,$.sibling=d,m.child=$,m.child.memoizedState=$N(x),m.memoizedState=FN,d):VN(m,G));if(O=d.memoizedState,O!==null&&(te=O.dehydrated,te!==null))return oae(d,m,G,_,te,O,x);if($){$=_.fallback,G=m.mode,O=d.child,te=O.sibling;var re={mode:"hidden",children:_.children};return(G&1)===0&&m.child!==O?(_=m.child,_.childLanes=0,_.pendingProps=re,m.deletions=null):(_=hc(O,re),_.subtreeFlags=O.subtreeFlags&14680064),te!==null?$=hc(te,$):($=Xu($,G,x,null),$.flags|=2),$.return=m,_.return=m,_.sibling=$,m.child=_,_=$,$=m.child,G=d.child.memoizedState,G=G===null?$N(x):{baseLanes:G.baseLanes|x,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=d.childLanes&~x,m.memoizedState=FN,_}return $=d.child,d=$.sibling,_=hc($,{mode:"visible",children:_.children}),(m.mode&1)===0&&(_.lanes=x),_.return=m,_.sibling=null,d!==null&&(x=m.deletions,x===null?(m.deletions=[d],m.flags|=16):x.push(d)),m.child=_,m.memoizedState=null,_}function VN(d,m){return m=yb({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function ib(d,m,x,_){return _!==null&&hN(_),Yf(m,d.child,null,x),d=VN(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function oae(d,m,x,_,O,$,G){if(x)return m.flags&256?(m.flags&=-257,_=ON(Error(n(422))),ib(d,m,G,_)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):($=_.fallback,O=m.mode,_=yb({mode:"visible",children:_.children},O,0,null),$=Xu($,O,G,null),$.flags|=2,_.return=m,$.return=m,_.sibling=$,m.child=_,(m.mode&1)!==0&&Yf(m,d.child,null,G),m.child.memoizedState=$N(G),m.memoizedState=FN,$);if((m.mode&1)===0)return ib(d,m,G,null);if(O.data==="$!"){if(_=O.nextSibling&&O.nextSibling.dataset,_)var te=_.dgst;return _=te,$=Error(n(419)),_=ON($,_,void 0),ib(d,m,G,_)}if(te=(G&d.childLanes)!==0,$i||te){if(_=Ir,_!==null){switch(G&-G){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(_.suspendedLanes|G))!==0?0:O,O!==0&&O!==$.retryLane&&($.retryLane=O,tl(d,O),fa(_,d,O,-1))}return n_(),_=ON(Error(n(421))),ib(d,m,G,_)}return O.data==="$?"?(m.flags|=128,m.child=d.child,m=bae.bind(null,d),O._reactRetry=m,null):(d=$.treeContext,as=nc(O.nextSibling),ss=m,Mn=!0,la=null,d!==null&&(Cs[Es++]=Zo,Cs[Es++]=el,Cs[Es++]=Bu,Zo=d.id,el=d.overflow,Bu=m),m=VN(m,_.children),m.flags|=4096,m)}function P5(d,m,x){d.lanes|=m;var _=d.alternate;_!==null&&(_.lanes|=m),yN(d.return,m,x)}function BN(d,m,x,_,O){var $=d.memoizedState;$===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:O}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=_,$.tail=x,$.tailMode=O)}function I5(d,m,x){var _=m.pendingProps,O=_.revealOrder,$=_.tail;if(bi(d,m,_.children,x),_=Un.current,(_&2)!==0)_=_&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&P5(d,x,m);else if(d.tag===19)P5(d,x,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}_&=1}if(vn(Un,_),(m.mode&1)===0)m.memoizedState=null;else switch(O){case"forwards":for(x=m.child,O=null;x!==null;)d=x.alternate,d!==null&&Qv(d)===null&&(O=x),x=x.sibling;x=O,x===null?(O=m.child,m.child=null):(O=x.sibling,x.sibling=null),BN(m,!1,O,x,$);break;case"backwards":for(x=null,O=m.child,m.child=null;O!==null;){if(d=O.alternate,d!==null&&Qv(d)===null){m.child=O;break}d=O.sibling,O.sibling=x,x=O,O=d}BN(m,!0,x,null,$);break;case"together":BN(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function sb(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function rl(d,m,x){if(d!==null&&(m.dependencies=d.dependencies),Wu|=m.lanes,(x&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,x=hc(d,d.pendingProps),m.child=x,x.return=m;d.sibling!==null;)d=d.sibling,x=x.sibling=hc(d,d.pendingProps),x.return=m;x.sibling=null}return m.child}function lae(d,m,x){switch(m.tag){case 3:C5(m),Kf();break;case 5:W4(m);break;case 1:Fi(m.type)&&Bv(m);break;case 4:bN(m,m.stateNode.containerInfo);break;case 10:var _=m.type._context,O=m.memoizedProps.value;vn(Gv,_._currentValue),_._currentValue=O;break;case 13:if(_=m.memoizedState,_!==null)return _.dehydrated!==null?(vn(Un,Un.current&1),m.flags|=128,null):(x&m.child.childLanes)!==0?T5(d,m,x):(vn(Un,Un.current&1),d=rl(d,m,x),d!==null?d.sibling:null);vn(Un,Un.current&1);break;case 19:if(_=(x&m.childLanes)!==0,(d.flags&128)!==0){if(_)return I5(d,m,x);m.flags|=128}if(O=m.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),vn(Un,Un.current),_)break;return null;case 22:case 23:return m.lanes=0,_5(d,m,x)}return rl(d,m,x)}var R5,UN,O5,M5;R5=function(d,m){for(var x=m.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},UN=function(){},O5=function(d,m,x,_){var O=d.memoizedProps;if(O!==_){d=m.stateNode,qu(Za.current);var $=null;switch(x){case"input":O=$e(d,O),_=$e(d,_),$=[];break;case"select":O=U({},O,{value:void 0}),_=U({},_,{value:void 0}),$=[];break;case"textarea":O=mt(d,O),_=mt(d,_),$=[];break;default:typeof O.onClick!="function"&&typeof _.onClick=="function"&&(d.onclick=Fv)}fn(x,_);var G;x=null;for(ye in O)if(!_.hasOwnProperty(ye)&&O.hasOwnProperty(ye)&&O[ye]!=null)if(ye==="style"){var te=O[ye];for(G in te)te.hasOwnProperty(G)&&(x||(x={}),x[G]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(i.hasOwnProperty(ye)?$||($=[]):($=$||[]).push(ye,null));for(ye in _){var re=_[ye];if(te=O!=null?O[ye]:void 0,_.hasOwnProperty(ye)&&re!==te&&(re!=null||te!=null))if(ye==="style")if(te){for(G in te)!te.hasOwnProperty(G)||re&&re.hasOwnProperty(G)||(x||(x={}),x[G]="");for(G in re)re.hasOwnProperty(G)&&te[G]!==re[G]&&(x||(x={}),x[G]=re[G])}else x||($||($=[]),$.push(ye,x)),x=re;else ye==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,te=te?te.__html:void 0,re!=null&&te!==re&&($=$||[]).push(ye,re)):ye==="children"?typeof re!="string"&&typeof re!="number"||($=$||[]).push(ye,""+re):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(ye)?(re!=null&&ye==="onScroll"&&An("scroll",d),$||te===re||($=[])):($=$||[]).push(ye,re))}x&&($=$||[]).push("style",x);var ye=$;(m.updateQueue=ye)&&(m.flags|=4)}},M5=function(d,m,x,_){x!==_&&(m.flags|=4)};function eg(d,m){if(!Mn)switch(d.tailMode){case"hidden":m=d.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:_.sibling=null}}function ei(d){var m=d.alternate!==null&&d.alternate.child===d.child,x=0,_=0;if(m)for(var O=d.child;O!==null;)x|=O.lanes|O.childLanes,_|=O.subtreeFlags&14680064,_|=O.flags&14680064,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)x|=O.lanes|O.childLanes,_|=O.subtreeFlags,_|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=_,d.childLanes=x,m}function cae(d,m,x){var _=m.pendingProps;switch(uN(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(m),null;case 1:return Fi(m.type)&&Vv(),ei(m),null;case 3:return _=m.stateNode,Jf(),Cn(Li),Cn(Jr),SN(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(Hv(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,la!==null&&(ZN(la),la=null))),UN(d,m),ei(m),null;case 5:wN(m);var O=qu(Yp.current);if(x=m.type,d!==null&&m.stateNode!=null)O5(d,m,x,_,O),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!_){if(m.stateNode===null)throw Error(n(166));return ei(m),null}if(d=qu(Za.current),Hv(m)){_=m.stateNode,x=m.type;var $=m.memoizedProps;switch(_[Ja]=m,_[qp]=$,d=(m.mode&1)!==0,x){case"dialog":An("cancel",_),An("close",_);break;case"iframe":case"object":case"embed":An("load",_);break;case"video":case"audio":for(O=0;O<Bp.length;O++)An(Bp[O],_);break;case"source":An("error",_);break;case"img":case"image":case"link":An("error",_),An("load",_);break;case"details":An("toggle",_);break;case"input":ot(_,$),An("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!$.multiple},An("invalid",_);break;case"textarea":It(_,$),An("invalid",_)}fn(x,$),O=null;for(var G in $)if($.hasOwnProperty(G)){var te=$[G];G==="children"?typeof te=="string"?_.textContent!==te&&($.suppressHydrationWarning!==!0&&Lv(_.textContent,te,d),O=["children",te]):typeof te=="number"&&_.textContent!==""+te&&($.suppressHydrationWarning!==!0&&Lv(_.textContent,te,d),O=["children",""+te]):i.hasOwnProperty(G)&&te!=null&&G==="onScroll"&&An("scroll",_)}switch(x){case"input":ge(_),Nt(_,$,!0);break;case"textarea":ge(_),vr(_);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(_.onclick=Fv)}_=O,m.updateQueue=_,_!==null&&(m.flags|=4)}else{G=O.nodeType===9?O:O.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=he(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=G.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof _.is=="string"?d=G.createElement(x,{is:_.is}):(d=G.createElement(x),x==="select"&&(G=d,_.multiple?G.multiple=!0:_.size&&(G.size=_.size))):d=G.createElementNS(d,x),d[Ja]=m,d[qp]=_,R5(d,m,!1,!1),m.stateNode=d;e:{switch(G=Oi(x,_),x){case"dialog":An("cancel",d),An("close",d),O=_;break;case"iframe":case"object":case"embed":An("load",d),O=_;break;case"video":case"audio":for(O=0;O<Bp.length;O++)An(Bp[O],d);O=_;break;case"source":An("error",d),O=_;break;case"img":case"image":case"link":An("error",d),An("load",d),O=_;break;case"details":An("toggle",d),O=_;break;case"input":ot(d,_),O=$e(d,_),An("invalid",d);break;case"option":O=_;break;case"select":d._wrapperState={wasMultiple:!!_.multiple},O=U({},_,{value:void 0}),An("invalid",d);break;case"textarea":It(d,_),O=mt(d,_),An("invalid",d);break;default:O=_}fn(x,O),te=O;for($ in te)if(te.hasOwnProperty($)){var re=te[$];$==="style"?es(d,re):$==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&vt(d,re)):$==="children"?typeof re=="string"?(x!=="textarea"||re!=="")&&Dt(d,re):typeof re=="number"&&Dt(d,""+re):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?re!=null&&$==="onScroll"&&An("scroll",d):re!=null&&k(d,$,re,G))}switch(x){case"input":ge(d),Nt(d,_,!1);break;case"textarea":ge(d),vr(d);break;case"option":_.value!=null&&d.setAttribute("value",""+ae(_.value));break;case"select":d.multiple=!!_.multiple,$=_.value,$!=null?ht(d,!!_.multiple,$,!1):_.defaultValue!=null&&ht(d,!!_.multiple,_.defaultValue,!0);break;default:typeof O.onClick=="function"&&(d.onclick=Fv)}switch(x){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ei(m),null;case 6:if(d&&m.stateNode!=null)M5(d,m,d.memoizedProps,_);else{if(typeof _!="string"&&m.stateNode===null)throw Error(n(166));if(x=qu(Yp.current),qu(Za.current),Hv(m)){if(_=m.stateNode,x=m.memoizedProps,_[Ja]=m,($=_.nodeValue!==x)&&(d=ss,d!==null))switch(d.tag){case 3:Lv(_.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Lv(_.nodeValue,x,(d.mode&1)!==0)}$&&(m.flags|=4)}else _=(x.nodeType===9?x:x.ownerDocument).createTextNode(_),_[Ja]=m,m.stateNode=_}return ei(m),null;case 13:if(Cn(Un),_=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Mn&&as!==null&&(m.mode&1)!==0&&(m.flags&128)===0)F4(),Kf(),m.flags|=98560,$=!1;else if($=Hv(m),_!==null&&_.dehydrated!==null){if(d===null){if(!$)throw Error(n(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[Ja]=m}else Kf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ei(m),$=!1}else la!==null&&(ZN(la),la=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=x,m):(_=_!==null,_!==(d!==null&&d.memoizedState!==null)&&_&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Un.current&1)!==0?jr===0&&(jr=3):n_())),m.updateQueue!==null&&(m.flags|=4),ei(m),null);case 4:return Jf(),UN(d,m),d===null&&Up(m.stateNode.containerInfo),ei(m),null;case 10:return gN(m.type._context),ei(m),null;case 17:return Fi(m.type)&&Vv(),ei(m),null;case 19:if(Cn(Un),$=m.memoizedState,$===null)return ei(m),null;if(_=(m.flags&128)!==0,G=$.rendering,G===null)if(_)eg($,!1);else{if(jr!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(G=Qv(d),G!==null){for(m.flags|=128,eg($,!1),_=G.updateQueue,_!==null&&(m.updateQueue=_,m.flags|=4),m.subtreeFlags=0,_=x,x=m.child;x!==null;)$=x,d=_,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=d,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,d=G.dependencies,$.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return vn(Un,Un.current&1|2),m.child}d=d.sibling}$.tail!==null&&xn()>nh&&(m.flags|=128,_=!0,eg($,!1),m.lanes=4194304)}else{if(!_)if(d=Qv(G),d!==null){if(m.flags|=128,_=!0,x=d.updateQueue,x!==null&&(m.updateQueue=x,m.flags|=4),eg($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!Mn)return ei(m),null}else 2*xn()-$.renderingStartTime>nh&&x!==1073741824&&(m.flags|=128,_=!0,eg($,!1),m.lanes=4194304);$.isBackwards?(G.sibling=m.child,m.child=G):(x=$.last,x!==null?x.sibling=G:m.child=G,$.last=G)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=xn(),m.sibling=null,x=Un.current,vn(Un,_?x&1|2:x&1),m):(ei(m),null);case 22:case 23:return t_(),_=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==_&&(m.flags|=8192),_&&(m.mode&1)!==0?(os&1073741824)!==0&&(ei(m),m.subtreeFlags&6&&(m.flags|=8192)):ei(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function uae(d,m){switch(uN(m),m.tag){case 1:return Fi(m.type)&&Vv(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Jf(),Cn(Li),Cn(Jr),SN(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return wN(m),null;case 13:if(Cn(Un),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Kf()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Cn(Un),null;case 4:return Jf(),null;case 10:return gN(m.type._context),null;case 22:case 23:return t_(),null;case 24:return null;default:return null}}var ab=!1,ti=!1,dae=typeof WeakSet=="function"?WeakSet:Set,He=null;function eh(d,m){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(_){Gn(d,m,_)}else x.current=null}function zN(d,m,x){try{x()}catch(_){Gn(d,m,_)}}var D5=!1;function fae(d,m){if(tN=Zl,d=m4(),GS(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var O=_.anchorOffset,$=_.focusNode;_=_.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var G=0,te=-1,re=-1,ye=0,Pe=0,Ie=d,Te=null;t:for(;;){for(var ze;Ie!==x||O!==0&&Ie.nodeType!==3||(te=G+O),Ie!==$||_!==0&&Ie.nodeType!==3||(re=G+_),Ie.nodeType===3&&(G+=Ie.nodeValue.length),(ze=Ie.firstChild)!==null;)Te=Ie,Ie=ze;for(;;){if(Ie===d)break t;if(Te===x&&++ye===O&&(te=G),Te===$&&++Pe===_&&(re=G),(ze=Ie.nextSibling)!==null)break;Ie=Te,Te=Ie.parentNode}Ie=ze}x=te===-1||re===-1?null:{start:te,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(nN={focusedElem:d,selectionRange:x},Zl=!1,He=m;He!==null;)if(m=He,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,He=d;else for(;He!==null;){m=He;try{var Ye=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Ze=Ye.memoizedProps,rr=Ye.memoizedState,fe=m.stateNode,oe=fe.getSnapshotBeforeUpdate(m.elementType===m.type?Ze:ca(m.type,Ze),rr);fe.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var me=m.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){Gn(m,m.return,De)}if(d=m.sibling,d!==null){d.return=m.return,He=d;break}He=m.return}return Ye=D5,D5=!1,Ye}function tg(d,m,x){var _=m.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var O=_=_.next;do{if((O.tag&d)===d){var $=O.destroy;O.destroy=void 0,$!==void 0&&zN(m,x,$)}O=O.next}while(O!==_)}}function ob(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&d)===d){var _=x.create;x.destroy=_()}x=x.next}while(x!==m)}}function qN(d){var m=d.ref;if(m!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof m=="function"?m(d):m.current=d}}function L5(d){var m=d.alternate;m!==null&&(d.alternate=null,L5(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Ja],delete m[qp],delete m[aN],delete m[Kse],delete m[Yse])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function F5(d){return d.tag===5||d.tag===3||d.tag===4}function $5(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||F5(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function HN(d,m,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,m?x.nodeType===8?x.parentNode.insertBefore(d,m):x.insertBefore(d,m):(x.nodeType===8?(m=x.parentNode,m.insertBefore(d,x)):(m=x,m.appendChild(d)),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=Fv));else if(_!==4&&(d=d.child,d!==null))for(HN(d,m,x),d=d.sibling;d!==null;)HN(d,m,x),d=d.sibling}function WN(d,m,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,m?x.insertBefore(d,m):x.appendChild(d);else if(_!==4&&(d=d.child,d!==null))for(WN(d,m,x),d=d.sibling;d!==null;)WN(d,m,x),d=d.sibling}var Ur=null,ua=!1;function lc(d,m,x){for(x=x.child;x!==null;)V5(d,m,x),x=x.sibling}function V5(d,m,x){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Iu,x)}catch{}switch(x.tag){case 5:ti||eh(x,m);case 6:var _=Ur,O=ua;Ur=null,lc(d,m,x),Ur=_,ua=O,Ur!==null&&(ua?(d=Ur,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):Ur.removeChild(x.stateNode));break;case 18:Ur!==null&&(ua?(d=Ur,x=x.stateNode,d.nodeType===8?sN(d.parentNode,x):d.nodeType===1&&sN(d,x),sa(d)):sN(Ur,x.stateNode));break;case 4:_=Ur,O=ua,Ur=x.stateNode.containerInfo,ua=!0,lc(d,m,x),Ur=_,ua=O;break;case 0:case 11:case 14:case 15:if(!ti&&(_=x.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){O=_=_.next;do{var $=O,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&zN(x,m,G),O=O.next}while(O!==_)}lc(d,m,x);break;case 1:if(!ti&&(eh(x,m),_=x.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=x.memoizedProps,_.state=x.memoizedState,_.componentWillUnmount()}catch(te){Gn(x,m,te)}lc(d,m,x);break;case 21:lc(d,m,x);break;case 22:x.mode&1?(ti=(_=ti)||x.memoizedState!==null,lc(d,m,x),ti=_):lc(d,m,x);break;default:lc(d,m,x)}}function B5(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new dae),m.forEach(function(_){var O=wae.bind(null,d,_);x.has(_)||(x.add(_),_.then(O,O))})}}function da(d,m){var x=m.deletions;if(x!==null)for(var _=0;_<x.length;_++){var O=x[_];try{var $=d,G=m,te=G;e:for(;te!==null;){switch(te.tag){case 5:Ur=te.stateNode,ua=!1;break e;case 3:Ur=te.stateNode.containerInfo,ua=!0;break e;case 4:Ur=te.stateNode.containerInfo,ua=!0;break e}te=te.return}if(Ur===null)throw Error(n(160));V5($,G,O),Ur=null,ua=!1;var re=O.alternate;re!==null&&(re.return=null),O.return=null}catch(ye){Gn(O,m,ye)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)U5(m,d),m=m.sibling}function U5(d,m){var x=d.alternate,_=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(da(m,d),to(d),_&4){try{tg(3,d,d.return),ob(3,d)}catch(Ze){Gn(d,d.return,Ze)}try{tg(5,d,d.return)}catch(Ze){Gn(d,d.return,Ze)}}break;case 1:da(m,d),to(d),_&512&&x!==null&&eh(x,x.return);break;case 5:if(da(m,d),to(d),_&512&&x!==null&&eh(x,x.return),d.flags&32){var O=d.stateNode;try{Dt(O,"")}catch(Ze){Gn(d,d.return,Ze)}}if(_&4&&(O=d.stateNode,O!=null)){var $=d.memoizedProps,G=x!==null?x.memoizedProps:$,te=d.type,re=d.updateQueue;if(d.updateQueue=null,re!==null)try{te==="input"&&$.type==="radio"&&$.name!=null&&Ae(O,$),Oi(te,G);var ye=Oi(te,$);for(G=0;G<re.length;G+=2){var Pe=re[G],Ie=re[G+1];Pe==="style"?es(O,Ie):Pe==="dangerouslySetInnerHTML"?vt(O,Ie):Pe==="children"?Dt(O,Ie):k(O,Pe,Ie,ye)}switch(te){case"input":Ke(O,$);break;case"textarea":lr(O,$);break;case"select":var Te=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!$.multiple;var ze=$.value;ze!=null?ht(O,!!$.multiple,ze,!1):Te!==!!$.multiple&&($.defaultValue!=null?ht(O,!!$.multiple,$.defaultValue,!0):ht(O,!!$.multiple,$.multiple?[]:"",!1))}O[qp]=$}catch(Ze){Gn(d,d.return,Ze)}}break;case 6:if(da(m,d),to(d),_&4){if(d.stateNode===null)throw Error(n(162));O=d.stateNode,$=d.memoizedProps;try{O.nodeValue=$}catch(Ze){Gn(d,d.return,Ze)}}break;case 3:if(da(m,d),to(d),_&4&&x!==null&&x.memoizedState.isDehydrated)try{sa(m.containerInfo)}catch(Ze){Gn(d,d.return,Ze)}break;case 4:da(m,d),to(d);break;case 13:da(m,d),to(d),O=d.child,O.flags&8192&&($=O.memoizedState!==null,O.stateNode.isHidden=$,!$||O.alternate!==null&&O.alternate.memoizedState!==null||(YN=xn())),_&4&&B5(d);break;case 22:if(Pe=x!==null&&x.memoizedState!==null,d.mode&1?(ti=(ye=ti)||Pe,da(m,d),ti=ye):da(m,d),to(d),_&8192){if(ye=d.memoizedState!==null,(d.stateNode.isHidden=ye)&&!Pe&&(d.mode&1)!==0)for(He=d,Pe=d.child;Pe!==null;){for(Ie=He=Pe;He!==null;){switch(Te=He,ze=Te.child,Te.tag){case 0:case 11:case 14:case 15:tg(4,Te,Te.return);break;case 1:eh(Te,Te.return);var Ye=Te.stateNode;if(typeof Ye.componentWillUnmount=="function"){_=Te,x=Te.return;try{m=_,Ye.props=m.memoizedProps,Ye.state=m.memoizedState,Ye.componentWillUnmount()}catch(Ze){Gn(_,x,Ze)}}break;case 5:eh(Te,Te.return);break;case 22:if(Te.memoizedState!==null){H5(Ie);continue}}ze!==null?(ze.return=Te,He=ze):H5(Ie)}Pe=Pe.sibling}e:for(Pe=null,Ie=d;;){if(Ie.tag===5){if(Pe===null){Pe=Ie;try{O=Ie.stateNode,ye?($=O.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(te=Ie.stateNode,re=Ie.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null,te.style.display=Er("display",G))}catch(Ze){Gn(d,d.return,Ze)}}}else if(Ie.tag===6){if(Pe===null)try{Ie.stateNode.nodeValue=ye?"":Ie.memoizedProps}catch(Ze){Gn(d,d.return,Ze)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===d)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===d)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===d)break e;Pe===Ie&&(Pe=null),Ie=Ie.return}Pe===Ie&&(Pe=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:da(m,d),to(d),_&4&&B5(d);break;case 21:break;default:da(m,d),to(d)}}function to(d){var m=d.flags;if(m&2){try{e:{for(var x=d.return;x!==null;){if(F5(x)){var _=x;break e}x=x.return}throw Error(n(160))}switch(_.tag){case 5:var O=_.stateNode;_.flags&32&&(Dt(O,""),_.flags&=-33);var $=$5(d);WN(d,$,O);break;case 3:case 4:var G=_.stateNode.containerInfo,te=$5(d);HN(d,te,G);break;default:throw Error(n(161))}}catch(re){Gn(d,d.return,re)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function hae(d,m,x){He=d,z5(d)}function z5(d,m,x){for(var _=(d.mode&1)!==0;He!==null;){var O=He,$=O.child;if(O.tag===22&&_){var G=O.memoizedState!==null||ab;if(!G){var te=O.alternate,re=te!==null&&te.memoizedState!==null||ti;te=ab;var ye=ti;if(ab=G,(ti=re)&&!ye)for(He=O;He!==null;)G=He,re=G.child,G.tag===22&&G.memoizedState!==null?W5(O):re!==null?(re.return=G,He=re):W5(O);for(;$!==null;)He=$,z5($),$=$.sibling;He=O,ab=te,ti=ye}q5(d)}else(O.subtreeFlags&8772)!==0&&$!==null?($.return=O,He=$):q5(d)}}function q5(d){for(;He!==null;){var m=He;if((m.flags&8772)!==0){var x=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ti||ob(5,m);break;case 1:var _=m.stateNode;if(m.flags&4&&!ti)if(x===null)_.componentDidMount();else{var O=m.elementType===m.type?x.memoizedProps:ca(m.type,x.memoizedProps);_.componentDidUpdate(O,x.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&H4(m,$,_);break;case 3:var G=m.updateQueue;if(G!==null){if(x=null,m.child!==null)switch(m.child.tag){case 5:x=m.child.stateNode;break;case 1:x=m.child.stateNode}H4(m,G,x)}break;case 5:var te=m.stateNode;if(x===null&&m.flags&4){x=te;var re=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&x.focus();break;case"img":re.src&&(x.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ye=m.alternate;if(ye!==null){var Pe=ye.memoizedState;if(Pe!==null){var Ie=Pe.dehydrated;Ie!==null&&sa(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ti||m.flags&512&&qN(m)}catch(Te){Gn(m,m.return,Te)}}if(m===d){He=null;break}if(x=m.sibling,x!==null){x.return=m.return,He=x;break}He=m.return}}function H5(d){for(;He!==null;){var m=He;if(m===d){He=null;break}var x=m.sibling;if(x!==null){x.return=m.return,He=x;break}He=m.return}}function W5(d){for(;He!==null;){var m=He;try{switch(m.tag){case 0:case 11:case 15:var x=m.return;try{ob(4,m)}catch(re){Gn(m,x,re)}break;case 1:var _=m.stateNode;if(typeof _.componentDidMount=="function"){var O=m.return;try{_.componentDidMount()}catch(re){Gn(m,O,re)}}var $=m.return;try{qN(m)}catch(re){Gn(m,$,re)}break;case 5:var G=m.return;try{qN(m)}catch(re){Gn(m,G,re)}}}catch(re){Gn(m,m.return,re)}if(m===d){He=null;break}var te=m.sibling;if(te!==null){te.return=m.return,He=te;break}He=m.return}}var mae=Math.ceil,lb=E.ReactCurrentDispatcher,GN=E.ReactCurrentOwner,Is=E.ReactCurrentBatchConfig,Qt=0,Ir=null,ur=null,zr=0,os=0,th=rc(0),jr=0,ng=null,Wu=0,cb=0,KN=0,rg=null,Vi=null,YN=0,nh=1/0,il=null,ub=!1,XN=null,cc=null,db=!1,uc=null,fb=0,ig=0,QN=null,hb=-1,mb=0;function wi(){return(Qt&6)!==0?xn():hb!==-1?hb:hb=xn()}function dc(d){return(d.mode&1)===0?1:(Qt&2)!==0&&zr!==0?zr&-zr:Qse.transition!==null?(mb===0&&(mb=Ou()),mb):(d=qt,d!==0||(d=window.event,d=d===void 0?16:Ip(d.type)),d)}function fa(d,m,x,_){if(50<ig)throw ig=0,QN=null,Error(n(185));Yl(d,x,_),((Qt&2)===0||d!==Ir)&&(d===Ir&&((Qt&2)===0&&(cb|=x),jr===4&&fc(d,zr)),Bi(d,_),x===1&&Qt===0&&(m.mode&1)===0&&(nh=xn()+500,Uv&&sc()))}function Bi(d,m){var x=d.callbackNode;Wo(d,m);var _=Ru(d,d===Ir?zr:0);if(_===0)x!==null&&Ap(x),d.callbackNode=null,d.callbackPriority=0;else if(m=_&-_,d.callbackPriority!==m){if(x!=null&&Ap(x),m===1)d.tag===0?Xse(K5.bind(null,d)):R4(K5.bind(null,d)),Wse(function(){(Qt&6)===0&&sc()}),x=null;else{switch(Ql(_)){case 1:x=Pu;break;case 4:x=Wl;break;case 16:x=_s;break;case 536870912:x=mv;break;default:x=_s}x=nL(x,G5.bind(null,d))}d.callbackPriority=m,d.callbackNode=x}}function G5(d,m){if(hb=-1,mb=0,(Qt&6)!==0)throw Error(n(327));var x=d.callbackNode;if(rh()&&d.callbackNode!==x)return null;var _=Ru(d,d===Ir?zr:0);if(_===0)return null;if((_&30)!==0||(_&d.expiredLanes)!==0||m)m=pb(d,_);else{m=_;var O=Qt;Qt|=2;var $=X5();(Ir!==d||zr!==m)&&(il=null,nh=xn()+500,Ku(d,m));do try{yae();break}catch(te){Y5(d,te)}while(!0);pN(),lb.current=$,Qt=O,ur!==null?m=0:(Ir=null,zr=0,m=jr)}if(m!==0){if(m===2&&(O=ns(d),O!==0&&(_=O,m=JN(d,O))),m===1)throw x=ng,Ku(d,0),fc(d,_),Bi(d,xn()),x;if(m===6)fc(d,_);else{if(O=d.current.alternate,(_&30)===0&&!pae(O)&&(m=pb(d,_),m===2&&($=ns(d),$!==0&&(_=$,m=JN(d,$))),m===1))throw x=ng,Ku(d,0),fc(d,_),Bi(d,xn()),x;switch(d.finishedWork=O,d.finishedLanes=_,m){case 0:case 1:throw Error(n(345));case 2:Yu(d,Vi,il);break;case 3:if(fc(d,_),(_&130023424)===_&&(m=YN+500-xn(),10<m)){if(Ru(d,0)!==0)break;if(O=d.suspendedLanes,(O&_)!==_){wi(),d.pingedLanes|=d.suspendedLanes&O;break}d.timeoutHandle=iN(Yu.bind(null,d,Vi,il),m);break}Yu(d,Vi,il);break;case 4:if(fc(d,_),(_&4194240)===_)break;for(m=d.eventTimes,O=-1;0<_;){var G=31-xi(_);$=1<<G,G=m[G],G>O&&(O=G),_&=~$}if(_=O,_=xn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*mae(_/1960))-_,10<_){d.timeoutHandle=iN(Yu.bind(null,d,Vi,il),_);break}Yu(d,Vi,il);break;case 5:Yu(d,Vi,il);break;default:throw Error(n(329))}}}return Bi(d,xn()),d.callbackNode===x?G5.bind(null,d):null}function JN(d,m){var x=rg;return d.current.memoizedState.isDehydrated&&(Ku(d,m).flags|=256),d=pb(d,m),d!==2&&(m=Vi,Vi=x,m!==null&&ZN(m)),d}function ZN(d){Vi===null?Vi=d:Vi.push.apply(Vi,d)}function pae(d){for(var m=d;;){if(m.flags&16384){var x=m.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var _=0;_<x.length;_++){var O=x[_],$=O.getSnapshot;O=O.value;try{if(!oa($(),O))return!1}catch{return!1}}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function fc(d,m){for(m&=~KN,m&=~cb,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var x=31-xi(m),_=1<<x;d[x]=-1,m&=~_}}function K5(d){if((Qt&6)!==0)throw Error(n(327));rh();var m=Ru(d,0);if((m&1)===0)return Bi(d,xn()),null;var x=pb(d,m);if(d.tag!==0&&x===2){var _=ns(d);_!==0&&(m=_,x=JN(d,_))}if(x===1)throw x=ng,Ku(d,0),fc(d,m),Bi(d,xn()),x;if(x===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Yu(d,Vi,il),Bi(d,xn()),null}function e_(d,m){var x=Qt;Qt|=1;try{return d(m)}finally{Qt=x,Qt===0&&(nh=xn()+500,Uv&&sc())}}function Gu(d){uc!==null&&uc.tag===0&&(Qt&6)===0&&rh();var m=Qt;Qt|=1;var x=Is.transition,_=qt;try{if(Is.transition=null,qt=1,d)return d()}finally{qt=_,Is.transition=x,Qt=m,(Qt&6)===0&&sc()}}function t_(){os=th.current,Cn(th)}function Ku(d,m){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,Hse(x)),ur!==null)for(x=ur.return;x!==null;){var _=x;switch(uN(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Vv();break;case 3:Jf(),Cn(Li),Cn(Jr),SN();break;case 5:wN(_);break;case 4:Jf();break;case 13:Cn(Un);break;case 19:Cn(Un);break;case 10:gN(_.type._context);break;case 22:case 23:t_()}x=x.return}if(Ir=d,ur=d=hc(d.current,null),zr=os=m,jr=0,ng=null,KN=cb=Wu=0,Vi=rg=null,zu!==null){for(m=0;m<zu.length;m++)if(x=zu[m],_=x.interleaved,_!==null){x.interleaved=null;var O=_.next,$=x.pending;if($!==null){var G=$.next;$.next=O,_.next=G}x.pending=_}zu=null}return d}function Y5(d,m){do{var x=ur;try{if(pN(),Jv.current=nb,Zv){for(var _=zn.memoizedState;_!==null;){var O=_.queue;O!==null&&(O.pending=null),_=_.next}Zv=!1}if(Hu=0,Pr=wr=zn=null,Xp=!1,Qp=0,GN.current=null,x===null||x.return===null){jr=1,ng=m,ur=null;break}e:{var $=d,G=x.return,te=x,re=m;if(m=zr,te.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ye=re,Pe=te,Ie=Pe.tag;if((Pe.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Te=Pe.alternate;Te?(Pe.updateQueue=Te.updateQueue,Pe.memoizedState=Te.memoizedState,Pe.lanes=Te.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var ze=b5(G);if(ze!==null){ze.flags&=-257,w5(ze,G,te,$,m),ze.mode&1&&v5($,ye,m),m=ze,re=ye;var Ye=m.updateQueue;if(Ye===null){var Ze=new Set;Ze.add(re),m.updateQueue=Ze}else Ye.add(re);break e}else{if((m&1)===0){v5($,ye,m),n_();break e}re=Error(n(426))}}else if(Mn&&te.mode&1){var rr=b5(G);if(rr!==null){(rr.flags&65536)===0&&(rr.flags|=256),w5(rr,G,te,$,m),hN(Zf(re,te));break e}}$=re=Zf(re,te),jr!==4&&(jr=2),rg===null?rg=[$]:rg.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var fe=y5($,re,m);q4($,fe);break e;case 1:te=re;var oe=$.type,me=$.stateNode;if(($.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(cc===null||!cc.has(me)))){$.flags|=65536,m&=-m,$.lanes|=m;var De=x5($,te,m);q4($,De);break e}}$=$.return}while($!==null)}J5(x)}catch(tt){m=tt,ur===x&&x!==null&&(ur=x=x.return);continue}break}while(!0)}function X5(){var d=lb.current;return lb.current=nb,d===null?nb:d}function n_(){(jr===0||jr===3||jr===2)&&(jr=4),Ir===null||(Wu&268435455)===0&&(cb&268435455)===0||fc(Ir,zr)}function pb(d,m){var x=Qt;Qt|=2;var _=X5();(Ir!==d||zr!==m)&&(il=null,Ku(d,m));do try{gae();break}catch(O){Y5(d,O)}while(!0);if(pN(),Qt=x,lb.current=_,ur!==null)throw Error(n(261));return Ir=null,zr=0,jr}function gae(){for(;ur!==null;)Q5(ur)}function yae(){for(;ur!==null&&!fv();)Q5(ur)}function Q5(d){var m=tL(d.alternate,d,os);d.memoizedProps=d.pendingProps,m===null?J5(d):ur=m,GN.current=null}function J5(d){var m=d;do{var x=m.alternate;if(d=m.return,(m.flags&32768)===0){if(x=cae(x,m,os),x!==null){ur=x;return}}else{if(x=uae(x,m),x!==null){x.flags&=32767,ur=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{jr=6,ur=null;return}}if(m=m.sibling,m!==null){ur=m;return}ur=m=d}while(m!==null);jr===0&&(jr=5)}function Yu(d,m,x){var _=qt,O=Is.transition;try{Is.transition=null,qt=1,xae(d,m,x,_)}finally{Is.transition=O,qt=_}return null}function xae(d,m,x,_){do rh();while(uc!==null);if((Qt&6)!==0)throw Error(n(327));x=d.finishedWork;var O=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var $=x.lanes|x.childLanes;if(mn(d,$),d===Ir&&(ur=Ir=null,zr=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||db||(db=!0,nL(_s,function(){return rh(),null})),$=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||$){$=Is.transition,Is.transition=null;var G=qt;qt=1;var te=Qt;Qt|=4,GN.current=null,fae(d,x),U5(x,d),Fse(nN),Zl=!!tN,nN=tN=null,d.current=x,hae(x),$S(),Qt=te,qt=G,Is.transition=$}else d.current=x;if(db&&(db=!1,uc=d,fb=O),$=d.pendingLanes,$===0&&(cc=null),pv(x.stateNode),Bi(d,xn()),m!==null)for(_=d.onRecoverableError,x=0;x<m.length;x++)O=m[x],_(O.value,{componentStack:O.stack,digest:O.digest});if(ub)throw ub=!1,d=XN,XN=null,d;return(fb&1)!==0&&d.tag!==0&&rh(),$=d.pendingLanes,($&1)!==0?d===QN?ig++:(ig=0,QN=d):ig=0,sc(),null}function rh(){if(uc!==null){var d=Ql(fb),m=Is.transition,x=qt;try{if(Is.transition=null,qt=16>d?16:d,uc===null)var _=!1;else{if(d=uc,uc=null,fb=0,(Qt&6)!==0)throw Error(n(331));var O=Qt;for(Qt|=4,He=d.current;He!==null;){var $=He,G=$.child;if((He.flags&16)!==0){var te=$.deletions;if(te!==null){for(var re=0;re<te.length;re++){var ye=te[re];for(He=ye;He!==null;){var Pe=He;switch(Pe.tag){case 0:case 11:case 15:tg(8,Pe,$)}var Ie=Pe.child;if(Ie!==null)Ie.return=Pe,He=Ie;else for(;He!==null;){Pe=He;var Te=Pe.sibling,ze=Pe.return;if(L5(Pe),Pe===ye){He=null;break}if(Te!==null){Te.return=ze,He=Te;break}He=ze}}}var Ye=$.alternate;if(Ye!==null){var Ze=Ye.child;if(Ze!==null){Ye.child=null;do{var rr=Ze.sibling;Ze.sibling=null,Ze=rr}while(Ze!==null)}}He=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,He=G;else e:for(;He!==null;){if($=He,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:tg(9,$,$.return)}var fe=$.sibling;if(fe!==null){fe.return=$.return,He=fe;break e}He=$.return}}var oe=d.current;for(He=oe;He!==null;){G=He;var me=G.child;if((G.subtreeFlags&2064)!==0&&me!==null)me.return=G,He=me;else e:for(G=oe;He!==null;){if(te=He,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:ob(9,te)}}catch(tt){Gn(te,te.return,tt)}if(te===G){He=null;break e}var De=te.sibling;if(De!==null){De.return=te.return,He=De;break e}He=te.return}}if(Qt=O,sc(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Iu,d)}catch{}_=!0}return _}finally{qt=x,Is.transition=m}}return!1}function Z5(d,m,x){m=Zf(x,m),m=y5(d,m,1),d=oc(d,m,1),m=wi(),d!==null&&(Yl(d,1,m),Bi(d,m))}function Gn(d,m,x){if(d.tag===3)Z5(d,d,x);else for(;m!==null;){if(m.tag===3){Z5(m,d,x);break}else if(m.tag===1){var _=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(cc===null||!cc.has(_))){d=Zf(x,d),d=x5(m,d,1),m=oc(m,d,1),d=wi(),m!==null&&(Yl(m,1,d),Bi(m,d));break}}m=m.return}}function vae(d,m,x){var _=d.pingCache;_!==null&&_.delete(m),m=wi(),d.pingedLanes|=d.suspendedLanes&x,Ir===d&&(zr&x)===x&&(jr===4||jr===3&&(zr&130023424)===zr&&500>xn()-YN?Ku(d,0):KN|=x),Bi(d,m)}function eL(d,m){m===0&&((d.mode&1)===0?m=1:(m=kf,kf<<=1,(kf&130023424)===0&&(kf=4194304)));var x=wi();d=tl(d,m),d!==null&&(Yl(d,m,x),Bi(d,x))}function bae(d){var m=d.memoizedState,x=0;m!==null&&(x=m.retryLane),eL(d,x)}function wae(d,m){var x=0;switch(d.tag){case 13:var _=d.stateNode,O=d.memoizedState;O!==null&&(x=O.retryLane);break;case 19:_=d.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(m),eL(d,x)}var tL;tL=function(d,m,x){if(d!==null)if(d.memoizedProps!==m.pendingProps||Li.current)$i=!0;else{if((d.lanes&x)===0&&(m.flags&128)===0)return $i=!1,lae(d,m,x);$i=(d.flags&131072)!==0}else $i=!1,Mn&&(m.flags&1048576)!==0&&O4(m,qv,m.index);switch(m.lanes=0,m.tag){case 2:var _=m.type;sb(d,m),d=m.pendingProps;var O=Hf(m,Jr.current);Qf(m,x),O=kN(null,m,_,d,O,x);var $=AN();return m.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Fi(_)?($=!0,Bv(m)):$=!1,m.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,vN(m),O.updater=rb,m.stateNode=O,O._reactInternals=m,RN(m,_,d,x),m=LN(null,m,_,!0,$,x)):(m.tag=0,Mn&&$&&cN(m),bi(null,m,O,x),m=m.child),m;case 16:_=m.elementType;e:{switch(sb(d,m),d=m.pendingProps,O=_._init,_=O(_._payload),m.type=_,O=m.tag=Sae(_),d=ca(_,d),O){case 0:m=DN(null,m,_,d,x);break e;case 1:m=A5(null,m,_,d,x);break e;case 11:m=j5(null,m,_,d,x);break e;case 14:m=S5(null,m,_,ca(_.type,d),x);break e}throw Error(n(306,_,""))}return m;case 0:return _=m.type,O=m.pendingProps,O=m.elementType===_?O:ca(_,O),DN(d,m,_,O,x);case 1:return _=m.type,O=m.pendingProps,O=m.elementType===_?O:ca(_,O),A5(d,m,_,O,x);case 3:e:{if(C5(m),d===null)throw Error(n(387));_=m.pendingProps,$=m.memoizedState,O=$.element,z4(d,m),Xv(m,_,null,x);var G=m.memoizedState;if(_=G.element,$.isDehydrated)if($={element:_,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){O=Zf(Error(n(423)),m),m=E5(d,m,_,x,O);break e}else if(_!==O){O=Zf(Error(n(424)),m),m=E5(d,m,_,x,O);break e}else for(as=nc(m.stateNode.containerInfo.firstChild),ss=m,Mn=!0,la=null,x=B4(m,null,_,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Kf(),_===O){m=rl(d,m,x);break e}bi(d,m,_,x)}m=m.child}return m;case 5:return W4(m),d===null&&fN(m),_=m.type,O=m.pendingProps,$=d!==null?d.memoizedProps:null,G=O.children,rN(_,O)?G=null:$!==null&&rN(_,$)&&(m.flags|=32),k5(d,m),bi(d,m,G,x),m.child;case 6:return d===null&&fN(m),null;case 13:return T5(d,m,x);case 4:return bN(m,m.stateNode.containerInfo),_=m.pendingProps,d===null?m.child=Yf(m,null,_,x):bi(d,m,_,x),m.child;case 11:return _=m.type,O=m.pendingProps,O=m.elementType===_?O:ca(_,O),j5(d,m,_,O,x);case 7:return bi(d,m,m.pendingProps,x),m.child;case 8:return bi(d,m,m.pendingProps.children,x),m.child;case 12:return bi(d,m,m.pendingProps.children,x),m.child;case 10:e:{if(_=m.type._context,O=m.pendingProps,$=m.memoizedProps,G=O.value,vn(Gv,_._currentValue),_._currentValue=G,$!==null)if(oa($.value,G)){if($.children===O.children&&!Li.current){m=rl(d,m,x);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var te=$.dependencies;if(te!==null){G=$.child;for(var re=te.firstContext;re!==null;){if(re.context===_){if($.tag===1){re=nl(-1,x&-x),re.tag=2;var ye=$.updateQueue;if(ye!==null){ye=ye.shared;var Pe=ye.pending;Pe===null?re.next=re:(re.next=Pe.next,Pe.next=re),ye.pending=re}}$.lanes|=x,re=$.alternate,re!==null&&(re.lanes|=x),yN($.return,x,m),te.lanes|=x;break}re=re.next}}else if($.tag===10)G=$.type===m.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=x,te=G.alternate,te!==null&&(te.lanes|=x),yN(G,x,m),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===m){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}bi(d,m,O.children,x),m=m.child}return m;case 9:return O=m.type,_=m.pendingProps.children,Qf(m,x),O=Ts(O),_=_(O),m.flags|=1,bi(d,m,_,x),m.child;case 14:return _=m.type,O=ca(_,m.pendingProps),O=ca(_.type,O),S5(d,m,_,O,x);case 15:return N5(d,m,m.type,m.pendingProps,x);case 17:return _=m.type,O=m.pendingProps,O=m.elementType===_?O:ca(_,O),sb(d,m),m.tag=1,Fi(_)?(d=!0,Bv(m)):d=!1,Qf(m,x),p5(m,_,O),RN(m,_,O,x),LN(null,m,_,!0,d,x);case 19:return I5(d,m,x);case 22:return _5(d,m,x)}throw Error(n(156,m.tag))};function nL(d,m){return Nf(d,m)}function jae(d,m,x,_){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(d,m,x,_){return new jae(d,m,x,_)}function r_(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Sae(d){if(typeof d=="function")return r_(d)?1:0;if(d!=null){if(d=d.$$typeof,d===D)return 11;if(d===q)return 14}return 2}function hc(d,m){var x=d.alternate;return x===null?(x=Rs(d.tag,m,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=m,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,m=d.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function gb(d,m,x,_,O,$){var G=2;if(_=d,typeof d=="function")r_(d)&&(G=1);else if(typeof d=="string")G=5;else e:switch(d){case T:return Xu(x.children,O,$,m);case I:G=8,O|=8;break;case P:return d=Rs(12,x,m,O|2),d.elementType=P,d.lanes=$,d;case R:return d=Rs(13,x,m,O),d.elementType=R,d.lanes=$,d;case V:return d=Rs(19,x,m,O),d.elementType=V,d.lanes=$,d;case Y:return yb(x,O,$,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case M:G=10;break e;case L:G=9;break e;case D:G=11;break e;case q:G=14;break e;case H:G=16,_=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=Rs(G,x,m,O),m.elementType=d,m.type=_,m.lanes=$,m}function Xu(d,m,x,_){return d=Rs(7,d,_,m),d.lanes=x,d}function yb(d,m,x,_){return d=Rs(22,d,_,m),d.elementType=Y,d.lanes=x,d.stateNode={isHidden:!1},d}function i_(d,m,x){return d=Rs(6,d,null,m),d.lanes=x,d}function s_(d,m,x){return m=Rs(4,d.children!==null?d.children:[],d.key,m),m.lanes=x,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Nae(d,m,x,_,O){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=_,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function a_(d,m,x,_,O,$,G,te,re){return d=new Nae(d,m,x,te,re),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Rs(3,null,null,m),d.current=$,$.stateNode=d,$.memoizedState={element:_,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},vN($),d}function _ae(d,m,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:_==null?null:""+_,children:d,containerInfo:m,implementation:x}}function rL(d){if(!d)return ic;d=d._reactInternals;e:{if(ea(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Fi(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var x=d.type;if(Fi(x))return P4(d,x,m)}return m}function iL(d,m,x,_,O,$,G,te,re){return d=a_(x,_,!0,d,O,$,G,te,re),d.context=rL(null),x=d.current,_=wi(),O=dc(x),$=nl(_,O),$.callback=m??null,oc(x,$,O),d.current.lanes=O,Yl(d,O,_),Bi(d,_),d}function xb(d,m,x,_){var O=m.current,$=wi(),G=dc(O);return x=rL(x),m.context===null?m.context=x:m.pendingContext=x,m=nl($,G),m.payload={element:d},_=_===void 0?null:_,_!==null&&(m.callback=_),d=oc(O,m,G),d!==null&&(fa(d,O,G,$),Yv(d,O,G)),G}function vb(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function sL(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<m?x:m}}function o_(d,m){sL(d,m),(d=d.alternate)&&sL(d,m)}function kae(){return null}var aL=typeof reportError=="function"?reportError:function(d){console.error(d)};function l_(d){this._internalRoot=d}bb.prototype.render=l_.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));xb(d,m,null,null)},bb.prototype.unmount=l_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Gu(function(){xb(null,d,null,null)}),m[Qo]=null}};function bb(d){this._internalRoot=d}bb.prototype.unstable_scheduleHydration=function(d){if(d){var m=bv();d={blockedOn:null,target:d,priority:m};for(var x=0;x<Ka.length&&m!==0&&m<Ka[x].priority;x++);Ka.splice(x,0,d),x===0&&Sv(d)}};function c_(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function wb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function oL(){}function Aae(d,m,x,_,O){if(O){if(typeof _=="function"){var $=_;_=function(){var ye=vb(G);$.call(ye)}}var G=iL(m,_,d,0,null,!1,!1,"",oL);return d._reactRootContainer=G,d[Qo]=G.current,Up(d.nodeType===8?d.parentNode:d),Gu(),G}for(;O=d.lastChild;)d.removeChild(O);if(typeof _=="function"){var te=_;_=function(){var ye=vb(re);te.call(ye)}}var re=a_(d,0,!1,null,null,!1,!1,"",oL);return d._reactRootContainer=re,d[Qo]=re.current,Up(d.nodeType===8?d.parentNode:d),Gu(function(){xb(m,re,x,_)}),re}function jb(d,m,x,_,O){var $=x._reactRootContainer;if($){var G=$;if(typeof O=="function"){var te=O;O=function(){var re=vb(G);te.call(re)}}xb(m,G,d,O)}else G=Aae(x,m,d,O,_);return vb(G)}xv=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var x=Gl(m.pendingLanes);x!==0&&(Xl(m,x|1),Bi(m,xn()),(Qt&6)===0&&(nh=xn()+500,sc()))}break;case 13:Gu(function(){var _=tl(d,1);if(_!==null){var O=wi();fa(_,d,1,O)}}),o_(d,1)}},Af=function(d){if(d.tag===13){var m=tl(d,134217728);if(m!==null){var x=wi();fa(m,d,134217728,x)}o_(d,134217728)}},vv=function(d){if(d.tag===13){var m=dc(d),x=tl(d,m);if(x!==null){var _=wi();fa(x,d,m,_)}o_(d,m)}},bv=function(){return qt},wv=function(d,m){var x=qt;try{return qt=d,m()}finally{qt=x}},Xt=function(d,m,x){switch(m){case"input":if(Ke(d,x),m=x.name,x.type==="radio"&&m!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<x.length;m++){var _=x[m];if(_!==d&&_.form===d.form){var O=$v(_);if(!O)throw Error(n(90));le(_),Ke(_,O)}}}break;case"textarea":lr(d,x);break;case"select":m=x.value,m!=null&&ht(d,!!x.multiple,m,!1)}},Au=e_,Sp=Gu;var Cae={usingClientEntryPoint:!1,Events:[Hp,zf,$v,Ns,jp,e_]},sg={findFiberByHostInstance:$u,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Eae={bundleType:sg.bundleType,version:sg.version,rendererPackageName:sg.rendererPackageName,rendererConfig:sg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=kp(d),d===null?null:d.stateNode},findFiberByHostInstance:sg.findFiberByHostInstance||kae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sb.isDisabled&&Sb.supportsFiber)try{Iu=Sb.inject(Eae),ts=Sb}catch{}}return Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cae,Ui.createPortal=function(d,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(m))throw Error(n(200));return _ae(d,m,null,x)},Ui.createRoot=function(d,m){if(!c_(d))throw Error(n(299));var x=!1,_="",O=aL;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(_=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),m=a_(d,1,!1,null,null,x,!1,_,O),d[Qo]=m.current,Up(d.nodeType===8?d.parentNode:d),new l_(m)},Ui.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=kp(m),d=d===null?null:d.stateNode,d},Ui.flushSync=function(d){return Gu(d)},Ui.hydrate=function(d,m,x){if(!wb(m))throw Error(n(200));return jb(null,d,m,!0,x)},Ui.hydrateRoot=function(d,m,x){if(!c_(d))throw Error(n(405));var _=x!=null&&x.hydratedSources||null,O=!1,$="",G=aL;if(x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&($=x.identifierPrefix),x.onRecoverableError!==void 0&&(G=x.onRecoverableError)),m=iL(m,null,d,1,x??null,O,!1,$,G),d[Qo]=m.current,Up(d),_)for(d=0;d<_.length;d++)x=_[d],O=x._getVersion,O=O(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,O]:m.mutableSourceEagerHydrationData.push(x,O);return new bb(m)},Ui.render=function(d,m,x){if(!wb(m))throw Error(n(200));return jb(null,d,m,!1,x)},Ui.unmountComponentAtNode=function(d){if(!wb(d))throw Error(n(40));return d._reactRootContainer?(Gu(function(){jb(null,null,d,!1,function(){d._reactRootContainer=null,d[Qo]=null})}),!0):!1},Ui.unstable_batchedUpdates=e_,Ui.unstable_renderSubtreeIntoContainer=function(d,m,x,_){if(!wb(x))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return jb(d,m,x,!1,_)},Ui.version="18.3.1-next-f1338f8080-20240426",Ui}var gL;function $H(){if(gL)return h_.exports;gL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h_.exports=$ae(),h_.exports}var yL;function Vae(){if(yL)return kb;yL=1;var t=$H();return kb.createRoot=t.createRoot,kb.hydrateRoot=t.hydrateRoot,kb}var Bae=Vae(),w=LI();const X=tn(w),VH=Rae({__proto__:null,default:X},[w]),Uae=1,zae=1e6;let g_=0;function qae(){return g_=(g_+1)%Number.MAX_SAFE_INTEGER,g_.toString()}const y_=new Map,xL=t=>{if(y_.has(t))return;const e=setTimeout(()=>{y_.delete(t),Lg({type:"REMOVE_TOAST",toastId:t})},zae);y_.set(t,e)},Hae=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Uae)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?xL(n):t.toasts.forEach(r=>{xL(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},p0=[];let g0={toasts:[]};function Lg(t){g0=Hae(g0,t),p0.forEach(e=>{e(g0)})}function Wae({...t}){const e=qae(),n=i=>Lg({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Lg({type:"DISMISS_TOAST",toastId:e});return Lg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Tt(){const[t,e]=w.useState(g0);return w.useEffect(()=>(p0.push(e),()=>{const n=p0.indexOf(e);n>-1&&p0.splice(n,1)}),[t]),{...t,toast:Wae,dismiss:n=>Lg({type:"DISMISS_TOAST",toastId:n})}}var Km=$H();const BH=tn(Km);function Be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gae(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function UH(...t){return e=>t.forEach(n=>Gae(n,e))}function Et(...t){return w.useCallback(UH(...t),t)}function Kae(t,e=[]){let n=[];function r(s,o){const l=w.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[t][c])||l,b=w.useMemo(()=>v,Object.values(v));return a.jsx(y.Provider,{value:b,children:g})}function f(h,p){const g=(p==null?void 0:p[t][c])||l,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Yae(i,...e)]}function Yae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Od=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find(Xae);if(s){const o=s.props.children,l=i.map(c=>c===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:c);return a.jsx(E2,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,l):null})}return a.jsx(E2,{...r,ref:e,children:n})});Od.displayName="Slot";var E2=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const i=Jae(n);return w.cloneElement(n,{...Qae(r,n.props),ref:e?UH(e,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});E2.displayName="SlotClone";var zH=({children:t})=>a.jsx(a.Fragment,{children:t});function Xae(t){return w.isValidElement(t)&&t.type===zH}function Qae(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Jae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nx(t){const e=t+"CollectionProvider",[n,r]=Kae(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=X.useRef(null),S=X.useRef(new Map).current;return a.jsx(i,{scope:v,itemMap:S,collectionRef:b,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=X.forwardRef((g,v)=>{const{scope:y,children:b}=g,S=s(l,y),N=Et(v,S.collectionRef);return a.jsx(Od,{ref:N,children:b})});c.displayName=l;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=X.forwardRef((g,v)=>{const{scope:y,children:b,...S}=g,N=X.useRef(null),k=Et(v,N),E=s(u,y);return X.useEffect(()=>(E.itemMap.set(N,{ref:N,...S}),()=>void E.itemMap.delete(N))),a.jsx(Od,{[f]:"",ref:k,children:b})});h.displayName=u;function p(g){const v=s(t+"CollectionConsumer",g);return X.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((E,A)=>S.indexOf(E.ref.current)-S.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,r]}function Zae(t,e){const n=w.createContext(e),r=s=>{const{children:o,...l}=s,c=w.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Xi(t,e=[]){let n=[];function r(s,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=h=>{var S;const{scope:p,children:g,...v}=h,y=((S=p==null?void 0:p[t])==null?void 0:S[c])||l,b=w.useMemo(()=>v,Object.values(v));return a.jsx(y.Provider,{value:b,children:g})};u.displayName=s+"Provider";function f(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[c])||l,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,eoe(i,...e)]}function eoe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var toe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ge=toe.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,l=s?Od:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qH(t,e){t&&Km.flushSync(()=>t.dispatchEvent(e))}function Qn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function noe(t,e=globalThis==null?void 0:globalThis.document){const n=Qn(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var roe="DismissableLayer",T2="dismissableLayer.update",ioe="dismissableLayer.pointerDownOutside",soe="dismissableLayer.focusOutside",vL,HH=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_x=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=w.useContext(HH),[f,h]=w.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),v=Et(e,T=>h(T)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(b),N=f?y.indexOf(f):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,E=N>=S,A=ooe(T=>{const I=T.target,P=[...u.branches].some(M=>M.contains(I));!E||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},p),C=loe(T=>{const I=T.target;[...u.branches].some(M=>M.contains(I))||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},p);return noe(T=>{N===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},p),w.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),bL(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=vL)}},[f,p,n,u]),w.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),bL())},[f,u]),w.useEffect(()=>{const T=()=>g({});return document.addEventListener(T2,T),()=>document.removeEventListener(T2,T)},[]),a.jsx(Ge.div,{...c,ref:v,style:{pointerEvents:k?E?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,A.onPointerDownCapture)})});_x.displayName=roe;var aoe="DismissableLayerBranch",WH=w.forwardRef((t,e)=>{const n=w.useContext(HH),r=w.useRef(null),i=Et(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(Ge.div,{...t,ref:i})});WH.displayName=aoe;function ooe(t,e=globalThis==null?void 0:globalThis.document){const n=Qn(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){GH(ioe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function loe(t,e=globalThis==null?void 0:globalThis.document){const n=Qn(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&GH(soe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bL(){const t=new CustomEvent(T2);document.dispatchEvent(t)}function GH(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qH(i,s):i.dispatchEvent(s)}var coe=_x,uoe=WH,xr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},doe="Portal",$1=w.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=w.useState(!1);xr(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?BH.createPortal(a.jsx(Ge.div,{...r,ref:e}),o):null});$1.displayName=doe;function foe(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Qi=t=>{const{present:e,children:n}=t,r=hoe(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Et(r.ref,moe(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Qi.displayName="Presence";function hoe(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[l,c]=foe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Ab(r.current);s.current=l==="mounted"?u:"none"},[l]),xr(()=>{const u=r.current,f=i.current;if(f!==t){const p=s.current,g=Ab(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),xr(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=g=>{const y=Ab(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(s.current=Ab(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ab(t){return(t==null?void 0:t.animationName)||"none"}function moe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=poe({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,l=Qn(n),c=w.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else i(u)},[s,t,i,l]);return[o,c]}function poe({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=Qn(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var goe="VisuallyHidden",kx=w.forwardRef((t,e)=>a.jsx(Ge.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kx.displayName=goe;var yoe=kx,FI="ToastProvider",[$I,xoe,voe]=Nx("Toast"),[KH,tWe]=Xi("Toast",[voe]),[boe,V1]=KH(FI),YH=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,c]=w.useState(null),[u,f]=w.useState(0),h=w.useRef(!1),p=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${FI}\`. Expected non-empty \`string\`.`),a.jsx($I.Provider,{scope:e,children:a.jsx(boe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>f(g=>g+1),[]),onToastRemove:w.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};YH.displayName=FI;var XH="ToastViewport",woe=["F8"],P2="toast.viewportPause",I2="toast.viewportResume",QH=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=woe,label:i="Notifications ({hotkey})",...s}=t,o=V1(XH,n),l=xoe(n),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=Et(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;w.useEffect(()=>{const b=S=>{var k;r.length!==0&&r.every(E=>S[E]||S.code===E)&&((k=h.current)==null||k.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=c.current,S=h.current;if(v&&b&&S){const N=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(P2);S.dispatchEvent(C),o.isClosePausedRef.current=!0}},k=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(I2);S.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!b.contains(C.relatedTarget)&&k()},A=()=>{b.contains(document.activeElement)||k()};return b.addEventListener("focusin",N),b.addEventListener("focusout",E),b.addEventListener("pointermove",N),b.addEventListener("pointerleave",A),window.addEventListener("blur",N),window.addEventListener("focus",k),()=>{b.removeEventListener("focusin",N),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",N),b.removeEventListener("pointerleave",A),window.removeEventListener("blur",N),window.removeEventListener("focus",k)}}},[v,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:b})=>{const N=l().map(k=>{const E=k.ref.current,A=[E,...Ooe(E)];return b==="forwards"?A:A.reverse()});return(b==="forwards"?N.reverse():N).flat()},[l]);return w.useEffect(()=>{const b=h.current;if(b){const S=N=>{var A,C,T;const k=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!k){const I=document.activeElement,P=N.shiftKey;if(N.target===b&&P){(A=u.current)==null||A.focus();return}const D=y({tabbingDirection:P?"backwards":"forwards"}),R=D.findIndex(V=>V===I);x_(D.slice(R+1))?N.preventDefault():P?(C=u.current)==null||C.focus():(T=f.current)==null||T.focus()}};return b.addEventListener("keydown",S),()=>b.removeEventListener("keydown",S)}},[l,y]),a.jsxs(uoe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(R2,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});x_(b)}}),a.jsx($I.Slot,{scope:n,children:a.jsx(Ge.ol,{tabIndex:-1,...s,ref:p})}),v&&a.jsx(R2,{ref:f,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});x_(b)}})]})});QH.displayName=XH;var JH="ToastFocusProxy",R2=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=V1(JH,n);return a.jsx(kx,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});R2.displayName=JH;var B1="Toast",joe="toast.swipeStart",Soe="toast.swipeMove",Noe="toast.swipeCancel",_oe="toast.swipeEnd",ZH=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l=!0,c]=Yi({prop:r,defaultProp:i,onChange:s});return a.jsx(Qi,{present:n||l,children:a.jsx(Coe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Qn(t.onPause),onResume:Qn(t.onResume),onSwipeStart:Be(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Be(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Be(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Be(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});ZH.displayName=B1;var[koe,Aoe]=KH(B1,{onClose(){}}),Coe=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...v}=t,y=V1(B1,n),[b,S]=w.useState(null),N=Et(e,V=>S(V)),k=w.useRef(null),E=w.useRef(null),A=i||y.duration,C=w.useRef(0),T=w.useRef(A),I=w.useRef(0),{onToastAdd:P,onToastRemove:M}=y,L=Qn(()=>{var q;(b==null?void 0:b.contains(document.activeElement))&&((q=y.viewport)==null||q.focus()),o()}),D=w.useCallback(V=>{!V||V===1/0||(window.clearTimeout(I.current),C.current=new Date().getTime(),I.current=window.setTimeout(L,V))},[L]);w.useEffect(()=>{const V=y.viewport;if(V){const q=()=>{D(T.current),u==null||u()},H=()=>{const Y=new Date().getTime()-C.current;T.current=T.current-Y,window.clearTimeout(I.current),c==null||c()};return V.addEventListener(P2,H),V.addEventListener(I2,q),()=>{V.removeEventListener(P2,H),V.removeEventListener(I2,q)}}},[y.viewport,A,c,u,D]),w.useEffect(()=>{s&&!y.isClosePausedRef.current&&D(A)},[s,A,y.isClosePausedRef,D]),w.useEffect(()=>(P(),()=>M()),[P,M]);const R=w.useMemo(()=>b?a7(b):null,[b]);return y.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx(Eoe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),a.jsx(koe,{scope:n,onClose:L,children:Km.createPortal(a.jsx($I.ItemSlot,{scope:n,children:a.jsx(coe,{asChild:!0,onEscapeKeyDown:Be(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||L(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Be(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Be(t.onPointerDown,V=>{V.button===0&&(k.current={x:V.clientX,y:V.clientY})}),onPointerMove:Be(t.onPointerMove,V=>{if(!k.current)return;const q=V.clientX-k.current.x,H=V.clientY-k.current.y,Y=!!E.current,K=["left","right"].includes(y.swipeDirection),Z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,U=K?Z(0,q):0,W=K?0:Z(0,H),Q=V.pointerType==="touch"?10:2,B={x:U,y:W},se={originalEvent:V,delta:B};Y?(E.current=B,Cb(Soe,h,se,{discrete:!1})):wL(B,y.swipeDirection,Q)?(E.current=B,Cb(joe,f,se,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(q)>Q||Math.abs(H)>Q)&&(k.current=null)}),onPointerUp:Be(t.onPointerUp,V=>{const q=E.current,H=V.target;if(H.hasPointerCapture(V.pointerId)&&H.releasePointerCapture(V.pointerId),E.current=null,k.current=null,q){const Y=V.currentTarget,K={originalEvent:V,delta:q};wL(q,y.swipeDirection,y.swipeThreshold)?Cb(_oe,g,K,{discrete:!0}):Cb(Noe,p,K,{discrete:!0}),Y.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Eoe=t=>{const{__scopeToast:e,children:n,...r}=t,i=V1(B1,e),[s,o]=w.useState(!1),[l,c]=w.useState(!1);return Ioe(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx($1,{asChild:!0,children:a.jsx(kx,{...r,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},Toe="ToastTitle",e7=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ge.div,{...r,ref:e})});e7.displayName=Toe;var Poe="ToastDescription",t7=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ge.div,{...r,ref:e})});t7.displayName=Poe;var n7="ToastAction",r7=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(s7,{altText:n,asChild:!0,children:a.jsx(VI,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${n7}\`. Expected non-empty \`string\`.`),null)});r7.displayName=n7;var i7="ToastClose",VI=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Aoe(i7,n);return a.jsx(s7,{asChild:!0,children:a.jsx(Ge.button,{type:"button",...r,ref:e,onClick:Be(t.onClick,i.onClose)})})});VI.displayName=i7;var s7=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return a.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function a7(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Roe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...a7(r))}}),e}function Cb(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qH(i,s):i.dispatchEvent(s)}var wL=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Ioe(t=()=>{}){const e=Qn(t);xr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Roe(t){return t.nodeType===t.ELEMENT_NODE}function Ooe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function x_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Moe=YH,o7=QH,l7=ZH,c7=e7,u7=t7,d7=r7,f7=VI;function h7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=h7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=h7(t))&&(r&&(r+=" "),r+=e);return r}const jL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SL=At,U1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return SL(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=s==null?void 0:s[u];if(f===null)return null;const p=jL(f)||jL(h);return i[u][p]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...g}=f;return Object.entries(g).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...s,...l}[y]):{...s,...l}[y]===b})?[...u,h,p]:u},[]);return SL(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Loe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Loe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m7("lucide",i),...l},[...o.map(([u,f])=>w.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(Foe,{ref:s,iconNode:e,className:m7(`lucide-${Doe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ve("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=ve("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=ve("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ve("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ve("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ve("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=ve("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=ve("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ve("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=ve("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ve("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=ve("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=ve("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ve("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ve("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=ve("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=ve("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ve("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ve("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=ve("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ve("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=ve("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ve("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=ve("Locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=ve("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=ve("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=ve("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=ve("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=ve("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=ve("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=ve("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=ve("Nut",[["path",{d:"M12 4V2",key:"1k5q1u"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4",key:"1tgyif"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z",key:"tnsqj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ve("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ve("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ve("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=ve("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ve("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ve("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=ve("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=ve("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=ve("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=ve("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ve("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=ve("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=ve("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ve("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ve("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=ve("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ve("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=ve("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),XI="-",ble=t=>{const e=jle(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(XI);return l[0]===""&&l.length!==1&&l.shift(),I7(l,e)||wle(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},I7=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?I7(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(XI);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},EL=/^\[(.+)\]$/,wle=t=>{if(EL.test(t)){const e=EL.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jle=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Nle(Object.entries(t.classGroups),n).forEach(([s,o])=>{L2(o,r,s,e)}),r},L2=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:TL(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Sle(i)){L2(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{L2(o,TL(e,s),n,r)})})},TL=(t,e)=>{let n=t;return e.split(XI).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Sle=t=>t.isThemeGetter,Nle=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,_le=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},R7="!",kle=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,f=0,h;for(let b=0;b<l.length;b++){let S=l[b];if(u===0){if(S===i&&(r||l.slice(b,b+s)===e)){c.push(l.slice(f,b)),f=b+s;continue}if(S==="/"){h=b;continue}}S==="["?u++:S==="]"&&u--}const p=c.length===0?l:l.substring(f),g=p.startsWith(R7),v=g?p.substring(1):p,y=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},Ale=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Cle=t=>({cache:_le(t.cacheSize),parseClassName:kle(t),...ble(t)}),Ele=/\s+/,Tle=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Ele);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=Ale(f).join(":"),S=h?b+R7:b,N=S+y;if(s.includes(N))continue;s.push(N);const k=i(y,v);for(let E=0;E<k.length;++E){const A=k[E];s.push(S+A)}l=u+(l.length>0?" "+l:l)}return l};function Ple(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=O7(e))&&(r&&(r+=" "),r+=n);return r}const O7=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=O7(t[r]))&&(n&&(n+=" "),n+=e);return n};function Ile(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((f,h)=>h(f),t());return n=Cle(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=Tle(c,n);return i(c,f),f}return function(){return s(Ple.apply(null,arguments))}}const En=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},M7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rle=/^\d+\/\d+$/,Ole=new Set(["px","full","screen"]),Mle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$le=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sl=t=>Rh(t)||Ole.has(t)||Rle.test(t),pc=t=>Ym(t,"length",Gle),Rh=t=>!!t&&!Number.isNaN(Number(t)),w_=t=>Ym(t,"number",Rh),og=t=>!!t&&Number.isInteger(Number(t)),Vle=t=>t.endsWith("%")&&Rh(t.slice(0,-1)),Rt=t=>M7.test(t),gc=t=>Mle.test(t),Ble=new Set(["length","size","percentage"]),Ule=t=>Ym(t,Ble,D7),zle=t=>Ym(t,"position",D7),qle=new Set(["image","url"]),Hle=t=>Ym(t,qle,Yle),Wle=t=>Ym(t,"",Kle),lg=()=>!0,Ym=(t,e,n)=>{const r=M7.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Gle=t=>Dle.test(t)&&!Lle.test(t),D7=()=>!1,Kle=t=>Fle.test(t),Yle=t=>$le.test(t),Xle=()=>{const t=En("colors"),e=En("spacing"),n=En("blur"),r=En("brightness"),i=En("borderColor"),s=En("borderRadius"),o=En("borderSpacing"),l=En("borderWidth"),c=En("contrast"),u=En("grayscale"),f=En("hueRotate"),h=En("invert"),p=En("gap"),g=En("gradientColorStops"),v=En("gradientColorStopPositions"),y=En("inset"),b=En("margin"),S=En("opacity"),N=En("padding"),k=En("saturate"),E=En("scale"),A=En("sepia"),C=En("skew"),T=En("space"),I=En("translate"),P=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Rt,e],D=()=>[Rt,e],R=()=>["",sl,pc],V=()=>["auto",Rh,Rt],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Rt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Rh,Rt];return{cacheSize:500,separator:":",theme:{colors:[lg],spacing:[sl,pc],blur:["none","",gc,Rt],brightness:W(),borderColor:[t],borderRadius:["none","","full",gc,Rt],borderSpacing:D(),borderWidth:R(),contrast:W(),grayscale:Z(),hueRotate:W(),invert:Z(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[Vle,pc],inset:L(),margin:L(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:Z(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[gc]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Rt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",og,Rt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",og,Rt]}],"grid-cols":[{"grid-cols":[lg]}],"col-start-end":[{col:["auto",{span:["full",og,Rt]},Rt]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[lg]}],"row-start-end":[{row:["auto",{span:[og,Rt]},Rt]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,e]}],"min-w":[{"min-w":[Rt,e,"min","max","fit"]}],"max-w":[{"max-w":[Rt,e,"none","full","min","max","fit","prose",{screen:[gc]},gc]}],h:[{h:[Rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gc,pc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",w_]}],"font-family":[{font:[lg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",Rh,w_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sl,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sl,pc]}],"underline-offset":[{"underline-offset":["auto",sl,Rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),zle]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ule]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hle]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[sl,Rt]}],"outline-w":[{outline:[sl,pc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[sl,pc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gc,Wle]}],"shadow-color":[{shadow:[lg]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gc,Rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[og,Rt]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sl,pc,w_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qle=Ile(Xle);function st(...t){return Qle(At(t))}const Jle=Moe,L7=w.forwardRef(({className:t,...e},n)=>a.jsx(o7,{ref:n,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));L7.displayName=o7.displayName;const Zle=U1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),F7=w.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(l7,{ref:r,className:st(Zle({variant:e}),t),...n}));F7.displayName=l7.displayName;const ece=w.forwardRef(({className:t,...e},n)=>a.jsx(d7,{ref:n,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ece.displayName=d7.displayName;const $7=w.forwardRef(({className:t,...e},n)=>a.jsx(f7,{ref:n,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(or,{className:"h-4 w-4"})}));$7.displayName=f7.displayName;const V7=w.forwardRef(({className:t,...e},n)=>a.jsx(c7,{ref:n,className:st("text-sm font-semibold",t),...e}));V7.displayName=c7.displayName;const B7=w.forwardRef(({className:t,...e},n)=>a.jsx(u7,{ref:n,className:st("text-sm opacity-90",t),...e}));B7.displayName=u7.displayName;function tce(){const{toasts:t}=Tt();return a.jsxs(Jle,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return a.jsxs(F7,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(V7,{children:n}),r&&a.jsx(B7,{children:r})]}),i,a.jsx($7,{})]},e)}),a.jsx(L7,{})]})}var PL=["light","dark"],nce="(prefers-color-scheme: dark)",rce=w.createContext(void 0),ice={setTheme:t=>{},themes:[]},sce=()=>{var t;return(t=w.useContext(rce))!=null?t:ice};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?PL.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,b=!0)=>{let S=o?o[v]:v,N=y?v+"|| ''":`'${S}'`,k="";return i&&b&&!y&&PL.includes(v)&&(k+=`d.style.colorScheme = '${v}';`),n==="class"?y||S?k+=`c.add(${N})`:k+="null":S&&(k+=`d[s](n,${N})`),k},g=t?`!function(){${f}${p(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${nce}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var ace=t=>{switch(t){case"success":return cce;case"info":return dce;case"warning":return uce;case"error":return fce;default:return null}},oce=Array(12).fill(0),lce=({visible:t})=>X.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},X.createElement("div",{className:"sonner-spinner"},oce.map((e,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cce=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uce=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dce=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fce=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hce=()=>{let[t,e]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},F2=1,mce=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:F2++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(gce(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:l})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,l=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,l=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||F2++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},fs=new mce,pce=(t,e)=>{let n=(e==null?void 0:e.id)||F2++;return fs.addToast({title:t,...e,id:n}),n},gce=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yce=pce,xce=()=>fs.toasts;Object.assign(yce,{success:fs.success,info:fs.info,warning:fs.warning,error:fs.error,custom:fs.custom,message:fs.message,promise:fs.promise,dismiss:fs.dismiss,loading:fs.loading},{getHistory:xce});function vce(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}vce(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Tb(t){return t.label!==void 0}var bce=3,wce="32px",jce=4e3,Sce=356,Nce=14,_ce=20,kce=200;function Ace(...t){return t.filter(Boolean).join(" ")}var Cce=t=>{var e,n,r,i,s,o,l,c,u,f;let{invert:h,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:b,heights:S,index:N,toasts:k,expanded:E,removeToast:A,defaultRichColors:C,closeButton:T,style:I,cancelButtonStyle:P,actionButtonStyle:M,className:L="",descriptionClassName:D="",duration:R,position:V,gap:q,loadingIcon:H,expandByDefault:Y,classNames:K,icons:Z,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:W,cn:Q}=t,[B,se]=X.useState(!1),[ue,pe]=X.useState(!1),[ne,ae]=X.useState(!1),[ie,ce]=X.useState(!1),[ge,le]=X.useState(0),[Ne,$e]=X.useState(0),ot=X.useRef(null),Ae=X.useRef(null),Ke=N===0,Nt=N+1<=b,Ce=p.type,Je=p.dismissible!==!1,ht=p.className||"",mt=p.descriptionClassName||"",It=X.useMemo(()=>S.findIndex(nt=>nt.toastId===p.id)||0,[S,p.id]),lr=X.useMemo(()=>{var nt;return(nt=p.closeButton)!=null?nt:T},[p.closeButton,T]),vr=X.useMemo(()=>p.duration||R||jce,[p.duration,R]),he=X.useRef(0),je=X.useRef(0),it=X.useRef(0),vt=X.useRef(null),[Dt,er]=V.split("-"),Cr=X.useMemo(()=>S.reduce((nt,Jt,Xt)=>Xt>=It?nt:nt+Jt.height,0),[S,It]),Er=hce(),es=p.invert||h,yi=Ce==="loading";je.current=X.useMemo(()=>It*q+Cr,[It,Cr]),X.useEffect(()=>{se(!0)},[]),X.useLayoutEffect(()=>{if(!B)return;let nt=Ae.current,Jt=nt.style.height;nt.style.height="auto";let Xt=nt.getBoundingClientRect().height;nt.style.height=Jt,$e(Xt),y(Bn=>Bn.find(tr=>tr.toastId===p.id)?Bn.map(tr=>tr.toastId===p.id?{...tr,height:Xt}:tr):[{toastId:p.id,height:Xt,position:p.position},...Bn])},[B,p.title,p.description,y,p.id]);let fn=X.useCallback(()=>{pe(!0),le(je.current),y(nt=>nt.filter(Jt=>Jt.toastId!==p.id)),setTimeout(()=>{A(p)},kce)},[p,A,y,je]);X.useEffect(()=>{if(p.promise&&Ce==="loading"||p.duration===1/0||p.type==="loading")return;let nt,Jt=vr;return E||v||W&&Er?(()=>{if(it.current<he.current){let Xt=new Date().getTime()-he.current;Jt=Jt-Xt}it.current=new Date().getTime()})():Jt!==1/0&&(he.current=new Date().getTime(),nt=setTimeout(()=>{var Xt;(Xt=p.onAutoClose)==null||Xt.call(p,p),fn()},Jt)),()=>clearTimeout(nt)},[E,v,Y,p,vr,fn,p.promise,Ce,W,Er]),X.useEffect(()=>{let nt=Ae.current;if(nt){let Jt=nt.getBoundingClientRect().height;return $e(Jt),y(Xt=>[{toastId:p.id,height:Jt,position:p.position},...Xt]),()=>y(Xt=>Xt.filter(Bn=>Bn.toastId!==p.id))}},[y,p.id]),X.useEffect(()=>{p.delete&&fn()},[fn,p.delete]);function Oi(){return Z!=null&&Z.loading?X.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},Z.loading):H?X.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},H):X.createElement(lce,{visible:Ce==="loading"})}return X.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ae,className:Q(L,ht,K==null?void 0:K.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[Ce],(n=p==null?void 0:p.classNames)==null?void 0:n[Ce]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":B,"data-promise":!!p.promise,"data-removed":ue,"data-visible":Nt,"data-y-position":Dt,"data-x-position":er,"data-index":N,"data-front":Ke,"data-swiping":ne,"data-dismissible":Je,"data-type":Ce,"data-invert":es,"data-swipe-out":ie,"data-expanded":!!(E||Y&&B),style:{"--index":N,"--toasts-before":N,"--z-index":k.length-N,"--offset":`${ue?ge:je.current}px`,"--initial-height":Y?"auto":`${Ne}px`,...I,...p.style},onPointerDown:nt=>{yi||!Je||(ot.current=new Date,le(je.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(ae(!0),vt.current={x:nt.clientX,y:nt.clientY}))},onPointerUp:()=>{var nt,Jt,Xt,Bn;if(ie||!Je)return;vt.current=null;let tr=Number(((nt=Ae.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Qs=new Date().getTime()-((Jt=ot.current)==null?void 0:Jt.getTime()),Ns=Math.abs(tr)/Qs;if(Math.abs(tr)>=_ce||Ns>.11){le(je.current),(Xt=p.onDismiss)==null||Xt.call(p,p),fn(),ce(!0);return}(Bn=Ae.current)==null||Bn.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:nt=>{var Jt;if(!vt.current||!Je)return;let Xt=nt.clientY-vt.current.y,Bn=nt.clientX-vt.current.x,tr=(Dt==="top"?Math.min:Math.max)(0,Xt),Qs=nt.pointerType==="touch"?10:2;Math.abs(tr)>Qs?(Jt=Ae.current)==null||Jt.style.setProperty("--swipe-amount",`${Xt}px`):Math.abs(Bn)>Qs&&(vt.current=null)}},lr&&!p.jsx?X.createElement("button",{"aria-label":U,"data-disabled":yi,"data-close-button":!0,onClick:yi||!Je?()=>{}:()=>{var nt;fn(),(nt=p.onDismiss)==null||nt.call(p,p)},className:Q(K==null?void 0:K.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||X.isValidElement(p.title)?p.jsx||p.title:X.createElement(X.Fragment,null,Ce||p.icon||p.promise?X.createElement("div",{"data-icon":"",className:Q(K==null?void 0:K.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Oi():null,p.type!=="loading"?p.icon||(Z==null?void 0:Z[Ce])||ace(Ce):null):null,X.createElement("div",{"data-content":"",className:Q(K==null?void 0:K.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},X.createElement("div",{"data-title":"",className:Q(K==null?void 0:K.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?X.createElement("div",{"data-description":"",className:Q(D,mt,K==null?void 0:K.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),X.isValidElement(p.cancel)?p.cancel:p.cancel&&Tb(p.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:nt=>{var Jt,Xt;Tb(p.cancel)&&Je&&((Xt=(Jt=p.cancel).onClick)==null||Xt.call(Jt,nt),fn())},className:Q(K==null?void 0:K.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,X.isValidElement(p.action)?p.action:p.action&&Tb(p.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:nt=>{var Jt,Xt;Tb(p.action)&&(nt.defaultPrevented||((Xt=(Jt=p.action).onClick)==null||Xt.call(Jt,nt),fn()))},className:Q(K==null?void 0:K.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function IL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Ece=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:l,theme:c="light",richColors:u,duration:f,style:h,visibleToasts:p=bce,toastOptions:g,dir:v=IL(),gap:y=Nce,loadingIcon:b,icons:S,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:k,cn:E=Ace}=t,[A,C]=X.useState([]),T=X.useMemo(()=>Array.from(new Set([n].concat(A.filter(W=>W.position).map(W=>W.position)))),[A,n]),[I,P]=X.useState([]),[M,L]=X.useState(!1),[D,R]=X.useState(!1),[V,q]=X.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=X.useRef(null),Y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=X.useRef(null),Z=X.useRef(!1),U=X.useCallback(W=>{var Q;(Q=A.find(B=>B.id===W.id))!=null&&Q.delete||fs.dismiss(W.id),C(B=>B.filter(({id:se})=>se!==W.id))},[A]);return X.useEffect(()=>fs.subscribe(W=>{if(W.dismiss){C(Q=>Q.map(B=>B.id===W.id?{...B,delete:!0}:B));return}setTimeout(()=>{BH.flushSync(()=>{C(Q=>{let B=Q.findIndex(se=>se.id===W.id);return B!==-1?[...Q.slice(0,B),{...Q[B],...W},...Q.slice(B+1)]:[W,...Q]})})})}),[]),X.useEffect(()=>{if(c!=="system"){q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{q(W?"dark":"light")})},[c]),X.useEffect(()=>{A.length<=1&&L(!1)},[A]),X.useEffect(()=>{let W=Q=>{var B,se;r.every(ue=>Q[ue]||Q.code===ue)&&(L(!0),(B=H.current)==null||B.focus()),Q.code==="Escape"&&(document.activeElement===H.current||(se=H.current)!=null&&se.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),X.useEffect(()=>{if(H.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,Z.current=!1)}},[H.current]),A.length?X.createElement("section",{"aria-label":`${N} ${Y}`,tabIndex:-1},T.map((W,Q)=>{var B;let[se,ue]=W.split("-");return X.createElement("ol",{key:W,dir:v==="auto"?IL():v,tabIndex:-1,ref:H,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":se,"data-x-position":ue,style:{"--front-toast-height":`${((B=I[0])==null?void 0:B.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||wce,"--width":`${Sce}px`,"--gap":`${y}px`,...h},onBlur:pe=>{Z.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(Z.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,K.current=pe.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{D||L(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},A.filter(pe=>!pe.position&&Q===0||pe.position===W).map((pe,ne)=>{var ae,ie;return X.createElement(Cce,{key:pe.id,icons:S,index:ne,toast:pe,defaultRichColors:u,duration:(ae=g==null?void 0:g.duration)!=null?ae:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:s,interacting:D,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:U,toasts:A.filter(ce=>ce.position==pe.position),heights:I.filter(ce=>ce.position==pe.position),setHeights:P,expandByDefault:i,gap:y,loadingIcon:b,expanded:M,pauseWhenPageIsHidden:k,cn:E})}))})):null};const Tce=({...t})=>{const{theme:e="system"}=sce();return a.jsx(Ece,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Pce=VH.useId||(()=>{}),Ice=0;function ka(t){const[e,n]=w.useState(Pce());return xr(()=>{n(r=>r??String(Ice++))},[t]),e?`radix-${e}`:""}const Rce=["top","right","bottom","left"],Xc=Math.min,ms=Math.max,V0=Math.round,Pb=Math.floor,Qc=t=>({x:t,y:t}),Oce={left:"right",right:"left",bottom:"top",top:"bottom"},Mce={start:"end",end:"start"};function $2(t,e,n){return ms(t,Xc(e,n))}function Al(t,e){return typeof t=="function"?t(e):t}function Cl(t){return t.split("-")[0]}function Xm(t){return t.split("-")[1]}function QI(t){return t==="x"?"y":"x"}function JI(t){return t==="y"?"height":"width"}function Jc(t){return["top","bottom"].includes(Cl(t))?"y":"x"}function ZI(t){return QI(Jc(t))}function Dce(t,e,n){n===void 0&&(n=!1);const r=Xm(t),i=ZI(t),s=JI(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=B0(o)),[o,B0(o)]}function Lce(t){const e=B0(t);return[V2(t),e,V2(e)]}function V2(t){return t.replace(/start|end/g,e=>Mce[e])}function Fce(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function $ce(t,e,n,r){const i=Xm(t);let s=Fce(Cl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(V2)))),s}function B0(t){return t.replace(/left|right|bottom|top/g,e=>Oce[e])}function Vce(t){return{top:0,right:0,bottom:0,left:0,...t}}function U7(t){return typeof t!="number"?Vce(t):{top:t,right:t,bottom:t,left:t}}function U0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function RL(t,e,n){let{reference:r,floating:i}=t;const s=Jc(e),o=ZI(e),l=JI(o),c=Cl(e),u=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let g;switch(c){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Xm(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const Bce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=RL(u,r,c),p=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:b,fn:S}=l[y],{x:N,y:k,data:E,reset:A}=await S({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});f=N??f,h=k??h,g={...g,[b]:{...g[b],...E}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:f,y:h}=RL(u,p,c)),y=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:g}};async function dy(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Al(e,t),v=U7(g),b=l[p?h==="floating"?"reference":"floating":h],S=U0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),N=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),E=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},A=U0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:k,strategy:c}):N);return{top:(S.top-A.top+v.top)/E.y,bottom:(A.bottom-S.bottom+v.bottom)/E.y,left:(S.left-A.left+v.left)/E.x,right:(A.right-S.right+v.right)/E.x}}const Uce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:f=0}=Al(t,e)||{};if(u==null)return{};const h=U7(f),p={x:n,y:r},g=ZI(i),v=JI(g),y=await o.getDimensions(u),b=g==="y",S=b?"top":"left",N=b?"bottom":"right",k=b?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[g]-p[g]-s.floating[v],A=p[g]-s.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=C?C[k]:0;(!T||!await(o.isElement==null?void 0:o.isElement(C)))&&(T=l.floating[k]||s.floating[v]);const I=E/2-A/2,P=T/2-y[v]/2-1,M=Xc(h[S],P),L=Xc(h[N],P),D=M,R=T-y[v]-L,V=T/2-y[v]/2+I,q=$2(D,V,R),H=!c.arrow&&Xm(i)!=null&&V!==q&&s.reference[v]/2-(V<D?M:L)-y[v]/2<0,Y=H?V<D?V-D:V-R:0;return{[g]:p[g]+Y,data:{[g]:q,centerOffset:V-q-Y,...H&&{alignmentOffset:Y}},reset:H}}}),zce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=Al(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=Cl(i),N=Jc(l),k=Cl(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=p||(k||!y?[B0(l)]:Lce(l)),C=v!=="none";!p&&C&&A.push(...$ce(l,y,v,E));const T=[l,...A],I=await dy(e,b),P=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&P.push(I[S]),h){const V=Dce(i,o,E);P.push(I[V[0]],I[V[1]])}if(M=[...M,{placement:i,overflows:P}],!P.every(V=>V<=0)){var L,D;const V=(((L=s.flip)==null?void 0:L.index)||0)+1,q=T[V];if(q)return{data:{index:V,overflows:M},reset:{placement:q}};let H=(D=M.filter(Y=>Y.overflows[0]<=0).sort((Y,K)=>Y.overflows[1]-K.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(g){case"bestFit":{var R;const Y=(R=M.filter(K=>{if(C){const Z=Jc(K.placement);return Z===N||Z==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(Z=>Z>0).reduce((Z,U)=>Z+U,0)]).sort((K,Z)=>K[1]-Z[1])[0])==null?void 0:R[0];Y&&(H=Y);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function OL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ML(t){return Rce.some(e=>t[e]>=0)}const qce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Al(t,e);switch(r){case"referenceHidden":{const s=await dy(e,{...i,elementContext:"reference"}),o=OL(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ML(o)}}}case"escaped":{const s=await dy(e,{...i,altBoundary:!0}),o=OL(s,n.floating);return{data:{escapedOffsets:o,escaped:ML(o)}}}default:return{}}}}};async function Hce(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Cl(n),l=Xm(n),c=Jc(n)==="y",u=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,h=Al(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*f,y:p*u}:{x:p*u,y:g*f}}const Wce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await Hce(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Gce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:S,y:N}=b;return{x:S,y:N}}},...c}=Al(t,e),u={x:n,y:r},f=await dy(e,c),h=Jc(Cl(i)),p=QI(h);let g=u[p],v=u[h];if(s){const b=p==="y"?"top":"left",S=p==="y"?"bottom":"right",N=g+f[b],k=g-f[S];g=$2(N,g,k)}if(o){const b=h==="y"?"top":"left",S=h==="y"?"bottom":"right",N=v+f[b],k=v-f[S];v=$2(N,v,k)}const y=l.fn({...e,[p]:g,[h]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},Kce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Al(t,e),f={x:n,y:r},h=Jc(i),p=QI(h);let g=f[p],v=f[h];const y=Al(l,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const k=p==="y"?"height":"width",E=s.reference[p]-s.floating[k]+b.mainAxis,A=s.reference[p]+s.reference[k]-b.mainAxis;g<E?g=E:g>A&&(g=A)}if(u){var S,N;const k=p==="y"?"width":"height",E=["top","left"].includes(Cl(i)),A=s.reference[h]-s.floating[k]+(E&&((S=o.offset)==null?void 0:S[h])||0)+(E?0:b.crossAxis),C=s.reference[h]+s.reference[k]+(E?0:((N=o.offset)==null?void 0:N[h])||0)-(E?b.crossAxis:0);v<A?v=A:v>C&&(v=C)}return{[p]:g,[h]:v}}}},Yce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Al(t,e),f=await dy(e,u),h=Cl(i),p=Xm(i),g=Jc(i)==="y",{width:v,height:y}=s.floating;let b,S;h==="top"||h==="bottom"?(b=h,S=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=h,b=p==="end"?"top":"bottom");const N=y-f.top-f.bottom,k=v-f.left-f.right,E=Xc(y-f[b],N),A=Xc(v-f[S],k),C=!e.middlewareData.shift;let T=E,I=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=N),C&&!p){const M=ms(f.left,0),L=ms(f.right,0),D=ms(f.top,0),R=ms(f.bottom,0);g?I=v-2*(M!==0||L!==0?M+L:ms(f.left,f.right)):T=y-2*(D!==0||R!==0?D+R:ms(f.top,f.bottom))}await c({...e,availableWidth:I,availableHeight:T});const P=await o.getDimensions(l.floating);return v!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function q1(){return typeof window<"u"}function Qm(t){return z7(t)?(t.nodeName||"").toLowerCase():"#document"}function vs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fo(t){var e;return(e=(z7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function z7(t){return q1()?t instanceof Node||t instanceof vs(t).Node:!1}function Oa(t){return q1()?t instanceof Element||t instanceof vs(t).Element:!1}function Eo(t){return q1()?t instanceof HTMLElement||t instanceof vs(t).HTMLElement:!1}function DL(t){return!q1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vs(t).ShadowRoot}function Ex(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ma(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Xce(t){return["table","td","th"].includes(Qm(t))}function H1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function eR(t){const e=tR(),n=Oa(t)?Ma(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Qce(t){let e=Zc(t);for(;Eo(e)&&!im(e);){if(eR(e))return e;if(H1(e))return null;e=Zc(e)}return null}function tR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function im(t){return["html","body","#document"].includes(Qm(t))}function Ma(t){return vs(t).getComputedStyle(t)}function W1(t){return Oa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zc(t){if(Qm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DL(t)&&t.host||Fo(t);return DL(e)?e.host:e}function q7(t){const e=Zc(t);return im(e)?t.ownerDocument?t.ownerDocument.body:t.body:Eo(e)&&Ex(e)?e:q7(e)}function fy(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=q7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=vs(i);if(s){const l=B2(o);return e.concat(o,o.visualViewport||[],Ex(i)?i:[],l&&n?fy(l):[])}return e.concat(i,fy(i,[],n))}function B2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H7(t){const e=Ma(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Eo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=V0(n)!==s||V0(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function nR(t){return Oa(t)?t:t.contextElement}function Oh(t){const e=nR(t);if(!Eo(e))return Qc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=H7(e);let o=(s?V0(n.width):n.width)/r,l=(s?V0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Jce=Qc(0);function W7(t){const e=vs(t);return!tR()||!e.visualViewport?Jce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vs(t)?!1:e}function Dd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=nR(t);let o=Qc(1);e&&(r?Oa(r)&&(o=Oh(r)):o=Oh(t));const l=Zce(s,n,r)?W7(s):Qc(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const p=vs(s),g=r&&Oa(r)?vs(r):r;let v=p,y=B2(v);for(;y&&r&&g!==v;){const b=Oh(y),S=y.getBoundingClientRect(),N=Ma(y),k=S.left+(y.clientLeft+parseFloat(N.paddingLeft))*b.x,E=S.top+(y.clientTop+parseFloat(N.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=k,u+=E,v=vs(y),y=B2(v)}}return U0({width:f,height:h,x:c,y:u})}function eue(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Fo(r),l=e?H1(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Qc(1);const f=Qc(0),h=Eo(r);if((h||!h&&!s)&&((Qm(r)!=="body"||Ex(o))&&(c=W1(r)),Eo(r))){const p=Dd(r);u=Oh(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}}function tue(t){return Array.from(t.getClientRects())}function U2(t,e){const n=W1(t).scrollLeft;return e?e.left+n:Dd(Fo(t)).left+n}function nue(t){const e=Fo(t),n=W1(t),r=t.ownerDocument.body,i=ms(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ms(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+U2(t);const l=-n.scrollTop;return Ma(r).direction==="rtl"&&(o+=ms(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function rue(t,e){const n=vs(t),r=Fo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=tR();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function iue(t,e){const n=Dd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Eo(t)?Oh(t):Qc(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function LL(t,e,n){let r;if(e==="viewport")r=rue(t,n);else if(e==="document")r=nue(Fo(t));else if(Oa(e))r=iue(e,n);else{const i=W7(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return U0(r)}function G7(t,e){const n=Zc(t);return n===e||!Oa(n)||im(n)?!1:Ma(n).position==="fixed"||G7(n,e)}function sue(t,e){const n=e.get(t);if(n)return n;let r=fy(t,[],!1).filter(l=>Oa(l)&&Qm(l)!=="body"),i=null;const s=Ma(t).position==="fixed";let o=s?Zc(t):t;for(;Oa(o)&&!im(o);){const l=Ma(o),c=eR(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ex(o)&&!c&&G7(t,o))?r=r.filter(f=>f!==o):i=l,o=Zc(o)}return e.set(t,r),r}function aue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?H1(e)?[]:sue(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,f)=>{const h=LL(e,f,i);return u.top=ms(h.top,u.top),u.right=Xc(h.right,u.right),u.bottom=Xc(h.bottom,u.bottom),u.left=ms(h.left,u.left),u},LL(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oue(t){const{width:e,height:n}=H7(t);return{width:e,height:n}}function lue(t,e,n){const r=Eo(e),i=Fo(e),s=n==="fixed",o=Dd(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Qc(0);if(r||!r&&!s)if((Qm(e)!=="body"||Ex(i))&&(l=W1(e)),r){const g=Dd(e,!0,s,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=U2(i));let u=0,f=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();f=g.top+l.scrollTop,u=g.left+l.scrollLeft-U2(i,g)}const h=o.left+l.scrollLeft-c.x-u,p=o.top+l.scrollTop-c.y-f;return{x:h,y:p,width:o.width,height:o.height}}function j_(t){return Ma(t).position==="static"}function FL(t,e){if(!Eo(t)||Ma(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fo(t)===n&&(n=n.ownerDocument.body),n}function K7(t,e){const n=vs(t);if(H1(t))return n;if(!Eo(t)){let i=Zc(t);for(;i&&!im(i);){if(Oa(i)&&!j_(i))return i;i=Zc(i)}return n}let r=FL(t,e);for(;r&&Xce(r)&&j_(r);)r=FL(r,e);return r&&im(r)&&j_(r)&&!eR(r)?n:r||Qce(t)||n}const cue=async function(t){const e=this.getOffsetParent||K7,n=this.getDimensions,r=await n(t.floating);return{reference:lue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uue(t){return Ma(t).direction==="rtl"}const due={convertOffsetParentRelativeRectToViewportRelativeRect:eue,getDocumentElement:Fo,getClippingRect:aue,getOffsetParent:K7,getElementRects:cue,getClientRects:tue,getDimensions:oue,getScale:Oh,isElement:Oa,isRTL:uue};function fue(t,e){let n=null,r;const i=Fo(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:f,width:h,height:p}=t.getBoundingClientRect();if(l||e(),!h||!p)return;const g=Pb(f),v=Pb(i.clientWidth-(u+h)),y=Pb(i.clientHeight-(f+p)),b=Pb(u),N={rootMargin:-g+"px "+-v+"px "+-y+"px "+-b+"px",threshold:ms(0,Xc(1,c))||1};let k=!0;function E(A){const C=A[0].intersectionRatio;if(C!==c){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k=!1}try{n=new IntersectionObserver(E,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,N)}n.observe(t)}return o(!0),s}function hue(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=nR(t),f=i||s?[...u?fy(u):[],...fy(e)]:[];f.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const h=u&&l?fue(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(S=>{let[N]=S;N&&N.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?Dd(t):null;c&&b();function b(){const S=Dd(t);y&&(S.x!==y.x||S.y!==y.y||S.width!==y.width||S.height!==y.height)&&n(),y=S,v=requestAnimationFrame(b)}return n(),()=>{var S;f.forEach(N=>{i&&N.removeEventListener("scroll",n),s&&N.removeEventListener("resize",n)}),h==null||h(),(S=g)==null||S.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const mue=Wce,pue=Gce,gue=zce,yue=Yce,xue=qce,$L=Uce,vue=Kce,bue=(t,e,n)=>{const r=new Map,i={platform:due,...n},s={...i.platform,_c:r};return Bce(t,e,{...i,platform:s})};var x0=typeof document<"u"?w.useLayoutEffect:w.useEffect;function z0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!z0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!z0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Y7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VL(t,e){const n=Y7(t);return Math.round(e*n)/n}function S_(t){const e=w.useRef(t);return x0(()=>{e.current=t}),e}function wue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[f,h]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=w.useState(r);z0(p,r)||g(r);const[v,y]=w.useState(null),[b,S]=w.useState(null),N=w.useCallback(K=>{K!==C.current&&(C.current=K,y(K))},[]),k=w.useCallback(K=>{K!==T.current&&(T.current=K,S(K))},[]),E=s||v,A=o||b,C=w.useRef(null),T=w.useRef(null),I=w.useRef(f),P=c!=null,M=S_(c),L=S_(i),D=S_(u),R=w.useCallback(()=>{if(!C.current||!T.current)return;const K={placement:e,strategy:n,middleware:p};L.current&&(K.platform=L.current),bue(C.current,T.current,K).then(Z=>{const U={...Z,isPositioned:D.current!==!1};V.current&&!z0(I.current,U)&&(I.current=U,Km.flushSync(()=>{h(U)}))})},[p,e,n,L,D]);x0(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[u]);const V=w.useRef(!1);x0(()=>(V.current=!0,()=>{V.current=!1}),[]),x0(()=>{if(E&&(C.current=E),A&&(T.current=A),E&&A){if(M.current)return M.current(E,A,R);R()}},[E,A,R,M,P]);const q=w.useMemo(()=>({reference:C,floating:T,setReference:N,setFloating:k}),[N,k]),H=w.useMemo(()=>({reference:E,floating:A}),[E,A]),Y=w.useMemo(()=>{const K={position:n,left:0,top:0};if(!H.floating)return K;const Z=VL(H.floating,f.x),U=VL(H.floating,f.y);return l?{...K,transform:"translate("+Z+"px, "+U+"px)",...Y7(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:U}},[n,l,H.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:R,refs:q,elements:H,floatingStyles:Y}),[f,R,q,H,Y])}const jue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$L({element:r.current,padding:i}).fn(n):{}:r?$L({element:r,padding:i}).fn(n):{}}}},Sue=(t,e)=>({...mue(t),options:[t,e]}),Nue=(t,e)=>({...pue(t),options:[t,e]}),_ue=(t,e)=>({...vue(t),options:[t,e]}),kue=(t,e)=>({...gue(t),options:[t,e]}),Aue=(t,e)=>({...yue(t),options:[t,e]}),Cue=(t,e)=>({...xue(t),options:[t,e]}),Eue=(t,e)=>({...jue(t),options:[t,e]});var Tue="Arrow",X7=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx(Ge.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});X7.displayName=Tue;var Pue=X7;function Iue(t,e=[]){let n=[];function r(s,o){const l=w.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[t][c])||l,b=w.useMemo(()=>v,Object.values(v));return a.jsx(y.Provider,{value:b,children:g})}function f(h,p){const g=(p==null?void 0:p[t][c])||l,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Rue(i,...e)]}function Rue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Tx(t){const[e,n]=w.useState(void 0);return xr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var rR="Popper",[Q7,G1]=Iue(rR),[Oue,J7]=Q7(rR),Z7=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return a.jsx(Oue,{scope:e,anchor:r,onAnchorChange:i,children:n})};Z7.displayName=rR;var eW="PopperAnchor",tW=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=J7(eW,n),o=w.useRef(null),l=Et(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Ge.div,{...i,ref:l})});tW.displayName=eW;var iR="PopperContent",[Mue,Due]=Q7(iR),nW=w.forwardRef((t,e)=>{var ne,ae,ie,ce,ge,le;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,b=J7(iR,n),[S,N]=w.useState(null),k=Et(e,Ne=>N(Ne)),[E,A]=w.useState(null),C=Tx(E),T=(C==null?void 0:C.width)??0,I=(C==null?void 0:C.height)??0,P=r+(s!=="center"?"-"+s:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(u)?u:[u],D=L.length>0,R={padding:M,boundary:L.filter(Fue),altBoundary:D},{refs:V,floatingStyles:q,placement:H,isPositioned:Y,middlewareData:K}=wue({strategy:"fixed",placement:P,whileElementsMounted:(...Ne)=>hue(...Ne,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[Sue({mainAxis:i+I,alignmentAxis:o}),c&&Nue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_ue():void 0,...R}),c&&kue({...R}),Aue({...R,apply:({elements:Ne,rects:$e,availableWidth:ot,availableHeight:Ae})=>{const{width:Ke,height:Nt}=$e.reference,Ce=Ne.floating.style;Ce.setProperty("--radix-popper-available-width",`${ot}px`),Ce.setProperty("--radix-popper-available-height",`${Ae}px`),Ce.setProperty("--radix-popper-anchor-width",`${Ke}px`),Ce.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),E&&Eue({element:E,padding:l}),$ue({arrowWidth:T,arrowHeight:I}),p&&Cue({strategy:"referenceHidden",...R})]}),[Z,U]=sW(H),W=Qn(v);xr(()=>{Y&&(W==null||W())},[Y,W]);const Q=(ne=K.arrow)==null?void 0:ne.x,B=(ae=K.arrow)==null?void 0:ae.y,se=((ie=K.arrow)==null?void 0:ie.centerOffset)!==0,[ue,pe]=w.useState();return xr(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Y?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ce=K.transformOrigin)==null?void 0:ce.x,(ge=K.transformOrigin)==null?void 0:ge.y].join(" "),...((le=K.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Mue,{scope:n,placedSide:Z,onArrowChange:A,arrowX:Q,arrowY:B,shouldHideArrow:se,children:a.jsx(Ge.div,{"data-side":Z,"data-align":U,...y,ref:k,style:{...y.style,animation:Y?void 0:"none"}})})})});nW.displayName=iR;var rW="PopperArrow",Lue={top:"bottom",right:"left",bottom:"top",left:"right"},iW=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Due(rW,r),o=Lue[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Pue,{...i,ref:n,style:{...i.style,display:"block"}})})});iW.displayName=rW;function Fue(t){return t!==null}var $ue=t=>({name:"transformOrigin",options:t,fn(e){var b,S,N;const{placement:n,rects:r,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,f]=sW(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((S=i.arrow)==null?void 0:S.x)??0)+l/2,g=(((N=i.arrow)==null?void 0:N.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=o?h:`${p}px`,y=`${-c}px`):u==="top"?(v=o?h:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=o?h:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=o?h:`${g}px`),{data:{x:v,y}}}});function sW(t){const[e,n="center"]=t.split("-");return[e,n]}var aW=Z7,oW=tW,lW=nW,cW=iW,[K1,nWe]=Xi("Tooltip",[G1]),Y1=G1(),uW="TooltipProvider",Vue=700,z2="tooltip.open",[Bue,sR]=K1(uW),dW=t=>{const{__scopeTooltip:e,delayDuration:n=Vue,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,l]=w.useState(!0),c=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),a.jsx(Bue,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(f=>{c.current=f},[]),disableHoverableContent:i,children:s})};dW.displayName=uW;var X1="Tooltip",[Uue,Q1]=K1(X1),fW=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=sR(X1,t.__scopeTooltip),u=Y1(e),[f,h]=w.useState(null),p=ka(),g=w.useRef(0),v=o??c.disableHoverableContent,y=l??c.delayDuration,b=w.useRef(!1),[S=!1,N]=Yi({prop:r,defaultProp:i,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(z2))):c.onClose(),s==null||s(T)}}),k=w.useMemo(()=>S?b.current?"delayed-open":"instant-open":"closed",[S]),E=w.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,N(!0)},[N]),A=w.useCallback(()=>{window.clearTimeout(g.current),g.current=0,N(!1)},[N]),C=w.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,N(!0),g.current=0},y)},[y,N]);return w.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(aW,{...u,children:a.jsx(Uue,{scope:e,contentId:p,open:S,stateAttribute:k,trigger:f,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayed?C():E()},[c.isOpenDelayed,C,E]),onTriggerLeave:w.useCallback(()=>{v?A():(window.clearTimeout(g.current),g.current=0)},[A,v]),onOpen:E,onClose:A,disableHoverableContent:v,children:n})})};fW.displayName=X1;var q2="TooltipTrigger",hW=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Q1(q2,n),s=sR(q2,n),o=Y1(n),l=w.useRef(null),c=Et(e,l,i.onTriggerChange),u=w.useRef(!1),f=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(oW,{asChild:!0,...o,children:a.jsx(Ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Be(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Be(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Be(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Be(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Be(t.onBlur,i.onClose),onClick:Be(t.onClick,i.onClose)})})});hW.displayName=q2;var zue="TooltipPortal",[rWe,que]=K1(zue,{forceMount:void 0}),sm="TooltipContent",mW=w.forwardRef((t,e)=>{const n=que(sm,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Q1(sm,t.__scopeTooltip);return a.jsx(Qi,{present:r||o.open,children:o.disableHoverableContent?a.jsx(pW,{side:i,...s,ref:e}):a.jsx(Hue,{side:i,...s,ref:e})})}),Hue=w.forwardRef((t,e)=>{const n=Q1(sm,t.__scopeTooltip),r=sR(sm,t.__scopeTooltip),i=w.useRef(null),s=Et(e,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:h}=r,p=w.useCallback(()=>{l(null),h(!1)},[h]),g=w.useCallback((v,y)=>{const b=v.currentTarget,S={x:v.clientX,y:v.clientY},N=Yue(S,b.getBoundingClientRect()),k=Xue(S,N),E=Que(y.getBoundingClientRect()),A=Zue([...k,...E]);l(A),h(!0)},[h]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(c&&f){const v=b=>g(b,f),y=b=>g(b,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",y)}}},[c,f,g,p]),w.useEffect(()=>{if(o){const v=y=>{const b=y.target,S={x:y.clientX,y:y.clientY},N=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),k=!Jue(S,o);N?p():k&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,u,p]),a.jsx(pW,{...t,ref:s})}),[Wue,Gue]=K1(X1,{isInside:!1}),pW=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=Q1(sm,n),u=Y1(n),{onClose:f}=c;return w.useEffect(()=>(document.addEventListener(z2,f),()=>document.removeEventListener(z2,f)),[f]),w.useEffect(()=>{if(c.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),a.jsx(_x,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:a.jsxs(lW,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(zH,{children:r}),a.jsx(Wue,{scope:n,isInside:!0,children:a.jsx(yoe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});mW.displayName=sm;var gW="TooltipArrow",Kue=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Y1(n);return Gue(gW,n).isInside?null:a.jsx(cW,{...i,...r,ref:e})});Kue.displayName=gW;function Yue(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Xue(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Que(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Jue(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,u=e[o].x,f=e[o].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function Zue(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ede(e)}function ede(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var tde=dW,nde=fW,rde=hW,yW=mW;const Mh=tde,Bg=nde,Ug=rde,Dh=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(yW,{ref:r,sideOffset:e,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Dh.displayName=yW.displayName;const ide=U1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Od:"button";return a.jsx(o,{className:st(ide({variant:e,size:n,className:t})),ref:s,...i})});ee.displayName="Button";const Ee=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:st("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ee.displayName="Card";const Xe=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:st("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const Qe=w.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:st("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qe.displayName="CardTitle";const hy=w.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:st("text-sm text-muted-foreground",t),...e}));hy.displayName="CardDescription";const Fe=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:st("p-6 pt-0",t),...e}));Fe.displayName="CardContent";const El=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:st("flex items-center p-6 pt-0",t),...e}));El.displayName="CardFooter";class H2 extends w.Component{constructor(){super(...arguments);Dn(this,"state",{hasError:!1,error:null,errorInfo:null});Dn(this,"handleReload",()=>{window.location.reload()});Dn(this,"handleGoHome",()=>{window.location.href="/SafeBite-V1/"})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("Uncaught error:",n,r),this.setState({error:n,errorInfo:r}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(Ee,{className:"w-full max-w-md border-safebite-teal/50 bg-safebite-card-bg",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-safebite-text text-xl",children:"Something went wrong"})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"We're sorry, but an error occurred while loading the application."}),this.state.error&&a.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md overflow-auto max-h-40",children:a.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})})]})}),a.jsxs(El,{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",onClick:this.handleGoHome,children:"Go to Home"}),a.jsx(ee,{onClick:this.handleReload,children:"Reload Page"})]})]})}):this.props.children}}var J1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z1=typeof window>"u"||"Deno"in globalThis;function ya(){}function sde(t,e){return typeof t=="function"?t(e):t}function ade(t){return typeof t=="number"&&t>=0&&t!==1/0}function ode(t,e){return Math.max(t+(e||0)-Date.now(),0)}function BL(t,e){return typeof t=="function"?t(e):t}function lde(t,e){return typeof t=="function"?t(e):t}function UL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==aR(o,e.options))return!1}else if(!py(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function zL(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(my(e.options.mutationKey)!==my(s))return!1}else if(!py(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function aR(t,e){return((e==null?void 0:e.queryKeyHashFn)||my)(t)}function my(t){return JSON.stringify(t,(e,n)=>W2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function py(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!py(t[n],e[n])):!1}function xW(t,e){if(t===e)return t;const n=qL(t)&&qL(e);if(n||W2(t)&&W2(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const f=n?u:s[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=xW(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function qL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function W2(t){if(!HL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HL(t){return Object.prototype.toString.call(t)==="[object Object]"}function cde(t){return new Promise(e=>{setTimeout(e,t)})}function ude(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xW(t,e):e}function dde(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fde(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var oR=Symbol();function vW(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jd,Tc,Wh,PH,hde=(PH=class extends J1{constructor(){super();sn(this,jd);sn(this,Tc);sn(this,Wh);Ot(this,Wh,e=>{if(!Z1&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ke(this,Tc)||this.setEventListener(ke(this,Wh))}onUnsubscribe(){var e;this.hasListeners()||((e=ke(this,Tc))==null||e.call(this),Ot(this,Tc,void 0))}setEventListener(e){var n;Ot(this,Wh,e),(n=ke(this,Tc))==null||n.call(this),Ot(this,Tc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ke(this,jd)!==e&&(Ot(this,jd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ke(this,jd)=="boolean"?ke(this,jd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jd=new WeakMap,Tc=new WeakMap,Wh=new WeakMap,PH),bW=new hde,Gh,Pc,Kh,IH,mde=(IH=class extends J1{constructor(){super();sn(this,Gh,!0);sn(this,Pc);sn(this,Kh);Ot(this,Kh,e=>{if(!Z1&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ke(this,Pc)||this.setEventListener(ke(this,Kh))}onUnsubscribe(){var e;this.hasListeners()||((e=ke(this,Pc))==null||e.call(this),Ot(this,Pc,void 0))}setEventListener(e){var n;Ot(this,Kh,e),(n=ke(this,Pc))==null||n.call(this),Ot(this,Pc,e(this.setOnline.bind(this)))}setOnline(e){ke(this,Gh)!==e&&(Ot(this,Gh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ke(this,Gh)}},Gh=new WeakMap,Pc=new WeakMap,Kh=new WeakMap,IH),q0=new mde;function pde(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function gde(t){return Math.min(1e3*2**t,3e4)}function wW(t){return(t??"online")==="online"?q0.isOnline():!0}var jW=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function N_(t){return t instanceof jW}function SW(t){let e=!1,n=0,r=!1,i;const s=pde(),o=y=>{var b;r||(p(new jW(y)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>bW.isFocused()&&(t.networkMode==="always"||q0.isOnline())&&t.canRun(),f=()=>wW(t.networkMode)&&t.canRun(),h=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),i==null||i(),s.resolve(y))},p=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var b;i=S=>{(r||u())&&y(S)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(h).catch(S=>{var C;if(r)return;const N=t.retry??(Z1?0:3),k=t.retryDelay??gde,E=typeof k=="function"?k(n,S):k,A=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,S);if(e||!A){p(S);return}n++,(C=t.onFail)==null||C.call(t,n,S),cde(E).then(()=>u()?void 0:g()).then(()=>{e?p(S):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?v():g().then(v),s)}}function yde(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ni=yde(),Sd,RH,NW=(RH=class{constructor(){sn(this,Sd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ade(this.gcTime)&&Ot(this,Sd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Z1?1/0:5*60*1e3))}clearGcTimeout(){ke(this,Sd)&&(clearTimeout(ke(this,Sd)),Ot(this,Sd,void 0))}},Sd=new WeakMap,RH),Yh,Xh,$s,ii,jx,Nd,xa,ll,OH,xde=(OH=class extends NW{constructor(n){super();sn(this,xa);sn(this,Yh);sn(this,Xh);sn(this,$s);sn(this,ii);sn(this,jx);sn(this,Nd);Ot(this,Nd,!1),Ot(this,jx,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ot(this,$s,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ot(this,Yh,bde(this.options)),this.state=n.state??ke(this,Yh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ke(this,ii))==null?void 0:n.promise}setOptions(n){this.options={...ke(this,jx),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ke(this,$s).remove(this)}setData(n,r){const i=ude(this.state.data,n,this.options);return ni(this,xa,ll).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){ni(this,xa,ll).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=ke(this,ii))==null?void 0:i.promise;return(s=ke(this,ii))==null||s.cancel(n),r?r.then(ya).catch(ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ke(this,Yh))}isActive(){return this.observers.some(n=>lde(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!ode(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ke(this,ii))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ke(this,ii))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ke(this,$s).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ke(this,ii)&&(ke(this,Nd)?ke(this,ii).cancel({revert:!0}):ke(this,ii).cancelRetry()),this.scheduleGc()),ke(this,$s).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ni(this,xa,ll).call(this,{type:"invalidate"})}fetch(n,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ke(this,ii))return ke(this,ii).continueRetry(),ke(this,ii).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ot(this,Nd,!0),i.signal)})},o=()=>{const p=vW(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),Ot(this,Nd,!1),this.options.persister?this.options.persister(p,g,this):p(g)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(u=this.options.behavior)==null||u.onFetch(l,this),Ot(this,Xh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ni(this,xa,ll).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=p=>{var g,v,y,b;N_(p)&&p.silent||ni(this,xa,ll).call(this,{type:"error",error:p}),N_(p)||((v=(g=ke(this,$s).config).onError)==null||v.call(g,p,this),(b=(y=ke(this,$s).config).onSettled)==null||b.call(y,this.state.data,p,this)),this.scheduleGc()};return Ot(this,ii,SW({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var g,v,y,b;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){c(S);return}(v=(g=ke(this,$s).config).onSuccess)==null||v.call(g,p,this),(b=(y=ke(this,$s).config).onSettled)==null||b.call(y,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,g)=>{ni(this,xa,ll).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{ni(this,xa,ll).call(this,{type:"pause"})},onContinue:()=>{ni(this,xa,ll).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ke(this,ii).start()}},Yh=new WeakMap,Xh=new WeakMap,$s=new WeakMap,ii=new WeakMap,jx=new WeakMap,Nd=new WeakMap,xa=new WeakSet,ll=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...vde(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return N_(s)&&s.revert&&ke(this,Xh)?{...ke(this,Xh),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ni.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ke(this,$s).notify({query:this,type:"updated",action:n})})},OH);function vde(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wW(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bde(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var so,MH,wde=(MH=class extends J1{constructor(e={}){super();sn(this,so);this.config=e,Ot(this,so,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??aR(i,n);let o=this.get(s);return o||(o=new xde({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ke(this,so).has(e.queryHash)||(ke(this,so).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ke(this,so).get(e.queryHash);n&&(e.destroy(),n===e&&ke(this,so).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ni.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ke(this,so).get(e)}getAll(){return[...ke(this,so).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UL(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>UL(e,r)):n}notify(e){Ni.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ni.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ni.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},so=new WeakMap,MH),ao,Si,_d,oo,wc,DH,jde=(DH=class extends NW{constructor(n){super();sn(this,oo);sn(this,ao);sn(this,Si);sn(this,_d);this.mutationId=n.mutationId,Ot(this,Si,n.mutationCache),Ot(this,ao,[]),this.state=n.state||Sde(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ke(this,ao).includes(n)||(ke(this,ao).push(n),this.clearGcTimeout(),ke(this,Si).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ot(this,ao,ke(this,ao).filter(r=>r!==n)),this.scheduleGc(),ke(this,Si).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ke(this,ao).length||(this.state.status==="pending"?this.scheduleGc():ke(this,Si).remove(this))}continue(){var n;return((n=ke(this,_d))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,l,c,u,f,h,p,g,v,y,b,S,N,k,E,A,C,T,I;Ot(this,_d,SW({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{ni(this,oo,wc).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{ni(this,oo,wc).call(this,{type:"pause"})},onContinue:()=>{ni(this,oo,wc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ke(this,Si).canRun(this)}));const r=this.state.status==="pending",i=!ke(this,_d).canStart();try{if(!r){ni(this,oo,wc).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=ke(this,Si).config).onMutate)==null?void 0:o.call(s,n,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));M!==this.state.context&&ni(this,oo,wc).call(this,{type:"pending",context:M,variables:n,isPaused:i})}const P=await ke(this,_d).start();return await((f=(u=ke(this,Si).config).onSuccess)==null?void 0:f.call(u,P,n,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,P,n,this.state.context)),await((v=(g=ke(this,Si).config).onSettled)==null?void 0:v.call(g,P,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,P,null,n,this.state.context)),ni(this,oo,wc).call(this,{type:"success",data:P}),P}catch(P){try{throw await((N=(S=ke(this,Si).config).onError)==null?void 0:N.call(S,P,n,this.state.context,this)),await((E=(k=this.options).onError)==null?void 0:E.call(k,P,n,this.state.context)),await((C=(A=ke(this,Si).config).onSettled)==null?void 0:C.call(A,void 0,P,this.state.variables,this.state.context,this)),await((I=(T=this.options).onSettled)==null?void 0:I.call(T,void 0,P,n,this.state.context)),P}finally{ni(this,oo,wc).call(this,{type:"error",error:P})}}finally{ke(this,Si).runNext(this)}}},ao=new WeakMap,Si=new WeakMap,_d=new WeakMap,oo=new WeakSet,wc=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ni.batch(()=>{ke(this,ao).forEach(i=>{i.onMutationUpdate(n)}),ke(this,Si).notify({mutation:this,type:"updated",action:n})})},DH);function Sde(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ds,Sx,LH,Nde=(LH=class extends J1{constructor(e={}){super();sn(this,ds);sn(this,Sx);this.config=e,Ot(this,ds,new Map),Ot(this,Sx,Date.now())}build(e,n,r){const i=new jde({mutationCache:this,mutationId:++Nb(this,Sx)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Ib(e),r=ke(this,ds).get(n)??[];r.push(e),ke(this,ds).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ib(e);if(ke(this,ds).has(n)){const i=(r=ke(this,ds).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ke(this,ds).delete(n):ke(this,ds).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ke(this,ds).get(Ib(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ke(this,ds).get(Ib(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ni.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ke(this,ds).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zL(n,r))}findAll(e={}){return this.getAll().filter(n=>zL(e,n))}notify(e){Ni.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ni.batch(()=>Promise.all(e.map(n=>n.continue().catch(ya))))}},ds=new WeakMap,Sx=new WeakMap,LH);function Ib(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function WL(t){return{onFetch:(e,n)=>{var f,h,p,g,v;const r=e.options,i=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},S=vW(e.options,e.fetchOptions),N=async(k,E,A)=>{if(y)return Promise.reject();if(E==null&&k.pages.length)return Promise.resolve(k);const C={queryKey:e.queryKey,pageParam:E,direction:A?"backward":"forward",meta:e.options.meta};b(C);const T=await S(C),{maxPages:I}=e.options,P=A?fde:dde;return{pages:P(k.pages,T,I),pageParams:P(k.pageParams,E,I)}};if(i&&s.length){const k=i==="backward",E=k?_de:GL,A={pages:s,pageParams:o},C=E(r,A);l=await N(A,C,k)}else{const k=t??s.length;do{const E=c===0?o[0]??r.initialPageParam:GL(r,l);if(c>0&&E==null)break;l=await N(l,E),c++}while(c<k)}return l};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function GL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _de(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kn,Ic,Rc,Qh,Jh,Oc,Zh,em,FH,kde=(FH=class{constructor(t={}){sn(this,Kn);sn(this,Ic);sn(this,Rc);sn(this,Qh);sn(this,Jh);sn(this,Oc);sn(this,Zh);sn(this,em);Ot(this,Kn,t.queryCache||new wde),Ot(this,Ic,t.mutationCache||new Nde),Ot(this,Rc,t.defaultOptions||{}),Ot(this,Qh,new Map),Ot(this,Jh,new Map),Ot(this,Oc,0)}mount(){Nb(this,Oc)._++,ke(this,Oc)===1&&(Ot(this,Zh,bW.subscribe(async t=>{t&&(await this.resumePausedMutations(),ke(this,Kn).onFocus())})),Ot(this,em,q0.subscribe(async t=>{t&&(await this.resumePausedMutations(),ke(this,Kn).onOnline())})))}unmount(){var t,e;Nb(this,Oc)._--,ke(this,Oc)===0&&((t=ke(this,Zh))==null||t.call(this),Ot(this,Zh,void 0),(e=ke(this,em))==null||e.call(this),Ot(this,em,void 0))}isFetching(t){return ke(this,Kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ke(this,Ic).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ke(this,Kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ke(this,Kn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(BL(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ke(this,Kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ke(this,Kn).get(r.queryHash),s=i==null?void 0:i.state.data,o=sde(e,s);if(o!==void 0)return ke(this,Kn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ni.batch(()=>ke(this,Kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ke(this,Kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ke(this,Kn);Ni.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ke(this,Kn),r={type:"active",...t};return Ni.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ni.batch(()=>ke(this,Kn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ya).catch(ya)}invalidateQueries(t={},e={}){return Ni.batch(()=>{if(ke(this,Kn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ni.batch(()=>ke(this,Kn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ya)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ya)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ke(this,Kn).build(this,e);return n.isStaleByTime(BL(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ya).catch(ya)}fetchInfiniteQuery(t){return t.behavior=WL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ya).catch(ya)}ensureInfiniteQueryData(t){return t.behavior=WL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return q0.isOnline()?ke(this,Ic).resumePausedMutations():Promise.resolve()}getQueryCache(){return ke(this,Kn)}getMutationCache(){return ke(this,Ic)}getDefaultOptions(){return ke(this,Rc)}setDefaultOptions(t){Ot(this,Rc,t)}setQueryDefaults(t,e){ke(this,Qh).set(my(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ke(this,Qh).values()];let n={};return e.forEach(r=>{py(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ke(this,Jh).set(my(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ke(this,Jh).values()];let n={};return e.forEach(r=>{py(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ke(this,Rc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=aR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===oR&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ke(this,Rc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ke(this,Kn).clear(),ke(this,Ic).clear()}},Kn=new WeakMap,Ic=new WeakMap,Rc=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,Oc=new WeakMap,Zh=new WeakMap,em=new WeakMap,FH),Ade=w.createContext(void 0),Cde=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(Ade.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}var Mc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mc||(Mc={}));const KL="popstate";function Ede(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return G2("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:H0(i)}return Pde(e,n,null,t)}function Hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _W(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tde(){return Math.random().toString(36).substr(2,8)}function YL(t,e){return{usr:t.state,key:t.key,idx:e}}function G2(t,e,n,r){return n===void 0&&(n=null),gy({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jm(e):e,{state:n,key:e&&e.key||r||Tde()})}function H0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Pde(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Mc.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(gy({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=Mc.Pop;let b=f(),S=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:S})}function p(b,S){l=Mc.Push;let N=G2(y.location,b,S);u=f()+1;let k=YL(N,u),E=y.createHref(N);try{o.pushState(k,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(E)}s&&c&&c({action:l,location:y.location,delta:1})}function g(b,S){l=Mc.Replace;let N=G2(y.location,b,S);u=f();let k=YL(N,u),E=y.createHref(N);o.replaceState(k,"",E),s&&c&&c({action:l,location:y.location,delta:0})}function v(b){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof b=="string"?b:H0(b);return N=N.replace(/ $/,"%20"),Hn(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let y={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(KL,h),c=b,()=>{i.removeEventListener(KL,h),c=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let S=v(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:g,go(b){return o.go(b)}};return y}var XL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XL||(XL={}));function Ide(t,e,n){return n===void 0&&(n="/"),Rde(t,e,n)}function Rde(t,e,n,r){let i=typeof e=="string"?Jm(e):e,s=am(i.pathname||"/",n);if(s==null)return null;let o=kW(t);Ode(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Hde(s);l=zde(o[c],u)}return l}function kW(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Hn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Bc([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Hn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kW(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Bde(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of AW(s.path))i(s,o,c)}),e}function AW(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AW(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ode(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ude(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mde=/^:[\w-]+$/,Dde=3,Lde=2,Fde=1,$de=10,Vde=-2,QL=t=>t==="*";function Bde(t,e){let n=t.split("/"),r=n.length;return n.some(QL)&&(r+=Vde),e&&(r+=Lde),n.filter(i=>!QL(i)).reduce((i,s)=>i+(Mde.test(s)?Dde:s===""?Fde:$de),r)}function Ude(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zde(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=K2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Bc([s,h.pathname]),pathnameBase:Yde(Bc([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Bc([s,h.pathnameBase]))}return o}function K2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qde(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let y=l[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[h];return g&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function qde(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_W(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hde(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _W(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function am(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Wde(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jm(t):t;return{pathname:n?n.startsWith("/")?n:Gde(n,e):e,search:Xde(r),hash:Qde(i)}}function Gde(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function __(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kde(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lR(t,e){let n=Kde(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jm(t):(i=gy({},t),Hn(!i.pathname||!i.pathname.includes("?"),__("?","pathname","search",i)),Hn(!i.pathname||!i.pathname.includes("#"),__("#","pathname","hash",i)),Hn(!i.search||!i.search.includes("#"),__("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=Wde(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Bc=t=>t.join("/").replace(/\/\/+/g,"/"),Yde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CW=["post","put","patch","delete"];new Set(CW);const Zde=["get",...CW];new Set(Zde);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}const ej=w.createContext(null),EW=w.createContext(null),Fl=w.createContext(null),tj=w.createContext(null),fu=w.createContext({outlet:null,matches:[],isDataRoute:!1}),TW=w.createContext(null);function efe(t,e){let{relative:n}=e===void 0?{}:e;Zm()||Hn(!1);let{basename:r,navigator:i}=w.useContext(Fl),{hash:s,pathname:o,search:l}=nj(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Bc([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Zm(){return w.useContext(tj)!=null}function Ua(){return Zm()||Hn(!1),w.useContext(tj).location}function PW(t){w.useContext(Fl).static||w.useLayoutEffect(t)}function $n(){let{isDataRoute:t}=w.useContext(fu);return t?hfe():tfe()}function tfe(){Zm()||Hn(!1);let t=w.useContext(ej),{basename:e,future:n,navigator:r}=w.useContext(Fl),{matches:i}=w.useContext(fu),{pathname:s}=Ua(),o=JSON.stringify(lR(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return PW(()=>{l.current=!0}),w.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=cR(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bc([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function nj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Fl),{matches:i}=w.useContext(fu),{pathname:s}=Ua(),o=JSON.stringify(lR(i,r.v7_relativeSplatPath));return w.useMemo(()=>cR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function nfe(t,e){return rfe(t,e)}function rfe(t,e,n,r){Zm()||Hn(!1);let{navigator:i}=w.useContext(Fl),{matches:s}=w.useContext(fu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ua(),f;if(e){var h;let b=typeof e=="string"?Jm(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Hn(!1),f=b}else f=u;let p=f.pathname||"/",g=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Ide(t,{pathname:g}),y=lfe(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Bc([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Bc([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&y?w.createElement(tj.Provider,{value:{location:yy({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Mc.Pop}},y):y}function ife(){let t=ffe(),e=Jde(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const sfe=w.createElement(ife,null);class afe extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(fu.Provider,{value:this.props.routeContext},w.createElement(TW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ofe(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(ej);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(fu.Provider,{value:e},r)}function lfe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||Hn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let g,v=!1,y=null,b=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||sfe,c&&(u<0&&p===0?(mfe("route-fallback"),v=!0,b=null):u===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,p+1)),N=()=>{let k;return g?k=y:v?k=b:h.route.Component?k=w.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,w.createElement(ofe,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:k})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?w.createElement(afe,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var IW=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IW||{}),RW=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(RW||{});function cfe(t){let e=w.useContext(ej);return e||Hn(!1),e}function ufe(t){let e=w.useContext(EW);return e||Hn(!1),e}function dfe(t){let e=w.useContext(fu);return e||Hn(!1),e}function OW(t){let e=dfe(),n=e.matches[e.matches.length-1];return n.route.id||Hn(!1),n.route.id}function ffe(){var t;let e=w.useContext(TW),n=ufe(),r=OW();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hfe(){let{router:t}=cfe(IW.UseNavigateStable),e=OW(RW.UseNavigateStable),n=w.useRef(!1);return PW(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yy({fromRouteId:e},s)))},[t,e])}const JL={};function mfe(t,e,n){JL[t]||(JL[t]=!0)}function ZL(t){let{to:e,replace:n,state:r,relative:i}=t;Zm()||Hn(!1);let{future:s,static:o}=w.useContext(Fl),{matches:l}=w.useContext(fu),{pathname:c}=Ua(),u=$n(),f=cR(e,lR(l,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return w.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function bn(t){Hn(!1)}function pfe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Mc.Pop,navigator:s,static:o=!1,future:l}=t;Zm()&&Hn(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:o,future:yy({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Jm(r));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=r,y=w.useMemo(()=>{let b=am(f,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:g,key:v},navigationType:i}},[c,f,h,p,g,v,i]);return y==null?null:w.createElement(Fl.Provider,{value:u},w.createElement(tj.Provider,{children:n,value:y}))}function gfe(t){let{children:e,location:n}=t;return nfe(Y2(e),n)}new Promise(()=>{});function Y2(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,Y2(r.props.children,s));return}r.type!==bn&&Hn(!1),!r.props.index||!r.props.children||Hn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Y2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function MW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yfe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xfe(t,e){return t.button===0&&(!e||e==="_self")&&!yfe(t)}const vfe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bfe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wfe="6";try{window.__reactRouterVersion=wfe}catch{}const jfe=w.createContext({isTransitioning:!1}),Sfe="startTransition",e3=VH[Sfe];function Nfe(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=Ede({window:i,v5Compat:!0}));let o=s.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=w.useCallback(h=>{u&&e3?e3(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.createElement(pfe,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const _fe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h}=e,p=MW(e,vfe),{basename:g}=w.useContext(Fl),v,y=!1;if(typeof u=="string"&&kfe.test(u)&&(v=u,_fe))try{let k=new URL(window.location.href),E=u.startsWith("//")?new URL(k.protocol+u):new URL(u),A=am(E.pathname,g);E.origin===k.origin&&A!=null?u=A+E.search+E.hash:y=!0}catch{}let b=efe(u,{relative:i}),S=Efe(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:h});function N(k){r&&r(k),k.defaultPrevented||S(k)}return w.createElement("a",W0({},p,{href:v||b,onClick:y||s?r:N,ref:n,target:c}))}),Afe=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=e,h=MW(e,bfe),p=nj(c,{relative:h.relative}),g=Ua(),v=w.useContext(EW),{navigator:y,basename:b}=w.useContext(Fl),S=v!=null&&Tfe(p)&&u===!0,N=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&b&&(E=am(E,b)||E);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let C=k===N||!o&&k.startsWith(N)&&k.charAt(A)==="/",T=E!=null&&(E===N||!o&&E.startsWith(N)&&E.charAt(N.length)==="/"),I={isActive:C,isPending:T,isTransitioning:S},P=C?r:void 0,M;typeof s=="function"?M=s(I):M=[s,C?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return w.createElement(un,W0({},h,{"aria-current":P,className:M,ref:n,style:L,to:c,viewTransition:u}),typeof f=="function"?f(I):f)});var X2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X2||(X2={}));var t3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t3||(t3={}));function Cfe(t){let e=w.useContext(ej);return e||Hn(!1),e}function Efe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=$n(),u=Ua(),f=nj(t,{relative:o});return w.useCallback(h=>{if(xfe(h,n)){h.preventDefault();let p=r!==void 0?r:H0(u)===H0(f);c(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}function Tfe(t,e){e===void 0&&(e={});let n=w.useContext(jfe);n==null&&Hn(!1);let{basename:r}=Cfe(X2.useViewTransitionState),i=nj(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=am(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=am(n.nextLocation.pathname,r)||n.nextLocation.pathname;return K2(i.pathname,o)!=null||K2(i.pathname,s)!=null}const Pfe=()=>{};var n3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ife=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|l>>4;let p=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(p=64)),r.push(n[f],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ife(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new Rfe;const p=s<<2|l>>4;if(r.push(p),u!==64){const g=l<<4&240|u>>2;if(r.push(g),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rfe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ofe=function(t){const e=DW(t);return LW.encodeByteArray(e,!0)},G0=function(t){return Ofe(t).replace(/\./g,"")},FW=function(t){try{return LW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dfe=()=>Mfe().__FIREBASE_DEFAULTS__,Lfe=()=>{if(typeof process>"u"||typeof n3>"u")return;const t=n3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ffe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FW(t[1]);return e&&JSON.parse(e)},rj=()=>{try{return Pfe()||Dfe()||Lfe()||Ffe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$W=t=>{var e,n;return(n=(e=rj())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$fe=t=>{const e=$W(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VW=()=>{var t;return(t=rj())===null||t===void 0?void 0:t.config},BW=t=>{var e;return(e=rj())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bfe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[G0(JSON.stringify(n)),G0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ufe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function zfe(){var t;const e=(t=rj())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qfe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hfe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wfe(){const t=mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gfe(){return!zfe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zW(){try{return typeof indexedDB=="object"}catch{return!1}}function qW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Kfe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe="FirebaseError";class za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yfe,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nf.prototype.create)}}class nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Xfe(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new za(i,l,r)}}function Xfe(t,e){return t.replace(Qfe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qfe=/\{\$([^}]+)}/g;function Jfe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function To(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(r3(s)&&r3(o)){if(!To(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _g(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zfe(t,e){const n=new ehe(t,e);return n.subscribe.bind(n)}class ehe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");the(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k_),i.error===void 0&&(i.error=k_),i.complete===void 0&&(i.complete=k_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function the(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nhe=1e3,rhe=2,ihe=4*60*60*1e3,she=.5;function i3(t,e=nhe,n=rhe){const r=e*Math.pow(n,t),i=Math.round(she*r*(Math.random()-.5)*2);return Math.min(ihe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ahe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vfe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lhe(e))try{this.getOrInitializeService({instanceIdentifier:rd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rd){return this.instances.has(e)}getOptions(e=rd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ohe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rd){return this.component?this.component.multipleInstances?e:rd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ohe(t){return t===rd?void 0:t}function lhe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class che{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ahe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const uhe={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},dhe=Ut.INFO,fhe={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},hhe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fhe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ij{constructor(e){this.name=e,this._logLevel=dhe,this._logHandler=hhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uhe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const mhe=(t,e)=>e.some(n=>t instanceof n);let s3,a3;function phe(){return s3||(s3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ghe(){return a3||(a3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HW=new WeakMap,Q2=new WeakMap,WW=new WeakMap,A_=new WeakMap,uR=new WeakMap;function yhe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Uc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HW.set(n,t)}).catch(()=>{}),uR.set(e,t),e}function xhe(t){if(Q2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Q2.set(t,e)}let J2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WW.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vhe(t){J2=t(J2)}function bhe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(C_(this),e,...n);return WW.set(r,e.sort?e.sort():[e]),Uc(r)}:ghe().includes(t)?function(...e){return t.apply(C_(this),e),Uc(HW.get(this))}:function(...e){return Uc(t.apply(C_(this),e))}}function whe(t){return typeof t=="function"?bhe(t):(t instanceof IDBTransaction&&xhe(t),mhe(t,phe())?new Proxy(t,J2):t)}function Uc(t){if(t instanceof IDBRequest)return yhe(t);if(A_.has(t))return A_.get(t);const e=whe(t);return e!==t&&(A_.set(t,e),uR.set(e,t)),e}const C_=t=>uR.get(t);function GW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Uc(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Uc(o.result),c.oldVersion,c.newVersion,Uc(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const jhe=["get","getKey","getAll","getAllKeys","count"],She=["put","add","delete","clear"],E_=new Map;function o3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E_.get(e))return E_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=She.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jhe.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return E_.set(e,s),s}vhe(t=>({...t,get:(e,n,r)=>o3(e,n)||t.get(e,n,r),has:(e,n)=>!!o3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nhe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_he(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _he(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Z2="@firebase/app",l3="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new ij("@firebase/app"),khe="@firebase/app-compat",Ahe="@firebase/analytics-compat",Che="@firebase/analytics",Ehe="@firebase/app-check-compat",The="@firebase/app-check",Phe="@firebase/auth",Ihe="@firebase/auth-compat",Rhe="@firebase/database",Ohe="@firebase/data-connect",Mhe="@firebase/database-compat",Dhe="@firebase/functions",Lhe="@firebase/functions-compat",Fhe="@firebase/installations",$he="@firebase/installations-compat",Vhe="@firebase/messaging",Bhe="@firebase/messaging-compat",Uhe="@firebase/performance",zhe="@firebase/performance-compat",qhe="@firebase/remote-config",Hhe="@firebase/remote-config-compat",Whe="@firebase/storage",Ghe="@firebase/storage-compat",Khe="@firebase/firestore",Yhe="@firebase/vertexai",Xhe="@firebase/firestore-compat",Qhe="firebase",Jhe="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="[DEFAULT]",Zhe={[Z2]:"fire-core",[khe]:"fire-core-compat",[Che]:"fire-analytics",[Ahe]:"fire-analytics-compat",[The]:"fire-app-check",[Ehe]:"fire-app-check-compat",[Phe]:"fire-auth",[Ihe]:"fire-auth-compat",[Rhe]:"fire-rtdb",[Ohe]:"fire-data-connect",[Mhe]:"fire-rtdb-compat",[Dhe]:"fire-fn",[Lhe]:"fire-fn-compat",[Fhe]:"fire-iid",[$he]:"fire-iid-compat",[Vhe]:"fire-fcm",[Bhe]:"fire-fcm-compat",[Uhe]:"fire-perf",[zhe]:"fire-perf-compat",[qhe]:"fire-rc",[Hhe]:"fire-rc-compat",[Whe]:"fire-gcs",[Ghe]:"fire-gcs-compat",[Khe]:"fire-fst",[Xhe]:"fire-fst-compat",[Yhe]:"fire-vertex","fire-js":"fire-js",[Qhe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map,eme=new Map,tT=new Map;function c3(t,e){try{t.container.addComponent(e)}catch(n){Tl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(tT.has(e))return Tl.debug(`There were multiple attempts to register component ${e}.`),!1;tT.set(e,t);for(const n of K0.values())c3(n,t);for(const n of eme.values())c3(n,t);return!0}function rf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ps(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tme={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zc=new nf("app","Firebase",tme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nme{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=Jhe;function KW(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:eT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zc.create("bad-app-name",{appName:String(i)});if(n||(n=VW()),!n)throw zc.create("no-options");const s=K0.get(i);if(s){if(To(n,s.options)&&To(r,s.config))return s;throw zc.create("duplicate-app",{appName:i})}const o=new che(i);for(const c of tT.values())o.addComponent(c);const l=new nme(n,r,o);return K0.set(i,l),l}function dR(t=eT){const e=K0.get(t);if(!e&&t===eT&&VW())return KW();if(!e)throw zc.create("no-app",{appName:t});return e}function qs(t,e,n){var r;let i=(r=Zhe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tl.warn(l.join(" "));return}Po(new Da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme="firebase-heartbeat-database",ime=1,xy="firebase-heartbeat-store";let T_=null;function YW(){return T_||(T_=GW(rme,ime,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xy)}catch(n){console.warn(n)}}}}).catch(t=>{throw zc.create("idb-open",{originalErrorMessage:t.message})})),T_}async function sme(t){try{const n=(await YW()).transaction(xy),r=await n.objectStore(xy).get(XW(t));return await n.done,r}catch(e){if(e instanceof za)Tl.warn(e.message);else{const n=zc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tl.warn(n.message)}}}async function u3(t,e){try{const r=(await YW()).transaction(xy,"readwrite");await r.objectStore(xy).put(e,XW(t)),await r.done}catch(n){if(n instanceof za)Tl.warn(n.message);else{const r=zc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tl.warn(r.message)}}}function XW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame=1024,ome=30;class lme{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ume(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ome){const o=dme(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d3(),{heartbeatsToSend:r,unsentEntries:i}=cme(this._heartbeatsCache.heartbeats),s=G0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Tl.warn(n),""}}}function d3(){return new Date().toISOString().substring(0,10)}function cme(t,e=ame){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ume{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zW()?qW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sme(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f3(t){return G0(JSON.stringify({version:2,heartbeats:t})).length}function dme(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fme(t){Po(new Da("platform-logger",e=>new Nhe(e),"PRIVATE")),Po(new Da("heartbeat",e=>new lme(e),"PRIVATE")),qs(Z2,l3,t),qs(Z2,l3,"esm2017"),qs("fire-js","")}fme("");var uo=function(){return uo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uo.apply(this,arguments)};function Ix(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hme(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function QW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mme=QW,JW=new nf("auth","Firebase",QW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new ij("@firebase/auth");function pme(t,...e){Y0.logLevel<=Ut.WARN&&Y0.warn(`Auth (${ep}): ${t}`,...e)}function v0(t,...e){Y0.logLevel<=Ut.ERROR&&Y0.error(`Auth (${ep}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,...e){throw hR(t,...e)}function Aa(t,...e){return hR(t,...e)}function fR(t,e,n){const r=Object.assign(Object.assign({},mme()),{[e]:n});return new nf("auth","Firebase",r).create(e,{appName:t.name})}function jl(t){return fR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gme(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gs(t,"argument-error"),fR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hR(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JW.create(t,...e)}function xt(t,e,...n){if(!t)throw hR(e,...n)}function fl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw v0(e),new Error(e)}function Pl(t,e){t||fl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yme(){return h3()==="http:"||h3()==="https:"}function h3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yme()||UW()||"connection"in navigator)?navigator.onLine:!0}function vme(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pl(n>e,"Short delay should be less than long delay!"),this.isMobile=Ufe()||Hfe()}get(){return xme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e){Pl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme=new Rx(3e4,6e4);function hu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $o(t,e,n,r,i={}){return eG(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Px(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return qfe()||(u.referrerPolicy="no-referrer"),ZW.fetch()(tG(t,t.config.apiHost,n,l),u)})}async function eG(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bme),e);try{const i=new Sme(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rb(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rb(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Rb(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Rb(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fR(t,f,u);Gs(t,f)}}catch(i){if(i instanceof za)throw i;Gs(t,"network-request-failed",{message:String(i)})}}async function Ox(t,e,n,r,i={}){const s=await $o(t,e,n,r,i);return"mfaPendingCredential"in s&&Gs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tG(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?mR(t.config,i):`${t.config.apiScheme}://${i}`}function jme(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sme{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Aa(this.auth,"network-request-failed")),wme.get())})}}function Rb(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Aa(t,e,r);return i.customData._tokenResponse=n,i}function m3(t){return t!==void 0&&t.enterprise!==void 0}class Nme{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jme(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _me(t,e){return $o(t,"GET","/v2/recaptchaConfig",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kme(t,e){return $o(t,"POST","/v1/accounts:delete",e)}async function nG(t,e){return $o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ame(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=pR(r);xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zg(P_(i.auth_time)),issuedAtTime:zg(P_(i.iat)),expirationTime:zg(P_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function P_(t){return Number(t)*1e3}function pR(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return v0("JWT malformed, contained fewer than 3 sections"),null;try{const i=FW(n);return i?JSON.parse(i):(v0("Failed to decode base64 JWT payload"),null)}catch(i){return v0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p3(t){const e=pR(t);return xt(e,"internal-error"),xt(typeof e.exp<"u","internal-error"),xt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof za&&Cme(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cme({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zg(this.lastLoginAt),this.creationTime=zg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ld(t,nG(n,{idToken:r}));xt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rG(s.providerUserInfo):[],l=Pme(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new rT(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function Tme(t){const e=yn(t);await X0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pme(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rG(t){return t.map(e=>{var{providerId:n}=e,r=Ix(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ime(t,e){const n=await eG(t,{},async()=>{const r=Px({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tG(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ZW.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rme(t,e){return $o(t,"POST","/v2/accounts:revokeToken",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xt(e.idToken,"internal-error"),xt(typeof e.idToken<"u","internal-error"),xt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xt(e.length!==0,"internal-error");const n=p3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ime(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Lh;return r&&(xt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lh,this.toJSON())}_performRefresh(){return fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e){xt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ix(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ld(this,this.stsTokenManager.getToken(this.auth,e));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ame(this,e)}reload(){return Tme(this)}_assign(e){this!==e&&(xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await X0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(jl(this.auth));const e=await this.getIdToken();return await Ld(this,kme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,N=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:E,isAnonymous:A,providerData:C,stsTokenManager:T}=n;xt(k&&T,e,"internal-error");const I=Lh.fromJSON(this.name,T);xt(typeof k=="string",e,"internal-error"),yc(h,e.name),yc(p,e.name),xt(typeof E=="boolean",e,"internal-error"),xt(typeof A=="boolean",e,"internal-error"),yc(g,e.name),yc(v,e.name),yc(y,e.name),yc(b,e.name),yc(S,e.name),yc(N,e.name);const P=new hl({uid:k,auth:e,email:p,emailVerified:E,displayName:h,isAnonymous:A,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:I,createdAt:S,lastLoginAt:N});return C&&Array.isArray(C)&&(P.providerData=C.map(M=>Object.assign({},M))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lh;i.updateFromServerResponse(n);const s=new hl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await X0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rG(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Lh;l.updateFromIdToken(r);const c=new hl({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Map;function ml(t){Pl(t instanceof Function,"Expected a class definition");let e=g3.get(t);return e?(Pl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iG.type="NONE";const y3=iG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e,n){return`firebase:${t}:${e}:${n}`}class Fh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=b0(this.userKey,i.apiKey,s),this.fullPersistenceKey=b0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fh(ml(y3),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ml(y3);const o=b0(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const h=hl._fromJSON(e,f);u!==s&&(l=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Fh(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uG(e))return"Blackberry";if(dG(e))return"Webos";if(aG(e))return"Safari";if((e.includes("chrome/")||oG(e))&&!e.includes("edge/"))return"Chrome";if(cG(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sG(t=mi()){return/firefox\//i.test(t)}function aG(t=mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oG(t=mi()){return/crios\//i.test(t)}function lG(t=mi()){return/iemobile/i.test(t)}function cG(t=mi()){return/android/i.test(t)}function uG(t=mi()){return/blackberry/i.test(t)}function dG(t=mi()){return/webos/i.test(t)}function gR(t=mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ome(t=mi()){var e;return gR(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mme(){return Wfe()&&document.documentMode===10}function fG(t=mi()){return gR(t)||cG(t)||dG(t)||uG(t)||/windows phone/i.test(t)||lG(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(t,e=[]){let n;switch(t){case"Browser":n=x3(mi());break;case"Worker":n=`${x3(mi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ep}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lme(t,e={}){return $o(t,"GET","/v2/passwordPolicy",hu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fme=6;class $me{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fme,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vme{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v3(this),this.idTokenSubscription=new v3(this),this.beforeStateQueue=new Dme(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ml(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nG(this,{idToken:e}),r=await hl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ps(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await X0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vme()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(jl(this));const n=e?yn(e):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ml(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lme(this),n=new $me(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rme(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ml(e)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await Fh.create(this,[ml(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pme(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mu(t){return yn(t)}class v3{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zfe(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bme(t){sj=t}function mG(t){return sj.loadJS(t)}function Ume(){return sj.recaptchaEnterpriseScript}function zme(){return sj.gapiScript}function qme(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Hme{constructor(){this.enterprise=new Wme}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Wme{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Gme="recaptcha-enterprise",pG="NO_RECAPTCHA";class Kme{constructor(e){this.type=Gme,this.auth=mu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{_me(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Nme(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;m3(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(pG)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hme().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&m3(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ume();c.length!==0&&(c+=l),mG(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function b3(t,e,n,r=!1,i=!1){const s=new Kme(t);let o;if(i)o=pG;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function iT(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await b3(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await b3(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yme(t,e){const n=rf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(To(s,e??{}))return i;Gs(i,"already-initialized")}return n.initialize({options:e})}function Xme(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ml);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qme(t,e,n){const r=mu(t);xt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gG(e),{host:o,port:l}=Jme(e),c=l===null?"":`:${l}`,u={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xt(To(u,r.config.emulator)&&To(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Zme()}function gG(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jme(t){const e=gG(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:w3(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:w3(o)}}}function w3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zme(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fl("not implemented")}_getIdTokenResponse(e){return fl("not implemented")}_linkToIdToken(e,n){return fl("not implemented")}_getReauthenticationResolver(e){return fl("not implemented")}}async function epe(t,e){return $o(t,"POST","/v1/accounts:update",e)}async function tpe(t,e){return $o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function npe(t,e){return Ox(t,"POST","/v1/accounts:signInWithPassword",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rpe(t,e){return Ox(t,"POST","/v1/accounts:signInWithEmailLink",hu(t,e))}async function ipe(t,e){return Ox(t,"POST","/v1/accounts:signInWithEmailLink",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends yR{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iT(e,n,"signInWithPassword",npe);case"emailLink":return rpe(e,{email:this._email,oobCode:this._password});default:Gs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iT(e,r,"signUpPassword",tpe);case"emailLink":return ipe(e,{idToken:n,email:this._email,oobCode:this._password});default:Gs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t,e){return Ox(t,"POST","/v1/accounts:signInWithIdp",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spe="http://localhost";class Fd extends yR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ix(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fd(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $h(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$h(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$h(e,n)}buildRequest(){const e={requestUri:spe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Px(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ape(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ope(t){const e=_g(kg(t)).link,n=e?_g(kg(e)).deep_link_id:null,r=_g(kg(t)).deep_link_id;return(r?_g(kg(r)).link:null)||r||n||e||t}class xR{constructor(e){var n,r,i,s,o,l;const c=_g(kg(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=ape((i=c.mode)!==null&&i!==void 0?i:null);xt(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=ope(e);try{return new xR(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.providerId=sf.PROVIDER_ID}static credential(e,n){return vy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xR.parseLink(n);return xt(r,"argument-error"),vy._fromEmailAndCode(e,r.code,r.tenantId)}}sf.PROVIDER_ID="password";sf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends vR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Mx{constructor(){super("facebook.com")}static credential(e){return Fd._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kc.credential(e.oauthAccessToken)}catch{return null}}}kc.FACEBOOK_SIGN_IN_METHOD="facebook.com";kc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Mx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fd._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.GOOGLE_SIGN_IN_METHOD="google.com";ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Mx{constructor(){super("github.com")}static credential(e){return Fd._fromParams({providerId:Ac.PROVIDER_ID,signInMethod:Ac.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ac.credentialFromTaggedObject(e)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ac.credential(e.oauthAccessToken)}catch{return null}}}Ac.GITHUB_SIGN_IN_METHOD="github.com";Ac.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Mx{constructor(){super("twitter.com")}static credential(e,n){return Fd._fromParams({providerId:Cc.PROVIDER_ID,signInMethod:Cc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cc.credentialFromTaggedObject(e)}static credentialFromError(e){return Cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cc.credential(n,r)}catch{return null}}}Cc.TWITTER_SIGN_IN_METHOD="twitter.com";Cc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lpe(t,e){return Ox(t,"POST","/v1/accounts:signUp",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hl._fromIdTokenResponse(e,r,i),o=j3(r);return new $d({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=j3(r);return new $d({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function j3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends za{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Q0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Q0(e,n,r,i)}}function yG(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Q0._fromErrorAndOperation(t,s,e,r):s})}async function cpe(t,e,n=!1){const r=await Ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $d._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xG(t,e,n=!1){const{auth:r}=t;if(ps(r.app))return Promise.reject(jl(r));const i="reauthenticate";try{const s=await Ld(t,yG(r,i,e,t),n);xt(s.idToken,r,"internal-error");const o=pR(s.idToken);xt(o,r,"internal-error");const{sub:l}=o;return xt(t.uid===l,r,"user-mismatch"),$d._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(t,e,n=!1){if(ps(t.app))return Promise.reject(jl(t));const r="signIn",i=await yG(t,r,e),s=await $d._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function upe(t,e){return vG(mu(t),e)}async function dpe(t,e){return xG(yn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(t){const e=mu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fpe(t,e,n){if(ps(t.app))return Promise.reject(jl(t));const r=mu(t),o=await iT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lpe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bG(t),c}),l=await $d._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function hpe(t,e,n){return ps(t.app)?Promise.reject(jl(t)):upe(yn(t),sf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bG(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mpe(t,e){return $o(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ld(r,mpe(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function ppe(t,e){return gpe(yn(t),null,e)}async function gpe(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Ld(t,epe(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ype(t,e){return yn(t).setPersistence(e)}function xpe(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function vpe(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function bR(t,e,n,r){return yn(t).onAuthStateChanged(e,n,r)}function bpe(t){return yn(t).signOut()}const J0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(J0,"1"),this.storage.removeItem(J0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wpe=1e3,jpe=10;class jG extends wG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fG(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mme()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jpe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jG.type="LOCAL";const SG=jG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG extends wG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NG.type="SESSION";const _G=NG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Spe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new aj(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Spe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aj.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=wR("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(){return window}function _pe(t){yo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(){return typeof yo().WorkerGlobalScope<"u"&&typeof yo().importScripts=="function"}async function kpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ape(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Cpe(){return kG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG="firebaseLocalStorageDb",Epe=1,Z0="firebaseLocalStorage",CG="fbase_key";class Dx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oj(t,e){return t.transaction([Z0],e?"readwrite":"readonly").objectStore(Z0)}function Tpe(){const t=indexedDB.deleteDatabase(AG);return new Dx(t).toPromise()}function aT(){const t=indexedDB.open(AG,Epe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Z0,{keyPath:CG})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Z0)?e(r):(r.close(),await Tpe(),e(await aT()))})})}async function S3(t,e,n){const r=oj(t,!0).put({[CG]:e,value:n});return new Dx(r).toPromise()}async function Ppe(t,e){const n=oj(t,!1).get(e),r=await new Dx(n).toPromise();return r===void 0?null:r.value}function N3(t,e){const n=oj(t,!0).delete(e);return new Dx(n).toPromise()}const Ipe=800,Rpe=3;class EG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rpe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aj._getInstance(Cpe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kpe(),!this.activeServiceWorker)return;this.sender=new Npe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ape()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aT();return await S3(e,J0,"1"),await N3(e,J0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ppe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=oj(i,!1).getAll();return new Dx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ipe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EG.type="LOCAL";const Ope=EG;new Rx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t,e){return e?ml(e):(xt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR extends yR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $h(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $h(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $h(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mpe(t){return vG(t.auth,new jR(t),t.bypassAuthState)}function Dpe(t){const{auth:e,user:n}=t;return xt(n,e,"internal-error"),xG(n,new jR(t),t.bypassAuthState)}async function Lpe(t){const{auth:e,user:n}=t;return xt(n,e,"internal-error"),cpe(n,new jR(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mpe;case"linkViaPopup":case"linkViaRedirect":return Lpe;case"reauthViaPopup":case"reauthViaRedirect":return Dpe;default:Gs(this.auth,"internal-error")}}resolve(e){Pl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fpe=new Rx(2e3,1e4);async function SR(t,e,n){if(ps(t.app))return Promise.reject(Aa(t,"operation-not-supported-in-this-environment"));const r=mu(t);gme(t,e,vR);const i=TG(r,n);return new ud(r,"signInViaPopup",e,i).executeNotNull()}class ud extends PG{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ud.currentPopupAction&&ud.currentPopupAction.cancel(),ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xt(e,this.auth,"internal-error"),e}async onExecution(){Pl(this.filter.length===1,"Popup operations only handle one event");const e=wR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Aa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Aa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Aa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fpe.get())};e()}}ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe="pendingRedirect",w0=new Map;class Vpe extends PG{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=w0.get(this.auth._key());if(!e){try{const r=await Bpe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}w0.set(this.auth._key(),e)}return this.bypassAuthState||w0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bpe(t,e){const n=qpe(e),r=zpe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Upe(t,e){w0.set(t._key(),e)}function zpe(t){return ml(t._redirectPersistence)}function qpe(t){return b0($pe,t.config.apiKey,t.name)}async function Hpe(t,e,n=!1){if(ps(t.app))return Promise.reject(jl(t));const r=mu(t),i=TG(r,e),o=await new Vpe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=10*60*1e3;class Gpe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kpe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IG(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Aa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wpe&&this.cachedEventUids.clear(),this.cachedEventUids.has(_3(e))}saveEventToCache(e){this.cachedEventUids.add(_3(e)),this.lastProcessedEventTime=Date.now()}}function _3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kpe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ype(t,e={}){return $o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xpe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qpe=/^https?/;async function Jpe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ype(t);for(const n of e)try{if(Zpe(n))return}catch{}Gs(t,"unauthorized-domain")}function Zpe(t){const e=nT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Qpe.test(n))return!1;if(Xpe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege=new Rx(3e4,6e4);function k3(){const t=yo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tge(t){return new Promise((e,n)=>{var r,i,s;function o(){k3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k3(),n(Aa(t,"network-request-failed"))},timeout:ege.get()})}if(!((i=(r=yo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yo().gapi)===null||s===void 0)&&s.load)o();else{const l=qme("iframefcb");return yo()[l]=()=>{gapi.load?o():n(Aa(t,"network-request-failed"))},mG(`${zme()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw j0=null,e})}let j0=null;function nge(t){return j0=j0||tge(t),j0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rge=new Rx(5e3,15e3),ige="__/auth/iframe",sge="emulator/auth/iframe",age={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lge(t){const e=t.config;xt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mR(e,sge):`https://${t.config.authDomain}/${ige}`,r={apiKey:e.apiKey,appName:t.name,v:ep},i=oge.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Px(r).slice(1)}`}async function cge(t){const e=await nge(t),n=yo().gapi;return xt(n,t,"internal-error"),e.open({where:document.body,url:lge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:age,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Aa(t,"network-request-failed"),l=yo().setTimeout(()=>{s(o)},rge.get());function c(){yo().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dge=500,fge=600,hge="_blank",mge="http://localhost";class A3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pge(t,e,n,r=dge,i=fge){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},uge),{width:r.toString(),height:i.toString(),top:s,left:o}),u=mi().toLowerCase();n&&(l=oG(u)?hge:n),sG(u)&&(e=e||mge,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(Ome(u)&&l!=="_self")return gge(e||"",l),new A3(null);const h=window.open(e||"",l,f);xt(h,t,"popup-blocked");try{h.focus()}catch{}return new A3(h)}function gge(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yge="__/auth/handler",xge="emulator/auth/handler",vge=encodeURIComponent("fac");async function C3(t,e,n,r,i,s){xt(t.config.authDomain,t,"auth-domain-config-required"),xt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ep,eventId:i};if(e instanceof vR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jfe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Mx){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${vge}=${encodeURIComponent(c)}`:"";return`${bge(t)}?${Px(l).slice(1)}${u}`}function bge({config:t}){return t.emulator?mR(t,xge):`https://${t.authDomain}/${yge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="webStorageSupport";class wge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_G,this._completeRedirectFn=Hpe,this._overrideRedirectResult=Upe}async _openPopup(e,n,r,i){var s;Pl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C3(e,n,r,nT(),i);return pge(e,o,wR())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C3(e,n,r,nT(),i);return _pe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cge(e),r=new Gpe(e);return n.register("authEvent",i=>(xt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(I_,{type:I_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[I_];o!==void 0&&n(!!o),Gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jpe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fG()||aG()||gR()}}const jge=wge;var E3="@firebase/auth",T3="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _ge(t){Po(new Da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;xt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hG(t)},u=new Vme(r,i,s,c);return Xme(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new Da("auth-internal",e=>{const n=mu(e.getProvider("auth").getImmediate());return(r=>new Sge(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(E3,T3,Nge(t)),qs(E3,T3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kge=5*60,Age=BW("authIdTokenMaxAge")||kge;let P3=null;const Cge=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Age)return;const i=n==null?void 0:n.token;P3!==i&&(P3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lt(t=dR()){const e=rf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Yme(t,{popupRedirectResolver:jge,persistence:[Ope,SG,_G]}),r=BW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Cge(s.toString());vpe(n,o,()=>o(n.currentUser)),xpe(n,l=>o(l))}}const i=$W("auth");return i&&Qme(n,`http://${i}`),n}function Ege(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Bme({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Aa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ege().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_ge("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tge(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(t,[])).next())})}function Pge(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wh=function(){return wh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wh.apply(this,arguments)},RG=function(t){return{loading:t==null,value:t}},Ige=function(){return function(t,e){switch(e.type){case"error":return wh(wh({},t),{error:e.error,loading:!1,value:void 0});case"reset":return RG(e.defaultValue);case"value":return wh(wh({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Rge=function(t){var e=t?t():void 0,n=w.useReducer(Ige(),RG(e)),r=n[0],i=n[1],s=w.useCallback(function(){var c=t?t():void 0;i({type:"reset",defaultValue:c})},[t]),o=w.useCallback(function(c){i({type:"error",error:c})},[]),l=w.useCallback(function(c){i({type:"value",value:c})},[]);return w.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:l,value:r.value}},[r.error,r.loading,s,o,l,r.value])},Oge=function(t,e){var n=Rge(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,l=n.value;return w.useEffect(function(){var c=bR(t,function(u){return Tge(void 0,void 0,void 0,function(){var f;return Pge(this,function(h){switch(h.label){case 0:return[3,4];case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return h.sent(),[3,4];case 3:return f=h.sent(),s(f),[3,4];case 4:return o(u),[2]}})})},s);return function(){c()}},[t]),[l,i,r]},Mge="firebase",Dge="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs(Mge,Dge,"app");const OG="@firebase/installations",NR="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=1e4,DG=`w:${NR}`,LG="FIS_v2",Lge="https://firebaseinstallations.googleapis.com/v1",Fge=60*60*1e3,$ge="installations",Vge="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bge={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vd=new nf($ge,Vge,Bge);function FG(t){return t instanceof za&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G({projectId:t}){return`${Lge}/projects/${t}/installations`}function VG(t){return{token:t.token,requestStatus:2,expiresIn:zge(t.expiresIn),creationTime:Date.now()}}async function BG(t,e){const r=(await e.json()).error;return Vd.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function UG({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Uge(t,{refreshToken:e}){const n=UG(t);return n.append("Authorization",qge(e)),n}async function zG(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zge(t){return Number(t.replace("s","000"))}function qge(t){return`${LG} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hge({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$G(t),i=UG(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:LG,appId:t.appId,sdkVersion:DG},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await zG(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:VG(u.authToken)}}else throw await BG("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wge(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gge=/^[cdef][\w-]{21}$/,oT="";function Kge(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Yge(t);return Gge.test(n)?n:oT}catch{return oT}}function Yge(t){return Wge(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=new Map;function WG(t,e){const n=lj(t);GG(n,e),Xge(n,e)}function GG(t,e){const n=HG.get(t);if(n)for(const r of n)r(e)}function Xge(t,e){const n=Qge();n&&n.postMessage({key:t,fid:e}),Jge()}let dd=null;function Qge(){return!dd&&"BroadcastChannel"in self&&(dd=new BroadcastChannel("[Firebase] FID Change"),dd.onmessage=t=>{GG(t.data.key,t.data.fid)}),dd}function Jge(){HG.size===0&&dd&&(dd.close(),dd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge="firebase-installations-database",eye=1,Bd="firebase-installations-store";let R_=null;function _R(){return R_||(R_=GW(Zge,eye,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bd)}}})),R_}async function ew(t,e){const n=lj(t),i=(await _R()).transaction(Bd,"readwrite"),s=i.objectStore(Bd),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&WG(t,e.fid),e}async function KG(t){const e=lj(t),r=(await _R()).transaction(Bd,"readwrite");await r.objectStore(Bd).delete(e),await r.done}async function cj(t,e){const n=lj(t),i=(await _R()).transaction(Bd,"readwrite"),s=i.objectStore(Bd),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&WG(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t){let e;const n=await cj(t.appConfig,r=>{const i=tye(r),s=nye(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===oT?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tye(t){const e=t||{fid:Kge(),registrationStatus:0};return YG(e)}function nye(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Vd.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rye(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iye(t)}:{installationEntry:e}}async function rye(t,e){try{const n=await Hge(t,e);return ew(t.appConfig,n)}catch(n){throw FG(n)&&n.customData.serverCode===409?await KG(t.appConfig):await ew(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iye(t){let e=await I3(t.appConfig);for(;e.registrationStatus===1;)await qG(100),e=await I3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kR(t);return r||n}return e}function I3(t){return cj(t,e=>{if(!e)throw Vd.create("installation-not-found");return YG(e)})}function YG(t){return sye(t)?{fid:t.fid,registrationStatus:0}:t}function sye(t){return t.registrationStatus===1&&t.registrationTime+MG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aye({appConfig:t,heartbeatServiceProvider:e},n){const r=oye(t,n),i=Uge(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:DG,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await zG(()=>fetch(r,l));if(c.ok){const u=await c.json();return VG(u)}else throw await BG("Generate Auth Token",c)}function oye(t,{fid:e}){return`${$G(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t,e=!1){let n;const r=await cj(t.appConfig,s=>{if(!XG(s))throw Vd.create("not-registered");const o=s.authToken;if(!e&&uye(o))return s;if(o.requestStatus===1)return n=lye(t,e),s;{if(!navigator.onLine)throw Vd.create("app-offline");const l=fye(s);return n=cye(t,l),l}});return n?await n:r.authToken}async function lye(t,e){let n=await R3(t.appConfig);for(;n.authToken.requestStatus===1;)await qG(100),n=await R3(t.appConfig);const r=n.authToken;return r.requestStatus===0?AR(t,e):r}function R3(t){return cj(t,e=>{if(!XG(e))throw Vd.create("not-registered");const n=e.authToken;return hye(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cye(t,e){try{const n=await aye(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ew(t.appConfig,r),n}catch(n){if(FG(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await KG(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ew(t.appConfig,r)}throw n}}function XG(t){return t!==void 0&&t.registrationStatus===2}function uye(t){return t.requestStatus===2&&!dye(t)}function dye(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Fge}function fye(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hye(t){return t.requestStatus===1&&t.requestTime+MG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mye(t){const e=t,{installationEntry:n,registrationPromise:r}=await kR(e);return r?r.catch(console.error):AR(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pye(t,e=!1){const n=t;return await gye(n),(await AR(n,e)).token}async function gye(t){const{registrationPromise:e}=await kR(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yye(t){if(!t||!t.options)throw O_("App Configuration");if(!t.name)throw O_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw O_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function O_(t){return Vd.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="installations",xye="installations-internal",vye=t=>{const e=t.getProvider("app").getImmediate(),n=yye(e),r=rf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bye=t=>{const e=t.getProvider("app").getImmediate(),n=rf(e,QG).getImmediate();return{getId:()=>mye(n),getToken:i=>pye(n,i)}};function wye(){Po(new Da(QG,vye,"PUBLIC")),Po(new Da(xye,bye,"PRIVATE"))}wye();qs(OG,NR);qs(OG,NR,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="analytics",jye="firebase_id",Sye="origin",Nye=60*1e3,_ye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CR="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new ij("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kye={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bs=new nf("analytics","Analytics",kye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aye(t){if(!t.startsWith(CR)){const e=bs.create("invalid-gtag-resource",{gtagURL:t});return Ki.warn(e.message),""}return t}function JG(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Cye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Eye(t,e){const n=Cye("firebase-js-sdk-policy",{createScriptURL:Aye}),r=document.createElement("script"),i=`${CR}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Tye(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Pye(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await JG(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){Ki.error(l)}t("config",i,s)}async function Iye(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await JG(n);for(const c of o){const u=l.find(h=>h.measurementId===c),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ki.error(s)}}function Rye(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await Iye(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await Pye(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Ki.error(l)}}return i}function Oye(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Rye(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Mye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(CR)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dye=30,Lye=1e3;class Fye{constructor(e={},n=Lye){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZG=new Fye;function $ye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Vye(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$ye(r)},s=_ye.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw bs.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Bye(t,e=ZG,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw bs.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bs.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new qye;return setTimeout(async()=>{l.abort()},Nye),eK({appId:r,apiKey:i,measurementId:s},o,l,e)}async function eK(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ZG){var s;const{appId:o,measurementId:l}=t;try{await Uye(r,e)}catch(c){if(l)return Ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await Vye(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!zye(u)){if(i.deleteThrottleMetadata(o),l)return Ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const f=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?i3(n,i.intervalMillis,Dye):i3(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ki.debug(`Calling attemptFetch again in ${f} millis`),eK(t,h,r,i)}}function Uye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zye(t){if(!(t instanceof za)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class qye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Hye(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wye(){if(zW())try{await qW()}catch(t){return Ki.warn(bs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ki.warn(bs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Gye(t,e,n,r,i,s,o){var l;const c=Bye(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ki.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ki.error(g)),e.push(c);const u=Wye().then(g=>{if(g)return r.getId()}),[f,h]=await Promise.all([c,u]);Mye(s)||Eye(s,f.measurementId),i("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[Sye]="firebase",p.update=!0,h!=null&&(p[jye]=h),i("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kye{constructor(e){this.app=e}_delete(){return delete qg[this.app.options.appId],Promise.resolve()}}let qg={},O3=[];const M3={};let M_="dataLayer",Yye="gtag",D3,tK,L3=!1;function Xye(){const t=[];if(UW()&&t.push("This is a browser extension environment."),Kfe()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bs.create("invalid-analytics-context",{errorInfo:e});Ki.warn(n.message)}}function Qye(t,e,n){Xye();const r=t.options.appId;if(!r)throw bs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bs.create("no-api-key");if(qg[r]!=null)throw bs.create("already-exists",{id:r});if(!L3){Tye(M_);const{wrappedGtag:s,gtagCore:o}=Oye(qg,O3,M3,M_,Yye);tK=s,D3=o,L3=!0}return qg[r]=Gye(t,O3,M3,e,D3,M_,n),new Kye(t)}function Jye(t=dR()){t=yn(t);const e=rf(t,tw);return e.isInitialized()?e.getImmediate():Zye(t)}function Zye(t,e={}){const n=rf(t,tw);if(n.isInitialized()){const i=n.getImmediate();if(To(e,n.getOptions()))return i;throw bs.create("already-initialized")}return n.initialize({options:e})}function exe(t,e,n,r){t=yn(t),Hye(tK,qg[t.app.options.appId],e,n,r).catch(i=>Ki.error(i))}const F3="@firebase/analytics",$3="0.10.12";function txe(){Po(new Da(tw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Qye(r,i,n)},"PUBLIC")),Po(new Da("analytics-internal",t,"PRIVATE")),qs(F3,$3),qs(F3,$3,"esm2017");function t(e){try{const n=e.getProvider(tw).getImmediate();return{logEvent:(r,i,s)=>exe(n,r,i,s)}}catch(n){throw bs.create("interop-component-reg-failed",{reason:n})}}}txe();const nxe={apiKey:"AIzaSyBuaEOWCEYeV2AknrXhqzuTdIp0rApYPw0",authDomain:"safebite-a5a03.firebaseapp.com",projectId:"safebite-a5a03",storageBucket:"safebite-a5a03.firebasestorage.app",messagingSenderId:"203093821661",appId:"1:203093821661:web:127b2d80f7e08e6c23b334",measurementId:"G-P4KG3JTM4N"},Oe=KW(nxe);Jye(Oe);const nK=lt(Oe);ype(nK,SG).then(()=>{console.log("Firebase persistence set to LOCAL")}).catch(t=>{console.error("Error setting persistence:",t)});const nw=({size:t="md",className:e=""})=>{const n={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-24 h-24",xl:"w-32 h-32"};return a.jsxs("div",{className:`relative ${n[t]} ${e} aspect-square`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/30 blur-md animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-safebite-teal/20 to-transparent animate-spin-slow"})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-very-slow",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"rgba(20, 184, 166, 0.3)",strokeWidth:"0.5",strokeDasharray:"8 4"}),a.jsx("path",{d:"M50 2 L50 10 M2 50 L10 50 M50 90 L50 98 M90 50 L98 50",stroke:"rgba(20, 184, 166, 0.6)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"10",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"10",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"50",cy:"90",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"90",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"})]})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-slow-reverse",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.5",strokeDasharray:"6 2"}),a.jsx("path",{d:"M50 15 L50 20 M15 50 L20 50 M50 80 L50 85 M80 50 L85 50",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"20",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"20",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"50",cy:"80",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"80",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"})]})}),a.jsx("div",{className:"absolute inset-2 rounded-full overflow-hidden border-2 border-safebite-teal/50 z-10 shadow-[0_0_10px_rgba(20,184,166,0.5)]",children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:"/SafeBite-V1/ProfilePic-AdityaShenvi.jpg",alt:"Aditya Shenvi",className:"w-[150%] h-[150%] object-cover",style:{objectPosition:"center 25%"}})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-safebite-teal/10 to-transparent"})]})}),a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"})]})},rK=({developerName:t="Aditya Shenvi",version:e="v2.3",isOpen:n,onClose:r})=>{const[i,s]=w.useState(!1),[o,l]=w.useState(!1),c=n!==void 0?n:i;w.useEffect(()=>{if(!localStorage.getItem("safebite_popup_shown")){const y=setTimeout(()=>{s(!0),localStorage.setItem("safebite_popup_shown","true")},2e3);return()=>clearTimeout(y)}},[]);const u=()=>{r?r():s(!1)},f=()=>{l(!o)};if(!c)return null;const h=["Enhanced AI chatbot with context-aware guidance","Added weekly health check-in with 8 questions","Improved dashboard with weekly check-in data visualization","Added food delivery integration with Zomato and Swiggy","Enhanced recipe search with 3x4 grid and popup details","Improved UI with sci-fi visuals and better readability","Added user activity tracking for ML personalization","Fixed Healthbox component errors and improved UI","Added guest mode for testing without authentication","Production-ready with improved error handling"],p=["Added Product Recommendations page with MongoDB integration","Implemented user activity tracking for ML personalization","Added fitness wearable data import functionality","Improved Firebase security and error handling","Enhanced dashboard with real-time data visualization","Added login prompts for guest users"],g=[{name:"SafeBite Backend API",url:"https://safebite-backend.onrender.com"},{name:"MongoDB Atlas",url:"https://www.mongodb.com/atlas/database"},{name:"Edamam Food Database API",url:"https://www.edamam.com/"},{name:"CalorieNinjas API",url:"https://calorieninjas.com/"},{name:"FatSecret Platform API",url:"https://platform.fatsecret.com/"},{name:"Open Food Facts",url:"https://world.openfoodfacts.org/"},{name:"Unsplash Images",url:"https://unsplash.com/"},{name:"Firebase",url:"https://firebase.google.com/"}];return a.jsx(a.Fragment,{children:o?a.jsx("div",{className:"fixed bottom-4 right-4 bg-safebite-teal text-safebite-dark-blue p-2 rounded-full cursor-pointer z-50 shadow-lg hover:bg-safebite-teal/90 transition-all",onClick:f,children:a.jsx(Jn,{size:24})}):a.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg shadow-xl z-50 sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-safebite-card-bg-alt border-b border-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(nw,{size:"sm",className:"mr-2"}),a.jsx("h3",{className:"text-safebite-text font-medium",children:"Developer Info"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:f,className:"text-safebite-text-secondary hover:text-safebite-teal p-1 rounded",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),a.jsx("button",{onClick:u,className:"text-safebite-text-secondary hover:text-red-500 p-1 rounded",children:a.jsx(or,{size:16})})]})]}),a.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-safebite-teal/20 text-safebite-teal px-2 py-1 rounded text-xs mr-2",children:e}),a.jsx("div",{className:"bg-green-500/20 text-green-500 px-2 py-1 rounded text-xs",children:"Production Ready"})]}),a.jsxs("p",{className:"text-safebite-text mb-3 font-medium",children:["Special Project by ",a.jsx("span",{className:"text-safebite-teal",children:t})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(mr,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"What's New in ",e]}),a.jsx("div",{className:"bg-safebite-teal/10 p-2 rounded-md border border-safebite-teal/20 mb-2",children:a.jsx("p",{className:"text-xs text-safebite-teal font-medium mb-1",children:"Production Release"})}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:h.map((v,y)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:""}),a.jsx("span",{children:v})]},y))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(mr,{className:"h-4 w-4 mr-1 text-safebite-text-secondary"}),"Previous Updates (v2.2)"]}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:p.map((v,y)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-text-secondary mr-1",children:""}),a.jsx("span",{children:v})]},y))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Data & API Credits"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"SafeBite uses data from the following sources for educational purposes:"}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:g.map((v,y)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:""}),a.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-safebite-teal",children:[v.name,a.jsx(Yr,{className:"h-3 w-3 ml-1"})]})]},y))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ee,{variant:"outline",size:"sm",className:"text-xs",onClick:u,children:"Dismiss"})})]})]})})},V3=3*60*60*1e3,B3=1*60*60*1e3,Qu="safebite-session-id",xc="safebite-session-type",ih="safebite-session-expires",Ob="userType",Mb="safebite-guest-mode",rxe="guestUserName";class ixe{constructor(){Dn(this,"auth",lt(Oe));Dn(this,"sessionCheckInterval",null);this.initSessionMonitoring()}initSessionMonitoring(){this.checkExistingSession(),bR(this.auth,e=>{const n=localStorage.getItem(Ob)==="guest"||sessionStorage.getItem(Mb)==="true";e?(this.refreshSession("logged-in"),console.log("Session refreshed for logged-in user:",e.email)):n&&(this.refreshSession("guest"),console.log("Session refreshed for guest user"))}),this.sessionCheckInterval=setInterval(()=>{this.checkSessionExpiry()},6e4)}checkExistingSession(){const e=localStorage.getItem(Qu),n=localStorage.getItem(xc),r=localStorage.getItem(ih);if(e&&n&&r){const i=parseInt(r,10),s=Date.now();s<i?(console.log("Existing session found:",{sessionType:n,expiresIn:(i-s)/1e3/60+" minutes"}),this.refreshSession(n)):(console.log("Session expired, clearing..."),this.clearSession())}}checkSessionExpiry(){const e=localStorage.getItem(ih);if(e){const n=parseInt(e,10),r=Date.now();if(r<n){const i=Math.round((n-r)/1e3/60);if(i<30){const s=localStorage.getItem(xc)||"logged-in";this.refreshSession(s),console.log(`Session refreshed, was about to expire in ${i} minutes`)}}}}createSession(e){const n=this.generateSessionId(),r=Date.now()+(e==="logged-in"?V3:B3);return localStorage.setItem(Qu,n),localStorage.setItem(xc,e),localStorage.setItem(ih,r.toString()),localStorage.setItem(Ob,e==="logged-in"?"user":"guest"),e==="guest"&&sessionStorage.setItem(Mb,"true"),console.log(`Created new ${e} session, expires in ${e==="logged-in"?"3 hours":"1 hour"}`),n}refreshSession(e){const r=localStorage.getItem(Qu)||this.generateSessionId(),i=Date.now()+(e==="logged-in"?V3:B3);return localStorage.setItem(Qu,r),localStorage.setItem(xc,e),localStorage.setItem(ih,i.toString()),localStorage.setItem(Ob,e==="logged-in"?"user":"guest"),e==="guest"&&sessionStorage.setItem(Mb,"true"),console.log(`Refreshed ${e} session, expires in ${e==="logged-in"?"3 hours":"1 hour"}`),r}clearSession(){localStorage.getItem(xc)==="guest"&&this.cleanupGuestData(),localStorage.removeItem(Qu),localStorage.removeItem(xc),localStorage.removeItem(ih),localStorage.removeItem(Ob),sessionStorage.removeItem(Mb),sessionStorage.removeItem(rxe),console.log("Session cleared")}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substring(2,15)}cleanupGuestData(){const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&(r.includes("guest")||r.includes("temp"))&&e.push(r)}e.forEach(n=>{localStorage.removeItem(n)}),sessionStorage.clear(),console.log("Guest data cleaned up")}getSessionInfo(){const e=localStorage.getItem(Qu),n=localStorage.getItem(xc),r=localStorage.getItem(ih);if(!e||!n||!r)return null;const i=parseInt(r,10),s=Date.now(),o=i-s;return{sessionId:e,sessionType:n,expiryTime:i,remainingTime:o,isExpired:o<=0,remainingMinutes:Math.round(o/1e3/60)}}isAuthenticated(){if(this.auth.currentUser)return this.getSessionInfo()||(this.refreshSession("logged-in"),console.log("Created new session for Firebase user without session")),!0;const e=this.getSessionInfo(),n=e!==null&&!e.isExpired;return n&&e&&e.remainingMinutes<60&&(this.refreshSession(e.sessionType),console.log(`Auto-refreshed session that was about to expire in ${e.remainingMinutes} minutes`)),n}isGuestUser(){return localStorage.getItem(xc)==="guest"}getSessionId(){return localStorage.getItem(Qu)}destroy(){this.sessionCheckInterval&&clearInterval(this.sessionCheckInterval)}}const ui=new ixe,iK=({hideAuthButtons:t})=>{const[e,n]=w.useState(!1),r=$n();Ua();const i=lt(Oe),[s,o]=w.useState(!1),{toast:l}=Tt();w.useEffect(()=>{const p=i.onAuthStateChanged(g=>{o(!!g)});return()=>p()},[i]);const c=()=>{n(!e)},u=()=>{r("/auth/login")},f=()=>{r("/auth/signup")},h=async()=>{try{await i.signOut(),ui.clearSession(),r("/"),l({title:"Logged out",description:"You have been successfully logged out."})}catch(p){console.error("Error signing out:",p),l({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"})}};return a.jsxs("nav",{className:"bg-safebite-dark-blue/80 backdrop-blur-md border-b border-safebite-border sticky top-0 z-50",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(un,{to:"/",className:"flex-shrink-0 flex items-center",children:[a.jsx("span",{className:"text-safebite-teal text-xl font-bold",children:"SafeBite"}),a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-safebite-teal text-safebite-dark-blue text-xs rounded-md",children:"v3.0"})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(un,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),a.jsx(un,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),a.jsx(un,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"})]}),!t&&a.jsx("div",{className:"hidden md:flex items-center space-x-3",children:s?a.jsxs(a.Fragment,{children:[a.jsxs(ee,{variant:"outline",className:"border-safebite-teal text-safebite-teal hover:bg-safebite-teal/10",onClick:()=>r("/dashboard"),children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),a.jsx(ee,{variant:"ghost",className:"text-safebite-text hover:text-safebite-teal hover:bg-transparent",onClick:h,children:"Logout"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ee,{variant:"ghost",className:"text-safebite-text hover:text-safebite-teal hover:bg-transparent",onClick:u,children:"Login"}),a.jsxs(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:f,children:[a.jsx(Md,{className:"h-4 w-4 mr-2"}),"Sign Up"]})]})}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:c,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:e?a.jsx(or,{className:"h-6 w-6"}):a.jsx(KI,{className:"h-6 w-6"})})})]})}),e&&a.jsx("div",{className:"md:hidden bg-safebite-card-bg border-t border-safebite-border",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[a.jsx(un,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>n(!1),children:"Home"}),a.jsx(un,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>n(!1),children:"Features"}),a.jsx(un,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>n(!1),children:"About"}),!t&&a.jsx("div",{className:"pt-4 pb-3 border-t border-safebite-border",children:s?a.jsxs(a.Fragment,{children:[a.jsxs(ee,{variant:"outline",className:"w-full mb-2 border-safebite-teal text-safebite-teal hover:bg-safebite-teal/10",onClick:()=>{r("/dashboard"),n(!1)},children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),a.jsx(ee,{variant:"ghost",className:"w-full text-safebite-text hover:text-safebite-teal hover:bg-transparent",onClick:()=>{h(),n(!1)},children:"Logout"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ee,{variant:"ghost",className:"w-full mb-2 text-safebite-text hover:text-safebite-teal hover:bg-transparent",onClick:()=>{u(),n(!1)},children:"Login"}),a.jsxs(ee,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>{f(),n(!1)},children:[a.jsx(Md,{className:"h-4 w-4 mr-2"}),"Sign Up"]})]})})]})})]})},tp=()=>a.jsx("footer",{className:"bg-safebite-dark-blue border-t border-safebite-card-bg-alt py-4",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center py-2",children:[a.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-2",children:a.jsx(Rn,{size:12,className:"text-white"})}),a.jsx("h3",{className:"text-sm font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite v3.0"})]}),a.jsxs("div",{className:"flex space-x-4 mb-2 md:mb-0",children:[a.jsx("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",title:"GitHub",children:a.jsx(w7,{size:16})}),a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",title:"Twitter",children:a.jsx(M2,{size:16})}),a.jsx("a",{href:"mailto:contact@safebite.example.com",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",title:"Email",children:a.jsx(rm,{size:16})}),a.jsx(un,{to:"/help",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",title:"Help",children:a.jsx(ys,{size:16})}),a.jsx(un,{to:"/chat",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",title:"Chat with AI",children:a.jsx(kd,{size:16})})]}),a.jsxs("div",{className:"text-safebite-text-secondary text-xs flex items-center flex-wrap justify-center",children:[a.jsxs("span",{children:[" ",new Date().getFullYear()]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{className:"flex items-center",children:["Made by",a.jsxs("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center mx-1",children:["Aditya Shenvi",a.jsx(Yr,{size:8,className:"ml-0.5"})]})]}),a.jsx("span",{className:"mx-1",children:""}),a.jsx(un,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-xs",children:"Privacy"}),a.jsx("span",{className:"mx-1",children:""}),a.jsx(un,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-xs",children:"Terms"}),a.jsx("span",{className:"mx-1",children:""}),a.jsx(un,{to:"/changelog",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-xs",children:"Changelog"})]})]})})}),al=({title:t,description:e,icon:n,className:r})=>a.jsxs("div",{className:st("sci-fi-card group",r),children:[a.jsx("div",{className:"mb-4 inline-block p-3 rounded-full bg-safebite-card-bg-alt text-safebite-teal group-hover:text-safebite-dark-blue group-hover:bg-safebite-teal transition-colors duration-300",children:n}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:t}),a.jsx("p",{className:"text-safebite-text-secondary",children:e})]}),D_=({quote:t,author:e,role:n,avatar:r,className:i})=>a.jsxs("div",{className:st("sci-fi-card flex flex-col",i),children:[a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-safebite-text-secondary italic",children:['"',t,'"']})}),a.jsxs("div",{className:"flex items-center",children:[r?a.jsx("img",{src:r,alt:e,className:"w-12 h-12 rounded-full mr-4 border-2 border-safebite-teal"}):a.jsx("div",{className:"w-12 h-12 rounded-full mr-4 bg-safebite-card-bg-alt flex items-center justify-center border-2 border-safebite-teal",children:a.jsx("span",{className:"text-safebite-teal text-lg font-bold",children:e.charAt(0)})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-semibold",children:e}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:n})]})]})]}),sxe=()=>a.jsxs("div",{className:"relative w-full h-full min-h-[450px]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-safebite-teal/30 to-transparent rounded-xl blur-xl"}),a.jsxs("div",{className:"absolute inset-0 rounded-xl border-2 border-safebite-teal/50 bg-safebite-dark-blue/80 backdrop-blur-md overflow-hidden shadow-[0_0_30px_rgba(20,184,166,0.3)]",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[a.jsx("path",{d:"M10 0 L10 10 L0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M40 0 L40 40 L0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M25 0 L25 25 L0 25",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"25",cy:"25",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"currentColor"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"absolute inset-4 flex flex-col rounded-lg border border-safebite-card-bg-alt bg-safebite-card-bg overflow-hidden",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-3 border-b border-safebite-card-bg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal",children:a.jsx(Ws,{size:16})}),a.jsx("span",{className:"ml-2 font-semibold text-safebite-text",children:"SafeBite Dashboard"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"mb-4 bg-safebite-teal/10 p-3 rounded-lg border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rn,{size:18,className:"text-safebite-teal mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:"Welcome to SafeBite 3.0"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:"Your personalized health dashboard is ready"})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(In,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("div",{className:"w-full h-10 pl-10 pr-4 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text-secondary flex items-center",children:"Search for food products..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Zn,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Health Score"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["87",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/100"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"87%"}})})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Co,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"AI Insights"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["5",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:" new"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"100%"}})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-xs font-medium text-safebite-text-secondary mb-2",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-2 border border-safebite-teal/20 flex flex-col items-center justify-center",children:[a.jsx(du,{size:16,className:"text-safebite-teal mb-1"}),a.jsx("span",{className:"text-[10px] text-safebite-text-secondary",children:"Grocery"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-2 border border-safebite-teal/20 flex flex-col items-center justify-center",children:[a.jsx(gr,{size:16,className:"text-safebite-teal mb-1"}),a.jsx("span",{className:"text-[10px] text-safebite-text-secondary",children:"Recipes"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-2 border border-safebite-teal/20 flex flex-col items-center justify-center",children:[a.jsx(tf,{size:16,className:"text-safebite-teal mb-1"}),a.jsx("span",{className:"text-[10px] text-safebite-text-secondary",children:"Delivery"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-2 border border-safebite-teal/20 flex flex-col items-center justify-center",children:[a.jsx(Fr,{size:16,className:"text-safebite-teal mb-1"}),a.jsx("span",{className:"text-[10px] text-safebite-text-secondary",children:"Health"})]})]})]}),a.jsx("h3",{className:"text-xs font-medium text-safebite-text-secondary mb-2",children:"Recent Food Items"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-2 border border-safebite-teal/20 flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:a.jsx(C7,{size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-safebite-text",children:"Mediterranean Salad"}),a.jsx("div",{className:"text-[10px] text-safebite-text-secondary",children:"320 calories  High protein  Low carb"})]}),a.jsx("div",{className:"w-7 h-7 rounded-full bg-safebite-teal flex items-center justify-center text-safebite-dark-blue font-bold text-xs",children:"9.5"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-2 border border-safebite-teal/20 flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:a.jsx(BI,{size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-safebite-text",children:"Organic Apple"}),a.jsx("div",{className:"text-[10px] text-safebite-text-secondary",children:"95 calories  High fiber  Vitamin C"})]}),a.jsx("div",{className:"w-7 h-7 rounded-full bg-safebite-teal flex items-center justify-center text-safebite-dark-blue font-bold text-xs",children:"9.8"})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 flex items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:"AI"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-safebite-text mb-1",children:"AI Assistant"}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Based on your recent meals, I recommend increasing your fiber intake. Consider adding more...",a.jsx("span",{className:"inline-block w-1.5 h-3 bg-safebite-teal ml-1 animate-pulse"})]})]})]})]})]}),a.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 bg-safebite-teal text-safebite-dark-blue text-xs font-bold px-2 py-1 rounded-full shadow-lg z-10",children:"v3.0"}),a.jsx("div",{className:"absolute -left-4 top-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float",children:a.jsx(Ws,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -right-4 top-2/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay",children:a.jsx(Zn,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -left-4 bottom-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay-2",children:a.jsx(Fr,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -right-4 bottom-1/3 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float",children:a.jsx(WI,{size:20,className:"text-safebite-teal"})})]}),axe=()=>{const t=w.useRef(null),e=w.useRef([]),n=w.useRef(null);return w.useEffect(()=>{const r=t.current;if(!r)return;const i=r.getContext("2d");if(!i)return;const s=()=>{r.width=window.innerWidth,r.height=window.innerHeight,o()},o=()=>{e.current=[];const c=Math.min(Math.floor(window.innerWidth/10),100);for(let u=0;u<c;u++)e.current.push({x:Math.random()*r.width,y:Math.random()*r.height,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,color:`rgba(20, 184, 166, ${Math.random()*.5+.1})`})},l=()=>{i.clearRect(0,0,r.width,r.height),e.current.forEach((c,u)=>{c.x+=c.speedX,c.y+=c.speedY,c.x<0&&(c.x=r.width),c.x>r.width&&(c.x=0),c.y<0&&(c.y=r.height),c.y>r.height&&(c.y=0),i.beginPath(),i.arc(c.x,c.y,c.size,0,Math.PI*2),i.fillStyle=c.color,i.fill(),e.current.forEach((f,h)=>{if(u===h)return;const p=c.x-f.x,g=c.y-f.y,v=Math.sqrt(p*p+g*g);v<100&&(i.beginPath(),i.strokeStyle=`rgba(20, 184, 166, ${.1*(1-v/100)})`,i.lineWidth=.5,i.moveTo(c.x,c.y),i.lineTo(f.x,f.y),i.stroke())})}),n.current=requestAnimationFrame(l)};return window.addEventListener("resize",s),s(),l(),()=>{window.removeEventListener("resize",s),n.current&&cancelAnimationFrame(n.current)}},[]),a.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",style:{opacity:.3}})},oxe=()=>{const[t,e]=w.useState(!1),n=$n(),r=()=>{e(!t)},i=s=>{n(s),e(!1)};return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"flex flex-col-reverse gap-3 mb-3 items-center",children:[a.jsxs("button",{onClick:()=>i("/search"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Search",children:[a.jsx(In,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Search"})]}),a.jsxs("button",{onClick:()=>i("/auth/login"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Login",children:[a.jsx(Ra,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Login"})]}),a.jsxs("button",{onClick:()=>i("/healthbox"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Health Tools",children:[a.jsx(Zn,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Health Tools"})]}),a.jsxs("button",{onClick:()=>i("/products"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Products",children:[a.jsx(Ws,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Products"})]}),a.jsxs("button",{onClick:()=>i("/help"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Help",children:[a.jsx(ys,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Help"})]})]}),a.jsx("button",{onClick:r,className:`w-14 h-14 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center shadow-lg hover:bg-safebite-teal/90 transition-all ${t?"rotate-180":""}`,"aria-label":t?"Close menu":"Open menu",children:a.jsx(y7,{size:24})})]})},lxe=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(""),[i,s]=w.useState(!1),[o,l]=w.useState([]),c=[{name:"Organic Quinoa",healthScore:9.5,tags:["Organic","Gluten-Free","High Protein"]},{name:"Greek Yogurt",healthScore:8.7,tags:["Probiotic","High Protein","Calcium Rich"]},{name:"Processed Cheese Slices",healthScore:4.2,tags:["Processed","High Sodium"],warning:"Contains artificial colors and preservatives"},{name:"Chocolate Cereal",healthScore:3.8,tags:["High Sugar","Processed"],warning:"High in added sugars"},{name:"Avocado",healthScore:9.8,tags:["Healthy Fats","Nutrient Dense","Fiber Rich"]}],u=()=>{e(!t),t||(r(""),l([]))},f=()=>{n.trim()&&(s(!0),setTimeout(()=>{const p=c.filter(g=>g.name.toLowerCase().includes(n.toLowerCase()));l(p),s(!1)},800))},h=p=>{p.key==="Enter"&&f()};return w.useEffect(()=>{n===""&&l([])},[n]),t?a.jsxs("div",{className:"sci-fi-card p-4 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Quick Food Search"}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:u,className:"h-8 w-8 rounded-full",children:a.jsx(or,{size:16})})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(In,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),onKeyPress:h,placeholder:"Search for a food item...",className:"w-full pl-10 pr-4 py-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text focus:border-safebite-teal focus:ring-1 focus:ring-safebite-teal outline-none transition-colors"}),a.jsx(ee,{onClick:f,className:"absolute inset-y-0 right-0 px-3 bg-safebite-teal text-safebite-dark-blue rounded-r-md",children:"Search"})]}),i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-safebite-teal border-t-transparent rounded-full"})}):o.length>0?a.jsx("div",{className:"space-y-3",children:o.map((p,g)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:p.name}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.tags.map((v,y)=>a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${v.includes("High Sugar")||v.includes("Processed")?"bg-red-500/20 text-red-500":"bg-safebite-teal/20 text-safebite-teal"}`,children:v},y))})]}),a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${p.healthScore>=7?"bg-green-500/20 text-green-500":p.healthScore>=5?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:p.healthScore.toFixed(1)})]}),p.warning&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-red-500",children:[a.jsx(Wt,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:p.warning})]}),!p.warning&&p.healthScore>=7&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-green-500",children:[a.jsx(Ws,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Excellent nutritional profile"})]})]},g))}):n&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsxs("p",{children:['No results found for "',n,'"']}),a.jsx("p",{className:"text-xs mt-1",children:'Try searching for "quinoa", "yogurt", "avocado", or "cereal"'})]}),!n&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsx("p",{children:'Try searching for foods like "quinoa", "yogurt", "avocado", or "cereal"'}),a.jsx("p",{className:"text-xs mt-1",children:"This is a demo of the SafeBite food search functionality"})]})]}):a.jsxs(ee,{onClick:u,variant:"outline",className:"sci-fi-button flex items-center",children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),"Try Quick Search"]})},cxe=()=>{const t=$n(),[e,n]=w.useState(!1),[r]=Oge(nK);return a.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[a.jsx(axe,{}),a.jsx(iK,{}),a.jsx(rK,{isOpen:e,onClose:()=>n(!1)}),r&&a.jsx(oxe,{}),a.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-32 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-10 md:mb-0",children:[a.jsx("div",{className:"inline-block bg-safebite-teal text-safebite-dark-blue px-4 py-2 rounded-full text-sm font-medium mb-4 shadow-md animate-pulse",children:"Version 3.0 - Final Release"}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[a.jsx("span",{className:"gradient-text animate-gradient-text",children:"Safe Food Choices"}),a.jsx("br",{}),a.jsx("span",{className:"text-safebite-text",children:"for a Healthier You"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs("span",{className:"text-xs text-safebite-teal bg-safebite-teal/10 px-2 py-1 rounded-full inline-flex items-center",children:[a.jsx(Rn,{className:"h-3 w-3 mr-1"})," AI-powered recommendations"]}),a.jsxs("span",{className:"text-xs text-safebite-teal bg-safebite-teal/10 px-2 py-1 rounded-full inline-flex items-center",children:[a.jsx(du,{className:"h-3 w-3 mr-1"})," Grocery product search"]}),a.jsxs("span",{className:"text-xs text-safebite-teal bg-safebite-teal/10 px-2 py-1 rounded-full inline-flex items-center",children:[a.jsx(tf,{className:"h-3 w-3 mr-1"})," Food delivery integration"]})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8",children:"Know exactly what's in your food. Track nutrition, receive personalized recommendations, and make informed choices for your health journey. Our comprehensive platform now includes grocery product search, food delivery options, and AI-powered chatbot assistance."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-4 rounded-md shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:["Get Started Free",a.jsx(Pi,{className:"ml-2 h-5 w-5"})]}),a.jsxs(ee,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-4 rounded-md hover:scale-105 transition-transform duration-200",children:[a.jsx(Md,{className:"mr-2 h-5 w-5"}),"Guest Login"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(lxe,{})})]}),a.jsx("div",{className:"md:w-1/2 relative",children:a.jsx(sxe,{})})]})}),a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"sci-fi-card",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Powered by AI & Machine Learning"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"Intelligent Food Safety"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with nutritional science to help you make the best food choices."}),a.jsxs("div",{className:"flex items-center justify-center mt-4",children:[a.jsx(nw,{size:"sm",className:"mr-2"}),a.jsxs("p",{className:"text-safebite-teal text-sm",children:["A Special Engineering Project by ",a.jsx("span",{className:"font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"p-6 border border-safebite-teal/30 rounded-lg bg-safebite-card-bg mb-8 sci-fi-card shadow-neon-teal",children:[a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx(mr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Featured Capabilities"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(al,{title:"Food Safety Analysis",description:"Instantly analyze food products for additives, allergens, and harmful ingredients to make safe choices.",icon:a.jsx(Ws,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"AI-Powered Recommendations",description:"Receive personalized food suggestions based on your health profile, preferences, and goals.",icon:a.jsx(Co,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"Nutritional Tracking",description:"Monitor your daily intake of calories, macros, vitamins, and minerals with detailed insights.",icon:a.jsx(Zn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(al,{title:"Simple Food Search",description:"Search or scan barcodes to instantly access comprehensive food information and safety ratings.",icon:a.jsx(In,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"Health Goal Setting",description:"Set personalized health goals and track your progress with interactive charts and reports.",icon:a.jsx(Boe,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"Community Support",description:"Connect with like-minded individuals, share experiences, and get motivation from our community.",icon:a.jsx(Na,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations.",icon:a.jsx(dn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"Personalized Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals.",icon:a.jsx(Fr,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(al,{title:"Health Insights",description:"Get personalized health insights based on your weekly check-ins and nutrition data.",icon:a.jsx(Rn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsxs(ee,{onClick:()=>t("/features"),variant:"outline",className:"sci-fi-button hover:shadow-neon-teal transition-all duration-300",children:["View All Features",a.jsx(Pi,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg relative sci-fi-card",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Simple 3-Step Process"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"How SafeBite Works"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Getting started is easy. Three simple steps to transform your food choices."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"1"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(Na,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Create Your Profile"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign up and complete a short questionnaire about your health, dietary needs, and personal goals."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"2"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(In,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Search & Analyze"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food items or scan barcodes to instantly get detailed nutrition and safety information."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"3"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(Fr,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Track & Improve"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your nutrition, view progress charts, and receive personalized recommendations to improve your health."})]})]})]})]}),a.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10 sci-fi-card",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"User Experiences"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"What Our Users Say"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Join thousands of satisfied users who have transformed their health with SafeBite."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(D_,{quote:"SafeBite completely changed how I shop for groceries. I've discovered so many healthier alternatives to my favorite foods!",author:"Sarah M.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(D_,{quote:"As someone with multiple food allergies, this app has been a lifesaver. I can quickly check if a product is safe for me to eat.",author:"James K.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(D_,{quote:"The personalized recommendations are spot on! I've lost 15 pounds just by making smarter food choices with SafeBite.",author:"Monica R.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"})]})]}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg border-y border-safebite-teal/20 relative sci-fi-card",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit-pattern",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"20",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("path",{d:"M50 0 L50 20 M0 50 L20 50 M50 80 L50 100 M80 50 L100 50",stroke:"currentColor",strokeWidth:"0.5"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit-pattern)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto text-center relative z-10",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Get Started Today"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 gradient-text animate-gradient-text",children:"Ready to Transform Your Food Choices?"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8 max-w-2xl mx-auto",children:"Join SafeBite today and start your journey to better health through informed food choices. It's free to get started!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6 shadow-neon-teal",children:["Sign Up Now",a.jsx(Pi,{className:"ml-2 h-5 w-5"})]}),a.jsxs(ee,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-6",children:[a.jsx(Md,{className:"mr-2 h-5 w-5"}),"Try as Guest"]})]})]})]}),a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsx("div",{className:"bg-safebite-dark-blue p-6 rounded-lg border border-safebite-teal/30 sci-fi-card shadow-neon-teal",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-4",children:[a.jsx(nw,{size:"md",className:"mr-0 md:mr-3 mb-4 md:mb-0 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text text-center md:text-left",children:"Developer's Note"}),a.jsx("p",{className:"text-safebite-teal text-sm text-center md:text-left",children:"Aditya Shenvi | IFHE Hyderabad"})]}),a.jsx("div",{className:"mt-2 sm:mt-0 bg-green-500/20 text-green-500 px-3 py-1 rounded-full text-xs font-medium self-center md:self-auto",children:"Production Ready v3.0"})]}),a.jsx("p",{className:"text-safebite-text-secondary my-4 text-sm md:text-base",children:"SafeBite was developed as a special engineering project to demonstrate how technology can help people make better food choices. The application combines modern web technologies with nutritional science to create an intuitive platform for food analysis and health tracking. This release includes major improvements to the food delivery system with location-based restaurant recommendations, enhanced AI chatbot capabilities, and a unified notification system."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 my-6",children:[a.jsxs("div",{className:"lg:col-span-1 bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-3 text-center",children:"Tech Stack"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"MongoDB"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Flask"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Food APIs"})]})]}),a.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"New Features"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Location-based food delivery"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Enhanced AI chatbot with context"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Unified notification system"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Achievement badges system"})]})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"Technical Improvements"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Improved authentication persistence"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Responsive design enhancements"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Performance optimizations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Bug fixes & UI improvements"})]})]})]})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm md:text-base",children:"Thank you for your support and feedback! I'm committed to improving SafeBite further. The next update will focus on meal planning features and expanded health tracking capabilities."}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>n(!0),children:[a.jsx(Jn,{className:"mr-2 h-4 w-4"}),"View Full Changelog"]})})]})]})})}),a.jsx(tp,{})]})},U3={name:"",featureUsage:{},createdAt:Date.now(),lastActive:Date.now()},uxe=()=>{const t=localStorage.getItem("guestUserData");if(t)try{return JSON.parse(t)}catch(e){return console.error("Error parsing guest user data:",e),{...U3}}return{...U3}},dxe=t=>{try{const e=sK(),n={...t,name:e,lastActive:Date.now()};localStorage.setItem("guestUserData",JSON.stringify(n))}catch(e){console.error("Error saving guest user data:",e)}},fxe=t=>{try{sessionStorage.setItem("guestUserName",t),localStorage.setItem("guestUserName",t),console.log("Guest name saved to storage:",t)}catch(e){console.error("Error saving guest name to storage:",e)}},sK=()=>{try{const t=sessionStorage.getItem("guestUserName");if(t)return t;const e=localStorage.getItem("guestUserName");return e?(sessionStorage.setItem("guestUserName",e),e):""}catch(t){return console.error("Error retrieving guest name from storage:",t),""}},aK=t=>{fxe(t);const e=uxe();dxe({...e})},Lx=()=>{const t=sK();return console.log("getGuestName() returning:",t),t};class hxe{constructor(){Dn(this,"auth",lt(Oe))}async signInAsGuest(e){try{const n=localStorage.getItem("userType")==="guest",r=new Date,i=new Date(r.getTime()+60*60*1e3);if(n&&!e){console.log("Already in guest mode, extending session"),this.extendGuestSession();return}const s=n&&localStorage.getItem("guestId")||"guest_"+Math.random().toString(36).substring(2,15);localStorage.setItem("userType","guest"),sessionStorage.setItem("safebite-guest-mode","true"),localStorage.setItem("guestId",s),localStorage.setItem("guestSessionExpires",i.toISOString());const o=Lx(),l=e||o||"Guest User";(e||!o)&&(aK(l),localStorage.setItem("guestUserName",l),sessionStorage.setItem("guestUserName",l),console.log("Guest name set in auth service:",l,{localStorage:localStorage.getItem("guestUserName"),sessionStorage:sessionStorage.getItem("guestUserName")}));const c={displayName:l,createdAt:new Date,lastLoginAt:new Date,sessionExpiresAt:i,preferences:{theme:"dark",notifications:!1},healthData:{healthScore:75,weeklyProgress:[65,68,70,72,75],nutritionGoals:{calories:2e3,protein:100,carbs:250,fat:65}}};sessionStorage.setItem("guestUserData",JSON.stringify(c)),localStorage.setItem("guestNameSet","true"),this.startSessionTimer(),console.log("Guest login successful",s,"with name",l,"expires at",i);return}catch(n){throw console.error("Error setting up guest mode:",n),n}}isGuestUser(){return localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"?this.isSessionValid():!1}isSessionValid(){const e=localStorage.getItem("guestSessionExpires");if(!e)return!1;try{const n=new Date(e);return new Date<n}catch(n){return console.error("Error checking session validity:",n),!1}}extendGuestSession(){const e=new Date,n=new Date(e.getTime()+60*60*1e3);localStorage.setItem("guestSessionExpires",n.toISOString());const r=this.getGuestUserData();r&&(r.sessionExpiresAt=n,sessionStorage.setItem("guestUserData",JSON.stringify(r))),console.log("Guest session extended to",n),this.startSessionTimer()}startSessionTimer(){window.guestSessionTimer&&clearInterval(window.guestSessionTimer),window.guestSessionTimer=setInterval(()=>{if(!this.isSessionValid()){console.log("Guest session expired, redirecting to login"),this.exitGuestMode();const e=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${e}/auth/login`}},3e4)}getGuestUserData(){const e=sessionStorage.getItem("guestUserData");return e?JSON.parse(e):null}updateGuestUserData(e){const r={...this.getGuestUserData()||{displayName:"Guest User",createdAt:new Date,lastLoginAt:new Date,preferences:{},healthData:{}},...e,lastLoginAt:new Date};sessionStorage.setItem("guestUserData",JSON.stringify(r))}exitGuestMode(){localStorage.removeItem("userType"),localStorage.removeItem("guestId"),localStorage.removeItem("guestSessionExpires"),localStorage.removeItem("guestUserName"),localStorage.removeItem("guestNameSet"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),sessionStorage.removeItem("guestUserName"),window.guestSessionTimer&&(clearInterval(window.guestSessionTimer),window.guestSessionTimer=null),console.log("Exited guest mode")}async convertGuestToPermanent(e,n){throw console.log("Converting guest to permanent account is not implemented yet"),new Error("Not implemented")}}const _i=new hxe,Vn=()=>{const[t,e]=w.useState(!1),n=lt(Oe);return w.useEffect(()=>{const s=()=>{if(n.currentUser)e(!1),(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true")&&(_i.exitGuestMode(),console.log("User is logged in, clearing guest mode flags"));else{const u=_i.isGuestUser();if(e(u),u&&_i.isSessionValid()){const f=localStorage.getItem("guestSessionExpires");if(f){const h=new Date(f),p=new Date;h.getTime()-p.getTime()<12e4&&(_i.extendGuestSession(),console.log("Guest session automatically extended"))}}sessionStorage.getItem("safebite-guest-mode")==="true"&&console.log("Using emergency guest mode due to permission denied")}};s();const o=setInterval(s,2e3),l=n.onAuthStateChanged(c=>{if(c)e(!1),localStorage.removeItem("userType"),sessionStorage.removeItem("safebite-guest-mode");else{const u=localStorage.getItem("userType"),f=sessionStorage.getItem("safebite-guest-mode");e(u==="guest"||f==="true")}});return()=>{l(),clearInterval(o)}},[n]),{isGuest:t,exitGuestMode:()=>{_i.exitGuestMode(),e(!1)},enterEmergencyGuestMode:()=>{n.currentUser||(_i.signInAsGuest("Emergency Guest"),e(!0))}}};var L_="focusScope.autoFocusOnMount",F_="focusScope.autoFocusOnUnmount",z3={bubbles:!1,cancelable:!0},mxe="FocusScope",ER=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=w.useState(null),u=Qn(i),f=Qn(s),h=w.useRef(null),p=Et(e,y=>c(y)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(k){if(g.paused||!l)return;const E=k.target;l.contains(E)?h.current=E:jc(h.current,{select:!0})},b=function(k){if(g.paused||!l)return;const E=k.relatedTarget;E!==null&&(l.contains(E)||jc(h.current,{select:!0}))},S=function(k){if(document.activeElement===document.body)for(const A of k)A.removedNodes.length>0&&jc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[r,l,g.paused]),w.useEffect(()=>{if(l){H3.add(g);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(L_,z3);l.addEventListener(L_,u),l.dispatchEvent(S),S.defaultPrevented||(pxe(bxe(oK(l)),{select:!0}),document.activeElement===y&&jc(l))}return()=>{l.removeEventListener(L_,u),setTimeout(()=>{const S=new CustomEvent(F_,z3);l.addEventListener(F_,f),l.dispatchEvent(S),S.defaultPrevented||jc(y??document.body,{select:!0}),l.removeEventListener(F_,f),H3.remove(g)},0)}}},[l,u,f,g]);const v=w.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(b&&S){const N=y.currentTarget,[k,E]=gxe(N);k&&E?!y.shiftKey&&S===E?(y.preventDefault(),n&&jc(k,{select:!0})):y.shiftKey&&S===k&&(y.preventDefault(),n&&jc(E,{select:!0})):S===N&&y.preventDefault()}},[n,r,g.paused]);return a.jsx(Ge.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});ER.displayName=mxe;function pxe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(jc(r,{select:e}),document.activeElement!==n)return}function gxe(t){const e=oK(t),n=q3(e,t),r=q3(e.reverse(),t);return[n,r]}function oK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function q3(t,e){for(const n of t)if(!yxe(n,{upTo:e}))return n}function yxe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xxe(t){return t instanceof HTMLInputElement&&"select"in t}function jc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xxe(t)&&e&&t.select()}}var H3=vxe();function vxe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=W3(t,e),t.unshift(e)},remove(e){var n;t=W3(t,e),(n=t[0])==null||n.resume()}}}function W3(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function bxe(t){return t.filter(e=>e.tagName!=="A")}var $_=0;function lK(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??G3()),document.body.insertAdjacentElement("beforeend",t[1]??G3()),$_++,()=>{$_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$_--}},[])}function G3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var S0="right-scroll-bar-position",N0="width-before-scroll-bar",wxe="with-scroll-bars-hidden",jxe="--removed-body-scroll-bar-size";function V_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Sxe(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Nxe=typeof window<"u"?w.useLayoutEffect:w.useEffect,K3=new WeakMap;function _xe(t,e){var n=Sxe(null,function(r){return t.forEach(function(i){return V_(i,r)})});return Nxe(function(){var r=K3.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||V_(l,null)}),s.forEach(function(l){i.has(l)||V_(l,o)})}K3.set(n,t)},[t]),n}function kxe(t){return t}function Axe(t,e){e===void 0&&(e=kxe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return i}function Cxe(t){t===void 0&&(t={});var e=Axe(null);return e.options=uo({async:!0,ssr:!1},t),e}var cK=function(t){var e=t.sideCar,n=Ix(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,uo({},n))};cK.isSideCarExport=!0;function Exe(t,e){return t.useMedium(e),cK}var uK=Cxe(),B_=function(){},uj=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:B_,onWheelCapture:B_,onTouchMoveCapture:B_}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,b=t.as,S=b===void 0?"div":b,N=t.gapMode,k=Ix(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,A=_xe([n,e]),C=uo(uo({},k),i);return w.createElement(w.Fragment,null,f&&w.createElement(E,{sideCar:uK,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:N}),o?w.cloneElement(w.Children.only(l),uo(uo({},C),{ref:A})):w.createElement(S,uo({},C,{className:c,ref:A}),l))});uj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uj.classNames={fullWidth:N0,zeroRight:S0};var Txe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Pxe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Txe();return e&&t.setAttribute("nonce",e),t}function Ixe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rxe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Oxe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Pxe())&&(Ixe(e,n),Rxe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mxe=function(){var t=Oxe();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dK=function(){var t=Mxe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Dxe={left:0,top:0,right:0,gap:0},U_=function(t){return parseInt(t||"",10)||0},Lxe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[U_(n),U_(r),U_(i)]},Fxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dxe;var e=Lxe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$xe=dK(),Vh="data-scroll-locked",Vxe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wxe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(S0,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(N0,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(S0," .").concat(S0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(N0," .").concat(N0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vh,`] {
    `).concat(jxe,": ").concat(l,`px;
  }
`)},Y3=function(){var t=parseInt(document.body.getAttribute(Vh)||"0",10);return isFinite(t)?t:0},Bxe=function(){w.useEffect(function(){return document.body.setAttribute(Vh,(Y3()+1).toString()),function(){var t=Y3()-1;t<=0?document.body.removeAttribute(Vh):document.body.setAttribute(Vh,t.toString())}},[])},Uxe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Bxe();var s=w.useMemo(function(){return Fxe(i)},[i]);return w.createElement($xe,{styles:Vxe(s,!e,i,n?"":"!important")})},lT=!1;if(typeof window<"u")try{var Db=Object.defineProperty({},"passive",{get:function(){return lT=!0,!0}});window.addEventListener("test",Db,Db),window.removeEventListener("test",Db,Db)}catch{lT=!1}var sh=lT?{passive:!1}:!1,zxe=function(t){return t.tagName==="TEXTAREA"},fK=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zxe(t)&&n[e]==="visible")},qxe=function(t){return fK(t,"overflowY")},Hxe=function(t){return fK(t,"overflowX")},X3=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=hK(t,r);if(i){var s=mK(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wxe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Gxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hK=function(t,e){return t==="v"?qxe(e):Hxe(e)},mK=function(t,e){return t==="v"?Wxe(e):Gxe(e)},Kxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yxe=function(t,e,n,r,i){var s=Kxe(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),u=!1,f=o>0,h=0,p=0;do{var g=mK(t,l),v=g[0],y=g[1],b=g[2],S=y-b-s*v;(v||S)&&hK(t,l)&&(h+=S,p+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(u=!0),u},Lb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Q3=function(t){return[t.deltaX,t.deltaY]},J3=function(t){return t&&"current"in t?t.current:t},Xxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qxe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jxe=0,ah=[];function Zxe(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(Jxe++)[0],s=w.useState(dK)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=hme([t.lockRef.current],(t.shards||[]).map(J3),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=Lb(y),N=n.current,k="deltaX"in y?y.deltaX:N[0]-S[0],E="deltaY"in y?y.deltaY:N[1]-S[1],A,C=y.target,T=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in y&&T==="h"&&C.type==="range")return!1;var I=X3(T,C);if(!I)return!0;if(I?A=T:(A=T==="v"?"h":"v",I=X3(T,C)),!I)return!1;if(!r.current&&"changedTouches"in y&&(k||E)&&(r.current=A),!A)return!0;var P=r.current||A;return Yxe(P,b,y,P==="h"?k:E)},[]),c=w.useCallback(function(y){var b=y;if(!(!ah.length||ah[ah.length-1]!==s)){var S="deltaY"in b?Q3(b):Lb(b),N=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&Xxe(A.delta,S)})[0];if(N&&N.should){b.cancelable&&b.preventDefault();return}if(!N){var k=(o.current.shards||[]).map(J3).filter(Boolean).filter(function(A){return A.contains(b.target)}),E=k.length>0?l(b,k[0]):!o.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),u=w.useCallback(function(y,b,S,N){var k={name:y,delta:b,target:S,should:N,shadowParent:eve(S)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(E){return E!==k})},1)},[]),f=w.useCallback(function(y){n.current=Lb(y),r.current=void 0},[]),h=w.useCallback(function(y){u(y.type,Q3(y),y.target,l(y,t.lockRef.current))},[]),p=w.useCallback(function(y){u(y.type,Lb(y),y.target,l(y,t.lockRef.current))},[]);w.useEffect(function(){return ah.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,sh),document.addEventListener("touchmove",c,sh),document.addEventListener("touchstart",f,sh),function(){ah=ah.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,sh),document.removeEventListener("touchmove",c,sh),document.removeEventListener("touchstart",f,sh)}},[]);var g=t.removeScrollBar,v=t.inert;return w.createElement(w.Fragment,null,v?w.createElement(s,{styles:Qxe(i)}):null,g?w.createElement(Uxe,{gapMode:t.gapMode}):null)}function eve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tve=Exe(uK,Zxe);var TR=w.forwardRef(function(t,e){return w.createElement(uj,uo({},t,{ref:e,sideCar:tve}))});TR.classNames=uj.classNames;var nve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oh=new WeakMap,Fb=new WeakMap,$b={},z_=0,pK=function(t){return t&&(t.host||pK(t.parentNode))},rve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=pK(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ive=function(t,e,n,r){var i=rve(e,Array.isArray(t)?t:[t]);$b[n]||($b[n]=new WeakMap);var s=$b[n],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))f(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(oh.get(p)||0)+1,b=(s.get(p)||0)+1;oh.set(p,y),s.set(p,b),o.push(p),y===1&&v&&Fb.set(p,!0),b===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",p,S)}})};return f(e),l.clear(),z_++,function(){o.forEach(function(h){var p=oh.get(h)-1,g=s.get(h)-1;oh.set(h,p),s.set(h,g),p||(Fb.has(h)||h.removeAttribute(r),Fb.delete(h)),g||h.removeAttribute(n)}),z_--,z_||(oh=new WeakMap,oh=new WeakMap,Fb=new WeakMap,$b={})}},gK=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ive(r,i,n,"aria-hidden")):function(){return null}},PR="Dialog",[yK,aWe]=Xi(PR),[sve,qa]=yK(PR),xK=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=w.useRef(null),c=w.useRef(null),[u=!1,f]=Yi({prop:r,defaultProp:i,onChange:s});return a.jsx(sve,{scope:e,triggerRef:l,contentRef:c,contentId:ka(),titleId:ka(),descriptionId:ka(),open:u,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};xK.displayName=PR;var vK="DialogTrigger",bK=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(vK,n),s=Et(e,i.triggerRef);return a.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":OR(i.open),...r,ref:s,onClick:Be(t.onClick,i.onOpenToggle)})});bK.displayName=vK;var IR="DialogPortal",[ave,wK]=yK(IR,{forceMount:void 0}),jK=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=qa(IR,e);return a.jsx(ave,{scope:e,forceMount:n,children:w.Children.map(r,o=>a.jsx(Qi,{present:n||s.open,children:a.jsx($1,{asChild:!0,container:i,children:o})}))})};jK.displayName=IR;var rw="DialogOverlay",SK=w.forwardRef((t,e)=>{const n=wK(rw,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=qa(rw,t.__scopeDialog);return s.modal?a.jsx(Qi,{present:r||s.open,children:a.jsx(ove,{...i,ref:e})}):null});SK.displayName=rw;var ove=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(rw,n);return a.jsx(TR,{as:Od,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Ge.div,{"data-state":OR(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ud="DialogContent",NK=w.forwardRef((t,e)=>{const n=wK(Ud,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=qa(Ud,t.__scopeDialog);return a.jsx(Qi,{present:r||s.open,children:s.modal?a.jsx(lve,{...i,ref:e}):a.jsx(cve,{...i,ref:e})})});NK.displayName=Ud;var lve=w.forwardRef((t,e)=>{const n=qa(Ud,t.__scopeDialog),r=w.useRef(null),i=Et(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return gK(s)},[]),a.jsx(_K,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Be(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Be(t.onFocusOutside,s=>s.preventDefault())})}),cve=w.forwardRef((t,e)=>{const n=qa(Ud,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return a.jsx(_K,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),_K=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=qa(Ud,n),c=w.useRef(null),u=Et(e,c);return lK(),a.jsxs(a.Fragment,{children:[a.jsx(ER,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(_x,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":OR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(uve,{titleId:l.titleId}),a.jsx(fve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),RR="DialogTitle",kK=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(RR,n);return a.jsx(Ge.h2,{id:i.titleId,...r,ref:e})});kK.displayName=RR;var AK="DialogDescription",CK=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(AK,n);return a.jsx(Ge.p,{id:i.descriptionId,...r,ref:e})});CK.displayName=AK;var EK="DialogClose",TK=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(EK,n);return a.jsx(Ge.button,{type:"button",...r,ref:e,onClick:Be(t.onClick,()=>i.onOpenChange(!1))})});TK.displayName=EK;function OR(t){return t?"open":"closed"}var PK="DialogTitleWarning",[oWe,IK]=Zae(PK,{contentName:Ud,titleName:RR,docsSlug:"dialog"}),uve=({titleId:t})=>{const e=IK(PK),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dve="DialogDescriptionWarning",fve=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IK(dve).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},hve=xK,mve=bK,pve=jK,RK=SK,OK=NK,MK=kK,DK=CK,LK=TK;const $l=hve,gve=mve,yve=pve,xve=LK,FK=w.forwardRef(({className:t,...e},n)=>a.jsx(RK,{ref:n,className:st("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));FK.displayName=RK.displayName;const Vo=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(yve,{children:[a.jsx(FK,{}),a.jsxs(OK,{ref:r,className:st("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(LK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vo.displayName=OK.displayName;const af=({className:t,...e})=>a.jsx("div",{className:st("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});af.displayName="DialogHeader";const $K=({className:t,...e})=>a.jsx("div",{className:st("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$K.displayName="DialogFooter";const of=w.forwardRef(({className:t,...e},n)=>a.jsx(MK,{ref:n,className:st("text-lg font-semibold leading-none tracking-tight",t),...e}));of.displayName=MK.displayName;const lf=w.forwardRef(({className:t,...e},n)=>a.jsx(DK,{ref:n,className:st("text-sm text-muted-foreground",t),...e}));lf.displayName=DK.displayName;const bt=w.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));bt.displayName="Input";var vve="Label",VK=w.forwardRef((t,e)=>a.jsx(Ge.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VK.displayName=vve;var BK=VK;const bve=U1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=w.forwardRef(({className:t,...e},n)=>a.jsx(BK,{ref:n,className:st(bve(),t),...e}));et.displayName=BK.displayName;function wve(t,e=[]){let n=[];function r(s,o){const l=w.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[t][c])||l,b=w.useMemo(()=>v,Object.values(v));return a.jsx(y.Provider,{value:b,children:g})}function f(h,p){const g=(p==null?void 0:p[t][c])||l,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,jve(i,...e)]}function jve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sve=w.createContext(void 0);function cf(t){const e=w.useContext(Sve);return t||e||"ltr"}var q_="rovingFocusGroup.onEntryFocus",Nve={bubbles:!1,cancelable:!0},dj="RovingFocusGroup",[cT,UK,_ve]=Nx(dj),[kve,fj]=wve(dj,[_ve]),[Ave,Cve]=kve(dj),zK=w.forwardRef((t,e)=>a.jsx(cT.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(cT.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Eve,{...t,ref:e})})}));zK.displayName=dj;var Eve=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,p=w.useRef(null),g=Et(e,p),v=cf(s),[y=null,b]=Yi({prop:o,defaultProp:l,onChange:c}),[S,N]=w.useState(!1),k=Qn(u),E=UK(n),A=w.useRef(!1),[C,T]=w.useState(0);return w.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(q_,k),()=>I.removeEventListener(q_,k)},[k]),a.jsx(Ave,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(I=>b(I),[b]),onItemShiftTab:w.useCallback(()=>N(!0),[]),onFocusableItemAdd:w.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:w.useCallback(()=>T(I=>I-1),[]),children:a.jsx(Ge.div,{tabIndex:S||C===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{A.current=!0}),onFocus:Be(t.onFocus,I=>{const P=!A.current;if(I.target===I.currentTarget&&P&&!S){const M=new CustomEvent(q_,Nve);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=E().filter(H=>H.focusable),D=L.find(H=>H.active),R=L.find(H=>H.id===y),q=[D,R,...L].filter(Boolean).map(H=>H.ref.current);WK(q,f)}}A.current=!1}),onBlur:Be(t.onBlur,()=>N(!1))})})}),qK="RovingFocusGroupItem",HK=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,l=ka(),c=s||l,u=Cve(qK,n),f=u.currentTabStopId===c,h=UK(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return w.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),a.jsx(cT.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:a.jsx(Ge.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Be(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Be(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Be(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Ive(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=h().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const N=S.indexOf(v.currentTarget);S=u.loop?Rve(S,N+1):S.slice(N+1)}setTimeout(()=>WK(S))}})})})});HK.displayName=qK;var Tve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ive(t,e,n){const r=Pve(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tve[r]}function WK(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Rve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GK=zK,KK=HK,MR="Tabs",[Ove,lWe]=Xi(MR,[fj]),YK=fj(),[Mve,DR]=Ove(MR),XK=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,f=cf(l),[h,p]=Yi({prop:r,onChange:i,defaultProp:s});return a.jsx(Mve,{scope:n,baseId:ka(),value:h,onValueChange:p,orientation:o,dir:f,activationMode:c,children:a.jsx(Ge.div,{dir:f,"data-orientation":o,...u,ref:e})})});XK.displayName=MR;var QK="TabsList",JK=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=DR(QK,n),o=YK(n);return a.jsx(GK,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Ge.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});JK.displayName=QK;var ZK="TabsTrigger",eY=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=DR(ZK,n),l=YK(n),c=rY(o.baseId,r),u=iY(o.baseId,r),f=r===o.value;return a.jsx(KK,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(Ge.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Be(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Be(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Be(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(r)})})})});eY.displayName=ZK;var tY="TabsContent",nY=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=DR(tY,n),c=rY(l.baseId,r),u=iY(l.baseId,r),f=r===l.value,h=w.useRef(f);return w.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Qi,{present:i||f,children:({present:p})=>a.jsx(Ge.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&s})})});nY.displayName=tY;function rY(t,e){return`${t}-trigger-${e}`}function iY(t,e){return`${t}-content-${e}`}var Dve=XK,sY=JK,aY=eY,oY=nY;const pi=Dve,Qr=w.forwardRef(({className:t,...e},n)=>a.jsx(sY,{ref:n,className:st("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Qr.displayName=sY.displayName;const ft=w.forwardRef(({className:t,...e},n)=>a.jsx(aY,{ref:n,className:st("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ft.displayName=aY.displayName;const St=w.forwardRef(({className:t,...e},n)=>a.jsx(oY,{ref:n,className:st("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));St.displayName=oY.displayName;var Lve="Separator",Z3="horizontal",Fve=["horizontal","vertical"],lY=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=Z3,...i}=t,s=$ve(r)?r:Z3,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Ge.div,{"data-orientation":s,...l,...i,ref:e})});lY.displayName=Lve;function $ve(t){return Fve.includes(t)}var cY=lY;const fd=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>a.jsx(cY,{ref:i,decorative:n,orientation:e,className:st("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));fd.displayName=cY.displayName;function Fx(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var LR="Switch",[Vve,cWe]=Xi(LR),[Bve,Uve]=Vve(LR),uY=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=t,[p,g]=w.useState(null),v=Et(e,k=>g(k)),y=w.useRef(!1),b=p?f||!!p.closest("form"):!0,[S=!1,N]=Yi({prop:i,defaultProp:s,onChange:u});return a.jsxs(Bve,{scope:n,checked:S,disabled:l,children:[a.jsx(Ge.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":hY(S),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Be(t.onClick,k=>{N(E=>!E),b&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),b&&a.jsx(zve,{control:p,bubbles:!y.current,name:r,value:c,checked:S,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});uY.displayName=LR;var dY="SwitchThumb",fY=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Uve(dY,n);return a.jsx(Ge.span,{"data-state":hY(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});fY.displayName=dY;var zve=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=w.useRef(null),o=Fx(n),l=Tx(e);return w.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(p)}},[o,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hY(t){return t?"checked":"unchecked"}var mY=uY,qve=fY;const fo=w.forwardRef(({className:t,...e},n)=>a.jsx(mY,{className:st("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(qve,{className:st("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fo.displayName=mY.displayName;var eF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qc,pY;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function P(){}P.prototype=I.prototype,T.D=I.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(M,L,D){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return I.prototype[L].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,P){P||(P=0);var M=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)M[L]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(L=0;16>L;++L)M[L]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=T.g[0],P=T.g[1],L=T.g[2];var D=T.g[3],R=I+(D^P&(L^D))+M[0]+3614090360&4294967295;I=P+(R<<7&4294967295|R>>>25),R=D+(L^I&(P^L))+M[1]+3905402710&4294967295,D=I+(R<<12&4294967295|R>>>20),R=L+(P^D&(I^P))+M[2]+606105819&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(I^L&(D^I))+M[3]+3250441966&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(D^P&(L^D))+M[4]+4118548399&4294967295,I=P+(R<<7&4294967295|R>>>25),R=D+(L^I&(P^L))+M[5]+1200080426&4294967295,D=I+(R<<12&4294967295|R>>>20),R=L+(P^D&(I^P))+M[6]+2821735955&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(I^L&(D^I))+M[7]+4249261313&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(D^P&(L^D))+M[8]+1770035416&4294967295,I=P+(R<<7&4294967295|R>>>25),R=D+(L^I&(P^L))+M[9]+2336552879&4294967295,D=I+(R<<12&4294967295|R>>>20),R=L+(P^D&(I^P))+M[10]+4294925233&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(I^L&(D^I))+M[11]+2304563134&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(D^P&(L^D))+M[12]+1804603682&4294967295,I=P+(R<<7&4294967295|R>>>25),R=D+(L^I&(P^L))+M[13]+4254626195&4294967295,D=I+(R<<12&4294967295|R>>>20),R=L+(P^D&(I^P))+M[14]+2792965006&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(I^L&(D^I))+M[15]+1236535329&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(L^D&(P^L))+M[1]+4129170786&4294967295,I=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(I^P))+M[6]+3225465664&4294967295,D=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(D^I))+M[11]+643717713&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^I&(L^D))+M[0]+3921069994&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(L^D&(P^L))+M[5]+3593408605&4294967295,I=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(I^P))+M[10]+38016083&4294967295,D=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(D^I))+M[15]+3634488961&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^I&(L^D))+M[4]+3889429448&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(L^D&(P^L))+M[9]+568446438&4294967295,I=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(I^P))+M[14]+3275163606&4294967295,D=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(D^I))+M[3]+4107603335&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^I&(L^D))+M[8]+1163531501&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(L^D&(P^L))+M[13]+2850285829&4294967295,I=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(I^P))+M[2]+4243563512&4294967295,D=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(D^I))+M[7]+1735328473&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^I&(L^D))+M[12]+2368359562&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(P^L^D)+M[5]+4294588738&4294967295,I=P+(R<<4&4294967295|R>>>28),R=D+(I^P^L)+M[8]+2272392833&4294967295,D=I+(R<<11&4294967295|R>>>21),R=L+(D^I^P)+M[11]+1839030562&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^I)+M[14]+4259657740&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(P^L^D)+M[1]+2763975236&4294967295,I=P+(R<<4&4294967295|R>>>28),R=D+(I^P^L)+M[4]+1272893353&4294967295,D=I+(R<<11&4294967295|R>>>21),R=L+(D^I^P)+M[7]+4139469664&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^I)+M[10]+3200236656&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(P^L^D)+M[13]+681279174&4294967295,I=P+(R<<4&4294967295|R>>>28),R=D+(I^P^L)+M[0]+3936430074&4294967295,D=I+(R<<11&4294967295|R>>>21),R=L+(D^I^P)+M[3]+3572445317&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^I)+M[6]+76029189&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(P^L^D)+M[9]+3654602809&4294967295,I=P+(R<<4&4294967295|R>>>28),R=D+(I^P^L)+M[12]+3873151461&4294967295,D=I+(R<<11&4294967295|R>>>21),R=L+(D^I^P)+M[15]+530742520&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^I)+M[2]+3299628645&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(L^(P|~D))+M[0]+4096336452&4294967295,I=P+(R<<6&4294967295|R>>>26),R=D+(P^(I|~L))+M[7]+1126891415&4294967295,D=I+(R<<10&4294967295|R>>>22),R=L+(I^(D|~P))+M[14]+2878612391&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~I))+M[5]+4237533241&4294967295,P=L+(R<<21&4294967295|R>>>11),R=I+(L^(P|~D))+M[12]+1700485571&4294967295,I=P+(R<<6&4294967295|R>>>26),R=D+(P^(I|~L))+M[3]+2399980690&4294967295,D=I+(R<<10&4294967295|R>>>22),R=L+(I^(D|~P))+M[10]+4293915773&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~I))+M[1]+2240044497&4294967295,P=L+(R<<21&4294967295|R>>>11),R=I+(L^(P|~D))+M[8]+1873313359&4294967295,I=P+(R<<6&4294967295|R>>>26),R=D+(P^(I|~L))+M[15]+4264355552&4294967295,D=I+(R<<10&4294967295|R>>>22),R=L+(I^(D|~P))+M[6]+2734768916&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~I))+M[13]+1309151649&4294967295,P=L+(R<<21&4294967295|R>>>11),R=I+(L^(P|~D))+M[4]+4149444226&4294967295,I=P+(R<<6&4294967295|R>>>26),R=D+(P^(I|~L))+M[11]+3174756917&4294967295,D=I+(R<<10&4294967295|R>>>22),R=L+(I^(D|~P))+M[2]+718787259&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~I))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+L&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var P=I-this.blockSize,M=this.B,L=this.h,D=0;D<I;){if(L==0)for(;D<=P;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<I;)if(M[L++]=T.charCodeAt(D++),L==this.blockSize){i(this,M),L=0;break}}else for(;D<I;)if(M[L++]=T[D++],L==this.blockSize){i(this,M),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var P=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=P&255,P/=256;for(this.u(T),T=Array(16),I=P=0;4>I;++I)for(var M=0;32>M;M+=8)T[P++]=this.g[I]>>>M&255;return T};function s(T,I){var P=l;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=I(T)}function o(T,I){this.h=I;for(var P=[],M=!0,L=T.length-1;0<=L;L--){var D=T[L]|0;M&&D==I||(P[L]=D,M=!1)}this.g=P}var l={};function c(T){return-128<=T&&128>T?s(T,function(I){return new o([I|0],0>I?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return b(u(-T));for(var I=[],P=1,M=0;T>=P;M++)I[M]=T/P|0,P*=4294967296;return new o(I,0)}function f(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return b(f(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(I,8)),M=h,L=0;L<T.length;L+=8){var D=Math.min(8,T.length-L),R=parseInt(T.substring(L,L+D),I);8>D?(D=u(Math.pow(I,D)),M=M.j(D).add(u(R))):(M=M.j(P),M=M.add(u(R)))}return M}var h=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var T=0,I=1,P=0;P<this.g.length;P++){var M=this.i(P);T+=(0<=M?M:4294967296+M)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(y(this))return"-"+b(this).toString(T);for(var I=u(Math.pow(T,6)),P=this,M="";;){var L=E(P,I).g;P=S(P,L.j(I));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=L,v(P))return D+M;for(;6>D.length;)D="0"+D;M=D+M}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=S(this,T),y(T)?-1:v(T)?0:1};function b(T){for(var I=T.g.length,P=[],M=0;M<I;M++)P[M]=~T.g[M];return new o(P,~T.h).add(p)}t.abs=function(){return y(this)?b(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0,L=0;L<=I;L++){var D=M+(this.i(L)&65535)+(T.i(L)&65535),R=(D>>>16)+(this.i(L)>>>16)+(T.i(L)>>>16);M=R>>>16,D&=65535,R&=65535,P[L]=R<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function S(T,I){return T.add(b(I))}t.j=function(T){if(v(this)||v(T))return h;if(y(this))return y(T)?b(this).j(b(T)):b(b(this).j(T));if(y(T))return b(this.j(b(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var I=this.g.length+T.g.length,P=[],M=0;M<2*I;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<T.g.length;L++){var D=this.i(M)>>>16,R=this.i(M)&65535,V=T.i(L)>>>16,q=T.i(L)&65535;P[2*M+2*L]+=R*q,N(P,2*M+2*L),P[2*M+2*L+1]+=D*q,N(P,2*M+2*L+1),P[2*M+2*L+1]+=R*V,N(P,2*M+2*L+1),P[2*M+2*L+2]+=D*V,N(P,2*M+2*L+2)}for(M=0;M<I;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=I;M<2*I;M++)P[M]=0;return new o(P,0)};function N(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function k(T,I){this.g=T,this.h=I}function E(T,I){if(v(I))throw Error("division by zero");if(v(T))return new k(h,h);if(y(T))return I=E(b(T),I),new k(b(I.g),b(I.h));if(y(I))return I=E(T,b(I)),new k(b(I.g),I.h);if(30<T.g.length){if(y(T)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var P=p,M=I;0>=M.l(T);)P=A(P),M=A(M);var L=C(P,1),D=C(M,1);for(M=C(M,2),P=C(P,2);!v(M);){var R=D.add(M);0>=R.l(T)&&(L=L.add(P),D=R),M=C(M,1),P=C(P,1)}return I=S(T,L.j(I)),new k(L,I)}for(L=h;0<=T.l(I);){for(P=Math.max(1,Math.floor(T.m()/I.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),D=u(P),R=D.j(I);y(R)||0<R.l(T);)P-=M,D=u(P),R=D.j(I);v(D)&&(D=p),L=L.add(D),T=S(T,R)}return new k(L,T)}t.A=function(T){return E(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0;M<I;M++)P[M]=this.i(M)&T.i(M);return new o(P,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0;M<I;M++)P[M]=this.i(M)|T.i(M);return new o(P,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0;M<I;M++)P[M]=this.i(M)^T.i(M);return new o(P,this.h^T.h)};function A(T){for(var I=T.g.length+1,P=[],M=0;M<I;M++)P[M]=T.i(M)<<1|T.i(M-1)>>>31;return new o(P,T.h)}function C(T,I){var P=I>>5;I%=32;for(var M=T.g.length-P,L=[],D=0;D<M;D++)L[D]=0<I?T.i(D+P)>>>I|T.i(D+P+1)<<32-I:T.i(D+P);return new o(L,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pY=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,qc=o}).apply(typeof eF<"u"?eF:typeof self<"u"?self:typeof window<"u"?window:{});var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gY,Ag,yY,_0,uT,xY,vY,bY;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(j,F,z){return j==Array.prototype||j==Object.prototype||(j[F]=z.value),j};function n(j){j=[typeof globalThis=="object"&&globalThis,j,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vb=="object"&&Vb];for(var F=0;F<j.length;++F){var z=j[F];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var r=n(this);function i(j,F){if(F)e:{var z=r;j=j.split(".");for(var J=0;J<j.length-1;J++){var de=j[J];if(!(de in z))break e;z=z[de]}j=j[j.length-1],J=z[j],F=F(J),F!=J&&F!=null&&e(z,j,{configurable:!0,writable:!0,value:F})}}function s(j,F){j instanceof String&&(j+="");var z=0,J=!1,de={next:function(){if(!J&&z<j.length){var xe=z++;return{value:F(xe,j[xe]),done:!1}}return J=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(j){return j||function(){return s(this,function(F,z){return z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(j){var F=typeof j;return F=F!="object"?F:j?Array.isArray(j)?"array":F:"null",F=="array"||F=="object"&&typeof j.length=="number"}function u(j){var F=typeof j;return F=="object"&&j!=null||F=="function"}function f(j,F,z){return j.call.apply(j.bind,arguments)}function h(j,F,z){if(!j)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,J),j.apply(F,de)}}return function(){return j.apply(F,arguments)}}function p(j,F,z){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function g(j,F){var z=Array.prototype.slice.call(arguments,1);return function(){var J=z.slice();return J.push.apply(J,arguments),j.apply(this,J)}}function v(j,F){function z(){}z.prototype=F.prototype,j.aa=F.prototype,j.prototype=new z,j.prototype.constructor=j,j.Qb=function(J,de,xe){for(var Le=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)Le[cn-2]=arguments[cn];return F.prototype[de].apply(J,Le)}}function y(j){const F=j.length;if(0<F){const z=Array(F);for(let J=0;J<F;J++)z[J]=j[J];return z}return[]}function b(j,F){for(let z=1;z<arguments.length;z++){const J=arguments[z];if(c(J)){const de=j.length||0,xe=J.length||0;j.length=de+xe;for(let Le=0;Le<xe;Le++)j[de+Le]=J[Le]}else j.push(J)}}class S{constructor(F,z){this.i=F,this.j=z,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function N(j){return/^[\s\xa0]*$/.test(j)}function k(){var j=l.navigator;return j&&(j=j.userAgent)?j:""}function E(j){return E[" "](j),j}E[" "]=function(){};var A=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function C(j,F,z){for(const J in j)F.call(z,j[J],J,j)}function T(j,F){for(const z in j)F.call(void 0,j[z],z,j)}function I(j){const F={};for(const z in j)F[z]=j[z];return F}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(j,F){let z,J;for(let de=1;de<arguments.length;de++){J=arguments[de];for(z in J)j[z]=J[z];for(let xe=0;xe<P.length;xe++)z=P[xe],Object.prototype.hasOwnProperty.call(J,z)&&(j[z]=J[z])}}function L(j){var F=1;j=j.split(":");const z=[];for(;0<F&&j.length;)z.push(j.shift()),F--;return j.length&&z.push(j.join(":")),z}function D(j){l.setTimeout(()=>{throw j},0)}function R(){var j=Z;let F=null;return j.g&&(F=j.g,j.g=j.g.next,j.g||(j.h=null),F.next=null),F}class V{constructor(){this.h=this.g=null}add(F,z){const J=q.get();J.set(F,z),this.h?this.h.next=J:this.g=J,this.h=J}}var q=new S(()=>new H,j=>j.reset());class H{constructor(){this.next=this.g=this.h=null}set(F,z){this.h=F,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,K=!1,Z=new V,U=()=>{const j=l.Promise.resolve(void 0);Y=()=>{j.then(W)}};var W=()=>{for(var j;j=R();){try{j.h.call(j.g)}catch(z){D(z)}var F=q;F.j(j),100>F.h&&(F.h++,j.next=F.g,F.g=j)}K=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(j,F){this.type=j,this.g=this.target=F,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var j=!1,F=Object.defineProperty({},"passive",{get:function(){j=!0}});try{const z=()=>{};l.addEventListener("test",z,F),l.removeEventListener("test",z,F)}catch{}return j}();function ue(j,F){if(B.call(this,j?j.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,j){var z=this.type=j.type,J=j.changedTouches&&j.changedTouches.length?j.changedTouches[0]:null;if(this.target=j.target||j.srcElement,this.g=F,F=j.relatedTarget){if(A){e:{try{E(F.nodeName);var de=!0;break e}catch{}de=!1}de||(F=null)}}else z=="mouseover"?F=j.fromElement:z=="mouseout"&&(F=j.toElement);this.relatedTarget=F,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0),this.button=j.button,this.key=j.key||"",this.ctrlKey=j.ctrlKey,this.altKey=j.altKey,this.shiftKey=j.shiftKey,this.metaKey=j.metaKey,this.pointerId=j.pointerId||0,this.pointerType=typeof j.pointerType=="string"?j.pointerType:pe[j.pointerType]||"",this.state=j.state,this.i=j,j.defaultPrevented&&ue.aa.h.call(this)}}v(ue,B);var pe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var j=this.i;j.preventDefault?j.preventDefault():j.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),ae=0;function ie(j,F,z,J,de){this.listener=j,this.proxy=null,this.src=F,this.type=z,this.capture=!!J,this.ha=de,this.key=++ae,this.da=this.fa=!1}function ce(j){j.da=!0,j.listener=null,j.proxy=null,j.src=null,j.ha=null}function ge(j){this.src=j,this.g={},this.h=0}ge.prototype.add=function(j,F,z,J,de){var xe=j.toString();j=this.g[xe],j||(j=this.g[xe]=[],this.h++);var Le=Ne(j,F,J,de);return-1<Le?(F=j[Le],z||(F.fa=!1)):(F=new ie(F,this.src,xe,!!J,de),F.fa=z,j.push(F)),F};function le(j,F){var z=F.type;if(z in j.g){var J=j.g[z],de=Array.prototype.indexOf.call(J,F,void 0),xe;(xe=0<=de)&&Array.prototype.splice.call(J,de,1),xe&&(ce(F),j.g[z].length==0&&(delete j.g[z],j.h--))}}function Ne(j,F,z,J){for(var de=0;de<j.length;++de){var xe=j[de];if(!xe.da&&xe.listener==F&&xe.capture==!!z&&xe.ha==J)return de}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),ot={};function Ae(j,F,z,J,de){if(Array.isArray(F)){for(var xe=0;xe<F.length;xe++)Ae(j,F[xe],z,J,de);return null}return z=vr(z),j&&j[ne]?j.K(F,z,u(J)?!!J.capture:!1,de):Ke(j,F,z,!1,J,de)}function Ke(j,F,z,J,de,xe){if(!F)throw Error("Invalid event type");var Le=u(de)?!!de.capture:!!de,cn=It(j);if(cn||(j[$e]=cn=new ge(j)),z=cn.add(F,z,J,Le,xe),z.proxy)return z;if(J=Nt(),z.proxy=J,J.src=j,J.listener=z,j.addEventListener)se||(de=Le),de===void 0&&(de=!1),j.addEventListener(F.toString(),J,de);else if(j.attachEvent)j.attachEvent(ht(F.toString()),J);else if(j.addListener&&j.removeListener)j.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Nt(){function j(z){return F.call(j.src,j.listener,z)}const F=mt;return j}function Ce(j,F,z,J,de){if(Array.isArray(F))for(var xe=0;xe<F.length;xe++)Ce(j,F[xe],z,J,de);else J=u(J)?!!J.capture:!!J,z=vr(z),j&&j[ne]?(j=j.i,F=String(F).toString(),F in j.g&&(xe=j.g[F],z=Ne(xe,z,J,de),-1<z&&(ce(xe[z]),Array.prototype.splice.call(xe,z,1),xe.length==0&&(delete j.g[F],j.h--)))):j&&(j=It(j))&&(F=j.g[F.toString()],j=-1,F&&(j=Ne(F,z,J,de)),(z=-1<j?F[j]:null)&&Je(z))}function Je(j){if(typeof j!="number"&&j&&!j.da){var F=j.src;if(F&&F[ne])le(F.i,j);else{var z=j.type,J=j.proxy;F.removeEventListener?F.removeEventListener(z,J,j.capture):F.detachEvent?F.detachEvent(ht(z),J):F.addListener&&F.removeListener&&F.removeListener(J),(z=It(F))?(le(z,j),z.h==0&&(z.src=null,F[$e]=null)):ce(j)}}}function ht(j){return j in ot?ot[j]:ot[j]="on"+j}function mt(j,F){if(j.da)j=!0;else{F=new ue(F,this);var z=j.listener,J=j.ha||j.src;j.fa&&Je(j),j=z.call(J,F)}return j}function It(j){return j=j[$e],j instanceof ge?j:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function vr(j){return typeof j=="function"?j:(j[lr]||(j[lr]=function(F){return j.handleEvent(F)}),j[lr])}function he(){Q.call(this),this.i=new ge(this),this.M=this,this.F=null}v(he,Q),he.prototype[ne]=!0,he.prototype.removeEventListener=function(j,F,z,J){Ce(this,j,F,z,J)};function je(j,F){var z,J=j.F;if(J)for(z=[];J;J=J.F)z.push(J);if(j=j.M,J=F.type||F,typeof F=="string")F=new B(F,j);else if(F instanceof B)F.target=F.target||j;else{var de=F;F=new B(J,j),M(F,de)}if(de=!0,z)for(var xe=z.length-1;0<=xe;xe--){var Le=F.g=z[xe];de=it(Le,J,!0,F)&&de}if(Le=F.g=j,de=it(Le,J,!0,F)&&de,de=it(Le,J,!1,F)&&de,z)for(xe=0;xe<z.length;xe++)Le=F.g=z[xe],de=it(Le,J,!1,F)&&de}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var j=this.i,F;for(F in j.g){for(var z=j.g[F],J=0;J<z.length;J++)ce(z[J]);delete j.g[F],j.h--}}this.F=null},he.prototype.K=function(j,F,z,J){return this.i.add(String(j),F,!1,z,J)},he.prototype.L=function(j,F,z,J){return this.i.add(String(j),F,!0,z,J)};function it(j,F,z,J){if(F=j.i.g[String(F)],!F)return!0;F=F.concat();for(var de=!0,xe=0;xe<F.length;++xe){var Le=F[xe];if(Le&&!Le.da&&Le.capture==z){var cn=Le.listener,br=Le.ha||Le.src;Le.fa&&le(j.i,Le),de=cn.call(br,J)!==!1&&de}}return de&&!J.defaultPrevented}function vt(j,F,z){if(typeof j=="function")z&&(j=p(j,z));else if(j&&typeof j.handleEvent=="function")j=p(j.handleEvent,j);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:l.setTimeout(j,F||0)}function Dt(j){j.g=vt(()=>{j.g=null,j.i&&(j.i=!1,Dt(j))},j.l);const F=j.h;j.h=null,j.m.apply(null,F)}class er extends Q{constructor(F,z){super(),this.m=F,this.l=z,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(j){Q.call(this),this.h=j,this.g={}}v(Cr,Q);var Er=[];function es(j){C(j.g,function(F,z){this.g.hasOwnProperty(z)&&Je(F)},j),j.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),es(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=l.JSON.stringify,fn=l.JSON.parse,Oi=class{stringify(j){return l.JSON.stringify(j,void 0)}parse(j){return l.JSON.parse(j,void 0)}};function nt(){}nt.prototype.h=null;function Jt(j){return j.h||(j.h=j.i())}function Xt(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){B.call(this,"d")}v(tr,B);function Qs(){B.call(this,"c")}v(Qs,B);var Ns={},jp=null;function Au(){return jp=jp||new he}Ns.La="serverreachability";function Sp(j){B.call(this,Ns.La,j)}v(Sp,B);function Ho(j){const F=Au();je(F,new Sp(F))}Ns.STAT_EVENT="statevent";function Np(j,F){B.call(this,Ns.STAT_EVENT,j),this.stat=F}v(Np,B);function nr(j){const F=Au();je(F,new Np(F,j))}Ns.Ma="timingevent";function bf(j,F){B.call(this,Ns.Ma,j),this.size=F}v(bf,B);function Js(j,F){if(typeof j!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){j()},F)}function Cu(){this.g=!0}Cu.prototype.xa=function(){this.g=!1};function Eu(j,F,z,J,de,xe){j.info(function(){if(j.g)if(xe)for(var Le="",cn=xe.split("&"),br=0;br<cn.length;br++){var Gt=cn[br].split("=");if(1<Gt.length){var Tr=Gt[0];Gt=Gt[1];var cr=Tr.split("_");Le=2<=cr.length&&cr[1]=="type"?Le+(Tr+"="+Gt+"&"):Le+(Tr+"=redacted&")}}else Le=null;else Le=xe;return"XMLHTTP REQ ("+J+") [attempt "+de+"]: "+F+`
`+z+`
`+Le})}function wf(j,F,z,J,de,xe,Le){j.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+de+"]: "+F+`
`+z+`
`+xe+" "+Le})}function Zs(j,F,z,J){j.info(function(){return"XMLHTTP TEXT ("+F+"): "+FS(j,z)+(J?" "+J:"")})}function _p(j,F){j.info(function(){return"TIMEOUT: "+F})}Cu.prototype.info=function(){};function FS(j,F){if(!j.g)return F;if(!F)return null;try{var z=JSON.parse(F);if(z){for(j=0;j<z.length;j++)if(Array.isArray(z[j])){var J=z[j];if(!(2>J.length)){var de=J[1];if(Array.isArray(de)&&!(1>de.length)){var xe=de[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Le=1;Le<de.length;Le++)de[Le]=""}}}}return yi(z)}catch{return F}}var jf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ea;function Tu(){}v(Tu,nt),Tu.prototype.g=function(){return new XMLHttpRequest},Tu.prototype.i=function(){return{}},ea=new Tu;function ta(j,F,z,J){this.j=j,this.i=F,this.l=z,this.R=J||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var kp={},Sf={};function Nf(j,F,z){j.L=1,j.v=Xl(ns(F)),j.m=z,j.P=!0,Ap(j,null)}function Ap(j,F){j.F=Date.now(),xn(j),j.A=ns(j.v);var z=j.A,J=j.R;Array.isArray(J)||(J=[String(J)]),Jl(z.i,"t",J),j.C=0,z=j.j.J,j.h=new dv,j.g=Ev(j.j,z?F:null,!j.m),0<j.O&&(j.M=new er(p(j.Y,j,j.g),j.O)),F=j.U,z=j.g,J=j.ca;var de="readystatechange";Array.isArray(de)||(de&&(Er[0]=de.toString()),de=Er);for(var xe=0;xe<de.length;xe++){var Le=Ae(z,de[xe],J||F.handleEvent,!1,F.h||F);if(!Le)break;F.g[Le.key]=Le}F=j.H?I(j.H):{},j.m?(j.u||(j.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",j.g.ea(j.A,j.u,j.m,F)):(j.u="GET",j.g.ea(j.A,j.u,null,F)),Ho(),Eu(j.i,j.u,j.A,j.l,j.R,j.m)}ta.prototype.ca=function(j){j=j.target;const F=this.M;F&&Di(j)==3?F.j():this.Y(j)},ta.prototype.Y=function(j){try{if(j==this.g)e:{const cr=Di(this.g);var F=this.g.Ba();const As=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||Rp(this.g)))){this.J||cr!=4||F==7||(F==8||0>=As?Ho(3):Ho(2)),Pu(this);var z=this.g.Z();this.X=z;t:if(fv(this)){var J=Rp(this.g);j="";var de=J.length,xe=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),Wl(this);var Le="";break t}this.h.i=new l.TextDecoder}for(F=0;F<de;F++)this.h.h=!0,j+=this.h.i.decode(J[F],{stream:!(xe&&F==de-1)});J.length=0,this.h.g+=j,this.C=0,Le=this.h.g}else Le=this.g.oa();if(this.o=z==200,wf(this.i,this.u,this.A,this.l,this.R,cr,z),this.o){if(this.T&&!this.K){t:{if(this.g){var cn,br=this.g;if((cn=br.g?br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(cn)){var Gt=cn;break t}}Gt=null}if(z=Gt)Zs(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cp(this,z);else{this.o=!1,this.s=3,nr(12),_s(this),Wl(this);break e}}if(this.P){z=!0;let is;for(;!this.J&&this.C<Le.length;)if(is=$S(this,Le),is==Sf){cr==4&&(this.s=4,nr(14),z=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(is==kp){this.s=4,nr(15),Zs(this.i,this.l,Le,"[Invalid Chunk]"),z=!1;break}else Zs(this.i,this.l,is,null),Cp(this,is);if(fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||Le.length!=0||this.h.h||(this.s=1,nr(16),z=!1),this.o=this.o&&z,!z)Zs(this.i,this.l,Le,"[Invalid Chunked Response]"),_s(this),Wl(this);else if(0<Le.length&&!this.W){this.W=!0;var Tr=this.j;Tr.g==this&&Tr.ba&&!Tr.M&&(Tr.j.info("Great, no buffering proxy detected. Bytes received: "+Le.length),Mp(Tr),Tr.M=!0,nr(11))}}else Zs(this.i,this.l,Le,null),Cp(this,Le);cr==4&&_s(this),this.o&&!this.J&&(cr==4?Mf(this.j,this):(this.o=!1,xn(this)))}else Tf(this.g),z==400&&0<Le.indexOf("Unknown SID")?(this.s=3,nr(12)):(this.s=0,nr(13)),_s(this),Wl(this)}}}catch{}finally{}};function fv(j){return j.g?j.u=="GET"&&j.L!=2&&j.j.Ca:!1}function $S(j,F){var z=j.C,J=F.indexOf(`
`,z);return J==-1?Sf:(z=Number(F.substring(z,J)),isNaN(z)?kp:(J+=1,J+z>F.length?Sf:(F=F.slice(J,J+z),j.C=J+z,F)))}ta.prototype.cancel=function(){this.J=!0,_s(this)};function xn(j){j.S=Date.now()+j.I,hv(j,j.I)}function hv(j,F){if(j.B!=null)throw Error("WatchDog timer not null");j.B=Js(p(j.ba,j),F)}function Pu(j){j.B&&(l.clearTimeout(j.B),j.B=null)}ta.prototype.ba=function(){this.B=null;const j=Date.now();0<=j-this.S?(_p(this.i,this.A),this.L!=2&&(Ho(),nr(17)),_s(this),this.s=2,Wl(this)):hv(this,this.S-j)};function Wl(j){j.j.G==0||j.J||Mf(j.j,j)}function _s(j){Pu(j);var F=j.M;F&&typeof F.ma=="function"&&F.ma(),j.M=null,es(j.U),j.g&&(F=j.g,j.g=null,F.abort(),F.ma())}function Cp(j,F){try{var z=j.j;if(z.G!=0&&(z.g==j||xi(z.h,j))){if(!j.K&&xi(z.h,j)&&z.G==3){try{var J=z.Da.g.parse(F)}catch{J=null}if(Array.isArray(J)&&J.length==3){var de=J;if(de[0]==0){e:if(!z.u){if(z.g)if(z.g.F+3e3<j.F)Of(z),aa(z);else break e;Rf(z),nr(18)}}else z.za=de[1],0<z.za-z.T&&37500>de[2]&&z.F&&z.v==0&&!z.C&&(z.C=Js(p(z.Za,z),6e3));if(1>=pv(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else Xo(z,11)}else if((j.K||z.g==j)&&Of(z),!N(F))for(de=z.Da.g.parse(F),F=0;F<de.length;F++){let Gt=de[F];if(z.T=Gt[0],Gt=Gt[1],z.G==2)if(Gt[0]=="c"){z.K=Gt[1],z.ia=Gt[2];const Tr=Gt[3];Tr!=null&&(z.la=Tr,z.j.info("VER="+z.la));const cr=Gt[4];cr!=null&&(z.Aa=cr,z.j.info("SVER="+z.Aa));const As=Gt[5];As!=null&&typeof As=="number"&&0<As&&(J=1.5*As,z.L=J,z.j.info("backChannelRequestTimeoutMs_="+J)),J=z;const is=j.g;if(is){const Fu=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fu){var xe=J.h;xe.g||Fu.indexOf("spdy")==-1&&Fu.indexOf("quic")==-1&&Fu.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(Ep(xe,xe.h),xe.h=null))}if(J.D){const Lf=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;Lf&&(J.ya=Lf,mn(J.I,J.D,Lf))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-j.F,z.j.info("Handshake RTT: "+z.R+"ms")),J=z;var Le=j;if(J.qa=Cv(J,J.J?J.ia:null,J.W),Le.K){gv(J.h,Le);var cn=Le,br=J.L;br&&(cn.I=br),cn.B&&(Pu(cn),xn(cn)),J.g=Le}else Lu(J);0<z.i.length&&Xa(z)}else Gt[0]!="stop"&&Gt[0]!="close"||Xo(z,7);else z.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Xo(z,7):Br(z):Gt[0]!="noop"&&z.l&&z.l.ta(Gt),z.v=0)}}Ho(4)}catch{}}var mv=class{constructor(j,F){this.g=j,this.map=F}};function Iu(j){this.l=j||10,l.PerformanceNavigationTiming?(j=l.performance.getEntriesByType("navigation"),j=0<j.length&&(j[0].nextHopProtocol=="hq"||j[0].nextHopProtocol=="h2")):j=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=j?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ts(j){return j.h?!0:j.g?j.g.size>=j.j:!1}function pv(j){return j.h?1:j.g?j.g.size:0}function xi(j,F){return j.h?j.h==F:j.g?j.g.has(F):!1}function Ep(j,F){j.g?j.g.add(F):j.h=F}function gv(j,F){j.h&&j.h==F?j.h=null:j.g&&j.g.has(F)&&j.g.delete(F)}Iu.prototype.cancel=function(){if(this.i=yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const j of this.g.values())j.cancel();this.g.clear()}};function yv(j){if(j.h!=null)return j.i.concat(j.h.D);if(j.g!=null&&j.g.size!==0){let F=j.i;for(const z of j.g.values())F=F.concat(z.D);return F}return y(j.i)}function _f(j){if(j.V&&typeof j.V=="function")return j.V();if(typeof Map<"u"&&j instanceof Map||typeof Set<"u"&&j instanceof Set)return Array.from(j.values());if(typeof j=="string")return j.split("");if(c(j)){for(var F=[],z=j.length,J=0;J<z;J++)F.push(j[J]);return F}F=[],z=0;for(J in j)F[z++]=j[J];return F}function kf(j){if(j.na&&typeof j.na=="function")return j.na();if(!j.V||typeof j.V!="function"){if(typeof Map<"u"&&j instanceof Map)return Array.from(j.keys());if(!(typeof Set<"u"&&j instanceof Set)){if(c(j)||typeof j=="string"){var F=[];j=j.length;for(var z=0;z<j;z++)F.push(z);return F}F=[],z=0;for(const J in j)F[z++]=J;return F}}}function Gl(j,F){if(j.forEach&&typeof j.forEach=="function")j.forEach(F,void 0);else if(c(j)||typeof j=="string")Array.prototype.forEach.call(j,F,void 0);else for(var z=kf(j),J=_f(j),de=J.length,xe=0;xe<de;xe++)F.call(void 0,J[xe],z&&z[xe],j)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VS(j,F){if(j){j=j.split("&");for(var z=0;z<j.length;z++){var J=j[z].indexOf("="),de=null;if(0<=J){var xe=j[z].substring(0,J);de=j[z].substring(J+1)}else xe=j[z];F(xe,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Wo(j){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,j instanceof Wo){this.h=j.h,Ou(this,j.j),this.o=j.o,this.g=j.g,Kl(this,j.s),this.l=j.l;var F=j.i,z=new Ga;z.i=F.i,F.g&&(z.g=new Map(F.g),z.h=F.h),Yl(this,z),this.m=j.m}else j&&(F=String(j).match(Ru))?(this.h=!1,Ou(this,F[1]||"",!0),this.o=qt(F[2]||""),this.g=qt(F[3]||"",!0),Kl(this,F[4]),this.l=qt(F[5]||"",!0),Yl(this,F[6]||"",!0),this.m=qt(F[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}Wo.prototype.toString=function(){var j=[],F=this.j;F&&j.push(Ql(F,Af,!0),":");var z=this.g;return(z||F=="file")&&(j.push("//"),(F=this.o)&&j.push(Ql(F,Af,!0),"@"),j.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.s,z!=null&&j.push(":",String(z))),(z=this.l)&&(this.g&&z.charAt(0)!="/"&&j.push("/"),j.push(Ql(z,z.charAt(0)=="/"?bv:vv,!0))),(z=this.i.toString())&&j.push("?",z),(z=this.m)&&j.push("#",Ql(z,Tp)),j.join("")};function ns(j){return new Wo(j)}function Ou(j,F,z){j.j=z?qt(F,!0):F,j.j&&(j.j=j.j.replace(/:$/,""))}function Kl(j,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);j.s=F}else j.s=null}function Yl(j,F,z){F instanceof Ga?(j.i=F,Ka(j.i,j.h)):(z||(F=Ql(F,wv)),j.i=new Ga(F,j.h))}function mn(j,F,z){j.i.set(F,z)}function Xl(j){return mn(j,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),j}function qt(j,F){return j?F?decodeURI(j.replace(/%25/g,"%2525")):decodeURIComponent(j):""}function Ql(j,F,z){return typeof j=="string"?(j=encodeURI(j).replace(F,xv),z&&(j=j.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j):null}function xv(j){return j=j.charCodeAt(0),"%"+(j>>4&15).toString(16)+(j&15).toString(16)}var Af=/[#\/\?@]/g,vv=/[#\?:]/g,bv=/[#\?]/g,wv=/[#\?@]/g,Tp=/#/g;function Ga(j,F){this.h=this.g=null,this.i=j||null,this.j=!!F}function Vr(j){j.g||(j.g=new Map,j.h=0,j.i&&VS(j.i,function(F,z){j.add(decodeURIComponent(F.replace(/\+/g," ")),z)}))}t=Ga.prototype,t.add=function(j,F){Vr(this),this.i=null,j=ks(this,j);var z=this.g.get(j);return z||this.g.set(j,z=[]),z.push(F),this.h+=1,this};function na(j,F){Vr(j),F=ks(j,F),j.g.has(F)&&(j.i=null,j.h-=j.g.get(F).length,j.g.delete(F))}function ra(j,F){return Vr(j),F=ks(j,F),j.g.has(F)}t.forEach=function(j,F){Vr(this),this.g.forEach(function(z,J){z.forEach(function(de){j.call(F,de,J,this)},this)},this)},t.na=function(){Vr(this);const j=Array.from(this.g.values()),F=Array.from(this.g.keys()),z=[];for(let J=0;J<F.length;J++){const de=j[J];for(let xe=0;xe<de.length;xe++)z.push(F[J])}return z},t.V=function(j){Vr(this);let F=[];if(typeof j=="string")ra(this,j)&&(F=F.concat(this.g.get(ks(this,j))));else{j=Array.from(this.g.values());for(let z=0;z<j.length;z++)F=F.concat(j[z])}return F},t.set=function(j,F){return Vr(this),this.i=null,j=ks(this,j),ra(this,j)&&(this.h-=this.g.get(j).length),this.g.set(j,[F]),this.h+=1,this},t.get=function(j,F){return j?(j=this.V(j),0<j.length?String(j[0]):F):F};function Jl(j,F,z){na(j,F),0<z.length&&(j.i=null,j.g.set(ks(j,F),y(z)),j.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const j=[],F=Array.from(this.g.keys());for(var z=0;z<F.length;z++){var J=F[z];const xe=encodeURIComponent(String(J)),Le=this.V(J);for(J=0;J<Le.length;J++){var de=xe;Le[J]!==""&&(de+="="+encodeURIComponent(String(Le[J]))),j.push(de)}}return this.i=j.join("&")};function ks(j,F){return F=String(F),j.j&&(F=F.toLowerCase()),F}function Ka(j,F){F&&!j.j&&(Vr(j),j.i=null,j.g.forEach(function(z,J){var de=J.toLowerCase();J!=de&&(na(this,J),Jl(this,de,z))},j)),j.j=F}function BS(j,F){const z=new Cu;if(l.Image){const J=new Image;J.onload=g(Mi,z,"TestLoadImage: loaded",!0,F,J),J.onerror=g(Mi,z,"TestLoadImage: error",!1,F,J),J.onabort=g(Mi,z,"TestLoadImage: abort",!1,F,J),J.ontimeout=g(Mi,z,"TestLoadImage: timeout",!1,F,J),l.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=j}else F(!1)}function jv(j,F){const z=new Cu,J=new AbortController,de=setTimeout(()=>{J.abort(),Mi(z,"TestPingServer: timeout",!1,F)},1e4);fetch(j,{signal:J.signal}).then(xe=>{clearTimeout(de),xe.ok?Mi(z,"TestPingServer: ok",!0,F):Mi(z,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(de),Mi(z,"TestPingServer: error",!1,F)})}function Mi(j,F,z,J,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),J(z)}catch{}}function US(){this.g=new Oi}function Sv(j,F,z){const J=z||"";try{Gl(j,function(de,xe){let Le=de;u(de)&&(Le=yi(de)),F.push(J+xe+"="+encodeURIComponent(Le))})}catch(de){throw F.push(J+"type="+encodeURIComponent("_badmap")),de}}function Go(j){this.l=j.Ub||null,this.j=j.eb||!1}v(Go,nt),Go.prototype.g=function(){return new Mu(this.l,this.j)},Go.prototype.i=function(j){return function(){return j}}({});function Mu(j,F){he.call(this),this.D=j,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Mu,he),t=Mu.prototype,t.open=function(j,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=j,this.A=F,this.readyState=1,sa(this)},t.send=function(j){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};j&&(F.body=j),(this.D||l).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(j){if(this.g&&(this.l=j,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=j.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")j.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in j){if(this.j=j.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nv(this)}else j.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nv(j){j.j.read().then(j.Pa.bind(j)).catch(j.ga.bind(j))}t.Pa=function(j){if(this.g){if(this.o&&j.value)this.response.push(j.value);else if(!this.o){var F=j.value?j.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!j.done}))&&(this.response=this.responseText+=F)}j.done?ia(this):sa(this),this.readyState==3&&Nv(this)}},t.Ra=function(j){this.g&&(this.response=this.responseText=j,ia(this))},t.Qa=function(j){this.g&&(this.response=j,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(j){j.readyState=4,j.l=null,j.j=null,j.v=null,sa(j)}t.setRequestHeader=function(j,F){this.u.append(j,F)},t.getResponseHeader=function(j){return this.h&&this.h.get(j.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const j=[],F=this.h.entries();for(var z=F.next();!z.done;)z=z.value,j.push(z[0]+": "+z[1]),z=F.next();return j.join(`\r
`)};function sa(j){j.onreadystatechange&&j.onreadystatechange.call(j)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(j){this.m=j?"include":"same-origin"}});function Ko(j){let F="";return C(j,function(z,J){F+=J,F+=":",F+=z,F+=`\r
`}),F}function Zl(j,F,z){e:{for(J in z){var J=!1;break e}J=!0}J||(z=Ko(z),typeof j=="string"?z!=null&&encodeURIComponent(String(z)):mn(j,F,z))}function On(j){he.call(this),this.headers=new Map,this.o=j||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(On,he);var zS=/^https?$/i,Pp=["POST","PUT"];t=On.prototype,t.Ha=function(j){this.J=j},t.ea=function(j,F,z,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+j);F=F?F.toUpperCase():"GET",this.D=j,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ea.g(),this.v=this.o?Jt(this.o):Jt(ea),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(F,String(j),!0),this.B=!1}catch(xe){Du(this,xe);return}if(j=z||"",z=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var de in J)z.set(de,J[de]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const xe of J.keys())z.set(xe,J.get(xe));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(z.keys()).find(xe=>xe.toLowerCase()=="content-type"),de=l.FormData&&j instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Pp,F,void 0))||J||de||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Le]of z)this.g.setRequestHeader(xe,Le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ef(this),this.u=!0,this.g.send(j),this.u=!1}catch(xe){Du(this,xe)}};function Du(j,F){j.h=!1,j.g&&(j.j=!0,j.g.abort(),j.j=!1),j.l=F,j.m=5,Cf(j),rs(j)}function Cf(j){j.A||(j.A=!0,je(j,"complete"),je(j,"error"))}t.abort=function(j){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=j||7,je(this,"complete"),je(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),On.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ip(this):this.bb())},t.bb=function(){Ip(this)};function Ip(j){if(j.h&&typeof o<"u"&&(!j.v[1]||Di(j)!=4||j.Z()!=2)){if(j.u&&Di(j)==4)vt(j.Ea,0,j);else if(je(j,"readystatechange"),Di(j)==4){j.h=!1;try{const Le=j.Z();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var z;if(!(z=F)){var J;if(J=Le===0){var de=String(j.D).match(Ru)[1]||null;!de&&l.self&&l.self.location&&(de=l.self.location.protocol.slice(0,-1)),J=!zS.test(de?de.toLowerCase():"")}z=J}if(z)je(j,"complete"),je(j,"success");else{j.m=6;try{var xe=2<Di(j)?j.g.statusText:""}catch{xe=""}j.l=xe+" ["+j.Z()+"]",Cf(j)}}finally{rs(j)}}}}function rs(j,F){if(j.g){Ef(j);const z=j.g,J=j.v[0]?()=>{}:null;j.g=null,j.v=null,F||je(j,"ready");try{z.onreadystatechange=J}catch{}}}function Ef(j){j.I&&(l.clearTimeout(j.I),j.I=null)}t.isActive=function(){return!!this.g};function Di(j){return j.g?j.g.readyState:0}t.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(j){if(this.g){var F=this.g.responseText;return j&&F.indexOf(j)==0&&(F=F.substring(j.length)),fn(F)}};function Rp(j){try{if(!j.g)return null;if("response"in j.g)return j.g.response;switch(j.H){case"":case"text":return j.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in j.g)return j.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(j){const F={};j=(j.g&&2<=Di(j)&&j.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<j.length;J++){if(N(j[J]))continue;var z=L(j[J]);const de=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const xe=F[de]||[];F[de]=xe,xe.push(z)}T(F,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(j,F,z){return z&&z.internalChannelParams&&z.internalChannelParams[j]||F}function Op(j){this.Aa=0,this.i=[],this.j=new Cu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,j),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,j),this.cb=Ya("retryDelaySeedMs",1e4,j),this.Wa=Ya("forwardChannelMaxRetries",2,j),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,j),this.pa=j&&j.xmlHttpFactory||void 0,this.Xa=j&&j.Tb||void 0,this.Ca=j&&j.useFetchStreams||!1,this.L=void 0,this.J=j&&j.supportsCrossDomainXhr||!1,this.K="",this.h=new Iu(j&&j.concurrentRequestLimit),this.Da=new US,this.P=j&&j.fastHandshake||!1,this.O=j&&j.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=j&&j.Rb||!1,j&&j.xa&&this.j.xa(),j&&j.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&j&&j.detectBufferingProxy||!1,this.ja=void 0,j&&j.longPollingTimeout&&0<j.longPollingTimeout&&(this.ja=j.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Op.prototype,t.la=8,t.G=1,t.connect=function(j,F,z,J){nr(0),this.W=j,this.H=F||{},z&&J!==void 0&&(this.H.OSID=z,this.H.OAID=J),this.F=this.X,this.I=Cv(this,null,this.W),Xa(this)};function Br(j){if(Pf(j),j.G==3){var F=j.U++,z=ns(j.I);if(mn(z,"SID",j.K),mn(z,"RID",F),mn(z,"TYPE","terminate"),Yo(j,z),F=new ta(j,j.j,F),F.L=2,F.v=Xl(ns(z)),z=!1,l.navigator&&l.navigator.sendBeacon)try{z=l.navigator.sendBeacon(F.v.toString(),"")}catch{}!z&&l.Image&&(new Image().src=F.v,z=!0),z||(F.g=Ev(F.j,null),F.g.ea(F.v)),F.F=Date.now(),xn(F)}Av(j)}function aa(j){j.g&&(Mp(j),j.g.cancel(),j.g=null)}function Pf(j){aa(j),j.u&&(l.clearTimeout(j.u),j.u=null),Of(j),j.h.cancel(),j.s&&(typeof j.s=="number"&&l.clearTimeout(j.s),j.s=null)}function Xa(j){if(!ts(j.h)&&!j.s){j.s=!0;var F=j.Ga;Y||U(),K||(Y(),K=!0),Z.add(F,j),j.B=0}}function qS(j,F){return pv(j.h)>=j.h.j-(j.s?1:0)?!1:j.s?(j.i=F.D.concat(j.i),!0):j.G==1||j.G==2||j.B>=(j.Va?0:j.Wa)?!1:(j.s=Js(p(j.Ga,j,F),kv(j,j.B)),j.B++,!0)}t.Ga=function(j){if(this.s)if(this.s=null,this.G==1){if(!j){this.U=Math.floor(1e5*Math.random()),j=this.U++;const de=new ta(this,this.j,j);let xe=this.o;if(this.S&&(xe?(xe=I(xe),M(xe,this.S)):xe=this.S),this.m!==null||this.O||(de.H=xe,xe=null),this.P)e:{for(var F=0,z=0;z<this.i.length;z++){t:{var J=this.i[z];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(F+=J,4096<F){F=z;break e}if(F===4096||z===this.i.length-1){F=z+1;break e}}F=1e3}else F=1e3;F=ec(this,de,F),z=ns(this.I),mn(z,"RID",j),mn(z,"CVER",22),this.D&&mn(z,"X-HTTP-Session-Id",this.D),Yo(this,z),xe&&(this.O?F="headers="+encodeURIComponent(String(Ko(xe)))+"&"+F:this.m&&Zl(z,this.m,xe)),Ep(this.h,de),this.Ua&&mn(z,"TYPE","init"),this.P?(mn(z,"$req",F),mn(z,"SID","null"),de.T=!0,Nf(de,z,null)):Nf(de,z,F),this.G=2}}else this.G==3&&(j?If(this,j):this.i.length==0||ts(this.h)||If(this))};function If(j,F){var z;F?z=F.l:z=j.U++;const J=ns(j.I);mn(J,"SID",j.K),mn(J,"RID",z),mn(J,"AID",j.T),Yo(j,J),j.m&&j.o&&Zl(J,j.m,j.o),z=new ta(j,j.j,z,j.B+1),j.m===null&&(z.H=j.o),F&&(j.i=F.D.concat(j.i)),F=ec(j,z,1e3),z.I=Math.round(.5*j.wa)+Math.round(.5*j.wa*Math.random()),Ep(j.h,z),Nf(z,J,F)}function Yo(j,F){j.H&&C(j.H,function(z,J){mn(F,J,z)}),j.l&&Gl({},function(z,J){mn(F,J,z)})}function ec(j,F,z){z=Math.min(j.i.length,z);var J=j.l?p(j.l.Na,j.l,j):null;e:{var de=j.i;let xe=-1;for(;;){const Le=["count="+z];xe==-1?0<z?(xe=de[0].g,Le.push("ofs="+xe)):xe=0:Le.push("ofs="+xe);let cn=!0;for(let br=0;br<z;br++){let Gt=de[br].g;const Tr=de[br].map;if(Gt-=xe,0>Gt)xe=Math.max(0,de[br].g-100),cn=!1;else try{Sv(Tr,Le,"req"+Gt+"_")}catch{J&&J(Tr)}}if(cn){J=Le.join("&");break e}}}return j=j.i.splice(0,z),F.D=j,J}function Lu(j){if(!j.g&&!j.u){j.Y=1;var F=j.Fa;Y||U(),K||(Y(),K=!0),Z.add(F,j),j.v=0}}function Rf(j){return j.g||j.u||3<=j.v?!1:(j.Y++,j.u=Js(p(j.Fa,j),kv(j,j.v)),j.v++,!0)}t.Fa=function(){if(this.u=null,_v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var j=2*this.R;this.j.info("BP detection timer enabled: "+j),this.A=Js(p(this.ab,this),j)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nr(10),aa(this),_v(this))};function Mp(j){j.A!=null&&(l.clearTimeout(j.A),j.A=null)}function _v(j){j.g=new ta(j,j.j,"rpc",j.Y),j.m===null&&(j.g.H=j.o),j.g.O=0;var F=ns(j.qa);mn(F,"RID","rpc"),mn(F,"SID",j.K),mn(F,"AID",j.T),mn(F,"CI",j.F?"0":"1"),!j.F&&j.ja&&mn(F,"TO",j.ja),mn(F,"TYPE","xmlhttp"),Yo(j,F),j.m&&j.o&&Zl(F,j.m,j.o),j.L&&(j.g.I=j.L);var z=j.g;j=j.ia,z.L=1,z.v=Xl(ns(F)),z.m=null,z.P=!0,Ap(z,j)}t.Za=function(){this.C!=null&&(this.C=null,aa(this),Rf(this),nr(19))};function Of(j){j.C!=null&&(l.clearTimeout(j.C),j.C=null)}function Mf(j,F){var z=null;if(j.g==F){Of(j),Mp(j),j.g=null;var J=2}else if(xi(j.h,F))z=F.D,gv(j.h,F),J=1;else return;if(j.G!=0){if(F.o)if(J==1){z=F.m?F.m.length:0,F=Date.now()-F.F;var de=j.B;J=Au(),je(J,new bf(J,z)),Xa(j)}else Lu(j);else if(de=F.s,de==3||de==0&&0<F.X||!(J==1&&qS(j,F)||J==2&&Rf(j)))switch(z&&0<z.length&&(F=j.h,F.i=F.i.concat(z)),de){case 1:Xo(j,5);break;case 4:Xo(j,10);break;case 3:Xo(j,6);break;default:Xo(j,2)}}}function kv(j,F){let z=j.Ta+Math.floor(Math.random()*j.cb);return j.isActive()||(z*=2),z*F}function Xo(j,F){if(j.j.info("Error code "+F),F==2){var z=p(j.fb,j),J=j.Xa;const de=!J;J=new Wo(J||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ou(J,"https"),Xl(J),de?BS(J.toString(),z):jv(J.toString(),z)}else nr(2);j.G=0,j.l&&j.l.sa(F),Av(j),Pf(j)}t.fb=function(j){j?(this.j.info("Successfully pinged google.com"),nr(2)):(this.j.info("Failed to ping google.com"),nr(1))};function Av(j){if(j.G=0,j.ka=[],j.l){const F=yv(j.h);(F.length!=0||j.i.length!=0)&&(b(j.ka,F),b(j.ka,j.i),j.h.i.length=0,y(j.i),j.i.length=0),j.l.ra()}}function Cv(j,F,z){var J=z instanceof Wo?ns(z):new Wo(z);if(J.g!="")F&&(J.g=F+"."+J.g),Kl(J,J.s);else{var de=l.location;J=de.protocol,F=F?F+"."+de.hostname:de.hostname,de=+de.port;var xe=new Wo(null);J&&Ou(xe,J),F&&(xe.g=F),de&&Kl(xe,de),z&&(xe.l=z),J=xe}return z=j.D,F=j.ya,z&&F&&mn(J,z,F),mn(J,"VER",j.la),Yo(j,J),J}function Ev(j,F,z){if(F&&!j.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=j.Ca&&!j.pa?new On(new Go({eb:z})):new On(j.pa),F.Ha(j.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dp(){}t=Dp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Df(){}Df.prototype.g=function(j,F){return new vi(j,F)};function vi(j,F){he.call(this),this.g=new Op(F),this.l=j,this.h=F&&F.messageUrlParams||null,j=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(j?j["X-Client-Protocol"]="webchannel":j={"X-Client-Protocol":"webchannel"}),this.g.o=j,j=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(j?j["X-WebChannel-Content-Type"]=F.messageContentType:j={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(j?j["X-WebChannel-Client-Profile"]=F.va:j={"X-WebChannel-Client-Profile":F.va}),this.g.S=j,(j=F&&F.Sb)&&!N(j)&&(this.g.m=j),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!N(F)&&(this.g.D=F,j=this.h,j!==null&&F in j&&(j=this.h,F in j&&delete j[F])),this.j=new Qa(this)}v(vi,he),vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){Br(this.g)},vi.prototype.o=function(j){var F=this.g;if(typeof j=="string"){var z={};z.__data__=j,j=z}else this.u&&(z={},z.__data__=yi(j),j=z);F.i.push(new mv(F.Ya++,j)),F.G==3&&Xa(F)},vi.prototype.N=function(){this.g.l=null,delete this.j,Br(this.g),delete this.g,vi.aa.N.call(this)};function Tv(j){tr.call(this),j.__headers__&&(this.headers=j.__headers__,this.statusCode=j.__status__,delete j.__headers__,delete j.__status__);var F=j.__sm__;if(F){e:{for(const z in F){j=z;break e}j=void 0}(this.i=j)&&(j=this.i,F=F!==null&&j in F?F[j]:void 0),this.data=F}else this.data=j}v(Tv,tr);function Pv(){Qs.call(this),this.status=1}v(Pv,Qs);function Qa(j){this.g=j}v(Qa,Dp),Qa.prototype.ua=function(){je(this.g,"a")},Qa.prototype.ta=function(j){je(this.g,new Tv(j))},Qa.prototype.sa=function(j){je(this.g,new Pv)},Qa.prototype.ra=function(){je(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,bY=function(){return new Df},vY=function(){return Au()},xY=Ns,uT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jf.NO_ERROR=0,jf.TIMEOUT=8,jf.HTTP_ERROR=6,_0=jf,uv.COMPLETE="complete",yY=uv,Xt.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",he.prototype.listen=he.prototype.K,Ag=Xt,On.prototype.listenOnce=On.prototype.L,On.prototype.getLastError=On.prototype.Ka,On.prototype.getLastErrorCode=On.prototype.Ba,On.prototype.getStatus=On.prototype.Z,On.prototype.getResponseJson=On.prototype.Oa,On.prototype.getResponseText=On.prototype.oa,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Ha,gY=On}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});const tF="@firebase/firestore",nF="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new ij("@firebase/firestore");function gh(){return zd.logLevel}function qe(t,...e){if(zd.logLevel<=Ut.DEBUG){const n=e.map(FR);zd.debug(`Firestore (${np}): ${t}`,...n)}}function Il(t,...e){if(zd.logLevel<=Ut.ERROR){const n=e.map(FR);zd.error(`Firestore (${np}): ${t}`,...n)}}function om(t,...e){if(zd.logLevel<=Ut.WARN){const n=e.map(FR);zd.warn(`Firestore (${np}): ${t}`,...n)}}function FR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t="Unexpected state"){const e=`FIRESTORE (${np}) INTERNAL ASSERTION FAILED: `+t;throw Il(e),new Error(e)}function ln(t,e){t||wt()}function Ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(oi.UNAUTHENTICATED))}shutdown(){}}class Wve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gve{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ln(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Sl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ln(typeof r.accessToken=="string"),new wY(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ln(e===null||typeof e=="string"),new oi(e)}}class Kve{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yve{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kve(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xve{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ps(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ln(this.o===void 0);const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new rF(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ln(typeof n.token=="string"),this.R=n.token,new rF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Qve(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Lt(t,e){return t<e?-1:t>e?1:0}function dT(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Lt(r,i);{const s=jY(),o=Jve(s.encode(iF(t,n)),s.encode(iF(e,n)));return o!==0?o:Lt(r,i)}}n+=r>65535?2:1}return Lt(t.length,e.length)}function iF(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Jve(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Lt(t[n],e[n]);return Lt(t.length,e.length)}function lm(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=-62135596800,aF=1e6;class Fn{static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aF);return new Fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sF)throw new Ue(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aF}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Fn(0,0))}static max(){return new _t(new Fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="__name__";class io{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(),r===void 0?r=e.length-n:r>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return io.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof io?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=io.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Lt(e.length,n.length)}static compareSegments(e,n){const r=io.isNumericId(e),i=io.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?io.extractNumericId(e).compare(io.extractNumericId(n)):dT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qc.fromString(e.substring(4,e.length-2))}}class Pn extends io{construct(e,n,r){return new Pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pn(n)}static emptyPath(){return new Pn([])}}const Zve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends io{construct(e,n,r){return new Gr(e,n,r)}static isValidIdentifier(e){return Zve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oF}static keyField(){return new Gr([oF])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ue(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ue(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ue(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Ue(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(n)}static emptyPath(){return new Gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(Pn.fromString(e))}static fromName(e){return new at(Pn.fromString(e).popFirst(5))}static empty(){return new at(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new Pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function ebe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new Fn(n+1,0):new Fn(n,r));return new eu(i,at.empty(),e)}function tbe(t){return new eu(t.readTime,t.key,by)}class eu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eu(_t.min(),at.empty(),by)}static max(){return new eu(_t.max(),at.empty(),by)}}function nbe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:Lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rbe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ibe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==rbe)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_e.reject(n)}static resolve(e){return new _e((n,r)=>{n(e)})}static reject(e){return new _e((n,r)=>{r(e)})}static waitFor(e){return new _e((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next(i=>i?_e.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _e((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new _e((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function sbe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ip(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}hj.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=-1;function mj(t){return t==null}function iw(t){return t===0&&1/t==-1/0}function abe(t){return typeof t=="number"&&Number.isInteger(t)&&!iw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="";function obe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lF(e)),e=lbe(t.get(n),e);return lF(e)}function lbe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case NY:n+="";break;default:n+=s}}return n}function lF(t){return t+NY+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _Y(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.comparator=e,this.root=n||Wr.EMPTY}insert(e,n){return new Wn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new Wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bb(this.root,e,this.comparator,!0)}}class Bb{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wr.RED,this.left=i??Wr.EMPTY,this.right=s??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1;Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new Wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uF(this.data.getIterator())}getIteratorFrom(e){return new uF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class uF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new xs([])}unionWith(e){let n=new kr(Gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kY("Invalid base64 string: "+s):s}}(e);return new Xr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Xr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const cbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(t){if(ln(!!t),typeof t=="string"){let e=0;const n=cbe.exec(t);if(ln(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(t.seconds),nanos:sr(t.nanos)}}function sr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nu(t){return typeof t=="string"?Xr.fromBase64String(t):Xr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY="server_timestamp",CY="__type__",EY="__previous_value__",TY="__local_write_time__";function VR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CY])===null||n===void 0?void 0:n.stringValue)===AY}function pj(t){const e=t.mapValue.fields[EY];return VR(e)?pj(e):e}function wy(t){const e=tu(t.mapValue.fields[TY].timestampValue);return new Fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}const sw="(default)";class jy{constructor(e,n){this.projectId=e,this.database=n||sw}static empty(){return new jy("","")}get isDefaultDatabase(){return this.database===sw}isEqual(e){return e instanceof jy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY="__type__",dbe="__max__",Ub={mapValue:{}},IY="__vector__",aw="value";function ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?VR(t)?4:hbe(t)?9007199254740991:fbe(t)?10:11:wt()}function Io(t,e){if(t===e)return!0;const n=ru(t);if(n!==ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wy(t).isEqual(wy(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=tu(i.timestampValue),l=tu(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return nu(i.bytesValue).isEqual(nu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return sr(i.geoPointValue.latitude)===sr(s.geoPointValue.latitude)&&sr(i.geoPointValue.longitude)===sr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return sr(i.integerValue)===sr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=sr(i.doubleValue),l=sr(s.doubleValue);return o===l?iw(o)===iw(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return lm(t.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(cF(o)!==cF(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Io(o[c],l[c])))return!1;return!0}(t,e);default:return wt()}}function Sy(t,e){return(t.values||[]).find(n=>Io(n,e))!==void 0}function cm(t,e){if(t===e)return 0;const n=ru(t),r=ru(e);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=sr(s.integerValue||s.doubleValue),c=sr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return dF(t.timestampValue,e.timestampValue);case 4:return dF(wy(t),wy(e));case 5:return dT(t.stringValue,e.stringValue);case 6:return function(s,o){const l=nu(s),c=nu(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Lt(l[u],c[u]);if(f!==0)return f}return Lt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Lt(sr(s.latitude),sr(o.latitude));return l!==0?l:Lt(sr(s.longitude),sr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fF(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,f;const h=s.fields||{},p=o.fields||{},g=(l=h[aw])===null||l===void 0?void 0:l.arrayValue,v=(c=p[aw])===null||c===void 0?void 0:c.arrayValue,y=Lt(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0);return y!==0?y:fF(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ub.mapValue&&o===Ub.mapValue)return 0;if(s===Ub.mapValue)return 1;if(o===Ub.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const p=dT(c[h],f[h]);if(p!==0)return p;const g=cm(l[c[h]],u[f[h]]);if(g!==0)return g}return Lt(c.length,f.length)}(t.mapValue,e.mapValue);default:throw wt()}}function dF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Lt(t,e);const n=tu(t),r=tu(e),i=Lt(n.seconds,r.seconds);return i!==0?i:Lt(n.nanos,r.nanos)}function fF(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=cm(n[i],r[i]);if(s)return s}return Lt(n.length,r.length)}function um(t){return fT(t)}function fT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=tu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fT(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fT(n.fields[o])}`;return i+"}"}(t.mapValue):wt()}function k0(t){switch(ru(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pj(t);return e?16+k0(e):16;case 5:return 2*t.stringValue.length;case 6:return nu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+k0(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return pu(r.fields,(s,o)=>{i+=s.length+k0(o)}),i}(t.mapValue);default:throw wt()}}function hF(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hT(t){return!!t&&"integerValue"in t}function BR(t){return!!t&&"arrayValue"in t}function mF(t){return!!t&&"nullValue"in t}function pF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function A0(t){return!!t&&"mapValue"in t}function fbe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PY])===null||n===void 0?void 0:n.stringValue)===IY}function Hg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hbe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dbe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!A0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hg(n)}setAll(e){let n=Gr.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Hg(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());A0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];A0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hi(Hg(this.value))}}function RY(t){const e=[];return pu(t.fields,(n,r)=>{const i=new Gr([n]);if(A0(r)){const s=RY(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new li(e,0,_t.min(),_t.min(),_t.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new li(e,1,n,_t.min(),r,i,0)}static newNoDocument(e,n){return new li(e,2,n,_t.min(),_t.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new li(e,3,n,_t.min(),_t.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.position=e,this.inclusive=n}}function gF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=cm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n="asc"){this.field=e,this.dir=n}}function mbe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{}class pr extends OY{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gbe(e,n,r):n==="array-contains"?new vbe(e,r):n==="in"?new bbe(e,r):n==="not-in"?new wbe(e,r):n==="array-contains-any"?new jbe(e,r):new pr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ybe(e,r):new xbe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cm(n,this.value)):n!==null&&ru(this.value)===ru(n)&&this.matchesComparison(cm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class La extends OY{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new La(e,n)}matches(e){return MY(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function MY(t){return t.op==="and"}function DY(t){return pbe(t)&&MY(t)}function pbe(t){for(const e of t.filters)if(e instanceof La)return!1;return!0}function mT(t){if(t instanceof pr)return t.field.canonicalString()+t.op.toString()+um(t.value);if(DY(t))return t.filters.map(e=>mT(e)).join(",");{const e=t.filters.map(n=>mT(n)).join(",");return`${t.op}(${e})`}}function LY(t,e){return t instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.field.isEqual(i.field)&&Io(r.value,i.value)}(t,e):t instanceof La?function(r,i){return i instanceof La&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&LY(o,i.filters[l]),!0):!1}(t,e):void wt()}function FY(t){return t instanceof pr?function(n){return`${n.field.canonicalString()} ${n.op} ${um(n.value)}`}(t):t instanceof La?function(n){return n.op.toString()+" {"+n.getFilters().map(FY).join(" ,")+"}"}(t):"Filter"}class gbe extends pr{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class ybe extends pr{constructor(e,n){super(e,"in",n),this.keys=$Y("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xbe extends pr{constructor(e,n){super(e,"not-in",n),this.keys=$Y("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $Y(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>at.fromName(r.referenceValue))}class vbe extends pr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return BR(n)&&Sy(n.arrayValue,this.value)}}class bbe extends pr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sy(this.value.arrayValue,n)}}class wbe extends pr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sy(this.value.arrayValue,n)}}class jbe extends pr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!BR(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.le=null}}function xF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sbe(t,e,n,r,i,s,o)}function UR(t){const e=Ct(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mj(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>um(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>um(r)).join(",")),e.le=n}return e.le}function zR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mbe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LY(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yF(t.startAt,e.startAt)&&yF(t.endAt,e.endAt)}function pT(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Nbe(t,e,n,r,i,s,o,l){return new sp(t,e,n,r,i,s,o,l)}function gj(t){return new sp(t)}function vF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VY(t){return t.collectionGroup!==null}function Wg(t){const e=Ct(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new kr(Gr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Ny(s,r))}),n.has(Gr.keyField().canonicalString())||e.he.push(new Ny(Gr.keyField(),r))}return e.he}function xo(t){const e=Ct(t);return e.Pe||(e.Pe=_be(e,Wg(t))),e.Pe}function _be(t,e){if(t.limitType==="F")return xF(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ny(i.field,s)});const n=t.endAt?new ow(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ow(t.startAt.position,t.startAt.inclusive):null;return xF(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gT(t,e){const n=t.filters.concat([e]);return new sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lw(t,e,n){return new sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yj(t,e){return zR(xo(t),xo(e))&&t.limitType===e.limitType}function BY(t){return`${UR(xo(t))}|lt:${t.limitType}`}function yh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FY(i)).join(", ")}]`),mj(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>um(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>um(i)).join(",")),`Target(${r})`}(xo(t))}; limitType=${t.limitType})`}function xj(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=gF(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Wg(r),i)||r.endAt&&!function(o,l,c){const u=gF(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Wg(r),i))}(t,e)}function kbe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UY(t){return(e,n)=>{let r=!1;for(const i of Wg(t)){const s=Abe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Abe(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?cm(c,u):wt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _Y(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cbe=new Wn(at.comparator);function Rl(){return Cbe}const zY=new Wn(at.comparator);function Cg(...t){let e=zY;for(const n of t)e=e.insert(n.key,n);return e}function qY(t){let e=zY;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hd(){return Gg()}function HY(){return Gg()}function Gg(){return new uf(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ebe=new Wn(at.comparator),Tbe=new kr(at.comparator);function zt(...t){let e=Tbe;for(const n of t)e=e.add(n);return e}const Pbe=new kr(Lt);function Ibe(){return Pbe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iw(e)?"-0":e}}function WY(t){return{integerValue:""+t}}function Rbe(t,e){return abe(e)?WY(e):qR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this._=void 0}}function Obe(t,e,n){return t instanceof _y?function(i,s){const o={fields:{[CY]:{stringValue:AY},[TY]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&VR(s)&&(s=pj(s)),s&&(o.fields[EY]=s),{mapValue:o}}(n,e):t instanceof dm?KY(t,e):t instanceof fm?YY(t,e):function(i,s){const o=GY(i,s),l=bF(o)+bF(i.Ie);return hT(o)&&hT(i.Ie)?WY(l):qR(i.serializer,l)}(t,e)}function Mbe(t,e,n){return t instanceof dm?KY(t,e):t instanceof fm?YY(t,e):n}function GY(t,e){return t instanceof cw?function(r){return hT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _y extends vj{}class dm extends vj{constructor(e){super(),this.elements=e}}function KY(t,e){const n=XY(e);for(const r of t.elements)n.some(i=>Io(i,r))||n.push(r);return{arrayValue:{values:n}}}class fm extends vj{constructor(e){super(),this.elements=e}}function YY(t,e){let n=XY(e);for(const r of t.elements)n=n.filter(i=>!Io(i,r));return{arrayValue:{values:n}}}class cw extends vj{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function bF(t){return sr(t.integerValue||t.doubleValue)}function XY(t){return BR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.field=e,this.transform=n}}function Dbe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof dm&&i instanceof dm||r instanceof fm&&i instanceof fm?lm(r.elements,i.elements,Io):r instanceof cw&&i instanceof cw?Io(r.Ie,i.Ie):r instanceof _y&&i instanceof _y}(t.transform,e.transform)}class Lbe{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bj{}function QY(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wj(t.key,Ii.none()):new $x(t.key,t.data,Ii.none());{const n=t.data,r=Hi.empty();let i=new kr(Gr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gu(t.key,r,new xs(i.toArray()),Ii.none())}}function Fbe(t,e,n){t instanceof $x?function(i,s,o){const l=i.value.clone(),c=jF(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gu?function(i,s,o){if(!C0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=jF(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(JY(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kg(t,e,n,r){return t instanceof $x?function(s,o,l,c){if(!C0(s.precondition,o))return l;const u=s.value.clone(),f=SF(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gu?function(s,o,l,c){if(!C0(s.precondition,o))return l;const u=SF(s.fieldTransforms,c,o),f=o.data;return f.setAll(JY(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,l){return C0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function $be(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GY(r.transform,i||null);s!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,s))}return n||null}function wF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lm(r,i,(s,o)=>Dbe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $x extends bj{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends bj{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JY(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jF(t,e,n){const r=new Map;ln(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Mbe(o,l,n[i]))}return r}function SF(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Obe(s,o,e))}return r}class wj extends bj{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vbe extends bj{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bbe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Fbe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HY();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=QY(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),zt())}isEqual(e){return this.batchId===e.batchId&&lm(this.mutations,e.mutations,(n,r)=>wF(n,r))&&lm(this.baseMutations,e.baseMutations,(n,r)=>wF(n,r))}}class WR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ln(e.mutations.length===r.length);let i=function(){return Ebe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new WR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ube{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zbe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr,Kt;function qbe(t){switch(t){case we.OK:return wt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return wt()}}function ZY(t){if(t===void 0)return Il("GRPC error has no .code"),we.UNKNOWN;switch(t){case dr.OK:return we.OK;case dr.CANCELLED:return we.CANCELLED;case dr.UNKNOWN:return we.UNKNOWN;case dr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case dr.INTERNAL:return we.INTERNAL;case dr.UNAVAILABLE:return we.UNAVAILABLE;case dr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case dr.NOT_FOUND:return we.NOT_FOUND;case dr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case dr.ABORTED:return we.ABORTED;case dr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case dr.DATA_LOSS:return we.DATA_LOSS;default:return wt()}}(Kt=dr||(dr={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hbe=new qc([4294967295,4294967295],0);function NF(t){const e=jY().encode(t),n=new pY;return n.update(e),new Uint8Array(n.digest())}function _F(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qc([n,r],0),new qc([i,s],0)]}class GR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eg(`Invalid padding: ${n}`);if(r<0)throw new Eg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eg(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qc.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(qc.fromNumber(r)));return i.compare(Hbe)===1&&(i=new qc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=NF(e),[r,i]=_F(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new GR(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=NF(e),[r,i]=_F(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jj(_t.min(),i,new Wn(Lt),Rl(),zt())}}class Vx{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vx(r,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class eX{constructor(e,n){this.targetId=e,this.ge=n}}class tX{constructor(e,n,r=Xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kF{constructor(){this.pe=0,this.ye=AF(),this.we=Xr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=zt(),n=zt(),r=zt();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new Vx(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=AF()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ln(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Wbe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Rl(),this.$e=zb(),this.Ue=zb(),this.Ke=new Wn(Lt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(pT(s))if(r===0){const o=new at(s.path);this.ze(n,o,li.newNoDocument(o,_t.min()))}else ln(r===1);else{const o=this.et(n);if(o!==r){const l=this.tt(e),c=l?this.nt(l,e,o):1;if(c!==0){this.Ye(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=nu(r).toUint8Array()}catch(c){if(c instanceof kY)return om("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new GR(o,i,s)}catch(c){return om(c instanceof Eg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const l=this.Xe(o);if(l){if(s.current&&pT(l.target)){const c=new at(l.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,li.newNoDocument(c,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=zt();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Xe(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new jj(e,n,this.Ke,this.Qe,r);return this.Qe=Rl(),this.$e=zb(),this.Ue=zb(),this.Ke=new Wn(Lt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new kF,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new kr(Lt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new kr(Lt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kF),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function zb(){return new Wn(at.comparator)}function AF(){return new Wn(at.comparator)}const Gbe={asc:"ASCENDING",desc:"DESCENDING"},Kbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ybe={and:"AND",or:"OR"};class Xbe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yT(t,e){return t.useProto3Json||mj(e)?e:{value:e}}function uw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nX(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qbe(t,e){return uw(t,e.toTimestamp())}function vo(t){return ln(!!t),_t.fromTimestamp(function(n){const r=tu(n);return new Fn(r.seconds,r.nanos)}(t))}function KR(t,e){return xT(t,e).canonicalString()}function xT(t,e){const n=function(i){return new Pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rX(t){const e=Pn.fromString(t);return ln(lX(e)),e}function vT(t,e){return KR(t.databaseId,e.path)}function H_(t,e){const n=rX(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(sX(n))}function iX(t,e){return KR(t.databaseId,e)}function Jbe(t){const e=rX(t);return e.length===4?Pn.emptyPath():sX(e)}function bT(t){return new Pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sX(t){return ln(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CF(t,e,n){return{name:vT(t,e),fields:n.value.mapValue.fields}}function Zbe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:wt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(ln(f===void 0||typeof f=="string"),Xr.fromBase64String(f||"")):(ln(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Xr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?we.UNKNOWN:ZY(u.code);return new Ue(f,u.message||"")}(o);n=new tX(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=H_(t,r.document.name),s=vo(r.document.updateTime),o=r.document.createTime?vo(r.document.createTime):_t.min(),l=new Hi({mapValue:{fields:r.document.fields}}),c=li.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new E0(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=H_(t,r.document),s=r.readTime?vo(r.readTime):_t.min(),o=li.newNoDocument(i,s),l=r.removedTargetIds||[];n=new E0([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=H_(t,r.document),s=r.removedTargetIds||[];n=new E0([],s,i,null)}else{if(!("filter"in e))return wt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zbe(i,s),l=r.targetId;n=new eX(l,o)}}return n}function e0e(t,e){let n;if(e instanceof $x)n={update:CF(t,e.key,e.value)};else if(e instanceof wj)n={delete:vT(t,e.key)};else if(e instanceof gu)n={update:CF(t,e.key,e.data),updateMask:c0e(e.fieldMask)};else{if(!(e instanceof Vbe))return wt();n={verify:vT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof _y)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cw)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw wt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Qbe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:wt()}(t,e.precondition)),n}function t0e(t,e){return t&&t.length>0?(ln(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vo(i.updateTime):vo(s);return o.isEqual(_t.min())&&(o=vo(s)),new Lbe(o,i.transformResults||[])}(n,e))):[]}function n0e(t,e){return{documents:[iX(t,e.path)]}}function r0e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iX(t,i);const s=function(u){if(u.length!==0)return oX(La.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:xh(p.field),direction:a0e(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=yT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function i0e(t){let e=Jbe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ln(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const p=aX(h);return p instanceof La&&DY(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new Ny(vh(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,mj(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,g=h.values||[];return new ow(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new ow(g,p)}(n.endAt)),Nbe(e,i,o,s,l,"F",c,u)}function s0e(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aX(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vh(n.unaryFilter.field);return pr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vh(n.unaryFilter.field);return pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vh(n.unaryFilter.field);return pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vh(n.unaryFilter.field);return pr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(t):t.fieldFilter!==void 0?function(n){return pr.create(vh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return La.create(n.compositeFilter.filters.map(r=>aX(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(t):wt()}function a0e(t){return Gbe[t]}function o0e(t){return Kbe[t]}function l0e(t){return Ybe[t]}function xh(t){return{fieldPath:t.canonicalString()}}function vh(t){return Gr.fromServerFormat(t.fieldPath)}function oX(t){return t instanceof pr?function(n){if(n.op==="=="){if(pF(n.value))return{unaryFilter:{field:xh(n.field),op:"IS_NAN"}};if(mF(n.value))return{unaryFilter:{field:xh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pF(n.value))return{unaryFilter:{field:xh(n.field),op:"IS_NOT_NAN"}};if(mF(n.value))return{unaryFilter:{field:xh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(n.field),op:o0e(n.op),value:n.value}}}(t):t instanceof La?function(n){const r=n.getFilters().map(i=>oX(i));return r.length===1?r[0]:{compositeFilter:{op:l0e(n.op),filters:r}}}(t):wt()}function c0e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lX(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r,i,s=_t.min(),o=_t.min(),l=Xr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Dc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0e{constructor(e){this.Tt=e}}function d0e(t){const e=i0e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(){this.Tn=new h0e}addToCollectionParentIndex(e,n){return this.Tn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(eu.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(eu.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class h0e{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(Pn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(Pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cX=41943040;class qi{static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(cX,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new hm(0)}static Kn(){return new hm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="LruGarbageCollector",m0e=1048576;function PF([t,e],[n,r]){const i=Lt(t,n);return i===0?Lt(e,r):i}class p0e{constructor(e){this.Hn=e,this.buffer=new kr(PF),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g0e{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){qe(TF,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ip(n)?qe(TF,"Ignoring IndexedDB error during garbage collection: ",n):await rp(n)}await this.er(3e5)})}}class y0e{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(hj.ae);const r=new p0e(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(EF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EF):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,l,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),gh()<=Ut.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function x0e(t,e){return new y0e(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0e{constructor(){this.changes=new uf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0e{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Kg(r.mutation,i,xs.empty(),Fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=zt()){const i=hd();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Cg();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,zt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Rl();const o=Gg(),l=function(){return Gg()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof gu)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Kg(f.mutation,u,f.mutation.getFieldMask(),Fn.now())):o.set(u.key,xs.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return l.set(u,new b0e(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Gg();let i=new Wn((o,l)=>o-l),s=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||xs.empty();f=l.applyToLocalView(u,f),r.set(c,f);const h=(i.get(l.batchId)||zt()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,h=HY();f.forEach(p=>{if(!s.has(p)){const g=QY(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return _e.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VY(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_e.resolve(hd());let l=by,c=s;return o.next(u=>_e.forEach(u,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(f)?_e.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,zt())).next(f=>({batchId:l,changes:qY(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(r=>{let i=Cg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Cg();return this.indexManager.getCollectionParents(e,s).next(l=>_e.forEach(l,c=>{const u=function(h,p){return new sp(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,li.newInvalidDocument(f)))});let l=Cg();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Kg(f.mutation,u,xs.empty(),Fn.now()),xj(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0e{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return _e.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vo(i.createTime)}}(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:d0e(i.bundledQuery),readTime:vo(i.readTime)}}(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0e{constructor(){this.overlays=new Wn(at.comparator),this.Rr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hd();return _e.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=hd(),s=n.length+1,o=new at(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Wn((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=hd(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=hd(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return _e.resolve(l)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ube(n,r));let s=this.Rr.get(n);s===void 0&&(s=zt(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0e{constructor(){this.sessionToken=Xr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.Vr=new kr(Or.mr),this.gr=new kr(Or.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Or(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Or(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new at(new Pn([])),r=new Or(n,e),i=new Or(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new at(new Pn([])),r=new Or(n,e),i=new Or(n,e+1);let s=zt();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Or(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Or{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return at.comparator(e.key,n.key)||Lt(e.Cr,n.Cr)}static pr(e,n){return Lt(e.Cr,n.Cr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new kr(Or.mr)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Bbe(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Mr=this.Mr.add(new Or(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(e,n){return _e.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?$R:this.Fr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Or(n,0),i=new Or(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const l=this.Or(o.Cr);s.push(l)}),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(Lt);return n.forEach(i=>{const s=new Or(i,0),o=new Or(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],l=>{r=r.add(l.Cr)})}),_e.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new Or(new at(s),0);let l=new kr(Lt);return this.Mr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Cr)),!0)},o),_e.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ln(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return _e.forEach(n.mutations,i=>{const s=new Or(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Or(n,0),i=this.Mr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e){this.kr=e,this.docs=function(){return new Wn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():li.newInvalidDocument(n))}getEntries(e,n){let r=Rl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():li.newInvalidDocument(i))}),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rl();const o=n.path,l=new at(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nbe(tbe(f),r)<=0||(i.has(f.key)||xj(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){wt()}qr(e,n){return _e.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A0e(this)}getSize(e){return _e.resolve(this.size)}}class A0e extends v0e{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),_e.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0e{constructor(e){this.persistence=e,this.Qr=new uf(n=>UR(n),zR),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Ur=new YR,this.targetCount=0,this.Kr=hm.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),_e.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new hm(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.zn(n),_e.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),_e.waitFor(s).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new hj(0),this.zr=!1,this.zr=!0,this.jr=new N0e,this.referenceDelegate=e(this),this.Hr=new C0e(this),this.indexManager=new f0e,this.remoteDocumentCache=function(i){return new k0e(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new u0e(n),this.Yr=new j0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S0e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new _0e(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new E0e(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return _e.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class E0e extends ibe{constructor(e){super(),this.currentSequenceNumber=e}}class XR{constructor(e){this.persistence=e,this.ti=new YR,this.ni=null}static ri(e){return new XR(e)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),_e.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.ii,r=>{const i=at.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,_t.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return _e.or([()=>_e.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class dw{constructor(e,n){this.persistence=e,this.oi=new uf(r=>obe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=x0e(this,n)}static ri(e,n){return new dw(e,n)}Zr(){}Xr(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return _e.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?_e.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(l=>{l||(r++,s.removeEntry(o,_t.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),_e.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=k0(e.data.value)),n}ar(e,n,r){return _e.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=zt(),i=zt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0e{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Gfe()?8:sbe(mi())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new T0e;return this._s(e,n,o).next(l=>{if(s.result=l,this.Xi)return this.us(e,n,o,l.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(gh()<=Ut.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",yh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),_e.resolve()):(gh()<=Ut.DEBUG&&qe("QueryEngine","Query:",yh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(gh()<=Ut.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",yh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(n))):_e.resolve())}rs(e,n){if(vF(n))return _e.resolve(null);let r=xo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lw(n,null,"F"),r=xo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=zt(...s);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.cs(n,l);return this.ls(n,u,o,c.readTime)?this.rs(e,lw(n,null,"F")):this.hs(e,u,n,c)}))})))}ss(e,n,r,i){return vF(n)||i.isEqual(_t.min())?_e.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?_e.resolve(null):(gh()<=Ut.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yh(n)),this.hs(e,o,n,ebe(i,by)).next(l=>l))})}cs(e,n){let r=new kr(UY(e));return n.forEach((i,s)=>{xj(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return gh()<=Ut.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",yh(n)),this.ns.getDocumentsMatchingQuery(e,n,eu.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="LocalStore",I0e=3e8;class R0e{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Wn(Lt),this.Is=new uf(s=>UR(s),zR),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w0e(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function O0e(t,e,n,r){return new R0e(t,e,n,r)}async function dX(t,e){const n=Ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=zt();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:l}))})})}function M0e(t,e){const n=Ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const h=u.batch,p=h.keys();let g=_e.resolve();return p.forEach(v=>{g=g.next(()=>f.getEntry(c,v)).next(y=>{const b=u.docVersions.get(v);ln(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),f.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=zt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fX(t){const e=Ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function D0e(t,e){const n=Ct(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const l=[];e.targetChanges.forEach((f,h)=>{const p=i.get(h);if(!p)return;l.push(n.Hr.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,f.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Xr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(h,g),function(y,b,S){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=I0e?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,g,f)&&l.push(n.Hr.updateTargetData(s,g))});let c=Rl(),u=zt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(L0e(s,o,e.documentUpdates).next(f=>{c=f.Vs,u=f.fs})),!r.isEqual(_t.min())){const f=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return _e.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ts=i,s))}function L0e(t,e,n){let r=zt(),i=zt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Rl();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(_t.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):qe(JR,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Vs:o,fs:i}})}function F0e(t,e){const n=Ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$R),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $0e(t,e){const n=Ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,_e.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Dc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function wT(t,e,n){const r=Ct(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ip(o))throw o;qe(JR,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function IF(t,e,n){const r=Ct(t);let i=_t.min(),s=zt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const h=Ct(c),p=h.Is.get(f);return p!==void 0?_e.resolve(h.Ts.get(p)):h.Hr.getTargetData(u,f)}(r,o,xo(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:_t.min(),n?s:zt())).next(l=>(V0e(r,kbe(e),l),{documents:l,gs:s})))}function V0e(t,e,n){let r=t.Es.get(e)||_t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class RF{constructor(){this.activeTargetIds=Ibe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B0e{constructor(){this.ho=new RF,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new RF,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0e{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="ConnectivityMonitor";class MF{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){qe(OF,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){qe(OF,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb=null;function jT(){return qb===null?qb=function(){return 268435456+Math.round(2147483648*Math.random())}():qb++,"0x"+qb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="RestConnection",z0e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q0e{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===sw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=jT(),l=this.bo(e,n.toUriEncodedString());qe(W_,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,l,c,r).then(u=>(qe(W_,`Received RPC '${e}' ${o}: `,u),u),u=>{throw om(W_,`RPC '${e}' ${o} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+np}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=z0e[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0e{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="WebChannelConnection";class W0e extends q0e{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=jT();return new Promise((o,l)=>{const c=new gY;c.setWithCredentials(!0),c.listenOnce(yY.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _0.NO_ERROR:const f=c.getResponseJson();qe(ri,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case _0.TIMEOUT:qe(ri,`RPC '${e}' ${s} timed out`),l(new Ue(we.DEADLINE_EXCEEDED,"Request time out"));break;case _0.HTTP_ERROR:const h=c.getStatus();if(qe(ri,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(S)>=0?S:we.UNKNOWN}(g.status);l(new Ue(v,g.message))}else l(new Ue(we.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ue(we.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{qe(ri,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);qe(ri,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=jT(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bY(),l=vY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");qe(ri,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=o.createWebChannel(f,c);let p=!1,g=!1;const v=new H0e({Fo:b=>{g?qe(ri,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(qe(ri,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),qe(ri,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Mo:()=>h.close()}),y=(b,S,N)=>{b.listen(S,k=>{try{N(k)}catch(E){setTimeout(()=>{throw E},0)}})};return y(h,Ag.EventType.OPEN,()=>{g||(qe(ri,`RPC '${e}' stream ${i} transport opened.`),v.Qo())}),y(h,Ag.EventType.CLOSE,()=>{g||(g=!0,qe(ri,`RPC '${e}' stream ${i} transport closed`),v.Uo())}),y(h,Ag.EventType.ERROR,b=>{g||(g=!0,om(ri,`RPC '${e}' stream ${i} transport errored:`,b),v.Uo(new Ue(we.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ag.EventType.MESSAGE,b=>{var S;if(!g){const N=b.data[0];ln(!!N);const k=N,E=(k==null?void 0:k.error)||((S=k[0])===null||S===void 0?void 0:S.error);if(E){qe(ri,`RPC '${e}' stream ${i} received error:`,E);const A=E.status;let C=function(P){const M=dr[P];if(M!==void 0)return ZY(M)}(A),T=E.message;C===void 0&&(C=we.INTERNAL,T="Unknown error status: "+A+" with message "+E.message),g=!0,v.Uo(new Ue(C,T)),h.close()}else qe(ri,`RPC '${e}' stream ${i} received:`,N),v.Ko(N)}}),y(l,xY.STAT_EVENT,b=>{b.stat===uT.PROXY?qe(ri,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===uT.NOPROXY&&qe(ri,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function G_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){return new Xbe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="PersistentStream";class mX{constructor(e,n,r,i,s,o,l,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hX(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Il(n.toString()),Il("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ue(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return qe(DF,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(qe(DF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G0e extends mX{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Zbe(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?vo(o.readTime):_t.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=bT(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=pT(c)?{documents:n0e(s,c)}:{query:r0e(s,c).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=nX(s,o.resumeToken);const u=yT(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(_t.min())>0){l.readTime=uw(s,o.snapshotVersion.toTimestamp());const u=yT(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=s0e(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=bT(this.serializer),n.removeTarget=e,this.I_(n)}}class K0e extends mX{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ln(!!e.streamToken),this.lastStreamToken=e.streamToken,ln(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=t0e(e.writeResults,e.commitTime),r=vo(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=bT(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e0e(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0e{}class X0e extends Y0e{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ue(we.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,xT(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(we.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,xT(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(we.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Q0e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Il(n),this.N_=!1):qe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="RemoteStore";class J0e{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{df(this)&&(qe(qd,"Restarting streams for network reachability change."),await async function(c){const u=Ct(c);u.W_.add(4),await Bx(u),u.j_.set("Unknown"),u.W_.delete(4),await Nj(u)}(this))})}),this.j_=new Q0e(r,i)}}async function Nj(t){if(df(t))for(const e of t.G_)await e(!0)}async function Bx(t){for(const e of t.G_)await e(!1)}function pX(t,e){const n=Ct(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),nO(n)?tO(n):ap(n).c_()&&eO(n,e))}function ZR(t,e){const n=Ct(t),r=ap(n);n.K_.delete(e),r.c_()&&gX(n,e),n.K_.size===0&&(r.c_()?r.P_():df(n)&&n.j_.set("Unknown"))}function eO(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ap(t).y_(e)}function gX(t,e){t.H_.Ne(e),ap(t).w_(e)}function tO(t){t.H_=new Wbe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ap(t).start(),t.j_.B_()}function nO(t){return df(t)&&!ap(t).u_()&&t.K_.size>0}function df(t){return Ct(t).W_.size===0}function yX(t){t.H_=void 0}async function Z0e(t){t.j_.set("Online")}async function ewe(t){t.K_.forEach((e,n)=>{eO(t,e)})}async function twe(t,e){yX(t),nO(t)?(t.j_.q_(e),tO(t)):t.j_.set("Unknown")}async function nwe(t,e,n){if(t.j_.set("Online"),e instanceof tX&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(r){qe(qd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fw(t,r)}else if(e instanceof E0?t.H_.We(e):e instanceof eX?t.H_.Ze(e):t.H_.je(e),!n.isEqual(_t.min()))try{const r=await fX(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.H_.ot(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.K_.get(u);f&&s.K_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.K_.get(c);if(!f)return;s.K_.set(c,f.withResumeToken(Xr.EMPTY_BYTE_STRING,f.snapshotVersion)),gX(s,c);const h=new Dc(f.target,c,u,f.sequenceNumber);eO(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){qe(qd,"Failed to raise snapshot:",r),await fw(t,r)}}async function fw(t,e,n){if(!ip(e))throw e;t.W_.add(1),await Bx(t),t.j_.set("Offline"),n||(n=()=>fX(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{qe(qd,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Nj(t)})}function xX(t,e){return e().catch(n=>fw(t,n,e))}async function _j(t){const e=Ct(t),n=iu(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:$R;for(;rwe(e);)try{const i=await F0e(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,iwe(e,i)}catch(i){await fw(e,i)}vX(e)&&bX(e)}function rwe(t){return df(t)&&t.U_.length<10}function iwe(t,e){t.U_.push(e);const n=iu(t);n.c_()&&n.S_&&n.b_(e.mutations)}function vX(t){return df(t)&&!iu(t).u_()&&t.U_.length>0}function bX(t){iu(t).start()}async function swe(t){iu(t).C_()}async function awe(t){const e=iu(t);for(const n of t.U_)e.b_(n.mutations)}async function owe(t,e,n){const r=t.U_.shift(),i=WR.from(r,e,n);await xX(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _j(t)}async function lwe(t,e){e&&iu(t).S_&&await async function(r,i){if(function(o){return qbe(o)&&o!==we.ABORTED}(i.code)){const s=r.U_.shift();iu(r).h_(),await xX(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await _j(r)}}(t,e),vX(t)&&bX(t)}async function LF(t,e){const n=Ct(t);n.asyncQueue.verifyOperationInProgress(),qe(qd,"RemoteStore received new credentials");const r=df(n);n.W_.add(3),await Bx(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Nj(n)}async function cwe(t,e){const n=Ct(t);e?(n.W_.delete(2),await Nj(n)):e||(n.W_.add(2),await Bx(n),n.j_.set("Unknown"))}function ap(t){return t.J_||(t.J_=function(n,r,i){const s=Ct(n);return s.M_(),new G0e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:Z0e.bind(null,t),No:ewe.bind(null,t),Lo:twe.bind(null,t),p_:nwe.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),nO(t)?tO(t):t.j_.set("Unknown")):(await t.J_.stop(),yX(t))})),t.J_}function iu(t){return t.Y_||(t.Y_=function(n,r,i){const s=Ct(n);return s.M_(),new K0e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:swe.bind(null,t),Lo:lwe.bind(null,t),D_:awe.bind(null,t),v_:owe.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await _j(t)):(await t.Y_.stop(),t.U_.length>0&&(qe(qd,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new rO(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iO(t,e){if(Il("AsyncQueue",`${e}: ${t}`),ip(t))return new Ue(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{static emptySet(e){return new Bh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=Cg(),this.sortedSet=new Wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.Z_=new Wn(at.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):wt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mm{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new mm(e,n,Bh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yj(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uwe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dwe{constructor(){this.queries=$F(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ct(n),s=i.queries;i.queries=$F(),s.forEach((o,l)=>{for(const c of l.ta)c.onError(r)})})(this,new Ue(we.ABORTED,"Firestore shutting down"))}}function $F(){return new uf(t=>BY(t),yj)}async function sO(t,e){const n=Ct(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new uwe,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=iO(o,`Initialization of query '${yh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&oO(n)}async function aO(t,e){const n=Ct(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fwe(t,e){const n=Ct(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.ta)l.oa(i)&&(r=!0);o.ea=i}}r&&oO(n)}function hwe(t,e,n){const r=Ct(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function oO(t){t.ia.forEach(e=>{e.next()})}var ST,VF;(VF=ST||(ST={}))._a="default",VF.Cache="cache";class lO{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ST.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(e){this.key=e}}class jX{constructor(e){this.key=e}}class mwe{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=UY(e),this.wa=new Bh(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new FF,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const p=i.get(f),g=xj(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),b=!0):this.va(p,g)||(r.track({type:2,doc:g}),b=!0,(c&&this.ya(g,c)>0||u&&this.ya(g,u)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),b=!0):p&&!g&&(r.track({type:1,doc:p}),b=!0,(c||u)&&(l=!0)),b&&(g?(o=o.add(g),s=y?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:l,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,h)=>function(g,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return y(g)-y(v)}(f.type,h.type)||this.ya(f.doc,h.doc)),this.Ca(r),i=i!=null&&i;const l=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,u=c!==this.ga;return this.ga=c,o.length!==0||u?{snapshot:new mm(this.query,e.wa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new FF,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=zt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new jX(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new wX(r))}),n}Oa(e){this.fa=e.gs,this.pa=zt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return mm.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cO="SyncEngine";class pwe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gwe{constructor(e){this.key=e,this.Ba=!1}}class ywe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new uf(l=>BY(l),yj),this.qa=new Map,this.Qa=new Set,this.$a=new Wn(at.comparator),this.Ua=new Map,this.Ka=new YR,this.Wa={},this.Ga=new Map,this.za=hm.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xwe(t,e,n=!0){const r=CX(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await SX(r,e,n,!0),i}async function vwe(t,e){const n=CX(t);await SX(n,e,!0,!1)}async function SX(t,e,n,r){const i=await $0e(t.localStore,xo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await bwe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&pX(t.remoteStore,i),l}async function bwe(t,e,n,r,i){t.Ha=(h,p,g)=>async function(y,b,S,N){let k=b.view.ba(S);k.ls&&(k=await IF(y.localStore,b.query,!1).then(({documents:T})=>b.view.ba(T,k)));const E=N&&N.targetChanges.get(b.targetId),A=N&&N.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(k,y.isPrimaryClient,E,A);return UF(y,b.targetId,C.Ma),C.snapshot}(t,h,p,g);const s=await IF(t.localStore,e,!0),o=new mwe(e,s.gs),l=o.ba(s.documents),c=Vx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);UF(t,n,u.Ma);const f=new pwe(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function wwe(t,e,n){const r=Ct(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!yj(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZR(r.remoteStore,i.targetId),NT(r,i.targetId)}).catch(rp)):(NT(r,i.targetId),await wT(r.localStore,i.targetId,!0))}async function jwe(t,e){const n=Ct(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZR(n.remoteStore,r.targetId))}async function Swe(t,e,n){const r=Twe(t);try{const i=await function(o,l){const c=Ct(o),u=Fn.now(),f=l.reduce((g,v)=>g.add(v.key),zt());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Rl(),y=zt();return c.ds.getEntries(g,f).next(b=>{v=b,v.forEach((S,N)=>{N.isValidDocument()||(y=y.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(b=>{h=b;const S=[];for(const N of l){const k=$be(N,h.get(N.key).overlayedDocument);k!=null&&S.push(new gu(N.key,k,RY(k.value.mapValue),Ii.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,S,l)}).next(b=>{p=b;const S=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(g,b.batchId,S)})}).then(()=>({batchId:p.batchId,changes:qY(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Wa[o.currentUser.toKey()];u||(u=new Wn(Lt)),u=u.insert(l,c),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ux(r,i.changes),await _j(r.remoteStore)}catch(i){const s=iO(i,"Failed to persist write");n.reject(s)}}async function NX(t,e){const n=Ct(t);try{const r=await D0e(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(ln(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?ln(o.Ba):i.removedDocuments.size>0&&(ln(o.Ba),o.Ba=!1))}),await Ux(n,r,e)}catch(r){await rp(r)}}function BF(t,e,n){const r=Ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const l=o.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ct(o);c.onlineState=l;let u=!1;c.queries.forEach((f,h)=>{for(const p of h.ta)p.sa(l)&&(u=!0)}),u&&oO(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nwe(t,e,n){const r=Ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new Wn(at.comparator);o=o.insert(s,li.newNoDocument(s,_t.min()));const l=zt().add(s),c=new jj(_t.min(),new Map,new Wn(Lt),o,l);await NX(r,c),r.$a=r.$a.remove(s),r.Ua.delete(e),uO(r)}else await wT(r.localStore,e,!1).then(()=>NT(r,e,n)).catch(rp)}async function _we(t,e){const n=Ct(t),r=e.batch.batchId;try{const i=await M0e(n.localStore,e);kX(n,r,null),_X(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ux(n,i)}catch(i){await rp(i)}}async function kwe(t,e,n){const r=Ct(t);try{const i=await function(o,l){const c=Ct(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(ln(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);kX(r,e,n),_X(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ux(r,i)}catch(i){await rp(i)}}function _X(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function kX(t,e,n){const r=Ct(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function NT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||AX(t,r)})}function AX(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ZR(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),uO(t))}function UF(t,e,n){for(const r of n)r instanceof wX?(t.Ka.addReference(r.key,e),Awe(t,r)):r instanceof jX?(qe(cO,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||AX(t,r.key)):wt()}function Awe(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(qe(cO,"New document in limbo: "+n),t.Qa.add(r),uO(t))}function uO(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new at(Pn.fromString(e)),r=t.za.next();t.Ua.set(r,new gwe(n)),t.$a=t.$a.insert(n,r),pX(t.remoteStore,new Dc(xo(gj(n.path)),r,"TargetPurposeLimboResolution",hj.ae))}}async function Ux(t,e,n){const r=Ct(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((l,c)=>{o.push(r.Ha(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=QR.Yi(c.targetId,u);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(c,u){const f=Ct(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>_e.forEach(u,p=>_e.forEach(p.Hi,g=>f.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>_e.forEach(p.Ji,g=>f.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!ip(h))throw h;qe(JR,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=f.Ts.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);f.Ts=f.Ts.insert(p,y)}}}(r.localStore,s))}async function Cwe(t,e){const n=Ct(t);if(!n.currentUser.isEqual(e)){qe(cO,"User change. New user:",e.toKey());const r=await dX(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(l=>{l.forEach(c=>{c.reject(new Ue(we.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ux(n,r.Rs)}}function Ewe(t,e){const n=Ct(t),r=n.Ua.get(e);if(r&&r.Ba)return zt().add(r.key);{let i=zt();const s=n.qa.get(e);if(!s)return i;for(const o of s){const l=n.ka.get(o);i=i.unionWith(l.view.Sa)}return i}}function CX(t){const e=Ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ewe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nwe.bind(null,e),e.La.p_=fwe.bind(null,e.eventManager),e.La.Ja=hwe.bind(null,e.eventManager),e}function Twe(t){const e=Ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_we.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kwe.bind(null,e),e}class hw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sj(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return O0e(this.persistence,new P0e,e.initialUser,this.serializer)}Xa(e){return new uX(XR.ri,this.serializer)}Za(e){return new B0e}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hw.provider={build:()=>new hw};class Pwe extends hw{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ln(this.persistence.referenceDelegate instanceof dw);const r=this.persistence.referenceDelegate.garbageCollector;return new g0e(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new uX(r=>dw.ri(r,n),this.serializer)}}class _T{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cwe.bind(null,this.syncEngine),await cwe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dwe}()}createDatastore(e){const n=Sj(e.databaseInfo.databaseId),r=function(s){return new W0e(s)}(e.databaseInfo);return function(s,o,l,c){return new X0e(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new J0e(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>BF(this.syncEngine,n,0),function(){return MF.D()?new MF:new U0e}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const h=new ywe(i,s,o,l,c,u);return f&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ct(i);qe(qd,"RemoteStore shutting down."),s.W_.add(5),await Bx(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_T.provider={build:()=>new _T};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Il("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="FirestoreClient";class Iwe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=oi.UNAUTHENTICATED,this.clientId=SY.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{qe(su,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(qe(su,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iO(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function K_(t,e){t.asyncQueue.verifyOperationInProgress(),qe(su,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dX(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zF(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rwe(t);qe(su,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LF(e.remoteStore,i)),t._onlineComponents=e}async function Rwe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(su,"Using user provided OfflineComponentProvider");try{await K_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;om("Error using user provided cache. Falling back to memory cache: "+n),await K_(t,new hw)}}else qe(su,"Using default OfflineComponentProvider"),await K_(t,new Pwe(void 0));return t._offlineComponents}async function EX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(su,"Using user provided OnlineComponentProvider"),await zF(t,t._uninitializedComponentsProvider._online)):(qe(su,"Using default OnlineComponentProvider"),await zF(t,new _T))),t._onlineComponents}function Owe(t){return EX(t).then(e=>e.syncEngine)}async function mw(t){const e=await EX(t),n=e.eventManager;return n.onListen=xwe.bind(null,e.syncEngine),n.onUnlisten=wwe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vwe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jwe.bind(null,e.syncEngine),n}function Mwe(t,e,n={}){const r=new Sl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new dO({next:p=>{f.su(),o.enqueueAndForget(()=>aO(s,h));const g=p.docs.has(l);!g&&p.fromCache?u.reject(new Ue(we.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new Ue(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new lO(gj(l.path),f,{includeMetadataChanges:!0,Ta:!0});return sO(s,h)}(await mw(t),t.asyncQueue,e,n,r)),r.promise}function Dwe(t,e,n={}){const r=new Sl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new dO({next:p=>{f.su(),o.enqueueAndForget(()=>aO(s,h)),p.fromCache&&c.source==="server"?u.reject(new Ue(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new lO(l,f,{includeMetadataChanges:!0,Ta:!0});return sO(s,h)}(await mw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t,e,n){if(!n)throw new Ue(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lwe(t,e,n,r){if(e===!0&&r===!0)throw new Ue(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HF(t){if(!at.isDocumentKey(t))throw new Ue(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WF(t){if(at.isDocumentKey(t))throw new Ue(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt()}function Ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kj(t);throw new Ue(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Fwe(t,e){if(e<=0)throw new Ue(we.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="firestore.googleapis.com",GF=!0;class KF{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IX,this.ssl=GF}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GF;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cX;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m0e)throw new Ue(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lwe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ue(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ue(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ue(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aj{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KF({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KF(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hve;switch(r.type){case"firstParty":return new Yve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qF.get(n);r&&(qe("ComponentProvider","Removing Datastore"),qF.delete(n),r.terminate())}(this),Promise.resolve()}}function $we(t,e,n,r={}){var i;const s=(t=Ri(t,Aj))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s.host!==IX&&s.host!==l&&om("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!To(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=oi.MOCK_USER;else{u=Bfe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ue(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new oi(h)}t._authCredentials=new Wve(new wY(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vl(this.firestore,e,this._query)}}class hi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class Hc extends Vl{constructor(e,n,r){super(e,n,gj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new at(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function bo(t,e,...n){if(t=yn(t),PX("collection","path",e),t instanceof Aj){const r=Pn.fromString(e,...n);return WF(r),new Hc(t,null,r)}{if(!(t instanceof hi||t instanceof Hc))throw new Ue(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pn.fromString(e,...n));return WF(r),new Hc(t.firestore,null,r)}}function Ve(t,e,...n){if(t=yn(t),arguments.length===1&&(e=SY.newId()),PX("doc","path",e),t instanceof Aj){const r=Pn.fromString(e,...n);return HF(r),new hi(t,null,new at(r))}{if(!(t instanceof hi||t instanceof Hc))throw new Ue(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pn.fromString(e,...n));return HF(r),new hi(t.firestore,t instanceof Hc?t.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="AsyncQueue";class XF{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hX(this,"async_queue_retry"),this.Su=()=>{const r=G_();r&&qe(YF,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=G_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=G_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Sl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ip(e))throw e;qe(YF,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Il("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=rO.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function QF(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ro extends Aj{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XF(e),this._firestoreClient=void 0,await e}}}function $t(t,e){const n=typeof t=="object"?t:dR(),r=typeof t=="string"?t:sw,i=rf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=$fe("firestore");s&&$we(i,...s)}return i}function zx(t){if(t._terminated)throw new Ue(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vwe(t),t._firestoreClient}function Vwe(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new ube(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,TX(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Iwe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pm(Xr.fromBase64String(e))}catch(n){throw new Ue(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pm(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bwe=/^__.*__$/;class Uwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new $x(e,this.data,n,this.fieldTransforms)}}class RX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OX(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Cj{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Cj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return pw(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(OX(this.Lu)&&Bwe.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sj(e)}ju(e,n,r,i=!1){return new Cj({Lu:e,methodName:n,zu:r,path:Gr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hx(t){const e=t._freezeSettings(),n=Sj(t._databaseId);return new zwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mO(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);xO("Data must be an object, but it was:",o,r);const l=FX(r,o);let c,u;if(s.merge)c=new xs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const p=kT(e,h,n);if(!o.contains(p))throw new Ue(we.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);VX(f,p)||f.push(p)}c=new xs(f),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new Uwe(new Hi(l),c,u)}class Ej extends op{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ej}}function MX(t,e,n){return new Cj({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pO extends op{_toFieldTransform(e){return new HR(e.path,new _y)}isEqual(e){return e instanceof pO}}class gO extends op{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=MX(this,e,!0),r=this.Hu.map(s=>ff(s,n)),i=new dm(r);return new HR(e.path,i)}isEqual(e){return e instanceof gO&&To(this.Hu,e.Hu)}}class yO extends op{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=MX(this,e,!0),r=this.Hu.map(s=>ff(s,n)),i=new fm(r);return new HR(e.path,i)}isEqual(e){return e instanceof yO&&To(this.Hu,e.Hu)}}function DX(t,e,n,r){const i=t.ju(1,e,n);xO("Data must be an object, but it was:",i,r);const s=[],o=Hi.empty();pu(r,(c,u)=>{const f=vO(e,c,n);u=yn(u);const h=i.Uu(f);if(u instanceof Ej)s.push(f);else{const p=ff(u,h);p!=null&&(s.push(f),o.set(f,p))}});const l=new xs(s);return new RX(o,l,i.fieldTransforms)}function LX(t,e,n,r,i,s){const o=t.ju(1,e,n),l=[kT(e,r,n)],c=[i];if(s.length%2!=0)throw new Ue(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(kT(e,s[p])),c.push(s[p+1]);const u=[],f=Hi.empty();for(let p=l.length-1;p>=0;--p)if(!VX(u,l[p])){const g=l[p];let v=c[p];v=yn(v);const y=o.Uu(g);if(v instanceof Ej)u.push(g);else{const b=ff(v,y);b!=null&&(u.push(g),f.set(g,b))}}const h=new xs(u);return new RX(f,h,o.fieldTransforms)}function qwe(t,e,n,r=!1){return ff(n,t.ju(r?4:3,e))}function ff(t,e){if($X(t=yn(t)))return xO("Unsupported field value:",e,t),FX(t,e);if(t instanceof op)return function(r,i){if(!OX(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=ff(l,i.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rbe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Fn.fromDate(r);return{timestampValue:uw(i.serializer,s)}}if(r instanceof Fn){const s=new Fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uw(i.serializer,s)}}if(r instanceof fO)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pm)return{bytesValue:nX(i.serializer,r._byteString)};if(r instanceof hi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hO)return function(o,l){return{mapValue:{fields:{[PY]:{stringValue:IY},[aw]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Wu("VectorValues must only contain numeric values.");return qR(l.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${kj(r)}`)}(t,e)}function FX(t,e){const n={};return _Y(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,(r,i)=>{const s=ff(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $X(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fn||t instanceof fO||t instanceof pm||t instanceof hi||t instanceof op||t instanceof hO)}function xO(t,e,n){if(!$X(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kj(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function kT(t,e,n){if((e=yn(e))instanceof qx)return e._internalPath;if(typeof e=="string")return vO(t,e);throw pw("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hwe=new RegExp("[~\\*/\\[\\]]");function vO(t,e,n){if(e.search(Hwe)>=0)throw pw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qx(...e.split("."))._internalPath}catch{throw pw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ue(we.INVALID_ARGUMENT,l+t+c)}function VX(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wwe extends BX{data(){return super.data()}}function Tj(t,e){return typeof e=="string"?vO(t,e):e instanceof qx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bO{}class wO extends bO{}function ky(t,e,...n){let r=[];e instanceof bO&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof jO).length,l=s.filter(c=>c instanceof Pj).length;if(o>1||o>0&&l>0)throw new Ue(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pj extends wO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pj(e,n,r)}_apply(e){const n=this._parse(e);return zX(e._query,n),new Vl(e.firestore,e.converter,gT(e._query,n))}_parse(e){const n=Hx(e.firestore);return function(s,o,l,c,u,f,h){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ue(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){ZF(h,f);const v=[];for(const y of h)v.push(JF(c,s,y));p={arrayValue:{values:v}}}else p=JF(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||ZF(h,f),p=qwe(l,o,h,f==="in"||f==="not-in");return pr.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yg(t,e,n){const r=e,i=Tj("where",t);return Pj._create(i,r,n)}class jO extends bO{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jO(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:La.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)zX(o,c),o=gT(o,c)}(e._query,n),new Vl(e.firestore,e.converter,gT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SO extends wO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SO(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ue(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ue(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ny(s,o)}(e._query,this._field,this._direction);return new Vl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new sp(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Ay(t,e="asc"){const n=e,r=Tj("orderBy",t);return SO._create(r,n)}class NO extends wO{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new NO(e,n,r)}_apply(e){return new Vl(e.firestore,e.converter,lw(e._query,this._limit,this._limitType))}}function gw(t){return Fwe("limit",t),NO._create("limit",t,"F")}function JF(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new Ue(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VY(e)&&n.indexOf("/")!==-1)throw new Ue(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pn.fromString(n));if(!at.isDocumentKey(r))throw new Ue(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hF(t,new at(r))}if(n instanceof hi)return hF(t,n._key);throw new Ue(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kj(n)}.`)}function ZF(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zX(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ue(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Gwe{convertValue(e,n="none"){switch(ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[aw].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>sr(o.doubleValue));return new hO(s)}convertGeoPoint(e){return new fO(sr(e.latitude),sr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pj(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wy(e));default:return null}}convertTimestamp(e){const n=tu(e);return new Fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pn.fromString(e);ln(lX(r));const i=new jy(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(n)||Il(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qX extends BX{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class T0 extends qX{data(e={}){return super.data(e)}}class HX{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new T0(this._firestore,this._userDataWriter,r.key,r,new Tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new T0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new T0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Kwe(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){t=Ri(t,hi);const e=Ri(t.firestore,Ro);return Mwe(zx(e),t._key).then(n=>GX(e,t,n))}class kO extends Gwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new pm(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,n)}}function AO(t){t=Ri(t,Vl);const e=Ri(t.firestore,Ro),n=zx(e),r=new kO(e);return UX(t._query),Dwe(n,t._query).then(i=>new HX(e,r,t,i))}function rn(t,e,n){t=Ri(t,hi);const r=Ri(t.firestore,Ro),i=_O(t.converter,e,n);return Wx(r,[mO(Hx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ii.none())])}function au(t,e,n,...r){t=Ri(t,hi);const i=Ri(t.firestore,Ro),s=Hx(i);let o;return o=typeof(e=yn(e))=="string"||e instanceof qx?LX(s,"updateDoc",t._key,e,n,r):DX(s,"updateDoc",t._key,e),Wx(i,[o.toMutation(t._key,Ii.exists(!0))])}function Ywe(t){return Wx(Ri(t.firestore,Ro),[new wj(t._key,Ii.none())])}function P0(t,e){const n=Ri(t.firestore,Ro),r=Ve(t),i=_O(t.converter,e);return Wx(n,[mO(Hx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ii.exists(!1))]).then(()=>r)}function WX(t,...e){var n,r,i;t=yn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||QF(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(QF(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,f;if(t instanceof hi)u=Ri(t.firestore,Ro),f=gj(t._key.path),c={next:h=>{e[o]&&e[o](GX(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ri(t,Vl);u=Ri(h.firestore,Ro),f=h._query;const p=new kO(u);c={next:g=>{e[o]&&e[o](new HX(u,p,h,g))},error:e[o+1],complete:e[o+2]},UX(t._query)}return function(p,g,v,y){const b=new dO(y),S=new lO(g,b,v);return p.asyncQueue.enqueueAndForget(async()=>sO(await mw(p),S)),()=>{b.su(),p.asyncQueue.enqueueAndForget(async()=>aO(await mw(p),S))}}(zx(u),f,l,c)}function Wx(t,e){return function(r,i){const s=new Sl;return r.asyncQueue.enqueueAndForget(async()=>Swe(await Owe(r),i,s)),s.promise}(zx(t),e)}function GX(t,e,n){const r=n.docs.get(e._key),i=new kO(t);return new qX(t,i,e._key,r,new Tg(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xwe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hx(e)}set(e,n,r){this._verifyNotCommitted();const i=Y_(e,this._firestore),s=_O(i.converter,n,r),o=mO(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ii.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Y_(e,this._firestore);let o;return o=typeof(n=yn(n))=="string"||n instanceof qx?LX(this._dataReader,"WriteBatch.update",s._key,n,r,i):DX(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Y_(e,this._firestore);return this._mutations=this._mutations.concat(new wj(n._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Y_(t,e){if((t=yn(t)).firestore!==e)throw new Ue(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function md(){return new pO("serverTimestamp")}function Ij(...t){return new gO("arrayUnion",t)}function Qwe(...t){return new yO("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){return zx(t=Ri(t,Ro)),new Xwe(t,e=>Wx(t,e))}(function(e,n=!0){(function(i){np=i})(ep),Po(new Da("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ro(new Gve(r.getProvider("auth-internal")),new Xve(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ue(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jy(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),qs(tF,nF,e),qs(tF,nF,"esm2017")})();const KX=({isOpen:t,onClose:e,userProfile:n})=>{var q,H,Y,K,Z;const[r,i]=w.useState("profile"),[s,o]=w.useState((n==null?void 0:n.displayName)||(n==null?void 0:n.name)||""),[l,c]=w.useState(""),[u,f]=w.useState(""),[h,p]=w.useState(""),[g,v]=w.useState((n==null?void 0:n.photoURL)||""),[y,b]=w.useState(!1),[S,N]=w.useState(""),[k,E]=w.useState(""),[A,C]=w.useState({notificationsEnabled:((q=n==null?void 0:n.profile)==null?void 0:q.notificationsEnabled)||!0,healthReminders:((H=n==null?void 0:n.profile)==null?void 0:H.healthReminders)||!0,foodSafetyAlerts:((Y=n==null?void 0:n.profile)==null?void 0:Y.foodSafetyAlerts)||!0,shareHealthData:((K=n==null?void 0:n.profile)==null?void 0:K.shareHealthData)||!1,darkMode:((Z=n==null?void 0:n.profile)==null?void 0:Z.darkMode)||!0}),{toast:T}=Tt(),I=lt(Oe),P=$t(Oe),M=I.currentUser,L=async()=>{if(M){b(!0),N(""),E("");try{await sT(M,{displayName:s,photoURL:g||M.photoURL}),await rn(Ve(P,"users",M.uid),{displayName:s,photoURL:g||M.photoURL,lastUpdated:new Date},{merge:!0}),E("Profile updated successfully"),T({title:"Profile Updated",description:"Your profile information has been updated."})}catch(U){N(U.message||"Failed to update profile"),T({title:"Update Failed",description:U.message||"Failed to update profile",variant:"destructive"})}finally{b(!1)}}},D=async()=>{if(!(!M||!M.email)){if(b(!0),N(""),E(""),u!==h){N("New passwords do not match"),b(!1);return}if(u.length<6){N("Password must be at least 6 characters"),b(!1);return}try{const U=sf.credential(M.email,l);await dpe(M,U),await ppe(M,u),E("Password updated successfully"),c(""),f(""),p(""),T({title:"Password Updated",description:"Your password has been updated successfully."})}catch(U){N(U.message||"Failed to update password"),T({title:"Password Update Failed",description:U.message||"Failed to update password",variant:"destructive"})}finally{b(!1)}}},R=async()=>{if(M){b(!0),N(""),E("");try{await rn(Ve(P,"users",M.uid),{profile:{...A}},{merge:!0}),E("Preferences updated successfully"),T({title:"Preferences Updated",description:"Your preferences have been saved."})}catch(U){N(U.message||"Failed to update preferences"),T({title:"Update Failed",description:U.message||"Failed to update preferences",variant:"destructive"})}finally{b(!1)}}},V=U=>{var B;const W=(B=U.target.files)==null?void 0:B[0];if(!W)return;const Q=new FileReader;Q.onload=()=>{v(Q.result)},Q.readAsDataURL(W)};return a.jsx($l,{open:t,onOpenChange:e,children:a.jsxs(Vo,{className:"sci-fi-card max-w-2xl",children:[a.jsxs(af,{children:[a.jsxs(of,{className:"flex items-center",children:[a.jsx(uu,{className:"mr-2 h-5 w-5"}),"Your Profile"]}),a.jsx(lf,{children:"Manage your account settings and preferences."})]}),a.jsxs(pi,{defaultValue:"profile",value:r,onValueChange:i,className:"mt-4",children:[a.jsxs(Qr,{className:"grid grid-cols-3 mb-4",children:[a.jsx(ft,{value:"profile",children:"Profile"}),a.jsx(ft,{value:"security",children:"Security"}),a.jsx(ft,{value:"preferences",children:"Preferences"})]}),a.jsxs(St,{value:"profile",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-safebite-card-bg-alt mb-2",children:a.jsx("img",{src:g||`https://ui-avatars.com/api/?name=${encodeURIComponent(s||"User")}&background=0D8ABC&color=fff`,alt:"Profile",className:"h-full w-full object-cover"})}),a.jsxs("label",{htmlFor:"profile-picture",className:"absolute bottom-0 right-0 bg-safebite-teal text-safebite-dark-blue rounded-full p-1.5 cursor-pointer",children:[a.jsx(zI,{className:"h-4 w-4"}),a.jsx("input",{type:"file",id:"profile-picture",className:"hidden",accept:"image/*",onChange:V})]})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:"Click the camera icon to change your profile picture"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"display-name",children:"Display Name"}),a.jsx(bt,{id:"display-name",value:s,onChange:U=>o(U.target.value),className:"sci-fi-input"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",children:"Email"}),a.jsx(bt,{id:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"sci-fi-input opacity-70"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Email cannot be changed"})]}),S&&a.jsxs("div",{className:"text-red-500 text-sm flex items-center",children:[a.jsx(Wt,{className:"h-4 w-4 mr-1"}),S]}),k&&a.jsxs("div",{className:"text-green-500 text-sm flex items-center",children:[a.jsx(_a,{className:"h-4 w-4 mr-1"}),k]}),a.jsx(ee,{onClick:L,disabled:y,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:y?a.jsxs(a.Fragment,{children:[a.jsx(wl,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Save Profile"]})})]})]}),a.jsx(St,{value:"security",className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(bl,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Change Password"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"current-password",children:"Current Password"}),a.jsx(bt,{id:"current-password",type:"password",value:l,onChange:U=>c(U.target.value),className:"sci-fi-input"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"new-password",children:"New Password"}),a.jsx(bt,{id:"new-password",type:"password",value:u,onChange:U=>f(U.target.value),className:"sci-fi-input"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"confirm-password",children:"Confirm New Password"}),a.jsx(bt,{id:"confirm-password",type:"password",value:h,onChange:U=>p(U.target.value),className:"sci-fi-input"})]}),S&&a.jsxs("div",{className:"text-red-500 text-sm flex items-center",children:[a.jsx(Wt,{className:"h-4 w-4 mr-1"}),S]}),k&&a.jsxs("div",{className:"text-green-500 text-sm flex items-center",children:[a.jsx(_a,{className:"h-4 w-4 mr-1"}),k]}),a.jsx(ee,{onClick:D,disabled:y||!l||!u||!h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:y?a.jsxs(a.Fragment,{children:[a.jsx(wl,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})}),a.jsx(St,{value:"preferences",className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Ax,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Your Preferences"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{className:"text-base",children:"Notifications"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Receive notifications about new features and updates"})]}),a.jsx(fo,{checked:A.notificationsEnabled,onCheckedChange:U=>C({...A,notificationsEnabled:U})})]}),a.jsx(fd,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"text-base flex items-center",children:[a.jsx(Ia,{className:"h-4 w-4 mr-1 text-safebite-teal"})," Health Reminders"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Receive reminders about weekly health check-ins"})]}),a.jsx(fo,{checked:A.healthReminders,onCheckedChange:U=>C({...A,healthReminders:U})})]}),a.jsx(fd,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"text-base flex items-center",children:[a.jsx(Ws,{className:"h-4 w-4 mr-1 text-safebite-teal"})," Food Safety Alerts"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Receive alerts about food safety issues"})]}),a.jsx(fo,{checked:A.foodSafetyAlerts,onCheckedChange:U=>C({...A,foodSafetyAlerts:U})})]}),a.jsx(fd,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"text-base flex items-center",children:[a.jsx(Zn,{className:"h-4 w-4 mr-1 text-safebite-teal"})," Share Health Data"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Allow SafeBite to use your health data for personalized recommendations"})]}),a.jsx(fo,{checked:A.shareHealthData,onCheckedChange:U=>C({...A,shareHealthData:U})})]}),a.jsx(fd,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"text-base flex items-center",children:[a.jsx(Co,{className:"h-4 w-4 mr-1 text-safebite-teal"})," Dark Mode"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Use dark mode for better visibility"})]}),a.jsx(fo,{checked:A.darkMode,onCheckedChange:U=>C({...A,darkMode:U})})]})]}),S&&a.jsxs("div",{className:"text-red-500 text-sm flex items-center",children:[a.jsx(Wt,{className:"h-4 w-4 mr-1"}),S]}),k&&a.jsxs("div",{className:"text-green-500 text-sm flex items-center",children:[a.jsx(_a,{className:"h-4 w-4 mr-1"}),k]}),a.jsx(ee,{onClick:R,disabled:y,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:y?a.jsxs(a.Fragment,{children:[a.jsx(wl,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})})]})]})})},Ha=({userProfile:t,onProfileClick:e,onNotificationsClick:n,onChatClick:r,isLoadingProfile:i=!1})=>{var k;const[s,o]=w.useState(!1),[l,c]=w.useState(!1),u=$n(),{toast:f}=Tt(),h=lt(Oe),p=h.currentUser,{isGuest:g,exitGuestMode:v}=Vn(),y=Lx()||"Guest",b=()=>{o(!s)},S=async()=>{try{if(g){v(),f({title:"Exited guest mode",description:"Thank you for trying SafeBite!"}),u("/");return}await bpe(h),f({title:"Logged out successfully",description:"Thank you for using SafeBite!"}),u("/")}catch(E){f({title:"Logout failed",description:E.message,variant:"destructive"}),console.error("Logout error:",E)}},N=[{path:"/dashboard",name:"Dashboard",icon:a.jsx(S7,{size:20}),guestAccess:!0},{path:"/nutrition",name:"Nutrition",icon:a.jsx(gr,{size:20,className:"text-safebite-teal"}),guestAccess:!1},{path:"/recipes",name:"Recipes",icon:a.jsx(tf,{size:20}),guestAccess:!1},{path:"/grocery-products",name:"Grocery Products",icon:a.jsx(du,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"}),guestAccess:!1},{path:"/food-delivery",name:"Food Delivery",icon:a.jsx(Cx,{size:20,className:"text-orange-400"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-orange-500/20 text-orange-400 px-1.5 py-0.5 rounded-full",children:"Now Live"}),guestAccess:!1},{path:"/community",name:"Community",icon:a.jsx(Na,{size:20}),guestAccess:!1},{path:"/healthbox",name:"HealthBox",icon:a.jsx(Vc,{size:20,className:"text-safebite-teal"}),guestAccess:!1},{path:"/health-check",name:"Health Check",icon:a.jsx(Zn,{size:20}),guestAccess:!1},{path:"/reports",name:"Reports",icon:a.jsx(uy,{size:20}),guestAccess:!1},{path:"/settings",name:"Settings",icon:a.jsx(Ax,{size:20}),guestAccess:!1},{path:"/help",name:"Help",icon:a.jsx(ys,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"}),guestAccess:!0}];return a.jsxs(a.Fragment,{children:[a.jsx(ee,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-safebite-card-bg border-safebite-card-bg-alt hover:bg-safebite-teal/10 hover:border-safebite-teal/50 transition-all duration-300 shadow-md",onClick:b,children:s?a.jsx(or,{size:20,className:"text-safebite-teal"}):a.jsx(KI,{size:20,className:"text-safebite-teal"})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-safebite-dark-blue border-r border-safebite-card-bg-alt transform transition-transform duration-300 ease-in-out shadow-xl ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-3",children:a.jsx(Rn,{size:20,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Smart Food Safety"})]})]})}),a.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-2 px-4",children:N.map(E=>(!g||E.guestAccess)&&a.jsx("li",{children:a.jsxs(Afe,{to:E.path,className:({isActive:A})=>`flex items-center py-2 px-4 rounded-md transition-all duration-300 ${A?"bg-gradient-to-r from-safebite-teal to-safebite-teal/80 text-safebite-dark-blue font-medium shadow-sm shadow-safebite-teal/20":"text-safebite-text hover:bg-safebite-card-bg-alt hover:border-safebite-teal/20 hover:pl-5"}`,children:[a.jsx("span",{className:"mr-3",children:E.icon}),E.name,E.badge&&E.badge]})},E.path))})}),a.jsx("div",{className:"px-4 py-2 border-t border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex justify-around mb-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-safebite-card-bg-alt hover:text-safebite-teal transition-colors",onClick:n,children:a.jsx(Ia,{size:20})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-safebite-card-bg-alt hover:text-safebite-teal transition-colors",onClick:r,children:a.jsx(kd,{size:20})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-safebite-card-bg-alt hover:text-safebite-teal transition-colors",onClick:()=>u("/help"),children:a.jsx(ys,{size:20})})]})}),a.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[a.jsxs(ee,{variant:"ghost",className:"flex items-center space-x-3 mb-4 w-full hover:bg-safebite-card-bg-alt rounded-md p-2",onClick:e||(()=>c(!0)),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal/30 to-safebite-purple/30 flex items-center justify-center text-safebite-teal border border-safebite-teal/50",children:g?"G":((k=p==null?void 0:p.email)==null?void 0:k.charAt(0).toUpperCase())||"A"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 rounded-full bg-safebite-card-bg border border-safebite-card-bg-alt flex items-center justify-center",children:g?a.jsx(Fr,{size:12,className:"text-yellow-500"}):a.jsx(NL,{size:12,className:"text-safebite-teal"})})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-safebite-text font-medium",children:g?y:(p==null?void 0:p.displayName)||(p==null?void 0:p.email)||"User"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary flex items-center",children:g?a.jsxs(a.Fragment,{children:[a.jsx(Fr,{size:12,className:"text-yellow-500 mr-1"})," Guest Mode"]}):a.jsxs(a.Fragment,{children:[a.jsx(NL,{size:12,className:"text-safebite-teal mr-1"})," Premium Member"]})})]}),a.jsx(uu,{size:16,className:"ml-auto text-safebite-teal"})]}),a.jsxs(ee,{variant:"outline",className:"w-full sci-fi-button flex items-center justify-center hover:border-safebite-teal/50 transition-all duration-300",onClick:S,children:[a.jsx(nle,{size:18,className:"mr-2"}),g?"Exit Guest Mode":"Sign Out"]})]})]})}),a.jsx(KX,{isOpen:l,onClose:()=>c(!1),userProfile:t})]})},Jwe=U1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:t,variant:e,...n}){return a.jsx("div",{className:st(Jwe({variant:e}),t),...n})}const Zwe=({onIntegrationToggle:t,integrations:e={}})=>{const[n,r]=w.useState(null),i=async l=>{r(l);try{await new Promise(c=>setTimeout(c,1500)),await t(l,!0),console.log(`Successfully connected to ${l}`)}catch(c){console.error(`Error connecting to ${l}:`,c)}finally{r(null)}},s=async l=>{try{await t(l,!1),console.log(`Disconnected from ${l}`)}catch(c){console.error(`Error disconnecting from ${l}:`,c)}},o=[{id:"google_fit",name:"Google Fit",icon:a.jsx(Kr,{className:"h-5 w-5 text-green-500"}),description:"Import steps, activity, and workout data from Google Fit",dataPoints:["Steps","Activity","Workouts","Heart Rate"],apiUrl:"https://developers.google.com/fit/rest/v1/get-started",free:!0},{id:"apple_health",name:"Apple Health",icon:a.jsx(Zn,{className:"h-5 w-5 text-red-500"}),description:"Import health data from Apple Health",dataPoints:["Steps","Activity","Workouts","Heart Rate","Sleep"],apiUrl:"https://developer.apple.com/documentation/healthkit",free:!0},{id:"fitbit",name:"Fitbit",icon:a.jsx(CL,{className:"h-5 w-5 text-blue-500"}),description:"Import activity and sleep data from Fitbit",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://dev.fitbit.com/build/reference/web-api/",free:!0},{id:"samsung_health",name:"Samsung Health",icon:a.jsx(E7,{className:"h-5 w-5 text-blue-400"}),description:"Import health data from Samsung Health",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.samsung.com/health/android/overview.html",free:!0},{id:"strava",name:"Strava",icon:a.jsx(Qoe,{className:"h-5 w-5 text-orange-500"}),description:"Import running and cycling data from Strava",dataPoints:["Runs","Rides","Workouts"],apiUrl:"https://developers.strava.com/",free:!0},{id:"garmin",name:"Garmin Connect",icon:a.jsx(CL,{className:"h-5 w-5 text-purple-500"}),description:"Import activity data from Garmin devices",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.garmin.com/gc-developer-program/overview/",free:!0},{id:"myfitnesspal",name:"MyFitnessPal",icon:a.jsx(L0,{className:"h-5 w-5 text-blue-600"}),description:"Import nutrition and exercise data from MyFitnessPal",dataPoints:["Nutrition","Calories","Exercise"],apiUrl:"https://www.myfitnesspal.com/api",free:!0},{id:"oura",name:"Oura Ring",icon:a.jsx(lle,{className:"h-5 w-5 text-gray-400"}),description:"Import sleep and recovery data from Oura Ring",dataPoints:["Sleep","Readiness","Activity"],apiUrl:"https://cloud.ouraring.com/docs/",free:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Health Data Integrations"}),a.jsx(Se,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal",children:"Beta Feature"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect SafeBite with your favorite health apps and wearables to import your health data and get more personalized recommendations."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(l=>a.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[e[l.id]&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs(Se,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[a.jsx(_a,{className:"mr-1 h-3 w-3"}),"Connected"]})}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 p-2 bg-safebite-card-bg-alt rounded-md",children:l.icon}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:l.name}),l.free&&a.jsx(Se,{variant:"outline",className:"ml-2 text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:"Free API"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-2",children:l.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l.dataPoints.map(c=>a.jsx(Se,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:c},c))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(fo,{checked:!!e[l.id],onCheckedChange:c=>{c?i(l.id):s(l.id)},disabled:n===l.id,className:"mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:e[l.id]?"Connected":"Disconnected"})]}),a.jsx(Mh,{children:a.jsxs(Bg,{children:[a.jsx(Ug,{asChild:!0,children:a.jsx(ee,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>window.open(l.apiUrl,"_blank"),children:"API Docs"})}),a.jsx(Dh,{children:a.jsx("p",{children:"View API documentation"})})]})})]})]})]}),n===l.id&&a.jsx("div",{className:"absolute inset-0 bg-safebite-dark-blue/80 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fr,{className:"h-8 w-8 text-safebite-teal animate-pulse mx-auto mb-2"}),a.jsxs("p",{className:"text-safebite-text",children:["Connecting to ",l.name,"..."]})]})})]},l.id))}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-card-bg flex items-start",children:[a.jsx(kl,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:"Note:"})," These integrations are currently in beta. To use them, you'll need to set up API keys for each service. The data will be integrated into your dashboard to provide more personalized nutrition recommendations based on your activity levels, sleep patterns, and more."]})})]})]})};class e1e{constructor(){Dn(this,"userId",null);Dn(this,"db",null);Dn(this,"auth",null);Dn(this,"activityHistory",[]);Dn(this,"userPreferences",{});Dn(this,"initialized",!1);this.initialize()}async initialize(){try{if(this.initialized||(this.db=$t(Oe),this.auth=lt(Oe),this.initialized=!0,console.log("Firebase services initialized in mlService")),this.auth){const e=this.auth.currentUser;e&&(this.userId=e.uid,await this.loadUserData()),this.auth.onAuthStateChanged(async n=>{n?(this.userId=n.uid,await this.loadUserData()):(this.userId=null,this.activityHistory=[],this.userPreferences={})})}}catch(e){console.error("Error initializing mlService:",e)}}async loadUserData(){if(!(!this.userId||!this.db))try{const e=Ve(this.db,"users",this.userId),n=await Mt(e);if(n.exists()){const r=n.data();r.profile&&(this.userPreferences={dietaryPreference:r.profile.dietary_preferences,healthGoal:r.profile.health_goals,activityLevel:r.profile.activity_level,foodPreferences:r.profile.food_preferences||[],allergies:r.profile.allergies||[]}),r.activityHistory&&(this.activityHistory=r.activityHistory)}}catch(e){console.error("Error loading user data:",e)}}async trackActivity(e,n){if(!(!this.userId||!this.db))try{const r={timestamp:Date.now(),action:e,data:n};this.activityHistory.push(r);const i=Ve(this.db,"users",this.userId);await au(i,{activityHistory:Ij(r)}),console.log(`Tracked activity: ${e}`)}catch(r){console.error("Error tracking activity:",r)}}async trackFoodSearch(e,n){await this.trackActivity("food_search",{query:e,selectedItems:n.map(r=>({id:r.id,name:r.name,category:r.category||"unknown"}))})}async trackRecipeSearch(e,n){await this.trackActivity("recipe_search",{query:e,selectedRecipes:n.map(r=>({id:r.id,title:r.title,healthLabels:r.healthLabels||[]}))})}async trackHealthBoxInteraction(e,n){await this.trackActivity("health_box",{boxType:e,action:n})}async trackPreferenceChange(e,n){await this.trackActivity("preference_change",{preference:e,value:n})}getDefaultRecommendations(){return["Spinach","Chicken Breast","Brown Rice","Greek Yogurt","Almonds"]}getCategoryRecommendations(e){switch(e){case"protein":return["Chicken Breast","Tofu","Lentils","Salmon","Greek Yogurt"];case"carbs":return["Brown Rice","Quinoa","Sweet Potato","Oats","Whole Wheat Bread"];case"vegetables":return["Spinach","Broccoli","Kale","Bell Peppers","Carrots"];case"fruits":return["Blueberries","Apples","Bananas","Oranges","Strawberries"];case"dairy":return["Greek Yogurt","Cottage Cheese","Milk","Cheese","Kefir"];default:return this.getDefaultRecommendations()}}getHealthGoalRecommendations(e){const n=e.toLowerCase();return n.includes("weight loss")?["Leafy Greens","Lean Protein","Berries","Green Tea","Chia Seeds"]:n.includes("muscle")||n.includes("gain")?["Chicken Breast","Eggs","Salmon","Greek Yogurt","Quinoa"]:n.includes("health")?["Spinach","Blueberries","Salmon","Walnuts","Sweet Potatoes"]:this.getDefaultRecommendations()}async getFoodRecommendations(){if(!this.initialized||!this.userId||!this.db)return this.getDefaultRecommendations();try{const e=[];if(this.userPreferences.dietaryPreference){const n=this.userPreferences.dietaryPreference.toLowerCase();n.includes("vegetarian")?e.push("Tofu","Lentils","Chickpeas"):n.includes("vegan")?e.push("Tofu","Tempeh","Nutritional Yeast"):n.includes("keto")?e.push("Avocado","Eggs","Salmon"):e.push("Chicken Breast","Salmon","Eggs")}if(this.userPreferences.healthGoal){const n=this.getHealthGoalRecommendations(this.userPreferences.healthGoal);e.push(...n.slice(0,2))}if(this.userPreferences.foodPreferences&&this.userPreferences.foodPreferences.length>0){const n=Math.floor(Math.random()*this.userPreferences.foodPreferences.length),r=this.userPreferences.foodPreferences[n].toLowerCase();r.includes("indian")?e.push("Lentils","Chickpeas","Basmati Rice"):r.includes("italian")?e.push("Whole Wheat Pasta","Tomatoes","Olive Oil"):r.includes("chinese")?e.push("Bok Choy","Brown Rice","Shiitake Mushrooms"):r.includes("mexican")&&e.push("Black Beans","Avocado","Bell Peppers")}return[...new Set(e)].slice(0,5)}catch(e){return console.error("Error getting food recommendations:",e),this.getDefaultRecommendations()}}}const Rj=new e1e,t$=(t,e)=>Rj.trackRecipeSearch(t,e),Us=(t,e)=>Rj.trackHealthBoxInteraction(t,e),cg=(t,e)=>Rj.trackPreferenceChange(t,e),nn=async(t,e={})=>{try{await Rj.trackActivity(t,e),console.log(`Tracked user interaction: ${t}`,e)}catch(n){console.error("Error tracking user interaction:",n)}};var CO="Radio",[t1e,YX]=Xi(CO),[n1e,r1e]=t1e(CO),XX=w.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...f}=t,[h,p]=w.useState(null),g=Et(e,b=>p(b)),v=w.useRef(!1),y=h?u||!!h.closest("form"):!0;return a.jsxs(n1e,{scope:n,checked:i,disabled:o,children:[a.jsx(Ge.button,{type:"button",role:"radio","aria-checked":i,"data-state":ZX(i),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:Be(t.onClick,b=>{i||c==null||c(),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&a.jsx(i1e,{control:h,bubbles:!v.current,name:r,value:l,checked:i,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});XX.displayName=CO;var QX="RadioIndicator",JX=w.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=r1e(QX,n);return a.jsx(Qi,{present:r||s.checked,children:a.jsx(Ge.span,{"data-state":ZX(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});JX.displayName=QX;var i1e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=w.useRef(null),o=Fx(n),l=Tx(e);return w.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(p)}},[o,n,r]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ZX(t){return t?"checked":"unchecked"}var s1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],EO="RadioGroup",[a1e,dWe]=Xi(EO,[fj,YX]),eQ=fj(),tQ=YX(),[o1e,l1e]=a1e(EO),nQ=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:h,...p}=t,g=eQ(n),v=cf(u),[y,b]=Yi({prop:s,defaultProp:i,onChange:h});return a.jsx(o1e,{scope:n,name:r,required:o,disabled:l,value:y,onValueChange:b,children:a.jsx(GK,{asChild:!0,...g,orientation:c,dir:v,loop:f,children:a.jsx(Ge.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...p,ref:e})})})});nQ.displayName=EO;var rQ="RadioGroupItem",iQ=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=l1e(rQ,n),o=s.disabled||r,l=eQ(n),c=tQ(n),u=w.useRef(null),f=Et(e,u),h=s.value===i.value,p=w.useRef(!1);return w.useEffect(()=>{const g=y=>{s1e.includes(y.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),a.jsx(KK,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(XX,{disabled:o,required:s.required,checked:h,...c,...i,name:s.name,ref:f,onCheck:()=>s.onValueChange(i.value),onKeyDown:Be(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Be(i.onFocus,()=>{var g;p.current&&((g=u.current)==null||g.click())})})})});iQ.displayName=rQ;var c1e="RadioGroupIndicator",sQ=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=tQ(n);return a.jsx(JX,{...i,...r,ref:e})});sQ.displayName=c1e;var aQ=nQ,oQ=iQ,u1e=sQ;const TO=w.forwardRef(({className:t,...e},n)=>a.jsx(aQ,{className:st("grid gap-2",t),...e,ref:n}));TO.displayName=aQ.displayName;const od=w.forwardRef(({className:t,...e},n)=>a.jsx(oQ,{ref:n,className:st("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(u1e,{className:"flex items-center justify-center",children:a.jsx(Woe,{className:"h-2.5 w-2.5 fill-current text-current"})})}));od.displayName=oQ.displayName;function Cy(t,[e,n]){return Math.min(n,Math.max(e,t))}var lQ=["PageUp","PageDown"],cQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uQ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},lp="Slider",[AT,d1e,f1e]=Nx(lp),[dQ,fWe]=Xi(lp,[f1e]),[h1e,Oj]=dQ(lp),fQ=w.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:v,...y}=t,b=w.useRef(new Set),S=w.useRef(0),k=o==="horizontal"?m1e:p1e,[E=[],A]=Yi({prop:f,defaultProp:u,onChange:L=>{var R;(R=[...b.current][S.current])==null||R.focus(),h(L)}}),C=w.useRef(E);function T(L){const D=b1e(E,L);M(L,D)}function I(L){M(L,S.current)}function P(){const L=C.current[S.current];E[S.current]!==L&&p(E)}function M(L,D,{commit:R}={commit:!1}){const V=N1e(s),q=_1e(Math.round((L-r)/s)*s+r,V),H=Cy(q,[r,i]);A((Y=[])=>{const K=x1e(Y,H,D);if(S1e(K,c*s)){S.current=K.indexOf(H);const Z=String(K)!==String(Y);return Z&&R&&p(K),Z?K:Y}else return Y})}return a.jsx(h1e,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:S,thumbs:b.current,values:E,orientation:o,form:v,children:a.jsx(AT.Provider,{scope:t.__scopeSlider,children:a.jsx(AT.Slot,{scope:t.__scopeSlider,children:a.jsx(k,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:e,onPointerDown:Be(y.onPointerDown,()=>{l||(C.current=E)}),min:r,max:i,inverted:g,onSlideStart:l?void 0:T,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&M(r,0,{commit:!0}),onEndKeyDown:()=>!l&&M(i,E.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:D})=>{if(!l){const q=lQ.includes(L.key)||L.shiftKey&&cQ.includes(L.key)?10:1,H=S.current,Y=E[H],K=s*q*D;M(Y+K,H,{commit:!0})}}})})})})});fQ.displayName=lp;var[hQ,mQ]=dQ(lp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),m1e=w.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=t,[h,p]=w.useState(null),g=Et(e,k=>p(k)),v=w.useRef(),y=cf(i),b=y==="ltr",S=b&&!s||!b&&s;function N(k){const E=v.current||h.getBoundingClientRect(),A=[0,E.width],T=PO(A,S?[n,r]:[r,n]);return v.current=E,T(k-E.left)}return a.jsx(hQ,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:a.jsx(pQ,{dir:y,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const E=N(k.clientX);o==null||o(E)},onSlideMove:k=>{const E=N(k.clientX);l==null||l(E)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:k=>{const A=uQ[S?"from-left":"from-right"].includes(k.key);u==null||u({event:k,direction:A?-1:1})}})})}),p1e=w.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,f=w.useRef(null),h=Et(e,f),p=w.useRef(),g=!i;function v(y){const b=p.current||f.current.getBoundingClientRect(),S=[0,b.height],k=PO(S,g?[r,n]:[n,r]);return p.current=b,k(y-b.top)}return a.jsx(hQ,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:a.jsx(pQ,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=v(y.clientY);s==null||s(b)},onSlideMove:y=>{const b=v(y.clientY);o==null||o(b)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:y=>{const S=uQ[g?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:S?-1:1})}})})}),pQ=w.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,f=Oj(lp,n);return a.jsx(Ge.span,{...u,ref:e,onKeyDown:Be(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):lQ.concat(cQ).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Be(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(p)?p.focus():r(h)}),onPointerMove:Be(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Be(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),s(h))})})}),gQ="SliderTrack",yQ=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Oj(gQ,n);return a.jsx(Ge.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});yQ.displayName=gQ;var CT="SliderRange",xQ=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Oj(CT,n),s=mQ(CT,n),o=w.useRef(null),l=Et(e,o),c=i.values.length,u=i.values.map(p=>bQ(p,i.min,i.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return a.jsx(Ge.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:h+"%"}})});xQ.displayName=CT;var ET="SliderThumb",vQ=w.forwardRef((t,e)=>{const n=d1e(t.__scopeSlider),[r,i]=w.useState(null),s=Et(e,l=>i(l)),o=w.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(g1e,{...t,ref:s,index:o})}),g1e=w.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Oj(ET,n),l=mQ(ET,n),[c,u]=w.useState(null),f=Et(e,N=>u(N)),h=c?o.form||!!c.closest("form"):!0,p=Tx(c),g=o.values[r],v=g===void 0?0:bQ(g,o.min,o.max),y=v1e(r,o.values.length),b=p==null?void 0:p[l.size],S=b?w1e(b,v,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${S}px)`},children:[a.jsx(AT.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(Ge.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:Be(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&a.jsx(y1e,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});vQ.displayName=ET;var y1e=t=>{const{value:e,...n}=t,r=w.useRef(null),i=Fx(e);return w.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[i,e]),a.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function x1e(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function bQ(t,e,n){const s=100/(n-e)*(t-e);return Cy(s,[0,100])}function v1e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function b1e(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function w1e(t,e,n){const r=t/2,s=PO([0,50],[0,r]);return(r-s(e)*n)*n}function j1e(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function S1e(t,e){if(e>0){const n=j1e(t);return Math.min(...n)>=e}return!0}function PO(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function N1e(t){return(String(t).split(".")[1]||"").length}function _1e(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var wQ=fQ,k1e=yQ,A1e=xQ,C1e=vQ;const ul=w.forwardRef(({className:t,...e},n)=>a.jsxs(wQ,{ref:n,className:st("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(k1e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(A1e,{className:"absolute h-full bg-primary"})}),a.jsx(C1e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ul.displayName=wQ.displayName;var IO="Checkbox",[E1e,hWe]=Xi(IO),[T1e,P1e]=E1e(IO),jQ=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=t,[p,g]=w.useState(null),v=Et(e,E=>g(E)),y=w.useRef(!1),b=p?f||!!p.closest("form"):!0,[S=!1,N]=Yi({prop:i,defaultProp:s,onChange:u}),k=w.useRef(S);return w.useEffect(()=>{const E=p==null?void 0:p.form;if(E){const A=()=>N(k.current);return E.addEventListener("reset",A),()=>E.removeEventListener("reset",A)}},[p,N]),a.jsxs(T1e,{scope:n,state:S,disabled:l,children:[a.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":Wc(S)?"mixed":S,"aria-required":o,"data-state":_Q(S),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:Be(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Be(t.onClick,E=>{N(A=>Wc(A)?!0:!A),b&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})}),b&&a.jsx(I1e,{control:p,bubbles:!y.current,name:r,value:c,checked:S,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Wc(s)?!1:s})]})});jQ.displayName=IO;var SQ="CheckboxIndicator",NQ=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=P1e(SQ,n);return a.jsx(Qi,{present:r||Wc(s.state)||s.state===!0,children:a.jsx(Ge.span,{"data-state":_Q(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});NQ.displayName=SQ;var I1e=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=w.useRef(null),l=Fx(n),c=Tx(e);w.useEffect(()=>{const f=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});f.indeterminate=Wc(n),g.call(f,Wc(n)?!1:n),f.dispatchEvent(v)}},[l,n,r]);const u=w.useRef(Wc(n)?!1:n);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wc(t){return t==="indeterminate"}function _Q(t){return Wc(t)?"indeterminate":t?"checked":"unchecked"}var kQ=jQ,R1e=NQ;const yw=w.forwardRef(({className:t,...e},n)=>a.jsx(kQ,{ref:n,className:st("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(R1e,{className:st("flex items-center justify-center text-current"),children:a.jsx(_a,{className:"h-4 w-4"})})}));yw.displayName=kQ.displayName;const AQ=({onComplete:t})=>{const e=$n(),{toast:n}=Tt(),r=lt(Oe),i=$t(Oe),[s,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(1),h=8,[p,g]=w.useState({exercise_minutes:0,water_intake:0,sleep_hours:0,stress_level:3,home_cooked_meals:0,junk_food_consumption:0,fruit_vegetable_servings:0,health_symptoms:[]});w.useEffect(()=>{(async()=>{var N;try{const k=r.currentUser;if(!k){e("/auth/login");return}const E=Ve(i,"users",k.uid),A=await Mt(E);if(A.exists()){const C=A.data();if((N=C.weeklyCheckin)!=null&&N.lastSubmitted){const T=C.weeklyCheckin.lastSubmitted.toDate(),P=Math.abs(new Date().getTime()-T.getTime());Math.ceil(P/(1e3*60*60*24))<7&&c(!0)}}}catch(k){console.error("Error checking weekly questions status:",k)}})()},[r,i,e]);const v=async()=>{o(!0);try{const S=r.currentUser;if(!S){e("/auth/login");return}const N=Ve(i,"users",S.uid),k=new Date,E=Math.ceil((k.getDate()-1+new Date(k.getFullYear(),k.getMonth(),1).getDay())/7),A=`${k.getFullYear()}-W${E}`;await rn(N,{weeklyCheckin:{answers:p,lastSubmitted:md(),weekIdentifier:A}},{merge:!0}),n({title:"Weekly Check-in Complete!",description:"Your responses have been saved. Check your dashboard for insights.",variant:"default"}),c(!0),t&&t()}catch(S){console.error("Error submitting weekly questions:",S),n({title:"Submission Error",description:"There was a problem saving your responses. Please try again.",variant:"destructive"})}finally{o(!1)}},y=()=>{u<h?f(u+1):v()},b=()=>{u>1&&f(u-1)};return l?a.jsxs(Ee,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"text-2xl font-bold text-center flex items-center justify-center",children:[a.jsx(cd,{className:"mr-2 h-6 w-6 text-green-500"}),"Weekly Check-in Complete"]})}),a.jsxs(Fe,{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"You've already completed your weekly health check-in. Check back next week for new questions."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Visit your dashboard to see insights based on your responses."}),a.jsxs(ee,{onClick:()=>e("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:["Go to Dashboard",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]}):a.jsxs(Ee,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{className:"text-2xl font-bold",children:"Weekly Health Check-in"}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"text-sm text-safebite-text-secondary",children:["Step ",u," of ",h]}),a.jsx("div",{className:"flex h-2 w-full max-w-xs bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-safebite-teal h-full transition-all duration-300",style:{width:`${u/h*100}%`}})})]})]}),a.jsxs(Fe,{children:[u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many minutes of exercise did you get this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include any physical activity like walking, running, sports, or workouts."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(ul,{value:[p.exercise_minutes],min:0,max:300,step:5,onValueChange:S=>g({...p,exercise_minutes:S[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 min"}),a.jsx("span",{children:"150 min"}),a.jsx("span",{children:"300+ min"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.exercise_minutes}),a.jsx("span",{className:"text-safebite-text ml-1",children:"minutes"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.exercise_minutes<60?"Try to aim for at least 150 minutes per week for good health.":p.exercise_minutes<150?"Getting closer to the recommended 150 minutes per week!":"Great job! You're meeting or exceeding exercise recommendations."})]})]}),u===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many cups of water do you drink daily on average?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One cup is approximately 8 ounces or 240ml."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(ul,{value:[p.water_intake],min:0,max:12,step:1,onValueChange:S=>g({...p,water_intake:S[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 cups"}),a.jsx("span",{children:"6 cups"}),a.jsx("span",{children:"12+ cups"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.water_intake}),a.jsx("span",{className:"text-safebite-text ml-1",children:"cups"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.water_intake<4?"Try to increase your water intake for better hydration.":p.water_intake<8?"You're doing well, but try to reach 8 cups daily for optimal hydration.":"Excellent! You're well-hydrated."})]})]}),u===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"3"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many hours of sleep do you get on average each night?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your typical sleep pattern over the past week."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(ul,{value:[p.sleep_hours],min:0,max:12,step:.5,onValueChange:S=>g({...p,sleep_hours:S[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 hrs"}),a.jsx("span",{children:"6 hrs"}),a.jsx("span",{children:"12 hrs"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.sleep_hours}),a.jsx("span",{className:"text-safebite-text ml-1",children:"hours"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.sleep_hours<6?"Most adults need 7-9 hours of sleep for optimal health.":p.sleep_hours<7?"You're close to the recommended amount of sleep.":p.sleep_hours<=9?"Great! You're getting the recommended amount of sleep.":"You're getting more than the typical recommendation. If you feel well-rested, that's what matters!"})]})]}),u===4&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How would you rate your stress level this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your overall feelings of stress, anxiety, or tension."})]})]}),a.jsx("div",{className:"pl-11",children:a.jsxs(TO,{value:p.stress_level.toString(),onValueChange:S=>g({...p,stress_level:parseInt(S)}),className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(od,{value:"1",id:"stress-1"}),a.jsx(et,{htmlFor:"stress-1",className:"flex-1 cursor-pointer",children:"Very Low - Feeling calm and relaxed"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(od,{value:"2",id:"stress-2"}),a.jsx(et,{htmlFor:"stress-2",className:"flex-1 cursor-pointer",children:"Low - Occasional mild stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(od,{value:"3",id:"stress-3"}),a.jsx(et,{htmlFor:"stress-3",className:"flex-1 cursor-pointer",children:"Moderate - Noticeable but manageable stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(od,{value:"4",id:"stress-4"}),a.jsx(et,{htmlFor:"stress-4",className:"flex-1 cursor-pointer",children:"High - Frequent stress affecting daily life"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(od,{value:"5",id:"stress-5"}),a.jsx(et,{htmlFor:"stress-5",className:"flex-1 cursor-pointer",children:"Very High - Constant stress, feeling overwhelmed"})]})]})})]}),u===5&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many home-cooked meals did you eat this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include meals prepared at home, not takeout or restaurant meals."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(ul,{value:[p.home_cooked_meals],min:0,max:21,step:1,onValueChange:S=>g({...p,home_cooked_meals:S[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 meals"}),a.jsx("span",{children:"10 meals"}),a.jsx("span",{children:"21 meals"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.home_cooked_meals}),a.jsx("span",{className:"text-safebite-text ml-1",children:"meals"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.home_cooked_meals<7?"Home-cooked meals are typically healthier. Try to increase when possible.":p.home_cooked_meals<14?"You're doing well with home cooking!":"Excellent! Most of your meals are home-cooked, which is great for nutrition."})]})]}),u===6&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many times did you eat fast food or junk food this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include fast food, processed snacks, sugary treats, etc."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(ul,{value:[p.junk_food_consumption],min:0,max:15,step:1,onValueChange:S=>g({...p,junk_food_consumption:S[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 times"}),a.jsx("span",{children:"7 times"}),a.jsx("span",{children:"15+ times"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.junk_food_consumption}),a.jsx("span",{className:"text-safebite-text ml-1",children:"times"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.junk_food_consumption<3?"Great job limiting junk food consumption!":p.junk_food_consumption<7?"Try to reduce junk food a bit more for better health.":"Consider reducing your junk food intake for better nutrition and health."})]})]}),u===7&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many servings of fruits and vegetables do you eat daily?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One serving is about 1 cup of raw vegetables or fruit, or 1/2 cup cooked."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(ul,{value:[p.fruit_vegetable_servings],min:0,max:10,step:1,onValueChange:S=>g({...p,fruit_vegetable_servings:S[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 servings"}),a.jsx("span",{children:"5 servings"}),a.jsx("span",{children:"10+ servings"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.fruit_vegetable_servings}),a.jsx("span",{className:"text-safebite-text ml-1",children:"servings"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.fruit_vegetable_servings<3?"Try to increase your fruit and vegetable intake to at least 5 servings daily.":p.fruit_vegetable_servings<5?"You're doing well, but aim for 5+ servings daily for optimal health.":"Excellent! You're meeting or exceeding the recommended fruit and vegetable intake."})]})]}),u===8&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"Have you experienced any of these symptoms this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Select all that apply. This helps us provide better health insights."})]})]}),a.jsxs("div",{className:"pl-11 space-y-3",children:[[{id:"fatigue",label:"Unusual fatigue or low energy"},{id:"headaches",label:"Frequent headaches"},{id:"digestive",label:"Digestive issues (bloating, constipation, etc.)"},{id:"joint_pain",label:"Joint pain or stiffness"},{id:"mood_swings",label:"Mood swings or irritability"},{id:"skin_issues",label:"Skin issues (rashes, acne, dryness)"},{id:"sleep_issues",label:"Difficulty sleeping"},{id:"allergies",label:"Allergy symptoms"},{id:"none",label:"None of the above"}].map(S=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yw,{id:S.id,checked:p.health_symptoms.includes(S.id),onCheckedChange:N=>{if(N)if(S.id==="none")g({...p,health_symptoms:["none"]});else{const k=p.health_symptoms.filter(E=>E!=="none");g({...p,health_symptoms:[...k,S.id]})}else g({...p,health_symptoms:p.health_symptoms.filter(k=>k!==S.id)})}}),a.jsx(et,{htmlFor:S.id,className:"cursor-pointer",children:S.label})]},S.id)),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(ys,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"This information is used to provide personalized health insights and is kept private."})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(ee,{variant:"outline",onClick:b,disabled:u===1||s,className:"sci-fi-button",children:"Previous"}),a.jsx(ee,{onClick:y,disabled:s,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:s?a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):u===h?a.jsxs(a.Fragment,{children:["Submit",a.jsx(cd,{className:"ml-2 h-4 w-4"})]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})})]})]})]})},O1e=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState(!1),[v,y]=w.useState(!1),[b,S]=w.useState({}),[N,k]=w.useState(!1),[E,A]=w.useState(!1),[C,T]=w.useState({useCalorieNinjas:!0,useFatSecret:!0,useEdamam:!0,saveSearchHistory:!0}),[I,P]=w.useState("all"),M=lt(Oe),L=$t(Oe),D=M.currentUser,{toast:R}=Tt(),{isGuest:V}=Vn();w.useEffect(()=>{(async()=>{if(D){const ae=Ve(L,"users",D.uid);try{const ie=await Mt(ae);if(ie.exists()){const ce=ie.data(),ge=ce.profile||{},le=ce.apiSettings||{};e(ge),r(ge.health_goals||""),s(ge.dietary_preferences||""),l(ge.activity_level||""),u(ge.food_preferences||[]),h(ge.allergies||[]),g(ge.notificationsEnabled||!1),y(ge.foodSafetyAlertsEnabled||!1),k(ge.communityEnabled||!1),A(ge.shareHealthData||!1),S(ce.healthIntegrations||{}),T({useCalorieNinjas:le.useCalorieNinjas!==void 0?le.useCalorieNinjas:!0,useFatSecret:le.useFatSecret!==void 0?le.useFatSecret:!0,useEdamam:le.useEdamam!==void 0?le.useEdamam:!0,saveSearchHistory:le.saveSearchHistory!==void 0?le.saveSearchHistory:!0}),P(le.preferredApi||"all")}else console.log("No such document! Creating default profile structure."),e({})}catch(ie){console.error("Error fetching user profile:",ie)}}})()},[D,L]);const q=async ne=>{const ae=ne.target.value;r(ae),await ue({health_goals:ae}),cg("health_goals",ae)},H=async ne=>{const ae=ne.target.checked;g(ae),await ue({notificationsEnabled:ae})},Y=async ne=>{const ae=ne.target.checked;y(ae),await ue({foodSafetyAlertsEnabled:ae})},K=async ne=>{const ae=ne.target.value;s(ae),await ue({dietary_preferences:ae}),cg("dietary_preferences",ae)},Z=async ne=>{const ae=ne.target.value;l(ae),await ue({activity_level:ae}),cg("activity_level",ae)},U=async ne=>{let ae;c.includes(ne)?ae=c.filter(ie=>ie!==ne):ae=[...c,ne],u(ae),await ue({food_preferences:ae}),cg("food_preferences",ae)},W=async ne=>{let ae;f.includes(ne)?ae=f.filter(ie=>ie!==ne):ae=[...f,ne],h(ae),await ue({allergies:ae}),cg("allergies",ae)},Q=async ne=>{const ae=ne.target.checked;k(ae),await ue({communityEnabled:ae})},B=async ne=>{const ae=ne.target.checked;A(ae),await ue({shareHealthData:ae})},se=async(ne,ae)=>{if(V){R({title:"Guest Mode",description:"Settings cannot be saved in guest mode.",variant:"destructive"});return}const ie={...C,[ne]:ae};if(T(ie),D){const ce=Ve(L,"users",D.uid);try{await rn(ce,{apiSettings:{...ie,preferredApi:I}},{merge:!0}),R({title:"API Settings Updated",description:`${ne} setting has been updated.`})}catch(ge){R({title:"Error updating API settings",description:ge.message,variant:"destructive"})}}},ue=async ne=>{if(D){const ae=Ve(L,"users",D.uid);try{await rn(ae,{profile:ne},{merge:!0}),R({title:"Settings Updated",description:"Your settings have been updated."})}catch(ie){R({title:"Error updating settings",description:ie.message,variant:"destructive"}),console.error("Error updating user profile:",ie)}}},pe=async(ne,ae)=>{if(D){const ie=Ve(L,"users",D.uid);try{const ce={...b,[ne]:ae};S(ce),await rn(ie,{healthIntegrations:ce},{merge:!0}),R({title:ae?"Integration Connected":"Integration Disconnected",description:`Successfully ${ae?"connected to":"disconnected from"} the health service.`})}catch(ce){R({title:"Error updating integration",description:ce.message,variant:"destructive"}),console.error("Error updating health integration:",ce)}}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Ha,{userProfile:t}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-4",children:"Settings"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Here you can manage your preferences and other settings."}),a.jsxs(pi,{defaultValue:"preferences",className:"w-full",children:[a.jsxs(Qr,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 mb-8",children:[a.jsxs(ft,{value:"preferences",className:"flex items-center",children:[a.jsx(mle,{className:"mr-2 h-4 w-4"}),"Preferences"]}),a.jsxs(ft,{value:"notifications",className:"flex items-center",children:[a.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Notifications"]}),a.jsxs(ft,{value:"community",className:"flex items-center",children:[a.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Community"]}),a.jsxs(ft,{value:"integrations",className:"flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Health Data"]}),a.jsxs(ft,{value:"api",className:"flex items-center",children:[a.jsx(tm,{className:"mr-2 h-4 w-4"}),"API Settings"]}),a.jsxs(ft,{value:"weekly-checkin",className:"flex items-center",children:[a.jsx(lo,{className:"mr-2 h-4 w-4"})," ","Weekly Check-in"]})]}),a.jsx(St,{value:"preferences",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Health Goal"}),a.jsxs("select",{className:"sci-fi-input w-full",value:n,onChange:q,children:[a.jsx("option",{value:"",children:"Select a goal"}),a.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),a.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),a.jsx("option",{value:"General Health",children:"General Health"}),a.jsx("option",{value:"No Goal",children:"No Goal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Dietary Preference"}),a.jsxs("select",{className:"sci-fi-input w-full",value:i,onChange:K,children:[a.jsx("option",{value:"",children:"Select a preference"}),a.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),a.jsx("option",{value:"Vegan",children:"Vegan"}),a.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),a.jsx("option",{value:"Pescatarian",children:"Pescatarian"}),a.jsx("option",{value:"Keto",children:"Keto"}),a.jsx("option",{value:"Paleo",children:"Paleo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Activity Level"}),a.jsxs("select",{className:"sci-fi-input w-full",value:o,onChange:Z,children:[a.jsx("option",{value:"",children:"Select activity level"}),a.jsx("option",{value:"Sedentary",children:"Sedentary (little or no exercise)"}),a.jsx("option",{value:"Light",children:"Light (exercise 1-3 days/week)"}),a.jsx("option",{value:"Moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx("option",{value:"Active",children:"Active (exercise 6-7 days/week)"}),a.jsx("option",{value:"Very Active",children:"Very Active (intense exercise daily)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Food Preferences"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American"].map(ne=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`pref-${ne}`,checked:c.includes(ne),onChange:()=>U(ne),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`pref-${ne}`,className:"ml-2 text-safebite-text",children:ne})]},ne))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Allergies & Intolerances"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Gluten","Dairy","Nuts","Eggs","Soy","Shellfish","Fish","Wheat"].map(ne=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`allergy-${ne}`,checked:f.includes(ne),onChange:()=>W(ne),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`allergy-${ne}`,className:"ml-2 text-safebite-text",children:ne})]},ne))})]})]})]})}),a.jsx(St,{value:"notifications",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Notifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"App Notifications"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Receive notifications about your health goals and progress"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:p,onChange:H})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Food Safety Alerts"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Get alerts about food safety issues for products you've searched"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:v,onChange:Y})]})]})]})}),a.jsx(St,{value:"community",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Community Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Enable Community Features"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Allow sharing and viewing community-contributed food products"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:N,onChange:Q})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Share Health Data"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Share anonymized health data to help improve recommendations"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:E,onChange:B})]}),a.jsxs("div",{className:"p-4 sci-fi-card",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Community Contribution"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"You can contribute to the SafeBite community by sharing food products you've scanned or reviewed."}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"1"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Scan or search for a food product"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"2"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Add your review or additional information"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"3"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Share with the community"})]})]})]})]})]})}),a.jsx(St,{value:"integrations",className:"space-y-6",children:a.jsx(Zwe,{onIntegrationToggle:pe,integrations:b})}),a.jsx(St,{value:"weekly-checkin",className:"space-y-6",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Weekly Check-in"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Answer a few questions to help us personalize your SafeBite experience."}),a.jsx(AQ,{})]})}),a.jsx(St,{value:"api",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"API Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsxs(Xe,{children:[a.jsxs(Qe,{className:"flex items-center",children:[a.jsx(tm,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Data Sources"]}),a.jsx(hy,{children:"Configure which nutrition data APIs to use for food searches"})]}),a.jsxs(Fe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Se,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"CalorieNinjas API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides detailed nutrition data for most food items"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:C.useCalorieNinjas,onChange:()=>se("useCalorieNinjas",!C.useCalorieNinjas)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Se,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"FatSecret API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides branded food products and restaurant meals"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:C.useFatSecret,onChange:()=>se("useFatSecret",!C.useFatSecret)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Se,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"Edamam API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides recipe nutrition data and food database"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:C.useEdamam,onChange:()=>se("useEdamam",!C.useEdamam)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Se,{className:"mr-2 bg-orange-500/20 text-orange-500 border-orange-500",children:"Coming Soon"}),"OpenFoodFacts API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Open source food products database with barcode scanning"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:!1,disabled:!0})]})]})]}),a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsxs(Xe,{children:[a.jsxs(Qe,{className:"flex items-center",children:[a.jsx(Fr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"API Performance"]}),a.jsx(hy,{children:"Monitor API status and performance"})]}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"CalorieNinjas API"}),a.jsx(Se,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"FatSecret API"}),a.jsx(Se,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"Edamam API"}),a.jsx(Se,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"MongoDB Connection"}),a.jsx(Se,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Connected"})]})]})})]})]})]})})]})]})})]})},Mj="c2bd47af-11fb-45dd-9cac-c3aa89289d75",Dj="https://api.calorieninjas.com/v1",CQ=async t=>{try{const e=new AbortController,n=setTimeout(()=>e.abort(),1e4),r=await fetch(`${Dj}/recipe?query=${encodeURIComponent(t)}`,{signal:e.signal,method:"GET",headers:{"X-Api-Key":Mj,"Content-Type":"application/json"}});if(clearTimeout(n),!r.ok)throw new Error(`CalorieNinjas API returned status ${r.status}`);return await r.json()}catch(e){throw console.error("Error searching recipes:",e),e}},M1e=async t=>{try{const e=new AbortController,n=setTimeout(()=>e.abort(),1e4),r=await fetch(`${Dj}/nutrition?query=${encodeURIComponent(t)}`,{signal:e.signal,method:"GET",headers:{"X-Api-Key":Mj,"Content-Type":"application/json"}});if(clearTimeout(n),!r.ok)throw new Error(`CalorieNinjas API returned status ${r.status}`);return await r.json()}catch(e){throw console.error("Error getting nutrition from text:",e),e}},D1e=async t=>{try{const e=new AbortController,n=setTimeout(()=>e.abort(),15e3),r=new FormData;r.append("media",t);const i=await fetch(`${Dj}/imagetextnutrition`,{signal:e.signal,method:"POST",headers:{"X-Api-Key":Mj},body:r});if(clearTimeout(n),!i.ok)throw new Error(`CalorieNinjas API returned status ${i.status}`);return await i.json()}catch(e){throw console.error("Error getting nutrition from image:",e),e}},L1e={CALORIE_NINJAS_API_KEY:Mj,CALORIE_NINJAS_API_URL:Dj,searchRecipes:CQ,getNutritionFromText:M1e,getNutritionFromImage:D1e},F1e=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(null),[i,s]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(""),[f,h]=w.useState(""),p=lt(Oe),g=$t(Oe),{toast:v}=Tt(),y=k=>{e(k.target.value)},b=k=>{u(k.target.value)},S=k=>{h(k.target.value)},N=async k=>{k.preventDefault(),s(!0),l("");try{const E=await L1e.getNutritionFromText(t);r(E)}catch(E){l(E.message||"Failed to fetch nutrition data.")}finally{s(!1)}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue text-safebite-text p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Health Check"}),a.jsxs("form",{onSubmit:N,className:"flex items-center mb-4",children:[a.jsx("input",{type:"text",value:t,onChange:y,placeholder:"Enter a food to check",className:"sci-fi-input mr-2"}),a.jsx("button",{type:"submit",disabled:i,className:"sci-fi-button",children:i?"Loading...":"Get Nutrition"})]}),o&&a.jsx("p",{className:"text-red-500",children:o}),n&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-2",children:["Nutrition Data for: ",t]}),a.jsx("pre",{className:"bg-safebite-card-bg p-4 rounded-md overflow-x-auto",children:JSON.stringify(n,null,2)})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Quick Questions"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-1",children:"How often do you eat processed foods?"}),a.jsxs("select",{className:"sci-fi-input w-full",value:c,onChange:b,children:[a.jsx("option",{value:"",children:"Select an option"}),a.jsx("option",{value:"Rarely",children:"Rarely"}),a.jsx("option",{value:"Sometimes",children:"Sometimes"}),a.jsx("option",{value:"Frequently",children:"Frequently"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-1",children:"How would you rate your overall diet quality?"}),a.jsxs("select",{className:"sci-fi-input w-full",value:f,onChange:S,children:[a.jsx("option",{value:"",children:"Select an option"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"})]})]}),a.jsx("button",{type:"button",onClick:async()=>{s(!0);try{const k=p.currentUser;if(k){const E=Ve(g,"users",k.uid);await rn(E,{healthCheckData:{foodQuery:t,nutritionData:n,processedFoodFrequency:c,dietQuality:f}},{merge:!0}),v({title:"Health check data saved!",description:"Your health check data has been saved."})}}catch(k){v({title:"Error saving health check data",description:k.message,variant:"destructive"})}finally{s(!1)}},className:"sci-fi-button",disabled:i,children:i?"Saving...":"Save Health Check Data"}),a.jsx("button",{type:"button",onClick:()=>{const k=new jsPDF;k.text("Health Check Report",10,10),k.text(`Food Query: ${t}`,10,20),k.text(`Processed Food Frequency: ${c}`,10,30),k.text(`Diet Quality: ${f}`,10,40),k.text(`Nutrition Data: ${JSON.stringify(n,null,2)}`,10,50),k.save("health_check_report.pdf")},className:"sci-fi-button",children:"Generate PDF Report"})]})]})},pl=({size:t="md",text:e,className:n=""})=>{const r={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-16 w-16 border-4"};return a.jsxs("div",{className:`flex flex-col items-center justify-center ${n}`,children:[a.jsx("div",{className:`animate-spin rounded-full border-t-transparent border-safebite-teal ${r[t]}`,"aria-label":"Loading"}),e&&a.jsx("p",{className:"mt-3 text-safebite-text-secondary",children:e})]})};class $1e{constructor(){Dn(this,"auth",lt(Oe));Dn(this,"db",$t(Oe));Dn(this,"localActivities",[]);Dn(this,"isGuest",!1);Dn(this,"syncInterval",null);Dn(this,"maxLocalActivities",10);this.isGuest=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true",this.setupSyncInterval(),this.auth.onAuthStateChanged(e=>{this.isGuest=!e&&(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"),this.setupSyncInterval()})}async trackActivity(e,n,r){const i=this.auth.currentUser,s=this.isGuest?Lx():null,o={...r,userInfo:{isGuest:this.isGuest,name:this.isGuest?s:(i==null?void 0:i.displayName)||(i==null?void 0:i.email),timestamp:new Date().toISOString()}},l={type:e,action:n,details:o,timestamp:new Date};this.localActivities.push(l),this.saveActivityToCookies(l),this.isGuest?this.saveGuestActivity(l):this.localActivities.length>=this.maxLocalActivities&&await this.syncActivitiesWithFirebase(),console.log(`Activity tracked: ${e} - ${n} by ${this.isGuest?"Guest: "+s:"User: "+((i==null?void 0:i.displayName)||(i==null?void 0:i.email))}`)}saveActivityToCookies(e){try{const n=this.getActivitiesFromCookies();n.push({type:e.type,action:e.action,timestamp:e.timestamp.getTime()});const r=n.slice(-50);document.cookie=`safebite_activities=${JSON.stringify(r)};path=/;max-age=2592000`}catch(n){console.error("Error saving activity to cookies:",n)}}getActivitiesFromCookies(){try{const n=document.cookie.split(";").find(r=>r.trim().startsWith("safebite_activities="));if(n){const r=n.split("=")[1];return JSON.parse(decodeURIComponent(r))}return[]}catch(e){return console.error("Error getting activities from cookies:",e),[]}}async syncActivitiesWithFirebase(){try{const e=this.auth.currentUser;if(!e||this.isGuest||this.localActivities.length===0)return;const n=Ve(this.db,"users",e.uid),r=Ve(this.db,"user_activities",e.uid);(await Mt(r)).exists()?await au(r,{activities:Ij(...this.localActivities),lastUpdated:Fn.now()}):await rn(r,{activities:this.localActivities,lastUpdated:Fn.now(),userId:e.uid}),await au(n,{lastActivity:this.localActivities[this.localActivities.length-1],lastActiveAt:Fn.now()},{merge:!0}),this.localActivities=[],console.log("Activities synced with Firebase")}catch(e){console.error("Error syncing activities with Firebase:",e)}}setupSyncInterval(){this.syncInterval&&(window.clearInterval(this.syncInterval),this.syncInterval=null),this.isGuest||(this.syncInterval=window.setInterval(()=>{this.localActivities.length>0&&this.syncActivitiesWithFirebase()},6e4))}saveGuestActivity(e){try{const n=localStorage.getItem("guestUserActivities");let r=[];n&&(r=JSON.parse(n)),r.push({type:e.type,action:e.action,details:e.details,timestamp:e.timestamp.toString()});const i=r.slice(-50);localStorage.setItem("guestUserActivities",JSON.stringify(i))}catch(n){console.error("Error saving guest activity to localStorage:",n)}}async getRecentActivities(e=10){try{const n=this.auth.currentUser;if(!n||this.isGuest){if(this.isGuest){const s=localStorage.getItem("guestUserActivities");if(s)return[...JSON.parse(s),...this.localActivities].slice(-e)}return this.localActivities.slice(-e)}const r=Ve(this.db,"user_activities",n.uid),i=await Mt(r);if(i.exists()){const s=i.data();return s&&s.activities&&Array.isArray(s.activities)?s.activities.slice(-e):[]}return[]}catch(n){return console.error("Error getting recent activities:",n),[]}}async getUserActivity(e){try{if(!e)return[];const n=Ve(this.db,"user_activities",e),r=await Mt(n);if(r.exists()){const i=r.data();return i&&i.activities&&Array.isArray(i.activities)?i.activities:[]}return[]}catch(n){return console.error("Error getting user activities:",n),[]}}}const Lc=new $1e,V1e=({open:t,onClose:e})=>{const[n,r]=w.useState(""),i=s=>{s.preventDefault();const o=n.trim()||"Guest User";aK(o),console.log("Guest name set in dialog via service:",o,{localStorage:localStorage.getItem("guestUserName"),sessionStorage:sessionStorage.getItem("guestUserName")}),_i.extendGuestSession();try{Lc&&Lc.trackActivity("auth","guest-login",{guestName:o})}catch(l){console.error("Error tracking guest login activity:",l)}e(o)};return a.jsx($l,{open:t,onOpenChange:s=>!s&&e(),children:a.jsxs(Vo,{className:"sm:max-w-md",children:[a.jsxs(af,{children:[a.jsxs(of,{className:"flex items-center",children:[a.jsx(uu,{className:"mr-2 h-5 w-5"}),"Welcome to SafeBite"]}),a.jsx(lf,{children:"Please enter your name to continue as a guest user. Your data will not be saved permanently."})]}),a.jsxs("form",{onSubmit:i,children:[a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(et,{htmlFor:"name",className:"text-right",children:"Name"}),a.jsx(bt,{id:"name",placeholder:"Your name",value:n,onChange:s=>r(s.target.value),className:"col-span-3",autoFocus:!0})]})}),a.jsx($K,{children:a.jsx(ee,{type:"submit",children:"Continue as Guest"})})]})]})})},B1e=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,h]=w.useState(!1),p=$n(),g=Ua(),{toast:v}=Tt(),y=lt(Oe);w.useEffect(()=>{new URLSearchParams(g.search).get("guest")==="true"&&u(!0)},[g]);const b=async A=>{A.preventDefault(),l(!0);try{await hpe(y,t,n),ui.createSession("logged-in"),v({title:"Login successful",description:"Welcome back to SafeBite!"});const T=new URLSearchParams(g.search).get("returnUrl")||"/dashboard";p(T)}catch(C){console.error("Login error:",C),v({title:"Login failed",description:C.message,variant:"destructive"})}finally{l(!1)}},S=async()=>{l(!0);const A=new ja;try{await SR(y,A),ui.createSession("logged-in"),v({title:"Google login successful",description:"Welcome to SafeBite!"});const T=new URLSearchParams(g.search).get("returnUrl")||"/dashboard";p(T)}catch(C){console.error("Google login error:",C),v({title:"Google login failed",description:C.message,variant:"destructive"})}finally{l(!1)}},N=async()=>{const A=Lx();if(A){l(!0);try{await _i.signInAsGuest(A),ui.createSession("guest"),v({title:"Welcome back, "+A,description:"You're continuing your guest session."});const T=new URLSearchParams(g.search).get("returnUrl")||"/dashboard";p(T)}catch(C){console.error("Guest login error:",C),v({title:"Guest login failed",description:C.message,variant:"destructive"})}finally{l(!1)}}else h(!0)},k=async A=>{if(h(!1),!!A){l(!0);try{await _i.signInAsGuest(A),ui.createSession("guest"),v({title:"Welcome, "+A,description:"You're now using SafeBite in guest mode. Your data won't be saved permanently."}),console.log("Guest login successful, navigating to dashboard",{guestName:A,guestMode:sessionStorage.getItem("safebite-guest-mode"),userType:localStorage.getItem("userType"),sessionInfo:ui.getSessionInfo()});const T=new URLSearchParams(g.search).get("returnUrl")||"/dashboard";p(T)}catch(C){console.error("Guest login error:",C),v({title:"Guest login failed",description:C.message,variant:"destructive"})}finally{l(!1)}}},E=()=>{u(!c)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:[a.jsxs(Ee,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"SafeBite"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign in to access your health dashboard"})]}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(rm,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"email",placeholder:"your.email@example.com",type:"email",className:"sci-fi-input pl-10",value:t,onChange:A=>e(A.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx(et,{htmlFor:"password",children:"Password"}),a.jsx(un,{to:"/auth/forgot-password",className:"text-xs text-safebite-teal hover:text-safebite-teal/80",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bl,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"password",placeholder:"",type:i?"text":"password",className:"sci-fi-input pl-10",value:n,onChange:A=>r(A.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-2.5",children:i?a.jsx(Yoe,{className:"h-5 w-5 text-safebite-text-secondary"}):a.jsx(Xoe,{className:"h-5 w-5 text-safebite-text-secondary"})})]})]}),a.jsxs(ee,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o,children:[o?a.jsx(pl,{size:"sm",className:"mr-2"}):null,"Sign In"]})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-safebite-card-bg-alt"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-safebite-card-bg px-2 text-safebite-text-secondary",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(ee,{variant:"outline",className:"sci-fi-button",onClick:S,disabled:o,children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),a.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),a.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),a.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),"Google"]}),a.jsxs(ee,{variant:"outline",className:"sci-fi-button",onClick:N,disabled:o,children:[a.jsx(uu,{className:"mr-2 h-4 w-4"}),"Guest"]})]}),c&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Jn,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Don't have an account? "}),a.jsxs("button",{onClick:E,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(Jn,{className:"h-3 w-3 mr-1"}),c?"Hide":"About"," guest mode"]})]}),a.jsx("div",{className:"flex justify-center space-x-4",children:a.jsx(un,{to:"/auth/signup",className:"text-safebite-teal hover:text-safebite-teal/80",children:"Sign up"})})]})]}),a.jsx(V1e,{open:f,onClose:k})]})},U1e=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(!1),[f,h]=w.useState(""),[p,g]=w.useState(!1),v=$n(),{toast:y}=Tt(),b=lt(Oe),S=()=>{g(!p)},N=async A=>{if(A.preventDefault(),!t||!n||!i||!o){h("Please fill in all fields");return}if(i!==o){h("Passwords do not match");return}if(i.length<6){h("Password must be at least 6 characters long");return}u(!0),h("");try{const T=(await fpe(b,n,i)).user;await sT(T,{displayName:t}),y({title:"Account created",description:`Welcome, ${t}! Please answer a few questions to personalize your experience.`}),v("/questionnaire")}catch(C){console.error("Signup error:",C),h(C.message)}finally{u(!1)}},k=async()=>{u(!0),h("");const A=new ja;try{const T=(await SR(b,A)).user;if(!T.displayName){const I=prompt("Welcome to SafeBite! Please enter your name:");I&&await sT(T,{displayName:I})}y({title:"Account created",description:"Welcome to SafeBite! Let's get started with some questions."}),v("/questionnaire")}catch(C){console.error("Google signup error:",C),h(C.message)}finally{u(!1)}},E=async()=>{u(!0),h("");try{await _i.signInAsGuest(),y({title:"Guest login successful",description:"You're now using SafeBite in guest mode. Your data won't be saved."}),v("/dashboard")}catch(A){console.error("Guest login error:",A),h(A.message)}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Create Account"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Join SafeBite and start your health journey"})]}),a.jsxs("div",{className:"sci-fi-card",children:[f&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(kl,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:f})]}),a.jsx("form",{onSubmit:N,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"name",className:"text-safebite-text",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ra,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:A=>e(A.target.value),className:"sci-fi-input pl-10",disabled:c})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(rm,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"email",type:"email",placeholder:"Enter your email",value:n,onChange:A=>r(A.target.value),className:"sci-fi-input pl-10",disabled:c})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",className:"text-safebite-text",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(bl,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"password",type:"password",placeholder:"Create a password",value:i,onChange:A=>s(A.target.value),className:"sci-fi-input pl-10",disabled:c})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"confirm-password",className:"text-safebite-text",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(bl,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:o,onChange:A=>l(A.target.value),className:"sci-fi-input pl-10",disabled:c})]})]}),a.jsx(ee,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:c,children:c?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(P7,{className:"mr-2 h-5 w-5"}),"Create Account"]})}),a.jsx(fd,{className:"my-6 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(ee,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:k,disabled:c,children:[a.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),a.jsxs(ee,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:E,disabled:c,children:[a.jsx(uu,{className:"mr-2 h-5 w-5"}),"Guest"]})]}),p&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Jn,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})})]})})]}),a.jsxs("div",{className:"text-center mt-6",children:[a.jsx("div",{className:"flex justify-center items-center mb-2",children:a.jsxs("button",{onClick:S,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(Jn,{className:"h-3 w-3 mr-1"}),p?"Hide":"About"," guest mode"]})}),a.jsxs("p",{className:"text-safebite-text-secondary",children:["Already have an account?"," ",a.jsx(un,{to:"/auth/login",className:"text-safebite-teal hover:underline",children:"Sign in"})]})]})]})})},z1e=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState(!1),[o,l]=w.useState(""),{toast:c}=Tt(),u=async f=>{if(f.preventDefault(),!t){l("Please enter your email");return}r(!0),l("");try{setTimeout(()=>{console.log("Password reset email sent to:",t),s(!0),c({title:"Reset link sent",description:"If your email exists in our system, you'll receive a reset link shortly."})},1500)}catch(h){console.error("Password reset error:",h),l("Failed to send reset link. Please try again.")}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Forgot Password"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We'll send you a link to reset your password"})]}),a.jsxs("div",{className:"sci-fi-card",children:[o&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(kl,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:o})]}),i?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 text-green-400 mb-4",children:a.jsx(rm,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text",children:"Check Your Email"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["We've sent a password reset link to ",a.jsx("span",{className:"text-safebite-teal",children:t}),". Follow the instructions in the email to reset your password."]}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>s(!1),children:"Back to Reset"})]}):a.jsx("form",{onSubmit:u,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(rm,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:f=>e(f.target.value),className:"sci-fi-input pl-10",disabled:n})]})]}),a.jsx(ee,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:n,children:n?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send Reset Link"})]})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs(un,{to:"/auth/login",className:"inline-flex items-center text-safebite-teal hover:underline",children:[a.jsx(UI,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})};function q1e(t,e=[]){let n=[];function r(s,o){const l=w.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[t][c])||l,b=w.useMemo(()=>v,Object.values(v));return a.jsx(y.Provider,{value:b,children:g})}function f(h,p){const g=(p==null?void 0:p[t][c])||l,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,H1e(i,...e)]}function H1e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var RO="Progress",OO=100,[W1e,mWe]=q1e(RO),[G1e,K1e]=W1e(RO),EQ=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Y1e,...o}=t;(i||i===0)&&!n$(i)&&console.error(X1e(`${i}`,"Progress"));const l=n$(i)?i:OO;r!==null&&!r$(r,l)&&console.error(Q1e(`${r}`,"Progress"));const c=r$(r,l)?r:null,u=xw(c)?s(c,l):void 0;return a.jsx(G1e,{scope:n,value:c,max:l,children:a.jsx(Ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":IQ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});EQ.displayName=RO;var TQ="ProgressIndicator",PQ=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=K1e(TQ,n);return a.jsx(Ge.div,{"data-state":IQ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});PQ.displayName=TQ;function Y1e(t,e){return`${Math.round(t/e*100)}%`}function IQ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xw(t){return typeof t=="number"}function n$(t){return xw(t)&&!isNaN(t)&&t>0}function r$(t,e){return xw(t)&&!isNaN(t)&&t<=e&&t>=0}function X1e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${OO}\`.`}function Q1e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${OO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RQ=EQ,J1e=PQ;const Hd=w.forwardRef(({className:t,value:e,...n},r)=>a.jsx(RQ,{ref:r,className:st("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(J1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Hd.displayName=RQ.displayName;const Z1e=({question:t,value:e,onChange:n,onNext:r,onBack:i,isFirst:s=!1,isLast:o=!1,isLoading:l=!1})=>{const[c,u]=w.useState(e),f=p=>{u(p),n(t.id,p)},h=()=>{var p;switch(t.type){case"radio":return a.jsx(TO,{value:c,onValueChange:f,children:a.jsx("div",{className:"space-y-3",children:(p=t.options)==null?void 0:p.map(g=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(od,{value:g,id:`${t.id}-${g}`,className:"border-safebite-text-secondary text-safebite-teal"}),a.jsx(et,{htmlFor:`${t.id}-${g}`,className:"text-safebite-text",children:g})]},g))})});case"text":return a.jsx(bt,{type:"text",value:c||"",onChange:g=>f(g.target.value),className:"sci-fi-input mt-2"});case"slider":return a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsx(ul,{value:[c],min:t.min||0,max:t.max||100,step:t.step||1,onValueChange:g=>f(g[0]),className:"mt-2"}),a.jsxs("div",{className:"flex justify-between text-safebite-text-secondary text-sm",children:[a.jsx("span",{children:t.min}),a.jsxs("span",{className:"text-safebite-teal font-medium",children:["Current: ",c]}),a.jsx("span",{children:t.max})]})]});default:return null}};return a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:t.question}),h(),a.jsxs("div",{className:"flex justify-between mt-8",children:[s?a.jsx("div",{}):a.jsx(ee,{type:"button",variant:"outline",onClick:i,className:"sci-fi-button",children:"Back"}),a.jsx(ee,{type:"button",onClick:r,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:l,children:l?o?"Submitting...":"Loading...":o?"Submit":"Next"})]})]})},eje=({achievement:t,size:e="md",showXP:n=!0,className:r=""})=>{const i={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},s={sm:24,md:32,lg:48},o=()=>{const l=s[e];switch(t.icon){case"trophy":return a.jsx(Ad,{size:l,className:"text-yellow-400"});case"award":return a.jsx(Kc,{size:l,className:"text-blue-400"});case"star":return a.jsx(mr,{size:l,className:"text-purple-400"});case"medal":return a.jsx(ile,{size:l,className:"text-green-400"});case"zap":return a.jsx(Fr,{size:l,className:"text-safebite-teal"});default:return a.jsx(Ad,{size:l,className:"text-yellow-400"})}};return a.jsxs("div",{className:`flex flex-col items-center ${r}`,children:[a.jsxs("div",{className:`${i[e]} relative flex items-center justify-center`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/20 blur-md"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal flex items-center justify-center bg-safebite-card-bg",children:o()}),n&&a.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-safebite-teal text-safebite-dark-blue text-xs font-bold rounded-full px-2 py-1 border border-safebite-dark-blue",children:["+",t.xp," XP"]})]}),a.jsx("h3",{className:"mt-2 text-safebite-text font-medium text-center",children:t.title}),t.completed?a.jsx(Se,{variant:"outline",className:"mt-1 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/50",children:"Completed"}):a.jsx(Se,{variant:"outline",className:"mt-1 bg-safebite-card-bg-alt text-safebite-text-secondary",children:"In Progress"})]})},tje=({onClose:t})=>{const[e,n]=w.useState(!1);w.useEffect(()=>{const s=setTimeout(()=>{n(!0)},500);return()=>clearTimeout(s)},[]);const r=()=>{n(!1),setTimeout(t,300)},i={id:"questionnaire_complete",title:"Profile Complete",description:"Completed your health profile questionnaire",xp:10,icon:"trophy",completed:!0,date:new Date};return a.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:r}),a.jsxs("div",{className:"relative bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 max-w-md w-full transform transition-all duration-300 sci-fi-card",children:[a.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(or,{size:20})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Achievement Unlocked!"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"You've earned your first achievement badge and XP points."})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(eje,{achievement:i,size:"lg",showXP:!0})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Continue using SafeBite to earn more achievements and XP points!"}),a.jsx(ee,{onClick:r,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Continue to Dashboard"})]})]})]})},vc=[{id:"age",type:"radio",question:"What is your age?",options:["18-25","26-35","36-45","46-55","55+"]},{id:"gender",type:"radio",question:"What is your gender?",options:["Male","Female","Other"]},{id:"height_weight",type:"text",question:"What is your height and weight? (e.g., 170cm, 70kg)"},{id:"activity_level",type:"radio",question:"What is your activity level?",options:["Sedentary","Lightly Active","Active","Very Active"]},{id:"health_conditions",type:"radio",question:"Do you have any known health conditions?",options:["Diabetes","Hypertension","Heart Issues","None"]},{id:"dietary_preferences",type:"radio",question:"Do you have any dietary preferences?",options:["Veg","Vegan","Non-Veg","Keto","Gluten-Free","Other"]},{id:"food_allergies",type:"text",question:"Do you have any food allergies? (Check common allergens or manually input)"},{id:"meals_per_day",type:"radio",question:"How many meals do you eat per day?",options:["2","3","4","5+"]},{id:"water_intake",type:"radio",question:"How much water do you drink daily?",options:["<1L","1-2L","2-3L","3L+"]},{id:"outside_food",type:"radio",question:"How often do you eat outside or order food?",options:["Rarely","Weekly","Daily"]},{id:"homemade_processed",type:"radio",question:"Do you prefer homemade or processed foods?",options:["Homemade","Processed","Mixed"]},{id:"packaged_food",type:"radio",question:"How often do you eat packaged food?",options:["Rarely","Weekly","Daily"]},{id:"food_priorities",type:"radio",question:"What do you prioritize while choosing food?",options:["Taste","Health","Price","Convenience"]},{id:"sugary_drinks",type:"radio",question:"Do you consume sugary drinks often?",options:["Yes","No","Occasionally"]},{id:"protein_source",type:"radio",question:"Whats your usual protein source?",options:["Veg","Dairy","Meat","Eggs","Mix"]},{id:"calorie_tracking",type:"radio",question:"Do you track your calorie intake?",options:["Yes","No","Sometimes"]},{id:"health_goals",type:"radio",question:"What are your health goals?",options:["Weight Loss","Muscle Gain","General Health","No Goal"]},{id:"exercise_frequency",type:"radio",question:"How often do you exercise?",options:["Never","Weekly","3-4 Times a Week","Daily"]},{id:"diet_recommendations",type:"radio",question:"Are you looking for diet & meal plan recommendations?",options:["Yes","No","Maybe Later"]},{id:"reminders",type:"radio",question:"Would you like reminders for healthy habits?",options:["Yes","No","Maybe Later"]},{id:"food_safety_alerts",type:"radio",question:"Would you like food safety alerts for the products you buy?",options:["Yes","No","Maybe Later"]},{id:"username",type:"text",question:"What name would you like us to call you?"}],nje=()=>{const t=$n(),{toast:e}=Tt(),[n,r]=w.useState(0),[i,s]=w.useState({}),[o,l]=w.useState(!1),[c,u]=w.useState(""),[f,h]=w.useState(!1),p=lt(Oe),g=$t(Oe);w.useEffect(()=>{const E={};vc.forEach(A=>{A.type==="radio"?E[A.id]=void 0:A.type==="text"?E[A.id]="":E[A.id]=null}),s(E)},[]);const v=(E,A)=>{s(C=>({...C,[E]:A})),u("")},y=E=>E?/^\d+(\.\d+)?cm, ?\d+(\.\d+)?kg$/.test(E.trim()):!1,b=async()=>{u("");const E=vc[n],A=i[E.id];if(["diet_recommendations","reminders","food_safety_alerts"].includes(E.id))A===void 0&&onChange(E.id,"Yes");else{if(A===void 0||A===""){u("Please answer this question before proceeding."),e({title:"Missing Answer",description:"Please answer the current question.",variant:"destructive"});return}if(E.id==="height_weight"&&!y(A)){u("Please enter height and weight in the correct format (e.g., 170cm, 70kg)"),e({title:"Invalid Format",description:"Please enter height and weight in the format '170cm, 70kg'.",variant:"destructive"});return}}if(l(!0),n===vc.length-1){const T=p.currentUser;if(T){const I=T.uid,P=Ve(g,"users",I);try{await rn(P,{profile:i,questionnaireCompleted:!0,lastWeeklyPrompt:null,achievements:{questionnaire:{completed:!0,date:new Date,xp:10}},xp:10},{merge:!0}),e({title:"Questionnaire completed!",description:"Your profile is set up. You earned 10 XP!"}),h(!0),l(!1)}catch(M){e({title:"Error saving profile",description:M.message,variant:"destructive"}),console.error("Error writing user profile to Firestore: ",M),u("Failed to save your profile. Please try again.")}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")}else r(T=>T+1),l(!1)},S=()=>{u(""),r(E=>Math.max(0,E-1))},N=(n+1)/vc.length*100,k=()=>{h(!1),t("/dashboard")};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:[f&&a.jsx(tje,{onClose:k}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Let's Get to Know You"}),a.jsx("p",{className:"text-safebite-text-secondary",children:o?"Saving your profile...":"Help us personalize your SafeBite experience."})]}),o?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(pl,{size:"lg"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",n+1,"/",vc.length]}),a.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(N),"% Complete"]})]}),a.jsx(Hd,{value:N,className:"h-2 bg-safebite-card-bg-alt"})]}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(kl,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c})]}),a.jsx(Z1e,{question:vc[n],value:i[vc[n].id],onChange:v,onNext:b,onBack:S,isFirst:n===0,isLast:n===vc.length-1,isLoading:o})]})]})})]})},rje=()=>{const t=$n();return a.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-safebite-purple bg-safebite-purple/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wt,{className:"mr-3 h-5 w-5 text-safebite-purple"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"You're using SafeBite in guest mode"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Some features are limited. Create an account to access all features."})]})]}),a.jsx(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white",children:"Sign Up"})]})},MO=w.createContext({});function DO(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const LO=typeof window<"u",OQ=LO?w.useLayoutEffect:w.useEffect,Lj=w.createContext(null),FO=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ije extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sje({children:t,isPresent:e,anchorX:n}){const r=w.useId(),i=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(FO);return w.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f,right:h}=s.current;if(e||!i.current||!l||!c)return;const p=n==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),a.jsx(ije,{isPresent:e,childRef:i,sizeRef:s,children:w.cloneElement(t,{ref:i})})}const aje=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=DO(oje),u=w.useId();let f=!0,h=w.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const g of c.values())if(!g)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&f&&(h={...h}),w.useMemo(()=>{c.forEach((p,g)=>c.set(g,!1))},[n]),w.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(sje,{isPresent:n,anchorX:l,children:t})),a.jsx(Lj.Provider,{value:h,children:t})};function oje(){return new Map}function MQ(t=!0){const e=w.useContext(Lj);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=w.useId();w.useEffect(()=>{if(t)return i(s)},[t]);const o=w.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Hb=t=>t.key||"";function i$(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const Fj=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,u]=MQ(o),f=w.useMemo(()=>i$(t),[t]),h=o&&!c?[]:f.map(Hb),p=w.useRef(!0),g=w.useRef(f),v=DO(()=>new Map),[y,b]=w.useState(f),[S,N]=w.useState(f);OQ(()=>{p.current=!1,g.current=f;for(let A=0;A<S.length;A++){const C=Hb(S[A]);h.includes(C)?v.delete(C):v.get(C)!==!0&&v.set(C,!1)}},[S,h.length,h.join("-")]);const k=[];if(f!==y){let A=[...f];for(let C=0;C<S.length;C++){const T=S[C],I=Hb(T);h.includes(I)||(A.splice(C,0,T),k.push(T))}return s==="wait"&&k.length&&(A=k),N(i$(A)),b(f),null}const{forceRender:E}=w.useContext(MO);return a.jsx(a.Fragment,{children:S.map(A=>{const C=Hb(A),T=o&&!c?!1:f===S||h.includes(C),I=()=>{if(v.has(C))v.set(C,!0);else return;let P=!0;v.forEach(M=>{M||(P=!1)}),P&&(E==null||E(),N(g.current),o&&(u==null||u()),r&&r())};return a.jsx(aje,{isPresent:T,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:I,anchorX:l,children:A},C)})})};function $O(t,e){t.indexOf(e)===-1&&t.push(e)}function VO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let DQ=()=>{};const TT={useManualTiming:!1};function BO(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hs=t=>t,Ey=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class UO{constructor(){this.subscriptions=[]}add(e){return $O(this.subscriptions,e),()=>VO(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wo=t=>t*1e3,jo=t=>t/1e3;function LQ(t,e){return e?t*(1e3/e):0}const lje=BO(()=>window.ScrollTimeline!==void 0);class cje{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(lje()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class uje extends cje{then(e,n){return this.finished.finally(e).then(()=>{})}}const s$={value:null},zO=t=>Array.isArray(t)&&typeof t[0]=="number",dje={};function fje(t,e){const n=BO(t);return()=>dje[e]??n()}const Ty=fje(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),FQ=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Pg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,PT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pg([0,.65,.55,1]),circOut:Pg([.55,0,1,.45]),backIn:Pg([.31,.01,.66,-.59]),backOut:Pg([.33,1.53,.69,.99])};function $Q(t,e){if(t)return typeof t=="function"&&Ty()?FQ(t,e):zO(t)?Pg(t):Array.isArray(t)?t.map(n=>$Q(n,e)||PT.easeOut):PT[t]}function hje(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={},u=void 0){const f={[e]:n};c&&(f.offset=c);const h=$Q(l,i);return Array.isArray(h)&&(f.easing=h),t.animate(f,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:u})}function qO(t){return typeof t=="function"&&"applyToOptions"in t}function HO(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vw=2e4;function WO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<vw;)e+=n,r=t.next(e);return e>=vw?1/0:e}function mje(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(WO(r),vw);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:jo(i)}}function VQ(t){return!!(typeof t=="function"&&Ty()||!t||typeof t=="string"&&(t in PT||Ty())||zO(t)||Array.isArray(t)&&t.every(VQ))}function a$(t,e){t.timeline=e,t.onfinish=null}const Wb=["read","resolveKeyframes","update","preRender","render","postRender"];function pje(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(f.schedule(h),t()),c++,h(l)}const f={schedule:(h,p=!1,g=!1)=>{const y=g&&i?n:r;return p&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&s$.value&&s$.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,f.process(h))}};return f}const gje=40;function BQ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Wb.reduce((S,N)=>(S[N]=pje(s,e?N:void 0),S),{}),{read:l,resolveKeyframes:c,update:u,preRender:f,render:h,postRender:p}=o,g=()=>{const S=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,gje),1),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Wb.reduce((S,N)=>{const k=o[N];return S[N]=(E,A=!1,C=!1)=>(n||v(),k.schedule(E,A,C)),S},{}),cancel:S=>{for(let N=0;N<Wb.length;N++)o[Wb[N]].cancel(S)},state:i,steps:o}}const{schedule:GO}=BQ(queueMicrotask,!1),{schedule:kn,cancel:ou,state:Hr,steps:X_}=BQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let I0;function yje(){I0=void 0}const So={now:()=>(I0===void 0&&So.set(Hr.isProcessing||TT.useManualTiming?Hr.timestamp:performance.now()),I0),set:t=>{I0=t,queueMicrotask(yje)}},pa={x:!1,y:!1};function UQ(){return pa.x||pa.y}function xje(t){return t==="x"||t==="y"?pa[t]?null:(pa[t]=!0,()=>{pa[t]=!1}):pa.x||pa.y?null:(pa.x=pa.y=!0,()=>{pa.x=pa.y=!1})}function vje(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function zQ(t,e){const n=vje(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function o$(t){return!(t.pointerType==="touch"||UQ())}function bje(t,e,n={}){const[r,i,s]=zQ(t,n),o=l=>{if(!o$(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const f=h=>{o$(h)&&(u(h),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const qQ=(t,e)=>e?t===e?!0:qQ(t,e.parentElement):!1,KO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wje=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jje(t){return wje.has(t.tagName)||t.tabIndex!==-1}const Ig=new WeakSet;function l$(t){return e=>{e.key==="Enter"&&t(e)}}function Q_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sje=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=l$(()=>{if(Ig.has(n))return;Q_(n,"down");const i=l$(()=>{Q_(n,"up")}),s=()=>Q_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function c$(t){return KO(t)&&!UQ()}function Nje(t,e,n={}){const[r,i,s]=zQ(t,n),o=l=>{const c=l.currentTarget;if(!c$(l)||Ig.has(c))return;Ig.add(c);const u=e(c,l),f=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!c$(g)||!Ig.has(c))&&(Ig.delete(c),typeof u=="function"&&u(g,{success:v}))},h=g=>{f(g,c===window||c===document||n.useGlobalTarget||qQ(c,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l instanceof HTMLElement&&(l.addEventListener("focus",u=>Sje(u,i)),!jje(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}const u$=30,_je=t=>!isNaN(parseFloat(t));class kje{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=So.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=So.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_je(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new UO);const r=this.events[e].add(n);return e==="change"?()=>{r(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=So.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u$)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u$);return LQ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Py(t,e){return new kje(t,e)}const HQ=w.createContext({strict:!1}),d$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gm={};for(const t in d$)gm[t]={isEnabled:e=>d$[t].some(n=>!!e[n])};function Aje(t){for(const e in t)gm[e]={...gm[e],...t[e]}}const Cje=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cje.has(t)}let WQ=t=>!bw(t);function Eje(t){t&&(WQ=e=>e.startsWith("on")?!bw(e):t(e))}try{Eje(require("@emotion/is-prop-valid").default)}catch{}function Tje(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(WQ(i)||n===!0&&bw(i)||!e&&!bw(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Pje(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const $j=w.createContext({});function Vj(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iy(t){return typeof t=="string"||Array.isArray(t)}const YO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XO=["initial",...YO];function Bj(t){return Vj(t.animate)||XO.some(e=>Iy(t[e]))}function GQ(t){return!!(Bj(t)||t.variants)}function Ije(t,e){if(Bj(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iy(n)?n:void 0,animate:Iy(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rje(t){const{initial:e,animate:n}=Ije(t,w.useContext($j));return w.useMemo(()=>({initial:e,animate:n}),[f$(e),f$(n)])}function f$(t){return Array.isArray(t)?t.join(" "):t}const Oje=Symbol.for("motionComponentSymbol");function jh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Mje(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jh(n)&&(n.current=r))},[e])}const QO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dje="framerAppearId",KQ="data-"+QO(Dje),YQ=w.createContext({});function Lje(t,e,n,r,i){var y,b;const{visualElement:s}=w.useContext($j),o=w.useContext(HQ),l=w.useContext(Lj),c=w.useContext(FO).reducedMotion,u=w.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,h=w.useContext(YQ);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Fje(u.current,n,i,h);const p=w.useRef(!1);w.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const g=n[KQ],v=w.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return OQ(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),GO.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,g)}),v.current=!1))}),f}function Fje(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XQ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&jh(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:u})}function XQ(t){if(t)return t.options.allowProjection!==!1?t.projection:XQ(t.parent)}function $je({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Aje(t);function s(l,c){let u;const f={...w.useContext(FO),...l,layoutId:Vje(l)},{isStatic:h}=f,p=Rje(l),g=r(l,h);if(!h&&LO){Bje();const v=Uje(f);u=v.MeasureLayout,p.visualElement=Lje(i,g,f,e,v.ProjectionNode)}return a.jsxs($j.Provider,{value:p,children:[u&&p.visualElement?a.jsx(u,{visualElement:p.visualElement,...f}):null,n(i,l,Mje(g,p.visualElement,c),g,h,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=w.forwardRef(s);return o[Oje]=i,o}function Vje({layoutId:t}){const e=w.useContext(MO).id;return e&&t!==void 0?e+"-"+t:t}function Bje(t,e){w.useContext(HQ).strict}function Uje(t){const{drag:e,layout:n}=gm;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const QQ=t=>e=>typeof e=="string"&&e.startsWith(t),JO=QQ("--"),zje=QQ("var(--"),ZO=t=>zje(t)?qje.test(t.split("/*")[0].trim()):!1,qje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ry={};function Hje(t){for(const e in t)Ry[e]=t[e],JO(e)&&(Ry[e].isCSSVariable=!0)}const cp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hf=new Set(cp);function JQ(t,{layout:e,layoutId:n}){return hf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ry[t]||t==="opacity")}const di=t=>!!(t&&t.getVelocity),ZQ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ol=(t,e,n)=>n>e?e:n<t?t:n,up={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oy={...up,transform:t=>Ol(0,1,t)},Gb={...up,default:1},Gx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sc=Gx("deg"),No=Gx("%"),gt=Gx("px"),Wje=Gx("vh"),Gje=Gx("vw"),h$={...No,parse:t=>No.parse(t)/100,transform:t=>No.transform(t*100)},Kje={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,radius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,backgroundPositionX:gt,backgroundPositionY:gt},Yje={rotate:Sc,rotateX:Sc,rotateY:Sc,rotateZ:Sc,scale:Gb,scaleX:Gb,scaleY:Gb,scaleZ:Gb,skew:Sc,skewX:Sc,skewY:Sc,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Oy,originX:h$,originY:h$,originZ:gt},m$={...up,transform:Math.round},eM={...Kje,...Yje,zIndex:m$,size:gt,fillOpacity:Oy,strokeOpacity:Oy,numOctaves:m$},Xje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qje=cp.length;function Jje(t,e,n){let r="",i=!0;for(let s=0;s<Qje;s++){const o=cp[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=ZQ(l,eM[o]);if(!c){i=!1;const f=Xje[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tM(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(hf.has(c)){o=!0;continue}else if(JO(c)){i[c]=u;continue}else{const f=ZQ(u,eM[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(o||n?r.transform=Jje(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${u} ${f}`}}const nM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eJ(t,e,n){for(const r in e)!di(e[r])&&!JQ(r,n)&&(t[r]=e[r])}function Zje({transformTemplate:t},e){return w.useMemo(()=>{const n=nM();return tM(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eSe(t,e){const n=t.style||{},r={};return eJ(r,n,t),Object.assign(r,Zje(t,e)),r}function tSe(t,e){const n={},r=eSe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const nSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rM(t){return typeof t!="string"||t.includes("-")?!1:!!(nSe.indexOf(t)>-1||/[A-Z]/u.test(t))}const rSe={offset:"stroke-dashoffset",array:"stroke-dasharray"},iSe={offset:"strokeDashoffset",array:"strokeDasharray"};function sSe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?rSe:iSe;t[s.offset]=gt.transform(-r);const o=gt.transform(e),l=gt.transform(n);t[s.array]=`${o} ${l}`}function p$(t,e,n){return typeof t=="string"?t:gt.transform(e+n*t)}function aSe(t,e,n){const r=p$(e,t.x,t.width),i=p$(n,t.y,t.height);return`${r} ${i}`}function iM(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,h){if(tM(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:v}=t;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=aSe(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&sSe(p,o,l,c,!1)}const tJ=()=>({...nM(),attrs:{}}),sM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oSe(t,e,n,r){const i=w.useMemo(()=>{const s=tJ();return iM(s,e,sM(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eJ(s,t.style,t),i.style={...s,...i.style}}return i}function lSe(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(rM(n)?oSe:tSe)(r,s,o,n),u=Tje(r,typeof n=="string",t),f=n!==w.Fragment?{...u,...c,ref:i}:{},{children:h}=r,p=w.useMemo(()=>di(h)?h.get():h,[h]);return w.createElement(n,{...f,children:p})}}function g$(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aM(t,e,n,r){if(typeof e=="function"){const[i,s]=g$(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=g$(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const IT=t=>Array.isArray(t),cSe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),uSe=t=>IT(t)?t[t.length-1]||0:t;function R0(t){const e=di(t)?t.get():t;return cSe(e)?e.toValue():e}function dSe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:fSe(r,i,s,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const nJ=t=>(e,n)=>{const r=w.useContext($j),i=w.useContext(Lj),s=()=>dSe(t,e,r,i);return n?s():DO(s)};function fSe(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=R0(s[p]);let{initial:o,animate:l}=t;const c=Bj(t),u=GQ(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?l:o;if(h&&typeof h!="boolean"&&!Vj(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=aM(t,p[g]);if(v){const{transitionEnd:y,transition:b,...S}=v;for(const N in S){let k=S[N];if(Array.isArray(k)){const E=f?k.length-1:0;k=k[E]}k!==null&&(i[N]=k)}for(const N in y)i[N]=y[N]}}}return i}function oM(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(di(r[o])||e.style&&di(e.style[o])||JQ(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const hSe={useVisualState:nJ({scrapeMotionValuesFromProps:oM,createRenderState:nM})};function rJ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function iJ(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const sJ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aJ(t,e,n,r){iJ(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sJ.has(i)?i:QO(i),e.attrs[i])}function oJ(t,e,n){const r=oM(t,e,n);for(const i in t)if(di(t[i])||di(e[i])){const s=cp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const y$=["x","y","width","height","cx","cy","r"],mSe={useVisualState:nJ({scrapeMotionValuesFromProps:oJ,createRenderState:tJ,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const l in i)if(hf.has(l)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let l=0;l<y$.length;l++){const c=y$[l];t[c]!==e[c]&&(o=!0)}o&&kn.read(()=>{rJ(n,r),kn.render(()=>{iM(r,i,sM(n.tagName),t.transformTemplate),aJ(n,r)})})}})};function pSe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...rM(r)?mSe:hSe,preloadedFeatures:t,useRender:lSe(i),createVisualElement:e,Component:r};return $je(o)}}function My(t,e,n){const r=t.getProps();return aM(r,e,n!==void 0?n:r.custom,t)}const lJ=new Set(["width","height","top","left","right","bottom",...cp]);function gSe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Py(n))}function ySe(t,e){const n=My(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=uSe(s[o]);gSe(t,o,l)}}function xSe(t){return!!(di(t)&&t.add)}function RT(t,e){const n=t.getValue("willChange");if(xSe(n))return n.add(e);if(!n&&TT.WillChange){const r=new TT.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cJ(t){return t.props[KQ]}const uJ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vSe=1e-7,bSe=12;function wSe(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=uJ(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>vSe&&++l<bSe);return o}function Kx(t,e,n,r){if(t===e&&n===r)return Hs;const i=s=>wSe(s,0,1,t,n);return s=>s===0||s===1?s:uJ(i(s),e,r)}const dJ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fJ=t=>e=>1-t(1-e),hJ=Kx(.33,1.53,.69,.99),lM=fJ(hJ),mJ=dJ(lM),pJ=t=>(t*=2)<1?.5*lM(t):.5*(2-Math.pow(2,-10*(t-1))),cM=t=>1-Math.sin(Math.acos(t)),gJ=fJ(cM),yJ=dJ(cM),xJ=t=>/^0[^.\s]+$/u.test(t);function jSe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xJ(t):!0}const Xg=t=>Math.round(t*1e5)/1e5,uM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SSe(t){return t==null}const NSe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dM=(t,e)=>n=>!!(typeof n=="string"&&NSe.test(n)&&n.startsWith(t)||e&&!SSe(n)&&Object.prototype.hasOwnProperty.call(n,e)),vJ=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(uM);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_Se=t=>Ol(0,255,t),J_={...up,transform:t=>Math.round(_Se(t))},pd={test:dM("rgb","red"),parse:vJ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+J_.transform(t)+", "+J_.transform(e)+", "+J_.transform(n)+", "+Xg(Oy.transform(r))+")"};function kSe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const OT={test:dM("#"),parse:kSe,transform:pd.transform},Sh={test:dM("hsl","hue"),parse:vJ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+No.transform(Xg(e))+", "+No.transform(Xg(n))+", "+Xg(Oy.transform(r))+")"},si={test:t=>pd.test(t)||OT.test(t)||Sh.test(t),parse:t=>pd.test(t)?pd.parse(t):Sh.test(t)?Sh.parse(t):OT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pd.transform(t):Sh.transform(t)},ASe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CSe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uM))==null?void 0:e.length)||0)+(((n=t.match(ASe))==null?void 0:n.length)||0)>0}const bJ="number",wJ="color",ESe="var",TSe="var(",x$="${}",PSe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(PSe,c=>(si.test(c)?(r.color.push(s),i.push(wJ),n.push(si.parse(c))):c.startsWith(TSe)?(r.var.push(s),i.push(ESe),n.push(c)):(r.number.push(s),i.push(bJ),n.push(parseFloat(c))),++s,x$)).split(x$);return{values:n,split:l,indexes:r,types:i}}function jJ(t){return Dy(t).values}function SJ(t){const{split:e,types:n}=Dy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===bJ?s+=Xg(i[o]):l===wJ?s+=si.transform(i[o]):s+=i[o]}return s}}const ISe=t=>typeof t=="number"?0:t;function RSe(t){const e=jJ(t);return SJ(t)(e.map(ISe))}const lu={test:CSe,parse:jJ,createTransformer:SJ,getAnimatableNone:RSe},OSe=new Set(["brightness","contrast","saturate","opacity"]);function MSe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uM)||[];if(!r)return t;const i=n.replace(r,"");let s=OSe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const DSe=/\b([a-z-]*)\(.*?\)/gu,MT={...lu,getAnimatableNone:t=>{const e=t.match(DSe);return e?e.map(MSe).join(" "):t}},LSe={...eM,color:si,backgroundColor:si,outlineColor:si,fill:si,stroke:si,borderColor:si,borderTopColor:si,borderRightColor:si,borderBottomColor:si,borderLeftColor:si,filter:MT,WebkitFilter:MT},NJ=t=>LSe[t];function _J(t,e){let n=NJ(t);return n!==MT&&(n=lu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FSe=new Set(["auto","none","0"]);function $Se(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!FSe.has(s)&&Dy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=_J(n,i)}const gd=t=>t*180/Math.PI,DT=t=>{const e=gd(Math.atan2(t[1],t[0]));return LT(e)},VSe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:DT,rotateZ:DT,skewX:t=>gd(Math.atan(t[1])),skewY:t=>gd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},LT=t=>(t=t%360,t<0&&(t+=360),t),v$=DT,b$=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),w$=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BSe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b$,scaleY:w$,scale:t=>(b$(t)+w$(t))/2,rotateX:t=>LT(gd(Math.atan2(t[6],t[5]))),rotateY:t=>LT(gd(Math.atan2(-t[2],t[0]))),rotateZ:v$,rotate:v$,skewX:t=>gd(Math.atan(t[4])),skewY:t=>gd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function j$(t){return t.includes("scale")?1:0}function FT(t,e){if(!t||t==="none")return j$(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=BSe,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=VSe,i=l}if(!i)return j$(e);const s=r[e],o=i[1].split(",").map(zSe);return typeof s=="function"?s(o):o[s]}const USe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return FT(n,e)};function zSe(t){return parseFloat(t.trim())}const S$=t=>t===up||t===gt,qSe=new Set(["x","y","z"]),HSe=cp.filter(t=>!qSe.has(t));function WSe(t){const e=[];return HSe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ym={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>FT(e,"x"),y:(t,{transform:e})=>FT(e,"y")};ym.translateX=ym.x;ym.translateY=ym.y;const Cd=new Set;let $T=!1,VT=!1;function kJ(){if(VT){const t=Array.from(Cd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=WSe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}VT=!1,$T=!1,Cd.forEach(t=>t.complete()),Cd.clear()}function AJ(){Cd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(VT=!0)})}function GSe(){AJ(),kJ()}class fM{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Cd.add(this),$T||($T=!0,kn.read(AJ),kn.resolveKeyframes(kJ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Cd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Cd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CJ=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),KSe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YSe(t){const e=KSe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function EJ(t,e,n=1){const[r,i]=YSe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return CJ(o)?parseFloat(o):o}return ZO(i)?EJ(i,e,n+1):i}const TJ=t=>e=>e.test(t),XSe={test:t=>t==="auto",parse:t=>t},PJ=[up,gt,No,Sc,Gje,Wje,XSe],N$=t=>PJ.find(TJ(t));class IJ extends fM{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),ZO(u))){const f=EJ(u,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!lJ.has(r)||e.length!==2)return;const[i,s]=e,o=N$(i),l=N$(s);if(o!==l)if(S$(o)&&S$(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)jSe(e[i])&&r.push(i);r.length&&$Se(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ym[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ym[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const _$=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lu.test(t)||t==="0")&&!t.startsWith("url("));function QSe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JSe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=_$(i,e),l=_$(s,e);return!o||!l?!1:QSe(t)||(n==="spring"||qO(n))&&r}const ZSe=t=>t!==null;function Uj(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(ZSe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const eNe=40;class RJ{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=So.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eNe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GSe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=So.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!JSe(e,r,i,s))if(o)this.options.duration=0;else{c&&c(Uj(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const qn=(t,e,n)=>t+(e-t)*n;function Z_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tNe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Z_(c,l,t+1/3),s=Z_(c,l,t),o=Z_(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ww(t,e){return n=>n>0?e:t}const ek=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},nNe=[OT,pd,Sh],rNe=t=>nNe.find(e=>e.test(t));function k$(t){const e=rNe(t);if(!e)return!1;let n=e.parse(t);return e===Sh&&(n=tNe(n)),n}const A$=(t,e)=>{const n=k$(t),r=k$(e);if(!n||!r)return ww(t,e);const i={...n};return s=>(i.red=ek(n.red,r.red,s),i.green=ek(n.green,r.green,s),i.blue=ek(n.blue,r.blue,s),i.alpha=qn(n.alpha,r.alpha,s),pd.transform(i))},iNe=(t,e)=>n=>e(t(n)),Yx=(...t)=>t.reduce(iNe),BT=new Set(["none","hidden"]);function sNe(t,e){return BT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function aNe(t,e){return n=>qn(t,e,n)}function hM(t){return typeof t=="number"?aNe:typeof t=="string"?ZO(t)?ww:si.test(t)?A$:cNe:Array.isArray(t)?OJ:typeof t=="object"?si.test(t)?A$:oNe:ww}function OJ(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>hM(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function oNe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=hM(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function lNe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const cNe=(t,e)=>{const n=lu.createTransformer(e),r=Dy(t),i=Dy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?BT.has(t)&&!i.values.length||BT.has(e)&&!r.values.length?sNe(t,e):Yx(OJ(lNe(r,i),i.values),n):ww(t,e)};function MJ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qn(t,e,n):hM(t)(t,e)}const uNe=5;function DJ(t,e,n){const r=Math.max(e-uNe,0);return LQ(n-t(r),e-r)}const Yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C$=.001;function dNe({duration:t=Yn.duration,bounce:e=Yn.bounce,velocity:n=Yn.velocity,mass:r=Yn.mass}){let i,s,o=1-e;o=Ol(Yn.minDamping,Yn.maxDamping,o),t=Ol(Yn.minDuration,Yn.maxDuration,jo(t)),o<1?(i=u=>{const f=u*o,h=f*t,p=f-n,g=UT(u,o),v=Math.exp(-h);return C$-p/g*v},s=u=>{const h=u*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),y=UT(Math.pow(u,2),o);return(-i(u)+C$>0?-1:1)*((p-g)*v)/y}):(i=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-.001+f*h},s=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const l=5/t,c=hNe(i,s,l);if(t=wo(t),isNaN(c))return{stiffness:Yn.stiffness,damping:Yn.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const fNe=12;function hNe(t,e,n){let r=n;for(let i=1;i<fNe;i++)r=r-t(r)/e(r);return r}function UT(t,e){return t*Math.sqrt(1-e*e)}const mNe=["duration","bounce"],pNe=["stiffness","damping","mass"];function E$(t,e){return e.some(n=>t[n]!==void 0)}function gNe(t){let e={velocity:Yn.velocity,stiffness:Yn.stiffness,damping:Yn.damping,mass:Yn.mass,isResolvedFromDuration:!1,...t};if(!E$(t,pNe)&&E$(t,mNe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ol(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Yn.mass,stiffness:i,damping:s}}else{const n=dNe(t);e={...e,...n,mass:Yn.mass},e.isResolvedFromDuration=!0}return e}function jw(t=Yn.visualDuration,e=Yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:h,velocity:p,isResolvedFromDuration:g}=gNe({...n,velocity:-jo(n.velocity||0)}),v=p||0,y=u/(2*Math.sqrt(c*f)),b=o-s,S=jo(Math.sqrt(c/f)),N=Math.abs(b)<5;r||(r=N?Yn.restSpeed.granular:Yn.restSpeed.default),i||(i=N?Yn.restDelta.granular:Yn.restDelta.default);let k;if(y<1){const A=UT(S,y);k=C=>{const T=Math.exp(-y*S*C);return o-T*((v+y*S*b)/A*Math.sin(A*C)+b*Math.cos(A*C))}}else if(y===1)k=A=>o-Math.exp(-S*A)*(b+(v+S*b)*A);else{const A=S*Math.sqrt(y*y-1);k=C=>{const T=Math.exp(-y*S*C),I=Math.min(A*C,300);return o-T*((v+y*S*b)*Math.sinh(I)+A*b*Math.cosh(I))/A}}const E={calculatedDuration:g&&h||null,next:A=>{const C=k(A);if(g)l.done=A>=h;else{let T=0;y<1&&(T=A===0?wo(v):DJ(k,A,C));const I=Math.abs(T)<=r,P=Math.abs(o-C)<=i;l.done=I&&P}return l.value=l.done?o:C,l},toString:()=>{const A=Math.min(WO(E),vw),C=FQ(T=>E.next(A*T).value,A,30);return A+"ms "+C},toTransition:()=>{}};return E}jw.applyToOptions=t=>{const e=mje(t,100,jw);return t.ease=Ty()?e.ease:"easeOut",t.duration=wo(e.duration),t.type="keyframes",t};function T$({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},g=I=>l!==void 0&&I<l||c!==void 0&&I>c,v=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=n*e;const b=h+y,S=o===void 0?b:o(b);S!==b&&(y=S-h);const N=I=>-y*Math.exp(-I/r),k=I=>S+N(I),E=I=>{const P=N(I),M=k(I);p.done=Math.abs(P)<=u,p.value=p.done?S:M};let A,C;const T=I=>{g(p.value)&&(A=I,C=jw({keyframes:[p.value,v(p.value)],velocity:DJ(k,I,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return T(0),{calculatedDuration:null,next:I=>{let P=!1;return!C&&A===void 0&&(P=!0,E(I),T(I)),A!==void 0&&I>=A?C.next(I-A):(!P&&E(I),p)}}}const yNe=Kx(.42,0,1,1),xNe=Kx(0,0,.58,1),LJ=Kx(.42,0,.58,1),vNe=t=>Array.isArray(t)&&typeof t[0]!="number",bNe={linear:Hs,easeIn:yNe,easeInOut:LJ,easeOut:xNe,circIn:cM,circInOut:yJ,circOut:gJ,backIn:lM,backInOut:mJ,backOut:hJ,anticipate:pJ},P$=t=>{if(zO(t)){DQ(t.length===4);const[e,n,r,i]=t;return Kx(e,n,r,i)}else if(typeof t=="string")return bNe[t];return t};function wNe(t,e,n){const r=[],i=n||MJ,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Hs:e;l=Yx(c,l)}r.push(l)}return r}function jNe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(DQ(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=wNe(e,r,i),c=l.length,u=f=>{if(o&&f<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=Ey(t[h],t[h+1],f);return l[h](p)};return n?f=>u(Ol(t[0],t[s-1],f)):u}function SNe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ey(0,e,r);t.push(qn(n,1,i))}}function NNe(t){const e=[0];return SNe(e,t.length-1),e}function _Ne(t,e){return t.map(n=>n*e)}function kNe(t,e){return t.map(()=>e||LJ).splice(0,t.length-1)}function Sw({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=vNe(r)?r.map(P$):P$(r),s={done:!1,value:e[0]},o=_Ne(n&&n.length===e.length?n:NNe(e),t),l=jNe(o,e,{ease:Array.isArray(i)?i:kNe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const ANe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>kn.update(e,!0),stop:()=>ou(e),now:()=>Hr.isProcessing?Hr.timestamp:So.now()}},CNe={decay:T$,inertia:T$,tween:Sw,keyframes:Sw,spring:jw},ENe=t=>t/100;class mM extends RJ{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||fM,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=qO(n)?n:CNe[n]||Sw;let c,u;l!==Sw&&typeof e[0]!="number"&&(c=Yx(ENe,MJ(e[0],e[1])),e=[0,100]);const f=l({...this.options,keyframes:e});s==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=WO(f));const{calculatedDuration:h}=f,p=h+i,g=p*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:f,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:v,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-p*(this.speed>=0?1:-1),N=this.speed>=0?S<0:S>f;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let k=this.currentTime,E=s;if(g){const I=Math.min(this.currentTime,f)/h;let P=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(v==="reverse"?(M=1-M,y&&(M-=y/h)):v==="mirror"&&(E=o)),k=Ol(0,1,M)*h}const A=N?{done:!1,value:c[0]}:E.next(k);l&&(A.value=l(A.value));let{done:C}=A;!N&&u!==null&&(C=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&i!==void 0&&(A.value=Uj(c,this.options,i)),b&&b(A.value),T&&this.finish(),A}get duration(){const{resolved:e}=this;return e?jo(e.calculatedDuration):0}get time(){return jo(this.currentTime)}set time(e){e=wo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ANe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const TNe=new Set(["opacity","clipPath","filter","transform"]),PNe=BO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nw=10,INe=2e4;function RNe(t){return qO(t.type)||t.type==="spring"||!VQ(t.ease)}function ONe(t,e){const n=new mM({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<INe;)r=n.sample(s),i.push(r.value),s+=Nw;return{times:void 0,keyframes:i,duration:s-Nw,ease:"linear"}}const FJ={anticipate:pJ,backInOut:mJ,circInOut:yJ};function MNe(t){return t in FJ}class I$ extends RJ{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new IJ(s,(o,l)=>this.onKeyframesResolved(o,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&Ty()&&MNe(s)&&(s=FJ[s]),RNe(this.options)){const{onComplete:h,onUpdate:p,motionValue:g,element:v,...y}=this.options,b=ONe(e,y);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,s=b.ease,o="keyframes"}const f=hje(l.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(a$(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;l.set(Uj(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return jo(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return jo(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=wo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Hs;const{animation:r}=n;a$(r,e)}return Hs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:h,element:p,...g}=this.options,v=new mM({...g,keyframes:r,duration:i,type:s,ease:o,times:l,isGenerator:!0}),y=wo(this.time);u.setWithVelocity(v.sample(y-Nw).value,v.sample(y).value,Nw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return PNe()&&r&&TNe.has(r)&&(r!=="transform"||!u)&&!c&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const DNe={type:"spring",stiffness:500,damping:25,restSpeed:10},LNe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FNe={type:"keyframes",duration:.8},$Ne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VNe=(t,{keyframes:e})=>e.length>2?FNe:hf.has(t)?t.startsWith("scale")?LNe(e[1]):DNe:$Ne;function BNe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const pM=(t,e,n,r={},i,s)=>o=>{const l=HO(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-wo(c);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};BNe(l)||(f={...f,...VNe(t,f)}),f.duration&&(f.duration=wo(f.duration)),f.repeatDelay&&(f.repeatDelay=wo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),f.allowFlatten=!l.type&&!l.ease,h&&!s&&e.get()!==void 0){const p=Uj(f.keyframes,l);if(p!==void 0)return kn.update(()=>{f.onUpdate(p),f.onComplete()}),new uje([])}return!s&&I$.supports(f)?new I$(f):new mM(f)};function UNe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $J(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,t.latestValues[f]??null),p=l[f];if(p===void 0||u&&UNe(u,f))continue;const g={delay:n,...HO(s||{},f)};let v=!1;if(window.MotionHandoffAnimation){const b=cJ(t);if(b){const S=window.MotionHandoffAnimation(b,f,kn);S!==null&&(g.startTime=S,v=!0)}}RT(t,f),h.start(pM(f,h,p,t.shouldReduceMotion&&lJ.has(f)?{type:!1}:g,t,v));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{kn.update(()=>{o&&ySe(t,o)})}),c}function zT(t,e,n={}){var c;const r=My(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all($J(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return zNe(t,e,f+u,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function zNe(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(qNe).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(zT(u,e,{...s,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function qNe(t,e){return t.sortNodePosition(e)}function HNe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>zT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=zT(t,e,n);else{const i=typeof e=="function"?My(t,e,n.custom):e;r=Promise.all($J(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function VJ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const WNe=XO.length;function BJ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BJ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WNe;n++){const r=XO[n],i=t.props[r];(Iy(i)||i===!1)&&(e[r]=i)}return e}const GNe=[...YO].reverse(),KNe=YO.length;function YNe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>HNe(t,n,r)))}function XNe(t){let e=YNe(t),n=R$(),r=!0;const i=c=>(u,f)=>{var p;const h=My(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:g,transitionEnd:v,...y}=h;u={...u,...y,...v}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,f=BJ(t.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let b=0;b<KNe;b++){const S=GNe[b],N=n[S],k=u[S]!==void 0?u[S]:f[S],E=Iy(k),A=S===c?N.isActive:null;A===!1&&(v=b);let C=k===f[S]&&k!==u[S]&&E;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),N.protectedKeys={...g},!N.isActive&&A===null||!k&&!N.prevProp||Vj(k)||typeof k=="boolean")continue;const T=QNe(N.prevProp,k);let I=T||S===c&&N.isActive&&!C&&E||b>v&&E,P=!1;const M=Array.isArray(k)?k:[k];let L=M.reduce(i(S),{});A===!1&&(L={});const{prevResolvedValues:D={}}=N,R={...D,...L},V=Y=>{I=!0,p.has(Y)&&(P=!0,p.delete(Y)),N.needsAnimating[Y]=!0;const K=t.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in R){const K=L[Y],Z=D[Y];if(g.hasOwnProperty(Y))continue;let U=!1;IT(K)&&IT(Z)?U=!VJ(K,Z):U=K!==Z,U?K!=null?V(Y):p.add(Y):K!==void 0&&p.has(Y)?V(Y):N.protectedKeys[Y]=!0}N.prevProp=k,N.prevResolvedValues=L,N.isActive&&(g={...g,...L}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(C&&T)||P)&&h.push(...M.map(Y=>({animation:Y,options:{type:S}})))}if(p.size){const b={};if(typeof u.initial!="boolean"){const S=My(t,Array.isArray(u.initial)?u.initial[0]:u.initial);S&&S.transition&&(b.transition=S.transition)}p.forEach(S=>{const N=t.getBaseTarget(S),k=t.getValue(S);k&&(k.liveStyle=!0),b[S]=N??null}),h.push({animation:b})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=R$(),r=!0}}}function QNe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VJ(e,t):!1}function Ju(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R$(){return{animate:Ju(!0),whileInView:Ju(),whileHover:Ju(),whileTap:Ju(),whileDrag:Ju(),whileFocus:Ju(),exit:Ju()}}class yu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JNe extends yu{constructor(e){super(e),e.animationState||(e.animationState=XNe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vj(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ZNe=0;class e_e extends yu{constructor(){super(...arguments),this.id=ZNe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const t_e={animation:{Feature:JNe},exit:{Feature:e_e}};function Ly(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xx(t){return{point:{x:t.pageX,y:t.pageY}}}const n_e=t=>e=>KO(e)&&t(e,Xx(e));function Qg(t,e,n,r){return Ly(t,e,n_e(n),r)}function UJ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function r_e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i_e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const zJ=1e-4,s_e=1-zJ,a_e=1+zJ,qJ=.01,o_e=0-qJ,l_e=0+qJ;function Ai(t){return t.max-t.min}function c_e(t,e,n){return Math.abs(t-e)<=n}function O$(t,e,n,r=.5){t.origin=r,t.originPoint=qn(e.min,e.max,t.origin),t.scale=Ai(n)/Ai(e),t.translate=qn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s_e&&t.scale<=a_e||isNaN(t.scale))&&(t.scale=1),(t.translate>=o_e&&t.translate<=l_e||isNaN(t.translate))&&(t.translate=0)}function Jg(t,e,n,r){O$(t.x,e.x,n.x,r?r.originX:void 0),O$(t.y,e.y,n.y,r?r.originY:void 0)}function M$(t,e,n){t.min=n.min+e.min,t.max=t.min+Ai(e)}function u_e(t,e,n){M$(t.x,e.x,n.x),M$(t.y,e.y,n.y)}function D$(t,e,n){t.min=e.min-n.min,t.max=t.min+Ai(e)}function Zg(t,e,n){D$(t.x,e.x,n.x),D$(t.y,e.y,n.y)}const L$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nh=()=>({x:L$(),y:L$()}),F$=()=>({min:0,max:0}),ir=()=>({x:F$(),y:F$()});function Fs(t){return[t("x"),t("y")]}function tk(t){return t===void 0||t===1}function qT({scale:t,scaleX:e,scaleY:n}){return!tk(t)||!tk(e)||!tk(n)}function id(t){return qT(t)||HJ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function HJ(t){return $$(t.x)||$$(t.y)}function $$(t){return t&&t!=="0%"}function _w(t,e,n){const r=t-n,i=e*r;return n+i}function V$(t,e,n,r,i){return i!==void 0&&(t=_w(t,i,r)),_w(t,n,r)+e}function HT(t,e=0,n=1,r,i){t.min=V$(t.min,e,n,r,i),t.max=V$(t.max,e,n,r,i)}function WJ(t,{x:e,y:n}){HT(t.x,e.translate,e.scale,e.originPoint),HT(t.y,n.translate,n.scale,n.originPoint)}const B$=.999999999999,U$=1.0000000000001;function d_e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&kh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,WJ(t,o)),r&&id(s.latestValues)&&kh(t,s.latestValues))}e.x<U$&&e.x>B$&&(e.x=1),e.y<U$&&e.y>B$&&(e.y=1)}function _h(t,e){t.min=t.min+e,t.max=t.max+e}function z$(t,e,n,r,i=.5){const s=qn(t.min,t.max,i);HT(t,e,n,s,r)}function kh(t,e){z$(t.x,e.x,e.scaleX,e.scale,e.originX),z$(t.y,e.y,e.scaleY,e.scale,e.originY)}function GJ(t,e){return UJ(i_e(t.getBoundingClientRect(),e))}function f_e(t,e,n){const r=GJ(t,n),{scroll:i}=e;return i&&(_h(r.x,i.offset.x),_h(r.y,i.offset.y)),r}const KJ=({current:t})=>t?t.ownerDocument.defaultView:null,q$=(t,e)=>Math.abs(t-e);function h_e(t,e){const n=q$(t.x,e.x),r=q$(t.y,e.y);return Math.sqrt(n**2+r**2)}class YJ{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=rk(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=h_e(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=h,{timestamp:y}=Hr;this.history.push({...v,timestamp:y});const{onStart:b,onMove:S}=this.handlers;p||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nk(p,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rk(h.type==="pointercancel"?this.lastMoveEventInfo:nk(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,b),v&&v(h,b)},!KO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Xx(e),l=nk(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Hr;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,rk(l,this.history)),this.removeListeners=Yx(Qg(this.contextWindow,"pointermove",this.handlePointerMove),Qg(this.contextWindow,"pointerup",this.handlePointerUp),Qg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ou(this.updatePoint)}}function nk(t,e){return e?{point:e(t.point)}:t}function H$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rk({point:t},e){return{point:t,delta:H$(t,XJ(e)),offset:H$(t,m_e(e)),velocity:p_e(e,.1)}}function m_e(t){return t[0]}function XJ(t){return t[t.length-1]}function p_e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=XJ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wo(e)));)n--;if(!r)return{x:0,y:0};const s=jo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function g_e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qn(n,t,r.max):Math.min(t,n)),t}function W$(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function y_e(t,{top:e,left:n,bottom:r,right:i}){return{x:W$(t.x,n,i),y:W$(t.y,e,r)}}function G$(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function x_e(t,e){return{x:G$(t.x,e.x),y:G$(t.y,e.y)}}function v_e(t,e){let n=.5;const r=Ai(t),i=Ai(e);return i>r?n=Ey(e.min,e.max-r,t.min):r>i&&(n=Ey(t.min,t.max-i,e.min)),Ol(0,1,n)}function b_e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const WT=.35;function w_e(t=WT){return t===!1?t=0:t===!0&&(t=WT),{x:K$(t,"left","right"),y:K$(t,"top","bottom")}}function K$(t,e,n){return{min:Y$(t,e),max:Y$(t,n)}}function Y$(t,e){return typeof t=="number"?t:t[e]||0}const j_e=new WeakMap;class S_e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xx(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xje(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fs(b=>{let S=this.getAxisMotionValue(b).get()||0;if(No.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const k=N.layout.layoutBox[b];k&&(S=Ai(k)*(parseFloat(S)/100))}}this.originPoint[b]=S}),v&&kn.postRender(()=>v(f,h)),RT(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=N_e(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>this.stop(f,h),c=()=>Fs(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YJ(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:KJ(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&kn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Kb(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=g_e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&jh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=y_e(r.layoutBox,e):this.constraints=!1,this.elastic=w_e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=b_e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=f_e(r,i.root,this.visualElement.getTransformPagePoint());let o=x_e(i.layout.layoutBox,s);if(n){const l=n(r_e(o));this.hasMutatedConstraints=!!l,l&&(o=UJ(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fs(f=>{if(!Kb(f,n,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return RT(this.visualElement,e),r.start(pM(e,r,0,n,this.visualElement,!1))}stopAnimation(){Fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fs(n=>{const{drag:r}=this.getProps();if(!Kb(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-qn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=v_e({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fs(o=>{if(!Kb(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(qn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;j_e.set(this.visualElement,this);const e=this.visualElement.current,n=Qg(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();jh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kn.read(r);const o=Ly(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fs(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=WT,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Kb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function N_e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class __e extends yu{constructor(e){super(e),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new S_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const X$=t=>(e,n)=>{t&&kn.postRender(()=>t(e,n))};class k_e extends yu{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(e){this.session=new YJ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KJ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:X$(e),onStart:X$(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&kn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Qg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const O0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ug={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(gt.test(t))t=parseFloat(t);else return t;const n=Q$(t,e.target.x),r=Q$(t,e.target.y);return`${n}% ${r}%`}},A_e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=lu.parse(t);if(i.length>5)return r;const s=lu.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=qn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class C_e extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Hje(E_e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),O0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QJ(t){const[e,n]=MQ(),r=w.useContext(MO);return a.jsx(C_e,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(YQ),isPresent:e,safeToRemove:n})}const E_e={borderRadius:{...ug,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ug,borderTopRightRadius:ug,borderBottomLeftRadius:ug,borderBottomRightRadius:ug,boxShadow:A_e};function T_e(t,e,n){const r=di(t)?t:Py(t);return r.start(pM("",r,e,n)),r.animation}function P_e(t){return t instanceof SVGElement&&t.tagName!=="svg"}const I_e=(t,e)=>t.depth-e.depth;class R_e{constructor(){this.children=[],this.isDirty=!1}add(e){$O(this.children,e),this.isDirty=!0}remove(e){VO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I_e),this.isDirty=!1,this.children.forEach(e)}}function O_e(t,e){const n=So.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ou(r),t(s-e))};return kn.read(r,!0),()=>ou(r)}const JJ=["TopLeft","TopRight","BottomLeft","BottomRight"],M_e=JJ.length,J$=t=>typeof t=="string"?parseFloat(t):t,Z$=t=>typeof t=="number"||gt.test(t);function D_e(t,e,n,r,i,s){i?(t.opacity=qn(0,n.opacity??1,L_e(r)),t.opacityExit=qn(e.opacity??1,0,F_e(r))):s&&(t.opacity=qn(e.opacity??1,n.opacity??1,r));for(let o=0;o<M_e;o++){const l=`border${JJ[o]}Radius`;let c=eV(e,l),u=eV(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Z$(c)===Z$(u)?(t[l]=Math.max(qn(J$(c),J$(u),r),0),(No.test(u)||No.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=qn(e.rotate||0,n.rotate||0,r))}function eV(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const L_e=ZJ(0,.5,gJ),F_e=ZJ(.5,.95,Hs);function ZJ(t,e,n){return r=>r<t?0:r>e?1:n(Ey(t,e,r))}function tV(t,e){t.min=e.min,t.max=e.max}function Os(t,e){tV(t.x,e.x),tV(t.y,e.y)}function nV(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rV(t,e,n,r,i){return t-=e,t=_w(t,1/n,r),i!==void 0&&(t=_w(t,1/i,r)),t}function $_e(t,e=0,n=1,r=.5,i,s=t,o=t){if(No.test(e)&&(e=parseFloat(e),e=qn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=qn(s.min,s.max,r);t===s&&(l-=e),t.min=rV(t.min,e,n,l,i),t.max=rV(t.max,e,n,l,i)}function iV(t,e,[n,r,i],s,o){$_e(t,e[n],e[r],e[i],e.scale,s,o)}const V_e=["x","scaleX","originX"],B_e=["y","scaleY","originY"];function sV(t,e,n,r){iV(t.x,e,V_e,n?n.x:void 0,r?r.x:void 0),iV(t.y,e,B_e,n?n.y:void 0,r?r.y:void 0)}function aV(t){return t.translate===0&&t.scale===1}function eZ(t){return aV(t.x)&&aV(t.y)}function oV(t,e){return t.min===e.min&&t.max===e.max}function U_e(t,e){return oV(t.x,e.x)&&oV(t.y,e.y)}function lV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tZ(t,e){return lV(t.x,e.x)&&lV(t.y,e.y)}function cV(t){return Ai(t.x)/Ai(t.y)}function uV(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class z_e{constructor(){this.members=[]}add(e){$O(this.members,e),e.scheduleRender()}remove(e){if(VO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q_e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:p,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ik=["","X","Y","Z"],H_e={visibility:"hidden"},dV=1e3;let W_e=0;function sk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nZ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cJ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nZ(r)}function rZ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=W_e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Y_e),this.nodes.forEach(eke),this.nodes.forEach(tke),this.nodes.forEach(X_e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R_e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new UO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=P_e(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=O_e(p,250),O0.hasAnimatedSinceResize&&(O0.hasAnimatedSinceResize=!1,this.nodes.forEach(hV))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||ake,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!tZ(this.targetLayout,v),k=!p&&g;if(this.options.layoutRoot||this.resumeFrom||k||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,k);const E={...HO(y,"layout"),onPlay:b,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||hV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ou(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nke),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fV);return}this.isUpdating||this.nodes.forEach(J_e),this.isUpdating=!1,this.nodes.forEach(Z_e),this.nodes.forEach(G_e),this.nodes.forEach(K_e),this.clearAllSnapshots();const l=So.now();Hr.delta=Ol(0,1e3/60,l-Hr.timestamp),Hr.timestamp=l,Hr.isProcessing=!0,X_.update.process(Hr),X_.preRender.process(Hr),X_.render.process(Hr),Hr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q_e),this.sharedNodes.forEach(rke)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ai(this.snapshot.measuredBox.x)&&!Ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!eZ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||id(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),oke(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ir();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(lke))){const{scroll:f}=this.root;f&&(_h(l.x,f.offset.x),_h(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=ir();if(Os(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Os(l,o),_h(l.x,h.offset.x),_h(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=ir();Os(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&kh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),id(f.latestValues)&&kh(c,f.latestValues)}return id(this.latestValues)&&kh(c,this.latestValues),c}removeTransform(o){const l=ir();Os(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!id(u.latestValues))continue;qT(u.latestValues)&&u.updateSnapshot();const f=ir(),h=u.measurePageBox();Os(f,h),sV(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return id(this.latestValues)&&sV(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Hr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Zg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),WJ(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Zg(this.relativeTargetOrigin,this.target,g.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qT(this.parent.latestValues)||HJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Hr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Os(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;d_e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ir());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nV(this.prevProjectionDelta.x,this.projectionDelta.x),nV(this.prevProjectionDelta.y,this.projectionDelta.y)),Jg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!uV(this.projectionDelta.x,this.prevProjectionDelta.x)||!uV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nh(),this.projectionDelta=Nh(),this.projectionDeltaWithTransform=Nh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=Nh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=ir(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,b=this.getStack(),S=!b||b.members.length<=1,N=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(ske));this.animationProgress=0;let k;this.mixTargetDelta=E=>{const A=E/1e3;mV(h.x,o.x,A),mV(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zg(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ike(this.relativeTarget,this.relativeTargetOrigin,p,A),k&&U_e(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ir()),Os(k,this.relativeTarget)),y&&(this.animationValues=f,D_e(f,u,this.latestValues,A,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ou(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{O0.hasAnimatedSinceResize=!0,this.currentAnimation=T_e(0,dV,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&iZ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ir();const h=Ai(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=Ai(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Os(l,c),kh(l,f),Jg(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new z_e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&sk("z",o,u,this.animationValues);for(let f=0;f<ik.length;f++)sk(`rotate${ik[f]}`,o,u,this.animationValues),sk(`skew${ik[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return H_e;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=R0(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=R0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!id(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=q_e(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?l.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Ry){if(f[g]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:b}=Ry[g],S=l.transform==="none"?f[g]:v(f[g],u);if(y){const N=y.length;for(let k=0;k<N;k++)l[y[k]]=S}else b?this.options.visualElement.renderState.vars[g]=S:l[g]=S}return this.options.layoutId&&(l.pointerEvents=u===this?R0(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(fV),this.root.sharedNodes.clear()}}}function G_e(t){t.updateLayout()}function K_e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Fs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],g=Ai(p);p.min=r[h].min,p.max=p.min+g}):iZ(s,e.layoutBox,r)&&Fs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],g=Ai(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=Nh();Jg(l,r,e.layoutBox);const c=Nh();o?Jg(c,t.applyTransform(i,!0),e.measuredBox):Jg(c,r,e.layoutBox);const u=!eZ(l);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=ir();Zg(v,e.layoutBox,p.layoutBox);const y=ir();Zg(y,r,g.layoutBox),tZ(v,y)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Y_e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X_e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Q_e(t){t.clearSnapshot()}function fV(t){t.clearMeasurements()}function J_e(t){t.isLayoutDirty=!1}function Z_e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hV(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eke(t){t.resolveTargetDelta()}function tke(t){t.calcProjection()}function nke(t){t.resetSkewAndRotation()}function rke(t){t.removeLeadSnapshot()}function mV(t,e,n){t.translate=qn(e.translate,0,n),t.scale=qn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pV(t,e,n,r){t.min=qn(e.min,n.min,r),t.max=qn(e.max,n.max,r)}function ike(t,e,n,r){pV(t.x,e.x,n.x,r),pV(t.y,e.y,n.y,r)}function ske(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ake={duration:.45,ease:[.4,0,.1,1]},gV=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yV=gV("applewebkit/")&&!gV("chrome/")?Math.round:Hs;function xV(t){t.min=yV(t.min),t.max=yV(t.max)}function oke(t){xV(t.x),xV(t.y)}function iZ(t,e,n){return t==="position"||t==="preserve-aspect"&&!c_e(cV(e),cV(n),.2)}function lke(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const cke=rZ({attachResizeListener:(t,e)=>Ly(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ak={current:void 0},sZ=rZ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ak.current){const t=new cke({});t.mount(window),t.setOptions({layoutScroll:!0}),ak.current=t}return ak.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uke={pan:{Feature:k_e},drag:{Feature:__e,ProjectionNode:sZ,MeasureLayout:QJ}};function vV(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&kn.postRender(()=>s(e,Xx(e)))}class dke extends yu{mount(){const{current:e}=this.node;e&&(this.unmount=bje(e,(n,r)=>(vV(this.node,r,"Start"),i=>vV(this.node,i,"End"))))}unmount(){}}class fke extends yu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yx(Ly(this.node.current,"focus",()=>this.onFocus()),Ly(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bV(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&kn.postRender(()=>s(e,Xx(e)))}class hke extends yu{mount(){const{current:e}=this.node;e&&(this.unmount=Nje(e,(n,r)=>(bV(this.node,r,"Start"),(i,{success:s})=>bV(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const GT=new WeakMap,ok=new WeakMap,mke=t=>{const e=GT.get(t.target);e&&e(t)},pke=t=>{t.forEach(mke)};function gke({root:t,...e}){const n=t||document;ok.has(n)||ok.set(n,{});const r=ok.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(pke,{root:t,...e})),r[i]}function yke(t,e,n){const r=gke(e);return GT.set(t,n),r.observe(t),()=>{GT.delete(t),r.unobserve(t)}}const xke={some:0,all:1};class vke extends yu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xke[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=u?f:h;p&&p(c)};return yke(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bke(e,n))&&this.startObserver()}unmount(){}}function bke({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wke={inView:{Feature:vke},tap:{Feature:hke},focus:{Feature:fke},hover:{Feature:dke}},jke={layout:{ProjectionNode:sZ,MeasureLayout:QJ}},KT={current:null},aZ={current:!1};function Ske(){if(aZ.current=!0,!!LO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>KT.current=t.matches;t.addListener(e),e()}else KT.current=!1}const Nke=[...PJ,si,lu],_ke=t=>Nke.find(TJ(t)),kke=new WeakMap;function Ake(t,e,n){for(const r in e){const i=e[r],s=n[r];if(di(i))t.addValue(r,i);else if(di(s))t.addValue(r,Py(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Py(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const wV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cke{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=So.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,kn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Bj(n),this.isVariantNode=GQ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];c[g]!==void 0&&di(v)&&v.set(c[g],!1)}}mount(e){this.current=e,kke.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aZ.current||Ske(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:KT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ou(this.notifyUpdate),ou(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&kn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gm){const n=gm[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wV.length;r++){const i=wV[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ake(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Py(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(CJ(r)||xJ(r))?r=parseFloat(r):!_ke(r)&&lu.test(n)&&(r=_J(e,n)),this.setBaseTarget(e,di(r)?r.get():r)),di(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=aM(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!di(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new UO),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class oZ extends Cke{constructor(){super(...arguments),this.KeyframeResolver=IJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;di(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eke(t){return window.getComputedStyle(t)}class Tke extends oZ{constructor(){super(...arguments),this.type="html",this.renderInstance=iJ}readValueFromInstance(e,n){if(hf.has(n))return USe(e,n);{const r=Eke(e),i=(JO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GJ(e,n)}build(e,n,r){tM(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return oM(e,n,r)}}class Pke extends oZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ir,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&rJ(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hf.has(n)){const r=NJ(n);return r&&r.default||0}return n=sJ.has(n)?n:QO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return oJ(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&kn.postRender(this.updateDimensions)}build(e,n,r){iM(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){aJ(e,n,r,i)}mount(e){this.isSVGTag=sM(e.tagName),super.mount(e)}}const Ike=(t,e)=>rM(t)?new Pke(e):new Tke(e,{allowProjection:t!==w.Fragment}),Rke=pSe({...t_e,...wke,...uke,...jke},Ike),cu=Pje(Rke),lZ=({currentPage:t="dashboard"})=>{const[e,n]=w.useState([]),[r,i]=w.useState(0),[s,o]=w.useState(!1),[l,c]=w.useState(!0),u=lt(Oe),f=$t(Oe),{isGuest:h}=Vn();w.useEffect(()=>{var E;if(!u.currentUser&&!h)return;c(!0);const y=h?"guest-user":(E=u.currentUser)==null?void 0:E.uid;if(!y)return;const b=bo(f,"notifications"),S=ky(b,Yg("userId","==",y),Ay("timestamp","desc"),gw(20)),N=WX(S,A=>{const C=[];let T=0;A.forEach(I=>{const P={id:I.id,...I.data()};C.push(P),P.read||T++}),n(C),i(T),c(!1)},A=>{console.error("Error fetching notifications:",A),c(!1)});return h||(async()=>{const A=await Mt(Ve(f,"users",y)),C=A.exists()?A.data():null;C&&!C.notificationsInitialized&&(await rn(Ve(b),{userId:y,title:"Welcome to SafeBite!",message:"Thank you for joining SafeBite. Explore your dashboard to discover all features.",type:"success",category:"system",timestamp:Fn.now(),read:!1,icon:"sparkles"}),await rn(Ve(b),{userId:y,title:"Complete Your Health Profile",message:"Fill out your health profile to get personalized recommendations.",type:"info",category:"health",timestamp:Fn.now(),read:!1,link:"/health-check",icon:"heart"}),await rn(Ve(f,"users",y),{notificationsInitialized:!0},{merge:!0}))})(),()=>N()},[u.currentUser,f,h]);const p=async y=>{try{await rn(Ve(f,"notifications",y),{read:!0},{merge:!0})}catch(b){console.error("Error marking notification as read:",b)}},g=async()=>{try{const y=f.batch();e.forEach(b=>{if(!b.read){const S=Ve(f,"notifications",b.id);y.update(S,{read:!0})}}),await y.commit()}catch(y){console.error("Error marking all notifications as read:",y)}},v=y=>{if(y.icon)switch(y.icon){case"heart":return a.jsx(Zn,{className:"h-5 w-5 text-red-500"});case"cart":return a.jsx(du,{className:"h-5 w-5 text-safebite-teal"});case"food":return a.jsx(gr,{className:"h-5 w-5 text-orange-500"});case"calendar":return a.jsx(Yc,{className:"h-5 w-5 text-blue-500"});case"sparkles":return a.jsx("span",{className:"text-yellow-500",children:""})}switch(y.type){case"info":return a.jsx(Jn,{className:"h-5 w-5 text-blue-500"});case"warning":return a.jsx(Wt,{className:"h-5 w-5 text-yellow-500"});case"success":return a.jsx(lo,{className:"h-5 w-5 text-green-500"});case"reminder":return a.jsx(Yc,{className:"h-5 w-5 text-purple-500"});default:return a.jsx(Jn,{className:"h-5 w-5 text-blue-500"})}};return a.jsxs("div",{className:"relative",style:{zIndex:1e3},children:[a.jsxs(ee,{variant:"ghost",size:"icon",className:"relative",onClick:()=>o(!s),children:[a.jsx(Ia,{className:"h-5 w-5 text-safebite-text"}),r>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:r})]}),a.jsx(Fj,{children:s&&a.jsxs(a.Fragment,{children:[a.jsx(cu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0",style:{zIndex:990},onClick:()=>o(!1)}),a.jsxs(cu.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-safebite-dark-blue border border-safebite-card-bg-alt rounded-lg shadow-lg overflow-hidden",style:{zIndex:1e3,position:"fixed",top:"60px",right:"20px"},children:[a.jsxs("div",{className:"p-3 border-b border-safebite-card-bg-alt flex items-center justify-between",children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Ia,{className:"h-4 w-4 mr-2 text-safebite-teal"}),"Notifications",r>0&&a.jsxs(Se,{className:"ml-2 bg-red-500 text-white",children:[r," new"]})]}),a.jsx(ee,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:g,disabled:r===0,children:"Mark all read"})]}),a.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:l?a.jsx("div",{className:"p-4 text-center text-safebite-text-secondary",children:"Loading notifications..."}):e.length===0?a.jsx("div",{className:"p-4 text-center text-safebite-text-secondary",children:"No notifications yet"}):a.jsx("div",{children:e.map(y=>a.jsx("div",{className:`p-3 border-b border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/50 transition-colors ${y.read?"":"bg-safebite-card-bg-alt/30"}`,onClick:()=>p(y.id),children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-3 mt-0.5",children:v(y)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:y.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:y.message}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-safebite-text-secondary opacity-70",children:y.timestamp.toDate().toLocaleString()}),y.link&&a.jsx(ee,{variant:"link",size:"sm",className:"h-6 p-0 text-xs text-safebite-teal",onClick:b=>{b.stopPropagation(),window.location.href=y.link},children:"View"})]})]}),!y.read&&a.jsx("div",{className:"ml-2 h-2 w-2 rounded-full bg-safebite-teal"})]})},y.id))})}),a.jsx("div",{className:"p-2 border-t border-safebite-card-bg-alt",children:a.jsx(ee,{variant:"ghost",size:"sm",className:"w-full text-xs",onClick:()=>o(!1),children:"Close"})})]})]})})]})},cZ=({onComplete:t,userName:e="there"})=>{const[n,r]=w.useState(0),[i,s]=w.useState(!0);w.useEffect(()=>{const c=setTimeout(()=>{n<3?r(n+1):(s(!1),setTimeout(()=>{t()},500))},n===0?2e3:1500);return()=>clearTimeout(c)},[n,t]);const o=[{icon:a.jsx(Rn,{className:"h-16 w-16 text-safebite-teal"}),title:"Welcome to SafeBite",description:`Hi ${e}! We're excited to have you join us.`},{icon:a.jsx(Ws,{className:"h-16 w-16 text-safebite-purple"}),title:"Your Food Safety Companion",description:"We help you make healthier food choices every day."},{icon:a.jsx(Zn,{className:"h-16 w-16 text-red-500"}),title:"Personalized Health Insights",description:"Get recommendations tailored to your health profile."},{icon:a.jsx(gr,{className:"h-16 w-16 text-orange-500"}),title:"Let's Get Started!",description:"Explore your dashboard and discover all features."}],l=o[n];return a.jsx(Fj,{children:i&&a.jsx(cu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md",children:a.jsxs(cu.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-safebite-dark-blue border border-safebite-teal/30 rounded-xl p-8 max-w-md mx-4 text-center shadow-2xl shadow-safebite-teal/20",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-safebite-dark-blue to-safebite-card-bg border border-safebite-teal/20",children:l.icon})}),a.jsx("h2",{className:"text-2xl font-bold mb-3 text-safebite-text",children:l.title}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:l.description}),a.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:o.map((c,u)=>a.jsx("div",{className:`h-2 w-2 rounded-full ${u===n?"bg-safebite-teal":"bg-safebite-card-bg-alt"}`},u))})]},n)})})};var Oke=[" ","Enter","ArrowUp","ArrowDown"],Mke=[" ","Enter"],Qx="Select",[zj,qj,Dke]=Nx(Qx),[dp,gWe]=Xi(Qx,[Dke,G1]),Hj=G1(),[Lke,xu]=dp(Qx),[Fke,$ke]=dp(Qx),uZ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:p,required:g,form:v}=t,y=Hj(e),[b,S]=w.useState(null),[N,k]=w.useState(null),[E,A]=w.useState(!1),C=cf(u),[T=!1,I]=Yi({prop:r,defaultProp:i,onChange:s}),[P,M]=Yi({prop:o,defaultProp:l,onChange:c}),L=w.useRef(null),D=b?v||!!b.closest("form"):!0,[R,V]=w.useState(new Set),q=Array.from(R).map(H=>H.props.value).join(";");return a.jsx(aW,{...y,children:a.jsxs(Lke,{required:g,scope:e,trigger:b,onTriggerChange:S,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:ka(),value:P,onValueChange:M,open:T,onOpenChange:I,dir:C,triggerPointerDownPosRef:L,disabled:p,children:[a.jsx(zj.Provider,{scope:e,children:a.jsx(Fke,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{V(Y=>new Set(Y).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{V(Y=>{const K=new Set(Y);return K.delete(H),K})},[]),children:n})}),D?a.jsxs(MZ,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:P,onChange:H=>M(H.target.value),disabled:p,form:v,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},q):null]})})};uZ.displayName=Qx;var dZ="SelectTrigger",fZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Hj(n),o=xu(dZ,n),l=o.disabled||r,c=Et(e,o.onTriggerChange),u=qj(n),f=w.useRef("touch"),[h,p,g]=DZ(y=>{const b=u().filter(k=>!k.disabled),S=b.find(k=>k.value===o.value),N=LZ(b,y,S);N!==void 0&&o.onValueChange(N.value)}),v=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(oW,{asChild:!0,...s,children:a.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":OZ(o.value)?"":void 0,...i,ref:c,onClick:Be(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&v(y)}),onPointerDown:Be(i.onPointerDown,y=>{f.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Be(i.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&Oke.includes(y.key)&&(v(),y.preventDefault())})})})});fZ.displayName=dZ;var hZ="SelectValue",mZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=xu(hZ,n),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,h=Et(e,c.onValueNodeChange);return xr(()=>{u(f)},[u,f]),a.jsx(Ge.span,{...l,ref:h,style:{pointerEvents:"none"},children:OZ(c.value)?a.jsx(a.Fragment,{children:o}):s})});mZ.displayName=hZ;var Vke="SelectIcon",pZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return a.jsx(Ge.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});pZ.displayName=Vke;var Bke="SelectPortal",gZ=t=>a.jsx($1,{asChild:!0,...t});gZ.displayName=Bke;var Wd="SelectContent",yZ=w.forwardRef((t,e)=>{const n=xu(Wd,t.__scopeSelect),[r,i]=w.useState();if(xr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Km.createPortal(a.jsx(xZ,{scope:t.__scopeSelect,children:a.jsx(zj.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(vZ,{...t,ref:e})});yZ.displayName=Wd;var ga=10,[xZ,vu]=dp(Wd),Uke="SelectContentImpl",vZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b,...S}=t,N=xu(Wd,n),[k,E]=w.useState(null),[A,C]=w.useState(null),T=Et(e,ne=>E(ne)),[I,P]=w.useState(null),[M,L]=w.useState(null),D=qj(n),[R,V]=w.useState(!1),q=w.useRef(!1);w.useEffect(()=>{if(k)return gK(k)},[k]),lK();const H=w.useCallback(ne=>{const[ae,...ie]=D().map(le=>le.ref.current),[ce]=ie.slice(-1),ge=document.activeElement;for(const le of ne)if(le===ge||(le==null||le.scrollIntoView({block:"nearest"}),le===ae&&A&&(A.scrollTop=0),le===ce&&A&&(A.scrollTop=A.scrollHeight),le==null||le.focus(),document.activeElement!==ge))return},[D,A]),Y=w.useCallback(()=>H([I,k]),[H,I,k]);w.useEffect(()=>{R&&Y()},[R,Y]);const{onOpenChange:K,triggerPointerDownPosRef:Z}=N;w.useEffect(()=>{if(k){let ne={x:0,y:0};const ae=ce=>{var ge,le;ne={x:Math.abs(Math.round(ce.pageX)-(((ge=Z.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((le=Z.current)==null?void 0:le.y)??0))}},ie=ce=>{ne.x<=10&&ne.y<=10?ce.preventDefault():k.contains(ce.target)||K(!1),document.removeEventListener("pointermove",ae),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ie,{capture:!0})}}},[k,K,Z]),w.useEffect(()=>{const ne=()=>K(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[K]);const[U,W]=DZ(ne=>{const ae=D().filter(ge=>!ge.disabled),ie=ae.find(ge=>ge.ref.current===document.activeElement),ce=LZ(ae,ne,ie);ce&&setTimeout(()=>ce.ref.current.focus())}),Q=w.useCallback((ne,ae,ie)=>{const ce=!q.current&&!ie;(N.value!==void 0&&N.value===ae||ce)&&(P(ne),ce&&(q.current=!0))},[N.value]),B=w.useCallback(()=>k==null?void 0:k.focus(),[k]),se=w.useCallback((ne,ae,ie)=>{const ce=!q.current&&!ie;(N.value!==void 0&&N.value===ae||ce)&&L(ne)},[N.value]),ue=r==="popper"?YT:bZ,pe=ue===YT?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return a.jsx(xZ,{scope:n,content:k,viewport:A,onViewportChange:C,itemRefCallback:Q,selectedItem:I,onItemLeave:B,itemTextRefCallback:se,focusSelectedItem:Y,selectedItemText:M,position:r,isPositioned:R,searchRef:U,children:a.jsx(TR,{as:Od,allowPinchZoom:!0,children:a.jsx(ER,{asChild:!0,trapped:N.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Be(i,ne=>{var ae;(ae=N.trigger)==null||ae.focus({preventScroll:!0}),ne.preventDefault()}),children:a.jsx(_x,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(ue,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ne=>ne.preventDefault(),...S,...pe,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Be(S.onKeyDown,ne=>{const ae=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ae&&ne.key.length===1&&W(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ce=D().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ge=ne.target,le=ce.indexOf(ge);ce=ce.slice(le+1)}setTimeout(()=>H(ce)),ne.preventDefault()}})})})})})})});vZ.displayName=Uke;var zke="SelectItemAlignedPosition",bZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=xu(Wd,n),o=vu(Wd,n),[l,c]=w.useState(null),[u,f]=w.useState(null),h=Et(e,T=>f(T)),p=qj(n),g=w.useRef(!1),v=w.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:S,focusSelectedItem:N}=o,k=w.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&b&&S){const T=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),M=S.getBoundingClientRect();if(s.dir!=="rtl"){const ge=M.left-I.left,le=P.left-ge,Ne=T.left-le,$e=T.width+Ne,ot=Math.max($e,I.width),Ae=window.innerWidth-ga,Ke=Cy(le,[ga,Math.max(ga,Ae-ot)]);l.style.minWidth=$e+"px",l.style.left=Ke+"px"}else{const ge=I.right-M.right,le=window.innerWidth-P.right-ge,Ne=window.innerWidth-T.right-le,$e=T.width+Ne,ot=Math.max($e,I.width),Ae=window.innerWidth-ga,Ke=Cy(le,[ga,Math.max(ga,Ae-ot)]);l.style.minWidth=$e+"px",l.style.right=Ke+"px"}const L=p(),D=window.innerHeight-ga*2,R=y.scrollHeight,V=window.getComputedStyle(u),q=parseInt(V.borderTopWidth,10),H=parseInt(V.paddingTop,10),Y=parseInt(V.borderBottomWidth,10),K=parseInt(V.paddingBottom,10),Z=q+H+R+K+Y,U=Math.min(b.offsetHeight*5,Z),W=window.getComputedStyle(y),Q=parseInt(W.paddingTop,10),B=parseInt(W.paddingBottom,10),se=T.top+T.height/2-ga,ue=D-se,pe=b.offsetHeight/2,ne=b.offsetTop+pe,ae=q+H+ne,ie=Z-ae;if(ae<=se){const ge=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-y.offsetTop-y.offsetHeight,Ne=Math.max(ue,pe+(ge?B:0)+le+Y),$e=ae+Ne;l.style.height=$e+"px"}else{const ge=L.length>0&&b===L[0].ref.current;l.style.top="0px";const Ne=Math.max(se,q+y.offsetTop+(ge?Q:0)+pe)+ie;l.style.height=Ne+"px",y.scrollTop=ae-se+y.offsetTop}l.style.margin=`${ga}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,s.trigger,s.valueNode,l,u,y,b,S,s.dir,r]);xr(()=>k(),[k]);const[E,A]=w.useState();xr(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const C=w.useCallback(T=>{T&&v.current===!0&&(k(),N==null||N(),v.current=!1)},[k,N]);return a.jsx(Hke,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(Ge.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bZ.displayName=zke;var qke="SelectPopperPosition",YT=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ga,...s}=t,o=Hj(n);return a.jsx(lW,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});YT.displayName=qke;var[Hke,gM]=dp(Wd,{}),XT="SelectViewport",wZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=vu(XT,n),o=gM(XT,n),l=Et(e,s.onViewportChange),c=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(zj.Slot,{scope:n,children:a.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Be(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(c.current-f.scrollTop);if(g>0){const v=window.innerHeight-ga*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),S=Math.max(y,b);if(S<v){const N=S+g,k=Math.min(v,N),E=N-k;h.style.height=k+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});wZ.displayName=XT;var jZ="SelectGroup",[Wke,Gke]=dp(jZ),Kke=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ka();return a.jsx(Wke,{scope:n,id:i,children:a.jsx(Ge.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Kke.displayName=jZ;var SZ="SelectLabel",NZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gke(SZ,n);return a.jsx(Ge.div,{id:i.id,...r,ref:e})});NZ.displayName=SZ;var kw="SelectItem",[Yke,_Z]=dp(kw),kZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=xu(kw,n),c=vu(kw,n),u=l.value===r,[f,h]=w.useState(s??""),[p,g]=w.useState(!1),v=Et(e,N=>{var k;return(k=c.itemRefCallback)==null?void 0:k.call(c,N,r,i)}),y=ka(),b=w.useRef("touch"),S=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Yke,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:w.useCallback(N=>{h(k=>k||((N==null?void 0:N.textContent)??"").trim())},[]),children:a.jsx(zj.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:a.jsx(Ge.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Be(o.onFocus,()=>g(!0)),onBlur:Be(o.onBlur,()=>g(!1)),onClick:Be(o.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:Be(o.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:Be(o.onPointerDown,N=>{b.current=N.pointerType}),onPointerMove:Be(o.onPointerMove,N=>{var k;b.current=N.pointerType,i?(k=c.onItemLeave)==null||k.call(c):b.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(o.onPointerLeave,N=>{var k;N.currentTarget===document.activeElement&&((k=c.onItemLeave)==null||k.call(c))}),onKeyDown:Be(o.onKeyDown,N=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&N.key===" "||(Mke.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});kZ.displayName=kw;var Rg="SelectItemText",AZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=xu(Rg,n),l=vu(Rg,n),c=_Z(Rg,n),u=$ke(Rg,n),[f,h]=w.useState(null),p=Et(e,S=>h(S),c.onItemTextChange,S=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,S,c.value,c.disabled)}),g=f==null?void 0:f.textContent,v=w.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return xr(()=>(y(v),()=>b(v)),[y,b,v]),a.jsxs(a.Fragment,{children:[a.jsx(Ge.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Km.createPortal(s.children,o.valueNode):null]})});AZ.displayName=Rg;var CZ="SelectItemIndicator",EZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _Z(CZ,n).isSelected?a.jsx(Ge.span,{"aria-hidden":!0,...r,ref:e}):null});EZ.displayName=CZ;var QT="SelectScrollUpButton",TZ=w.forwardRef((t,e)=>{const n=vu(QT,t.__scopeSelect),r=gM(QT,t.__scopeSelect),[i,s]=w.useState(!1),o=Et(e,r.onScrollButtonChange);return xr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(IZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});TZ.displayName=QT;var JT="SelectScrollDownButton",PZ=w.forwardRef((t,e)=>{const n=vu(JT,t.__scopeSelect),r=gM(JT,t.__scopeSelect),[i,s]=w.useState(!1),o=Et(e,r.onScrollButtonChange);return xr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(IZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PZ.displayName=JT;var IZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=vu("SelectScrollButton",n),o=w.useRef(null),l=qj(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),xr(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ge.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Be(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Be(i.onPointerLeave,()=>{c()})})}),Xke="SelectSeparator",RZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Ge.div,{"aria-hidden":!0,...r,ref:e})});RZ.displayName=Xke;var ZT="SelectArrow",Qke=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Hj(n),s=xu(ZT,n),o=vu(ZT,n);return s.open&&o.position==="popper"?a.jsx(cW,{...i,...r,ref:e}):null});Qke.displayName=ZT;function OZ(t){return t===""||t===void 0}var MZ=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=w.useRef(null),s=Et(e,i),o=Fx(n);return w.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[o,n]),a.jsx(kx,{asChild:!0,children:a.jsx("select",{...r,ref:s,defaultValue:n})})});MZ.displayName="BubbleSelect";function DZ(t){const e=Qn(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function LZ(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Jke(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Jke(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Zke=uZ,FZ=fZ,eAe=mZ,tAe=pZ,nAe=gZ,$Z=yZ,rAe=wZ,VZ=NZ,BZ=kZ,iAe=AZ,sAe=EZ,UZ=TZ,zZ=PZ,qZ=RZ;const Oo=Zke,Mo=eAe,Fa=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(FZ,{ref:r,className:st("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(tAe,{asChild:!0,children:a.jsx(HI,{className:"h-4 w-4 opacity-50"})})]}));Fa.displayName=FZ.displayName;const HZ=w.forwardRef(({className:t,...e},n)=>a.jsx(UZ,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(y7,{className:"h-4 w-4"})}));HZ.displayName=UZ.displayName;const WZ=w.forwardRef(({className:t,...e},n)=>a.jsx(zZ,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(HI,{className:"h-4 w-4"})}));WZ.displayName=zZ.displayName;const $a=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(nAe,{children:a.jsxs($Z,{ref:i,className:st("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(HZ,{}),a.jsx(rAe,{className:st("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(WZ,{})]})}));$a.displayName=$Z.displayName;const aAe=w.forwardRef(({className:t,...e},n)=>a.jsx(VZ,{ref:n,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));aAe.displayName=VZ.displayName;const Ht=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(BZ,{ref:r,className:st("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(sAe,{children:a.jsx(_a,{className:"h-4 w-4"})})}),a.jsx(iAe,{children:e})]}));Ht.displayName=BZ.displayName;const oAe=w.forwardRef(({className:t,...e},n)=>a.jsx(qZ,{ref:n,className:st("-mx-1 my-1 h-px bg-muted",t),...e}));oAe.displayName=qZ.displayName;var lk,jV;function Ji(){if(jV)return lk;jV=1;var t=Array.isArray;return lk=t,lk}var ck,SV;function GZ(){if(SV)return ck;SV=1;var t=typeof _b=="object"&&_b&&_b.Object===Object&&_b;return ck=t,ck}var uk,NV;function Bo(){if(NV)return uk;NV=1;var t=GZ(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return uk=n,uk}var dk,_V;function Jx(){if(_V)return dk;_V=1;var t=Bo(),e=t.Symbol;return dk=e,dk}var fk,kV;function lAe(){if(kV)return fk;kV=1;var t=Jx(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(l?o[i]=c:delete o[i]),f}return fk=s,fk}var hk,AV;function cAe(){if(AV)return hk;AV=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return hk=n,hk}var mk,CV;function Bl(){if(CV)return mk;CV=1;var t=Jx(),e=lAe(),n=cAe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return mk=o,mk}var pk,EV;function Ul(){if(EV)return pk;EV=1;function t(e){return e!=null&&typeof e=="object"}return pk=t,pk}var gk,TV;function fp(){if(TV)return gk;TV=1;var t=Bl(),e=Ul(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return gk=r,gk}var yk,PV;function yM(){if(PV)return yk;PV=1;var t=Ji(),e=fp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return yk=i,yk}var xk,IV;function bu(){if(IV)return xk;IV=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return xk=t,xk}var vk,RV;function xM(){if(RV)return vk;RV=1;var t=Bl(),e=bu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==s}return vk=o,vk}var bk,OV;function uAe(){if(OV)return bk;OV=1;var t=Bo(),e=t["__core-js_shared__"];return bk=e,bk}var wk,MV;function dAe(){if(MV)return wk;MV=1;var t=uAe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return wk=n,wk}var jk,DV;function KZ(){if(DV)return jk;DV=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return jk=n,jk}var Sk,LV;function fAe(){if(LV)return Sk;LV=1;var t=xM(),e=dAe(),n=bu(),r=KZ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!n(p)||e(p))return!1;var g=t(p)?f:s;return g.test(r(p))}return Sk=h,Sk}var Nk,FV;function hAe(){if(FV)return Nk;FV=1;function t(e,n){return e==null?void 0:e[n]}return Nk=t,Nk}var _k,$V;function mf(){if($V)return _k;$V=1;var t=fAe(),e=hAe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return _k=n,_k}var kk,VV;function Wj(){if(VV)return kk;VV=1;var t=mf(),e=t(Object,"create");return kk=e,kk}var Ak,BV;function mAe(){if(BV)return Ak;BV=1;var t=Wj();function e(){this.__data__=t?t(null):{},this.size=0}return Ak=e,Ak}var Ck,UV;function pAe(){if(UV)return Ck;UV=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Ck=t,Ck}var Ek,zV;function gAe(){if(zV)return Ek;zV=1;var t=Wj(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return r.call(o,s)?o[s]:void 0}return Ek=i,Ek}var Tk,qV;function yAe(){if(qV)return Tk;qV=1;var t=Wj(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Tk=r,Tk}var Pk,HV;function xAe(){if(HV)return Pk;HV=1;var t=Wj(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Pk=n,Pk}var Ik,WV;function vAe(){if(WV)return Ik;WV=1;var t=mAe(),e=pAe(),n=gAe(),r=yAe(),i=xAe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ik=s,Ik}var Rk,GV;function bAe(){if(GV)return Rk;GV=1;function t(){this.__data__=[],this.size=0}return Rk=t,Rk}var Ok,KV;function vM(){if(KV)return Ok;KV=1;function t(e,n){return e===n||e!==e&&n!==n}return Ok=t,Ok}var Mk,YV;function Gj(){if(YV)return Mk;YV=1;var t=vM();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Mk=e,Mk}var Dk,XV;function wAe(){if(XV)return Dk;XV=1;var t=Gj(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():n.call(s,o,1),--this.size,!0}return Dk=r,Dk}var Lk,QV;function jAe(){if(QV)return Lk;QV=1;var t=Gj();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Lk=e,Lk}var Fk,JV;function SAe(){if(JV)return Fk;JV=1;var t=Gj();function e(n){return t(this.__data__,n)>-1}return Fk=e,Fk}var $k,ZV;function NAe(){if(ZV)return $k;ZV=1;var t=Gj();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return $k=e,$k}var Vk,e6;function Kj(){if(e6)return Vk;e6=1;var t=bAe(),e=wAe(),n=jAe(),r=SAe(),i=NAe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Vk=s,Vk}var Bk,t6;function bM(){if(t6)return Bk;t6=1;var t=mf(),e=Bo(),n=t(e,"Map");return Bk=n,Bk}var Uk,n6;function _Ae(){if(n6)return Uk;n6=1;var t=vAe(),e=Kj(),n=bM();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Uk=r,Uk}var zk,r6;function kAe(){if(r6)return zk;r6=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return zk=t,zk}var qk,i6;function Yj(){if(i6)return qk;i6=1;var t=kAe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return qk=e,qk}var Hk,s6;function AAe(){if(s6)return Hk;s6=1;var t=Yj();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Hk=e,Hk}var Wk,a6;function CAe(){if(a6)return Wk;a6=1;var t=Yj();function e(n){return t(this,n).get(n)}return Wk=e,Wk}var Gk,o6;function EAe(){if(o6)return Gk;o6=1;var t=Yj();function e(n){return t(this,n).has(n)}return Gk=e,Gk}var Kk,l6;function TAe(){if(l6)return Kk;l6=1;var t=Yj();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Kk=e,Kk}var Yk,c6;function wM(){if(c6)return Yk;c6=1;var t=_Ae(),e=AAe(),n=CAe(),r=EAe(),i=TAe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Yk=s,Yk}var Xk,u6;function YZ(){if(u6)return Xk;u6=1;var t=wM(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,Xk=n,Xk}var Qk,d6;function PAe(){if(d6)return Qk;d6=1;var t=YZ(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Qk=n,Qk}var Jk,f6;function IAe(){if(f6)return Jk;f6=1;var t=PAe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,u){s.push(c?u.replace(n,"$1"):l||o)}),s});return Jk=r,Jk}var Zk,h6;function jM(){if(h6)return Zk;h6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return Zk=t,Zk}var eA,m6;function RAe(){if(m6)return eA;m6=1;var t=Jx(),e=jM(),n=Ji(),r=fp(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return eA=o,eA}var tA,p6;function XZ(){if(p6)return tA;p6=1;var t=RAe();function e(n){return n==null?"":t(n)}return tA=e,tA}var nA,g6;function QZ(){if(g6)return nA;g6=1;var t=Ji(),e=yM(),n=IAe(),r=XZ();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return nA=i,nA}var rA,y6;function Xj(){if(y6)return rA;y6=1;var t=fp();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return rA=e,rA}var iA,x6;function SM(){if(x6)return iA;x6=1;var t=QZ(),e=Xj();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return iA=n,iA}var sA,v6;function JZ(){if(v6)return sA;v6=1;var t=SM();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return sA=e,sA}var OAe=JZ();const ws=tn(OAe);var aA,b6;function MAe(){if(b6)return aA;b6=1;function t(e){return e==null}return aA=t,aA}var DAe=MAe();const kt=tn(DAe);var oA,w6;function LAe(){if(w6)return oA;w6=1;var t=Bl(),e=Ji(),n=Ul(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return oA=i,oA}var FAe=LAe();const Gd=tn(FAe);var $Ae=xM();const yt=tn($Ae);var VAe=bu();const hp=tn(VAe);var lA={exports:{}},an={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6;function BAe(){if(j6)return an;j6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case t:switch(b=b.type,b){case n:case i:case r:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case p:case h:case s:return b;default:return S}}case e:return S}}}return an.ContextConsumer=o,an.ContextProvider=s,an.Element=t,an.ForwardRef=c,an.Fragment=n,an.Lazy=p,an.Memo=h,an.Portal=e,an.Profiler=i,an.StrictMode=r,an.Suspense=u,an.SuspenseList=f,an.isAsyncMode=function(){return!1},an.isConcurrentMode=function(){return!1},an.isContextConsumer=function(b){return y(b)===o},an.isContextProvider=function(b){return y(b)===s},an.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},an.isForwardRef=function(b){return y(b)===c},an.isFragment=function(b){return y(b)===n},an.isLazy=function(b){return y(b)===p},an.isMemo=function(b){return y(b)===h},an.isPortal=function(b){return y(b)===e},an.isProfiler=function(b){return y(b)===i},an.isStrictMode=function(b){return y(b)===r},an.isSuspense=function(b){return y(b)===u},an.isSuspenseList=function(b){return y(b)===f},an.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===u||b===f||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===s||b.$$typeof===o||b.$$typeof===c||b.$$typeof===v||b.getModuleId!==void 0)},an.typeOf=y,an}var S6;function UAe(){return S6||(S6=1,lA.exports=BAe()),lA.exports}var zAe=UAe(),cA,N6;function ZZ(){if(N6)return cA;N6=1;var t=Bl(),e=Ul(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return cA=r,cA}var uA,_6;function qAe(){if(_6)return uA;_6=1;var t=ZZ();function e(n){return t(n)&&n!=+n}return uA=e,uA}var HAe=qAe();const mp=tn(HAe);var WAe=ZZ();const GAe=tn(WAe);var Ci=function(e){return e===0?0:e>0?1:-1},yd=function(e){return Gd(e)&&e.indexOf("%")===e.length-1},Re=function(e){return GAe(e)&&!mp(e)},_r=function(e){return Re(e)||Gd(e)},KAe=0,pf=function(e){var n=++KAe;return"".concat(e||"").concat(n)},Ei=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&!Gd(e))return r;var s;if(yd(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return mp(s)&&(s=r),i&&s>n&&(s=n),s},Ec=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},YAe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Nr=function(e,n){return Re(e)&&Re(n)?function(r){return e+r*(n-e)}:function(){return n}};function Aw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ws(r,e))===n})}var XAe=function(e,n){return Re(e)&&Re(n)?e-n:Gd(e)&&Gd(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Uh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function eP(t){"@babel/helpers - typeof";return eP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eP(t)}var QAe=["viewBox","children"],JAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k6=["points","pathLength"],dA={svg:QAe,polygon:k6,polyline:k6},NM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cw=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),!hp(r))return null;var i={};return Object.keys(r).forEach(function(s){NM.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},ZAe=function(e,n,r){return function(i){return e(n,r,i),null}},Kd=function(e,n,r){if(!hp(e)||eP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];NM.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=ZAe(o,n,r))}),i},eCe=["children"],tCe=["children"];function A6(t,e){if(t==null)return{};var n=nCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tP(t){"@babel/helpers - typeof";return tP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tP(t)}var C6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},E6=null,fA=null,_M=function t(e){if(e===E6&&Array.isArray(fA))return fA;var n=[];return w.Children.forEach(e,function(r){kt(r)||(zAe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fA=n,E6=e,n};function js(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Nl(i)}):r=[Nl(e)],_M(t).forEach(function(i){var s=ws(i,"type.displayName")||ws(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function hs(t,e){var n=js(t,e);return n&&n[0]}var T6=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Re(r)||r<=0||!Re(i)||i<=0)},rCe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iCe=function(e){return e&&e.type&&Gd(e.type)&&rCe.indexOf(e.type)>=0},eee=function(e){return e&&tP(e)==="object"&&"clipDot"in e},sCe=function(e,n,r,i){var s,o=(s=dA==null?void 0:dA[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!yt(e)&&(i&&o.includes(n)||JAe.includes(n))||r&&NM.includes(n)},rt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(w.isValidElement(e)&&(i=e.props),!hp(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;sCe((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},nP=function t(e,n){if(e===n)return!0;var r=w.Children.count(e);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return P6(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!P6(s,o))return!1}return!0},P6=function(e,n){if(kt(e)&&kt(n))return!0;if(!kt(e)&&!kt(n)){var r=e.props||{},i=r.children,s=A6(r,eCe),o=n.props||{},l=o.children,c=A6(o,tCe);return i&&l?Uh(s,c)&&nP(i,l):!i&&!l?Uh(s,c):!1}return!1},I6=function(e,n){var r=[],i={};return _M(e).forEach(function(s,o){if(iCe(s))r.push(s);else if(s){var l=Nl(s.type),c=n[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var h=u(s,l,o);r.push(h),i[l]=!0}}}),r},aCe=function(e){var n=e&&e.type;return n&&C6[n]?C6[n]:null},oCe=function(e,n){return _M(n).indexOf(e)},lCe=["children","width","height","viewBox","className","style","title","desc"];function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(this,arguments)}function cCe(t,e){if(t==null)return{};var n=uCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=cCe(t,lCe),f=i||{width:n,height:r,x:0,y:0},h=At("recharts-surface",s);return X.createElement("svg",rP({},rt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),e)}var dCe=["children","className"];function sP(){return sP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sP.apply(this,arguments)}function fCe(t,e){if(t==null)return{};var n=hCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bt=X.forwardRef(function(t,e){var n=t.children,r=t.className,i=fCe(t,dCe),s=At("recharts-layer",r);return X.createElement("g",sP({className:s},rt(i,!0),{ref:e}),n)}),Ca=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},hA,R6;function mCe(){if(R6)return hA;R6=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return hA=t,hA}var mA,O6;function pCe(){if(O6)return mA;O6=1;var t=mCe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return mA=e,mA}var pA,M6;function tee(){if(M6)return pA;M6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(u){return l.test(u)}return pA=c,pA}var gA,D6;function gCe(){if(D6)return gA;D6=1;function t(e){return e.split("")}return gA=t,gA}var yA,L6;function yCe(){if(L6)return yA;L6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=u+"?",y="["+s+"]?",b="(?:"+g+"(?:"+[f,h,p].join("|")+")"+y+v+")*",S=y+v+b,N="(?:"+[f+l+"?",l,h,p,o].join("|")+")",k=RegExp(c+"(?="+c+")|"+N+S,"g");function E(A){return A.match(k)||[]}return yA=E,yA}var xA,F6;function xCe(){if(F6)return xA;F6=1;var t=gCe(),e=tee(),n=yCe();function r(i){return e(i)?n(i):t(i)}return xA=r,xA}var vA,$6;function vCe(){if($6)return vA;$6=1;var t=pCe(),e=tee(),n=xCe(),r=XZ();function i(s){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return vA=i,vA}var bA,V6;function bCe(){if(V6)return bA;V6=1;var t=vCe(),e=t("toUpperCase");return bA=e,bA}var wCe=bCe();const Qj=tn(wCe);function Sn(t){return function(){return t}}const nee=Math.cos,Ew=Math.sin,Wa=Math.sqrt,Tw=Math.PI,Jj=2*Tw,aP=Math.PI,oP=2*aP,sd=1e-6,jCe=oP-sd;function ree(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function SCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ree;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class NCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ree:SCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,f=o-e,h=l-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>sd)if(!(Math.abs(h*c-u*f)>sd)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-l,y=c*c+u*u,b=g*g+v*v,S=Math.sqrt(y),N=Math.sqrt(p),k=s*Math.tan((aP-Math.acos((y+p-b)/(2*S*N)))/2),E=k/N,A=k/S;Math.abs(E-1)>sd&&this._append`L${e+E*f},${n+E*h}`,this._append`A${s},${s},0,0,${+(h*g>f*v)},${this._x1=e+A*c},${this._y1=n+A*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,f=n+c,h=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>sd||Math.abs(this._y1-f)>sd)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%oP+oP),p>jCe?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>sd&&this._append`A${r},${r},0,${+(p>=aP)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new NCe(e)}function AM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iee(t){this._context=t}iee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zj(t){return new iee(t)}function see(t){return t[0]}function aee(t){return t[1]}function oee(t,e){var n=Sn(!0),r=null,i=Zj,s=null,o=kM(l);t=typeof t=="function"?t:t===void 0?see:Sn(t),e=typeof e=="function"?e:e===void 0?aee:Sn(e);function l(c){var u,f=(c=AM(c)).length,h,p=!1,g;for(r==null&&(s=i(g=o())),u=0;u<=f;++u)!(u<f&&n(h=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(h,u,c),+e(h,u,c));if(g)return s=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Sn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Sn(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Sn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Yb(t,e,n){var r=null,i=Sn(!0),s=null,o=Zj,l=null,c=kM(u);t=typeof t=="function"?t:t===void 0?see:Sn(+t),e=typeof e=="function"?e:Sn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?aee:Sn(+n);function u(h){var p,g,v,y=(h=AM(h)).length,b,S=!1,N,k=new Array(y),E=new Array(y);for(s==null&&(l=o(N=c())),p=0;p<=y;++p){if(!(p<y&&i(b=h[p],p,h))===S)if(S=!S)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=g;--v)l.point(k[v],E[v]);l.lineEnd(),l.areaEnd()}S&&(k[p]=+t(b,p,h),E[p]=+e(b,p,h),l.point(r?+r(b,p,h):k[p],n?+n(b,p,h):E[p]))}if(N)return l=null,N+""||null}function f(){return oee().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Sn(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Sn(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Sn(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Sn(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Sn(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Sn(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Sn(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),u):s},u}class lee{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _Ce(t){return new lee(t,!0)}function kCe(t){return new lee(t,!1)}const CM={draw(t,e){const n=Wa(e/Tw);t.moveTo(n,0),t.arc(0,0,n,0,Jj)}},ACe={draw(t,e){const n=Wa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cee=Wa(1/3),CCe=cee*2,ECe={draw(t,e){const n=Wa(e/CCe),r=n*cee;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},TCe={draw(t,e){const n=Wa(e),r=-n/2;t.rect(r,r,n,n)}},PCe=.8908130915292852,uee=Ew(Tw/10)/Ew(7*Tw/10),ICe=Ew(Jj/10)*uee,RCe=-nee(Jj/10)*uee,OCe={draw(t,e){const n=Wa(e*PCe),r=ICe*n,i=RCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Jj*s/5,l=nee(o),c=Ew(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},wA=Wa(3),MCe={draw(t,e){const n=-Wa(e/(wA*3));t.moveTo(0,n*2),t.lineTo(-wA*n,-n),t.lineTo(wA*n,-n),t.closePath()}},Ms=-.5,Ds=Wa(3)/2,lP=1/Wa(12),DCe=(lP/2+1)*3,LCe={draw(t,e){const n=Wa(e/DCe),r=n/2,i=n*lP,s=r,o=n*lP+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Ms*r-Ds*i,Ds*r+Ms*i),t.lineTo(Ms*s-Ds*o,Ds*s+Ms*o),t.lineTo(Ms*l-Ds*c,Ds*l+Ms*c),t.lineTo(Ms*r+Ds*i,Ms*i-Ds*r),t.lineTo(Ms*s+Ds*o,Ms*o-Ds*s),t.lineTo(Ms*l+Ds*c,Ms*c-Ds*l),t.closePath()}};function FCe(t,e){let n=null,r=kM(i);t=typeof t=="function"?t:Sn(t||CM),e=typeof e=="function"?e:Sn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Sn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Sn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Pw(){}function Iw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dee(t){this._context=t}dee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Ce(t){return new dee(t)}function fee(t){this._context=t}fee.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Iw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VCe(t){return new fee(t)}function hee(t){this._context=t}hee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Iw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BCe(t){return new hee(t)}function mee(t){this._context=t}mee.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function UCe(t){return new mee(t)}function B6(t){return t<0?-1:1}function U6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(B6(s)+B6(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function z6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jA(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Rw(t){this._context=t}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jA(this,this._t0,z6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jA(this,z6(this,n=U6(this,t,e)),n);break;default:jA(this,this._t0,n=U6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function pee(t){this._context=new gee(t)}(pee.prototype=Object.create(Rw.prototype)).point=function(t,e){Rw.prototype.point.call(this,e,t)};function gee(t){this._context=t}gee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function zCe(t){return new Rw(t)}function qCe(t){return new pee(t)}function yee(t){this._context=t}yee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=q6(t),i=q6(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q6(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function HCe(t){return new yee(t)}function eS(t,e){this._context=t,this._t=e}eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function WCe(t){return new eS(t,.5)}function GCe(t){return new eS(t,0)}function KCe(t){return new eS(t,1)}function xm(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YCe(t,e){return t[e]}function XCe(t){const e=[];return e.key=t,e}function QCe(){var t=Sn([]),e=cP,n=xm,r=YCe;function i(s){var o=Array.from(t.apply(this,arguments),XCe),l,c=o.length,u=-1,f;for(const h of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,s)]).data=h;for(l=0,f=AM(e(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Sn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Sn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?cP:typeof s=="function"?s:Sn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??xm,i):n},i}function JCe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xm(t,e)}}function ZCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}xm(t,e)}}function eEe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var f=t[e[l]],h=f[r][1]||0,p=f[r-1][1]||0,g=(h-p)/2,v=0;v<l;++v){var y=t[e[v]],b=y[r][1]||0,S=y[r-1][1]||0;g+=b-S}c+=h,u+=g*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,xm(t,e)}}function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var tEe=["type","size","sizeType"];function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uP.apply(this,arguments)}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){nEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nEe(t,e,n){return e=rEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rEe(t){var e=iEe(t,"string");return Fy(e)=="symbol"?e:e+""}function iEe(t,e){if(Fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sEe(t,e){if(t==null)return{};var n=aEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xee={symbolCircle:CM,symbolCross:ACe,symbolDiamond:ECe,symbolSquare:TCe,symbolStar:OCe,symbolTriangle:MCe,symbolWye:LCe},oEe=Math.PI/180,lEe=function(e){var n="symbol".concat(Qj(e));return xee[n]||CM},cEe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oEe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uEe=function(e,n){xee["symbol".concat(Qj(e))]=n},EM=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=sEe(e,tEe),u=W6(W6({},c),{},{type:r,size:s,sizeType:l}),f=function(){var b=lEe(r),S=FCe().type(b).size(cEe(s,l,r));return S()},h=u.className,p=u.cx,g=u.cy,v=rt(u,!0);return p===+p&&g===+g&&s===+s?X.createElement("path",uP({},v,{className:At("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};EM.registerSymbol=uEe;function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function dP(){return dP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dP.apply(this,arguments)}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bee(r.key),r)}}function mEe(t,e,n){return e&&hEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pEe(t,e,n){return e=Ow(e),gEe(t,vee()?Reflect.construct(e,n||[],Ow(t).constructor):e.apply(t,n))}function gEe(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yEe(t)}function yEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vee=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(t)}function xEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fP(t,e)}function $y(t,e,n){return e=bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=vEe(t,"string");return vm(e)=="symbol"?e:e+""}function vEe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ha=32,TM=function(t){function e(){return fEe(this,e),pEe(this,e,arguments)}return xEe(e,t),mEe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=ha/2,o=ha/6,l=ha/3,c=r.inactive?i:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ha,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ha,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var u=dEe({},r);return delete u.legendIcon,X.cloneElement(r.legendIcon,u)}return X.createElement(EM,{fill:c,cx:s,cy:s,size:ha,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ha,height:ha},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var y=g.formatter||c,b=At($y($y({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var S=yt(g.value)?null:g.value;Ca(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=g.inactive?u:g.color;return X.createElement("li",dP({className:b,style:h,key:"legend-item-".concat(v)},Kd(r.props,g,v)),X.createElement(iP,{width:o,height:o,viewBox:f,style:p},r.renderIcon(g)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},y?y(S,g,v):S))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);$y(TM,"displayName","Legend");$y(TM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SA,K6;function bEe(){if(K6)return SA;K6=1;var t=Kj();function e(){this.__data__=new t,this.size=0}return SA=e,SA}var NA,Y6;function wEe(){if(Y6)return NA;Y6=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return NA=t,NA}var _A,X6;function jEe(){if(X6)return _A;X6=1;function t(e){return this.__data__.get(e)}return _A=t,_A}var kA,Q6;function SEe(){if(Q6)return kA;Q6=1;function t(e){return this.__data__.has(e)}return kA=t,kA}var AA,J6;function NEe(){if(J6)return AA;J6=1;var t=Kj(),e=bM(),n=wM(),r=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(s,o),this.size=l.size,this}return AA=i,AA}var CA,Z6;function wee(){if(Z6)return CA;Z6=1;var t=Kj(),e=bEe(),n=wEe(),r=jEe(),i=SEe(),s=NEe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,CA=o,CA}var EA,eB;function _Ee(){if(eB)return EA;eB=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return EA=e,EA}var TA,tB;function kEe(){if(tB)return TA;tB=1;function t(e){return this.__data__.has(e)}return TA=t,TA}var PA,nB;function jee(){if(nB)return PA;nB=1;var t=wM(),e=_Ee(),n=kEe();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,PA=r,PA}var IA,rB;function See(){if(rB)return IA;rB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return IA=t,IA}var RA,iB;function Nee(){if(iB)return RA;iB=1;function t(e,n){return e.has(n)}return RA=t,RA}var OA,sB;function _ee(){if(sB)return OA;sB=1;var t=jee(),e=See(),n=Nee(),r=1,i=2;function s(o,l,c,u,f,h){var p=c&r,g=o.length,v=l.length;if(g!=v&&!(p&&v>g))return!1;var y=h.get(o),b=h.get(l);if(y&&b)return y==l&&b==o;var S=-1,N=!0,k=c&i?new t:void 0;for(h.set(o,l),h.set(l,o);++S<g;){var E=o[S],A=l[S];if(u)var C=p?u(A,E,S,l,o,h):u(E,A,S,o,l,h);if(C!==void 0){if(C)continue;N=!1;break}if(k){if(!e(l,function(T,I){if(!n(k,I)&&(E===T||f(E,T,c,u,h)))return k.push(I)})){N=!1;break}}else if(!(E===A||f(E,A,c,u,h))){N=!1;break}}return h.delete(o),h.delete(l),N}return OA=s,OA}var MA,aB;function AEe(){if(aB)return MA;aB=1;var t=Bo(),e=t.Uint8Array;return MA=e,MA}var DA,oB;function CEe(){if(oB)return DA;oB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return DA=t,DA}var LA,lB;function PM(){if(lB)return LA;lB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return LA=t,LA}var FA,cB;function EEe(){if(cB)return FA;cB=1;var t=Jx(),e=AEe(),n=vM(),r=_ee(),i=CEe(),s=PM(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",k=t?t.prototype:void 0,E=k?k.valueOf:void 0;function A(C,T,I,P,M,L,D){switch(I){case N:if(C.byteLength!=T.byteLength||C.byteOffset!=T.byteOffset)return!1;C=C.buffer,T=T.buffer;case S:return!(C.byteLength!=T.byteLength||!L(new e(C),new e(T)));case c:case u:case p:return n(+C,+T);case f:return C.name==T.name&&C.message==T.message;case g:case y:return C==T+"";case h:var R=i;case v:var V=P&o;if(R||(R=s),C.size!=T.size&&!V)return!1;var q=D.get(C);if(q)return q==T;P|=l,D.set(C,T);var H=r(R(C),R(T),P,M,L,D);return D.delete(C),H;case b:if(E)return E.call(C)==E.call(T)}return!1}return FA=A,FA}var $A,uB;function kee(){if(uB)return $A;uB=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return $A=t,$A}var VA,dB;function TEe(){if(dB)return VA;dB=1;var t=kee(),e=Ji();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return VA=n,VA}var BA,fB;function PEe(){if(fB)return BA;fB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[s++]=l)}return o}return BA=t,BA}var UA,hB;function IEe(){if(hB)return UA;hB=1;function t(){return[]}return UA=t,UA}var zA,mB;function REe(){if(mB)return zA;mB=1;var t=PEe(),e=IEe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return zA=s,zA}var qA,pB;function OEe(){if(pB)return qA;pB=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return qA=t,qA}var HA,gB;function MEe(){if(gB)return HA;gB=1;var t=Bl(),e=Ul(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return HA=r,HA}var WA,yB;function IM(){if(yB)return WA;yB=1;var t=MEe(),e=Ul(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return WA=s,WA}var Og={exports:{}},GA,xB;function DEe(){if(xB)return GA;xB=1;function t(){return!1}return GA=t,GA}Og.exports;var vB;function Aee(){return vB||(vB=1,function(t,e){var n=Bo(),r=DEe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u}(Og,Og.exports)),Og.exports}var KA,bB;function RM(){if(bB)return KA;bB=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return KA=n,KA}var YA,wB;function OM(){if(wB)return YA;wB=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return YA=e,YA}var XA,jB;function LEe(){if(jB)return XA;jB=1;var t=Bl(),e=OM(),n=Ul(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]",L={};L[N]=L[k]=L[E]=L[A]=L[C]=L[T]=L[I]=L[P]=L[M]=!0,L[r]=L[i]=L[b]=L[s]=L[S]=L[o]=L[l]=L[c]=L[u]=L[f]=L[h]=L[p]=L[g]=L[v]=L[y]=!1;function D(R){return n(R)&&e(R.length)&&!!L[t(R)]}return XA=D,XA}var QA,SB;function Cee(){if(SB)return QA;SB=1;function t(e){return function(n){return e(n)}}return QA=t,QA}var Mg={exports:{}};Mg.exports;var NB;function FEe(){return NB||(NB=1,function(t,e){var n=GZ(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Mg,Mg.exports)),Mg.exports}var JA,_B;function Eee(){if(_B)return JA;_B=1;var t=LEe(),e=Cee(),n=FEe(),r=n&&n.isTypedArray,i=r?e(r):t;return JA=i,JA}var ZA,kB;function $Ee(){if(kB)return ZA;kB=1;var t=OEe(),e=IM(),n=Ji(),r=Aee(),i=RM(),s=Eee(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var h=n(u),p=!h&&e(u),g=!h&&!p&&r(u),v=!h&&!p&&!g&&s(u),y=h||p||g||v,b=y?t(u.length,String):[],S=b.length;for(var N in u)(f||l.call(u,N))&&!(y&&(N=="length"||g&&(N=="offset"||N=="parent")||v&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&b.push(N);return b}return ZA=c,ZA}var eC,AB;function VEe(){if(AB)return eC;AB=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return eC=e,eC}var tC,CB;function Tee(){if(CB)return tC;CB=1;function t(e,n){return function(r){return e(n(r))}}return tC=t,tC}var nC,EB;function BEe(){if(EB)return nC;EB=1;var t=Tee(),e=t(Object.keys,Object);return nC=e,nC}var rC,TB;function UEe(){if(TB)return rC;TB=1;var t=VEe(),e=BEe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&o.push(l);return o}return rC=i,rC}var iC,PB;function Zx(){if(PB)return iC;PB=1;var t=xM(),e=OM();function n(r){return r!=null&&e(r.length)&&!t(r)}return iC=n,iC}var sC,IB;function tS(){if(IB)return sC;IB=1;var t=$Ee(),e=UEe(),n=Zx();function r(i){return n(i)?t(i):e(i)}return sC=r,sC}var aC,RB;function zEe(){if(RB)return aC;RB=1;var t=TEe(),e=REe(),n=tS();function r(i){return t(i,n,e)}return aC=r,aC}var oC,OB;function qEe(){if(OB)return oC;OB=1;var t=zEe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,l,c,u,f){var h=l&e,p=t(s),g=p.length,v=t(o),y=v.length;if(g!=y&&!h)return!1;for(var b=g;b--;){var S=p[b];if(!(h?S in o:r.call(o,S)))return!1}var N=f.get(s),k=f.get(o);if(N&&k)return N==o&&k==s;var E=!0;f.set(s,o),f.set(o,s);for(var A=h;++b<g;){S=p[b];var C=s[S],T=o[S];if(c)var I=h?c(T,C,S,o,s,f):c(C,T,S,s,o,f);if(!(I===void 0?C===T||u(C,T,l,c,f):I)){E=!1;break}A||(A=S=="constructor")}if(E&&!A){var P=s.constructor,M=o.constructor;P!=M&&"constructor"in s&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof M=="function"&&M instanceof M)&&(E=!1)}return f.delete(s),f.delete(o),E}return oC=i,oC}var lC,MB;function HEe(){if(MB)return lC;MB=1;var t=mf(),e=Bo(),n=t(e,"DataView");return lC=n,lC}var cC,DB;function WEe(){if(DB)return cC;DB=1;var t=mf(),e=Bo(),n=t(e,"Promise");return cC=n,cC}var uC,LB;function Pee(){if(LB)return uC;LB=1;var t=mf(),e=Bo(),n=t(e,"Set");return uC=n,uC}var dC,FB;function GEe(){if(FB)return dC;FB=1;var t=mf(),e=Bo(),n=t(e,"WeakMap");return dC=n,dC}var fC,$B;function KEe(){if($B)return fC;$B=1;var t=HEe(),e=bM(),n=WEe(),r=Pee(),i=GEe(),s=Bl(),o=KZ(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=o(t),v=o(e),y=o(n),b=o(r),S=o(i),N=s;return(t&&N(new t(new ArrayBuffer(1)))!=p||e&&N(new e)!=l||n&&N(n.resolve())!=u||r&&N(new r)!=f||i&&N(new i)!=h)&&(N=function(k){var E=s(k),A=E==c?k.constructor:void 0,C=A?o(A):"";if(C)switch(C){case g:return p;case v:return l;case y:return u;case b:return f;case S:return h}return E}),fC=N,fC}var hC,VB;function YEe(){if(VB)return hC;VB=1;var t=wee(),e=_ee(),n=EEe(),r=qEe(),i=KEe(),s=Ji(),o=Aee(),l=Eee(),c=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(y,b,S,N,k,E){var A=s(y),C=s(b),T=A?f:i(y),I=C?f:i(b);T=T==u?h:T,I=I==u?h:I;var P=T==h,M=I==h,L=T==I;if(L&&o(y)){if(!o(b))return!1;A=!0,P=!1}if(L&&!P)return E||(E=new t),A||l(y)?e(y,b,S,N,k,E):n(y,b,T,S,N,k,E);if(!(S&c)){var D=P&&g.call(y,"__wrapped__"),R=M&&g.call(b,"__wrapped__");if(D||R){var V=D?y.value():y,q=R?b.value():b;return E||(E=new t),k(V,q,S,N,E)}}return L?(E||(E=new t),r(y,b,S,N,k,E)):!1}return hC=v,hC}var mC,BB;function MM(){if(BB)return mC;BB=1;var t=YEe(),e=Ul();function n(r,i,s,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,l)}return mC=n,mC}var pC,UB;function XEe(){if(UB)return pC;UB=1;var t=wee(),e=MM(),n=1,r=2;function i(s,o,l,c){var u=l.length,f=u,h=!c;if(s==null)return!f;for(s=Object(s);u--;){var p=l[u];if(h&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++u<f;){p=l[u];var g=p[0],v=s[g],y=p[1];if(h&&p[2]){if(v===void 0&&!(g in s))return!1}else{var b=new t;if(c)var S=c(v,y,g,s,o,b);if(!(S===void 0?e(y,v,n|r,c,b):S))return!1}}return!0}return pC=i,pC}var gC,zB;function Iee(){if(zB)return gC;zB=1;var t=bu();function e(n){return n===n&&!t(n)}return gC=e,gC}var yC,qB;function QEe(){if(qB)return yC;qB=1;var t=Iee(),e=tS();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],l=r[o];i[s]=[o,l,t(l)]}return i}return yC=n,yC}var xC,HB;function Ree(){if(HB)return xC;HB=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return xC=t,xC}var vC,WB;function JEe(){if(WB)return vC;WB=1;var t=XEe(),e=QEe(),n=Ree();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return vC=r,vC}var bC,GB;function ZEe(){if(GB)return bC;GB=1;function t(e,n){return e!=null&&n in Object(e)}return bC=t,bC}var wC,KB;function e2e(){if(KB)return wC;KB=1;var t=QZ(),e=IM(),n=Ji(),r=RM(),i=OM(),s=Xj();function o(l,c,u){c=t(c,l);for(var f=-1,h=c.length,p=!1;++f<h;){var g=s(c[f]);if(!(p=l!=null&&u(l,g)))break;l=l[g]}return p||++f!=h?p:(h=l==null?0:l.length,!!h&&i(h)&&r(g,h)&&(n(l)||e(l)))}return wC=o,wC}var jC,YB;function t2e(){if(YB)return jC;YB=1;var t=ZEe(),e=e2e();function n(r,i){return r!=null&&e(r,i,t)}return jC=n,jC}var SC,XB;function n2e(){if(XB)return SC;XB=1;var t=MM(),e=JZ(),n=t2e(),r=yM(),i=Iee(),s=Ree(),o=Xj(),l=1,c=2;function u(f,h){return r(f)&&i(h)?s(o(f),h):function(p){var g=e(p,f);return g===void 0&&g===h?n(p,f):t(h,g,l|c)}}return SC=u,SC}var NC,QB;function pp(){if(QB)return NC;QB=1;function t(e){return e}return NC=t,NC}var _C,JB;function r2e(){if(JB)return _C;JB=1;function t(e){return function(n){return n==null?void 0:n[e]}}return _C=t,_C}var kC,ZB;function i2e(){if(ZB)return kC;ZB=1;var t=SM();function e(n){return function(r){return t(r,n)}}return kC=e,kC}var AC,eU;function s2e(){if(eU)return AC;eU=1;var t=r2e(),e=i2e(),n=yM(),r=Xj();function i(s){return n(s)?t(r(s)):e(s)}return AC=i,AC}var CC,tU;function Uo(){if(tU)return CC;tU=1;var t=JEe(),e=n2e(),n=pp(),r=Ji(),i=s2e();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return CC=s,CC}var EC,nU;function Oee(){if(nU)return EC;nU=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return EC=t,EC}var TC,rU;function a2e(){if(rU)return TC;rU=1;function t(e){return e!==e}return TC=t,TC}var PC,iU;function o2e(){if(iU)return PC;iU=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return PC=t,PC}var IC,sU;function l2e(){if(sU)return IC;sU=1;var t=Oee(),e=a2e(),n=o2e();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return IC=r,IC}var RC,aU;function c2e(){if(aU)return RC;aU=1;var t=l2e();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return RC=e,RC}var OC,oU;function u2e(){if(oU)return OC;oU=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return OC=t,OC}var MC,lU;function d2e(){if(lU)return MC;lU=1;function t(){}return MC=t,MC}var DC,cU;function f2e(){if(cU)return DC;cU=1;var t=Pee(),e=d2e(),n=PM(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return DC=i,DC}var LC,uU;function h2e(){if(uU)return LC;uU=1;var t=jee(),e=c2e(),n=u2e(),r=Nee(),i=f2e(),s=PM(),o=200;function l(c,u,f){var h=-1,p=e,g=c.length,v=!0,y=[],b=y;if(f)v=!1,p=n;else if(g>=o){var S=u?null:i(c);if(S)return s(S);v=!1,p=r,b=new t}else b=u?[]:y;e:for(;++h<g;){var N=c[h],k=u?u(N):N;if(N=f||N!==0?N:0,v&&k===k){for(var E=b.length;E--;)if(b[E]===k)continue e;u&&b.push(k),y.push(N)}else p(b,k,f)||(b!==y&&b.push(k),y.push(N))}return y}return LC=l,LC}var FC,dU;function m2e(){if(dU)return FC;dU=1;var t=Uo(),e=h2e();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return FC=n,FC}var p2e=m2e();const fU=tn(p2e);function Mee(t,e,n){return e===!0?fU(t,n):yt(e)?fU(t,e):t}function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}var g2e=["ref"];function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(r){nS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lee(r.key),r)}}function x2e(t,e,n){return e&&mU(t.prototype,e),n&&mU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v2e(t,e,n){return e=Mw(e),b2e(t,Dee()?Reflect.construct(e,n||[],Mw(t).constructor):e.apply(t,n))}function b2e(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w2e(t)}function w2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dee=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(t)}function j2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hP(t,e)}function nS(t,e,n){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=S2e(t,"string");return bm(e)=="symbol"?e:e+""}function S2e(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N2e(t,e){if(t==null)return{};var n=_2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k2e(t){return t.value}function A2e(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var n=N2e(e,g2e);return X.createElement(TM,n)}var pU=1,Wi=function(t){function e(){var n;y2e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=v2e(this,e,[].concat(i)),nS(n,"lastBoundingBox",{width:-1,height:-1}),n}return j2e(e,t),x2e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pU||Math.abs(i.height-this.lastBoundingBox.height)>pU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ol({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();h={left:((u||0)-g.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ol(ol({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=ol(ol({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){r.wrapperNode=g}},A2e(s,ol(ol({},this.props),{},{payload:Mee(f,u,k2e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ol(ol({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Re(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(w.PureComponent);nS(Wi,"displayName","Legend");nS(Wi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $C,gU;function C2e(){if(gU)return $C;gU=1;var t=Jx(),e=IM(),n=Ji(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return $C=i,$C}var VC,yU;function Fee(){if(yU)return VC;yU=1;var t=kee(),e=C2e();function n(r,i,s,o,l){var c=-1,u=r.length;for(s||(s=e),l||(l=[]);++c<u;){var f=r[c];i>0&&s(f)?i>1?n(f,i-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return VC=n,VC}var BC,xU;function E2e(){if(xU)return BC;xU=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),l=i(n),c=l.length;c--;){var u=l[e?c:++s];if(r(o[u],u,o)===!1)break}return n}}return BC=t,BC}var UC,vU;function T2e(){if(vU)return UC;vU=1;var t=E2e(),e=t();return UC=e,UC}var zC,bU;function $ee(){if(bU)return zC;bU=1;var t=T2e(),e=tS();function n(r,i){return r&&t(r,i,e)}return zC=n,zC}var qC,wU;function P2e(){if(wU)return qC;wU=1;var t=Zx();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return qC=e,qC}var HC,jU;function DM(){if(jU)return HC;jU=1;var t=$ee(),e=P2e(),n=e(t);return HC=n,HC}var WC,SU;function Vee(){if(SU)return WC;SU=1;var t=DM(),e=Zx();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,u){o[++s]=i(l,c,u)}),o}return WC=n,WC}var GC,NU;function I2e(){if(NU)return GC;NU=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return GC=t,GC}var KC,_U;function R2e(){if(_U)return KC;_U=1;var t=fp();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,l=t(n),c=r!==void 0,u=r===null,f=r===r,h=t(r);if(!u&&!h&&!l&&n>r||l&&c&&f&&!u&&!h||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!h&&n<r||h&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!f)return-1}return 0}return KC=e,KC}var YC,kU;function O2e(){if(kU)return YC;kU=1;var t=R2e();function e(n,r,i){for(var s=-1,o=n.criteria,l=r.criteria,c=o.length,u=i.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=u)return f;var h=i[s];return f*(h=="desc"?-1:1)}}return n.index-r.index}return YC=e,YC}var XC,AU;function M2e(){if(AU)return XC;AU=1;var t=jM(),e=SM(),n=Uo(),r=Vee(),i=I2e(),s=Cee(),o=O2e(),l=pp(),c=Ji();function u(f,h,p){h.length?h=t(h,function(y){return c(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):h=[l];var g=-1;h=t(h,s(n));var v=r(f,function(y,b,S){var N=t(h,function(k){return k(y)});return{criteria:N,index:++g,value:y}});return i(v,function(y,b){return o(y,b,p)})}return XC=u,XC}var QC,CU;function D2e(){if(CU)return QC;CU=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return QC=t,QC}var JC,EU;function L2e(){if(EU)return JC;EU=1;var t=D2e(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(u),t(r,this,f)}}return JC=n,JC}var ZC,TU;function F2e(){if(TU)return ZC;TU=1;function t(e){return function(){return e}}return ZC=t,ZC}var eE,PU;function Bee(){if(PU)return eE;PU=1;var t=mf(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return eE=e,eE}var tE,IU;function $2e(){if(IU)return tE;IU=1;var t=F2e(),e=Bee(),n=pp(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return tE=r,tE}var nE,RU;function V2e(){if(RU)return nE;RU=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return nE=r,nE}var rE,OU;function B2e(){if(OU)return rE;OU=1;var t=$2e(),e=V2e(),n=e(t);return rE=n,rE}var iE,MU;function U2e(){if(MU)return iE;MU=1;var t=pp(),e=L2e(),n=B2e();function r(i,s){return n(e(i,s,t),i+"")}return iE=r,iE}var sE,DU;function rS(){if(DU)return sE;DU=1;var t=vM(),e=Zx(),n=RM(),r=bu();function i(s,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return sE=i,sE}var aE,LU;function z2e(){if(LU)return aE;LU=1;var t=Fee(),e=M2e(),n=U2e(),r=rS(),i=n(function(s,o){if(s==null)return[];var l=o.length;return l>1&&r(s,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return aE=i,aE}var q2e=z2e();const LM=tn(q2e);function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function mP(){return mP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mP.apply(this,arguments)}function H2e(t,e){return Y2e(t)||K2e(t,e)||G2e(t,e)||W2e()}function W2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2e(t,e){if(t){if(typeof t=="string")return FU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FU(t,e)}}function FU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Y2e(t){if(Array.isArray(t))return t}function $U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(n),!0).forEach(function(r){X2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X2e(t,e,n){return e=Q2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q2e(t){var e=J2e(t,"string");return Vy(e)=="symbol"?e:e+""}function J2e(t,e){if(Vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z2e(t){return Array.isArray(t)&&_r(t[0])&&_r(t[1])?t.join(" ~ "):t}var eTe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,h=e.formatter,p=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,S=e.accessibilityLayer,N=S===void 0?!1:S,k=function(){if(f&&f.length){var D={padding:0,margin:0},R=(p?LM(f,p):f).map(function(V,q){if(V.type==="none")return null;var H=oE({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),Y=V.formatter||h||Z2e,K=V.value,Z=V.name,U=K,W=Z;if(Y&&U!=null&&W!=null){var Q=Y(K,Z,V,q,f);if(Array.isArray(Q)){var B=H2e(Q,2);U=B[0],W=B[1]}else U=Q}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:H},_r(W)?X.createElement("span",{className:"recharts-tooltip-item-name"},W):null,_r(W)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},U),X.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},E=oE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=oE({margin:0},u),C=!kt(y),T=C?y:"",I=At("recharts-default-tooltip",g),P=At("recharts-tooltip-label",v);C&&b&&f!==void 0&&f!==null&&(T=b(y,f));var M=N?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",mP({className:I,style:E},M),X.createElement("p",{className:P,style:A},X.isValidElement(T)?T:"".concat(T)),k())};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function Xb(t,e,n){return e=tTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tTe(t){var e=nTe(t,"string");return By(e)=="symbol"?e:e+""}function nTe(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dg="recharts-tooltip-wrapper",rTe={visibility:"hidden"};function iTe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return At(dg,Xb(Xb(Xb(Xb({},"".concat(dg,"-right"),Re(n)&&e&&Re(e.x)&&n>=e.x),"".concat(dg,"-left"),Re(n)&&e&&Re(e.x)&&n<e.x),"".concat(dg,"-bottom"),Re(r)&&e&&Re(e.y)&&r>=e.y),"".concat(dg,"-top"),Re(r)&&e&&Re(e.y)&&r<e.y))}function VU(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Re(s[r]))return s[r];var f=n[r]-l-i,h=n[r]+i;if(e[r])return o[r]?f:h;if(o[r]){var p=f,g=c[r];return p<g?Math.max(h,c[r]):Math.max(f,c[r])}var v=h+l,y=c[r]+u;return v>y?Math.max(f,c[r]):Math.max(h,c[r])}function sTe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function aTe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,f,h;return o.height>0&&o.width>0&&n?(f=VU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=VU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sTe({translateX:f,translateY:h,useTranslate3d:l})):u=rTe,{cssProperties:u,cssClasses:iTe({translateX:f,translateY:h,coordinate:n})}}function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function BU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(n),!0).forEach(function(r){gP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zee(r.key),r)}}function cTe(t,e,n){return e&&lTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uTe(t,e,n){return e=Dw(e),dTe(t,Uee()?Reflect.construct(e,n||[],Dw(t).constructor):e.apply(t,n))}function dTe(t,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dw(t)}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pP(t,e)}function pP(t,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pP(t,e)}function gP(t,e,n){return e=zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=mTe(t,"string");return wm(e)=="symbol"?e:e+""}function mTe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zU=1,pTe=function(t){function e(){var n;oTe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=uTe(this,e,[].concat(i)),gP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return hTe(e,t),cTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>zU||Math.abs(r.height-this.state.lastBoundingBox.height)>zU)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,k=aTe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:S}),E=k.cssClasses,A=k.cssProperties,C=UU(UU({transition:p&&s?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},N);return X.createElement("div",{tabIndex:-1,className:E,style:C,ref:function(I){r.wrapperNode=I}},u)}}])}(w.PureComponent),gTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wu={isSsr:gTe()};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function qU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(n),!0).forEach(function(r){FM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hee(r.key),r)}}function vTe(t,e,n){return e&&xTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bTe(t,e,n){return e=Lw(e),wTe(t,qee()?Reflect.construct(e,n||[],Lw(t).constructor):e.apply(t,n))}function wTe(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jTe(t)}function jTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qee=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lw(t)}function STe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yP(t,e)}function yP(t,e){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yP(t,e)}function FM(t,e,n){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hee(t){var e=NTe(t,"string");return jm(e)=="symbol"?e:e+""}function NTe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _Te(t){return t.dataKey}function kTe(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(eTe,e)}var Dr=function(t){function e(){return yTe(this,e),bTe(this,e,arguments)}return STe(e,t),vTe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,S=i.reverseDirection,N=i.useTranslate3d,k=i.viewBox,E=i.wrapperStyle,A=v??[];h&&A.length&&(A=Mee(v.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),y,_Te));var C=A.length>0;return X.createElement(pTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:s,coordinate:f,hasPayload:C,offset:g,position:b,reverseDirection:S,useTranslate3d:N,viewBox:k,wrapperStyle:E},kTe(u,HU(HU({},this.props),{},{payload:A})))}}])}(w.PureComponent);FM(Dr,"displayName","Tooltip");FM(Dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lE,WU;function ATe(){if(WU)return lE;WU=1;var t=Bo(),e=function(){return t.Date.now()};return lE=e,lE}var cE,GU;function CTe(){if(GU)return cE;GU=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return cE=e,cE}var uE,KU;function ETe(){if(KU)return uE;KU=1;var t=CTe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return uE=n,uE}var dE,YU;function Wee(){if(YU)return dE;YU=1;var t=ETe(),e=bu(),n=fp(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=s.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):i.test(u)?r:+u}return dE=c,dE}var fE,XU;function TTe(){if(XU)return fE;XU=1;var t=bu(),e=ATe(),n=Wee(),r="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var f,h,p,g,v,y,b=0,S=!1,N=!1,k=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(S=!!u.leading,N="maxWait"in u,p=N?i(n(u.maxWait)||0,c):p,k="trailing"in u?!!u.trailing:k);function E(R){var V=f,q=h;return f=h=void 0,b=R,g=l.apply(q,V),g}function A(R){return b=R,v=setTimeout(I,c),S?E(R):g}function C(R){var V=R-y,q=R-b,H=c-V;return N?s(H,p-q):H}function T(R){var V=R-y,q=R-b;return y===void 0||V>=c||V<0||N&&q>=p}function I(){var R=e();if(T(R))return P(R);v=setTimeout(I,C(R))}function P(R){return v=void 0,k&&f?E(R):(f=h=void 0,g)}function M(){v!==void 0&&clearTimeout(v),b=0,f=y=h=v=void 0}function L(){return v===void 0?g:P(e())}function D(){var R=e(),V=T(R);if(f=arguments,h=this,y=R,V){if(v===void 0)return A(y);if(N)return clearTimeout(v),v=setTimeout(I,c),E(y)}return v===void 0&&(v=setTimeout(I,c)),g}return D.cancel=M,D.flush=L,D}return fE=o,fE}var hE,QU;function PTe(){if(QU)return hE;QU=1;var t=TTe(),e=bu(),n="Expected a function";function r(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return hE=r,hE}var ITe=PTe();const Gee=tn(ITe);function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(r){RTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RTe(t,e,n){return e=OTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=MTe(t,"string");return Uy(e)=="symbol"?e:e+""}function MTe(t,e){if(Uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DTe(t,e){return VTe(t)||$Te(t,e)||FTe(t,e)||LTe()}function LTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FTe(t,e){if(t){if(typeof t=="string")return ZU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZU(t,e)}}function ZU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Te(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function VTe(t){if(Array.isArray(t))return t}var dl=w.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,S=t.className,N=t.onResize,k=t.style,E=k===void 0?{}:k,A=w.useRef(null),C=w.useRef();C.current=N,w.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var T=w.useState({containerWidth:i.width,containerHeight:i.height}),I=DTe(T,2),P=I[0],M=I[1],L=w.useCallback(function(R,V){M(function(q){var H=Math.round(R),Y=Math.round(V);return q.containerWidth===H&&q.containerHeight===Y?q:{containerWidth:H,containerHeight:Y}})},[]);w.useEffect(function(){var R=function(Z){var U,W=Z[0].contentRect,Q=W.width,B=W.height;L(Q,B),(U=C.current)===null||U===void 0||U.call(C,Q,B)};y>0&&(R=Gee(R,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(R),q=A.current.getBoundingClientRect(),H=q.width,Y=q.height;return L(H,Y),V.observe(A.current),function(){V.disconnect()}},[L,y]);var D=w.useMemo(function(){var R=P.containerWidth,V=P.containerHeight;if(R<0||V<0)return null;Ca(yd(o)||yd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ca(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=yd(o)?R:o,H=yd(c)?V:c;n&&n>0&&(q?H=q/n:H&&(q=H*n),p&&H>p&&(H=p)),Ca(q>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,H,o,c,f,h,n);var Y=!Array.isArray(g)&&Nl(g.type).endsWith("Chart");return X.Children.map(g,function(K){return X.isValidElement(K)?w.cloneElement(K,Qb({width:q,height:H},Y?{style:Qb({height:"100%",width:"100%",maxHeight:H,maxWidth:q},K.props.style)}:{})):K})},[n,g,c,p,h,f,P,o]);return X.createElement("div",{id:b?"".concat(b):void 0,className:At("recharts-responsive-container",S),style:Qb(Qb({},E),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:p}),ref:A},D)}),Sm=function(e){return null};Sm.displayName="Cell";function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){BTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BTe(t,e,n){return e=UTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UTe(t){var e=zTe(t,"string");return zy(e)=="symbol"?e:e+""}function zTe(t,e){if(zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lh={widthCache:{},cacheCount:0},qTe=2e3,HTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tz="recharts_measurement_span";function WTe(t){var e=xP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ey=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wu.isSsr)return{width:0,height:0};var r=WTe(n),i=JSON.stringify({text:e,copyStyle:r});if(lh.widthCache[i])return lh.widthCache[i];try{var s=document.getElementById(tz);s||(s=document.createElement("span"),s.setAttribute("id",tz),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=xP(xP({},HTe),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return lh.widthCache[i]=c,++lh.cacheCount>qTe&&(lh.cacheCount=0,lh.widthCache={}),c}catch{return{width:0,height:0}}},GTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function Fw(t,e){return QTe(t)||XTe(t,e)||YTe(t,e)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YTe(t,e){if(t){if(typeof t=="string")return nz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nz(t,e)}}function nz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QTe(t){if(Array.isArray(t))return t}function JTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ePe(r.key),r)}}function ZTe(t,e,n){return e&&rz(t.prototype,e),n&&rz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ePe(t){var e=tPe(t,"string");return qy(e)=="symbol"?e:e+""}function tPe(t,e){if(qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iPe=Object.keys(Kee),Ah="NaN";function sPe(t,e){return t*Kee[e]}var Jb=function(){function t(e,n){JTe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!nPe.test(n)&&(this.num=NaN,this.unit=""),iPe.includes(n)&&(this.num=sPe(e,n),this.unit="px")}return ZTe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=rPe.exec(n))!==null&&r!==void 0?r:[],s=Fw(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function Yee(t){if(t.includes(Ah))return Ah;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=iz.exec(e))!==null&&n!==void 0?n:[],i=Fw(r,4),s=i[1],o=i[2],l=i[3],c=Jb.parse(s??""),u=Jb.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Ah;e=e.replace(iz,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=sz.exec(e))!==null&&h!==void 0?h:[],g=Fw(p,4),v=g[1],y=g[2],b=g[3],S=Jb.parse(v??""),N=Jb.parse(b??""),k=y==="+"?S.add(N):S.subtract(N);if(k.isNaN())return Ah;e=e.replace(sz,k.toString())}return e}var az=/\(([^()]*)\)/;function aPe(t){for(var e=t;e.includes("(");){var n=az.exec(e),r=Fw(n,2),i=r[1];e=e.replace(az,Yee(i))}return e}function oPe(t){var e=t.replace(/\s+/g,"");return e=aPe(e),e=Yee(e),e}function lPe(t){try{return oPe(t)}catch{return Ah}}function mE(t){var e=lPe(t.slice(5,-1));return e===Ah?"":e}var cPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uPe=["dx","dy","angle","className","breakAll"];function vP(){return vP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function oz(t,e){if(t==null)return{};var n=dPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lz(t,e){return pPe(t)||mPe(t,e)||hPe(t,e)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hPe(t,e){if(t){if(typeof t=="string")return cz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cz(t,e)}}function cz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pPe(t){if(Array.isArray(t))return t}var Xee=/[ \f\n\r\t\v\u2028\u2029]+/,Qee=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];kt(n)||(r?s=n.toString().split(""):s=n.toString().split(Xee));var o=s.map(function(c){return{word:c,width:ey(c,i).width}}),l=r?0:ey("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gPe=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,f=Re(o),h=l,p=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(H,Y){var K=Y.word,Z=Y.width,U=H[H.length-1];if(U&&(i==null||s||U.width+Z+r<Number(i)))U.words.push(K),U.width+=Z+r;else{var W={words:[K],width:Z};H.push(W)}return H},[])},g=p(n),v=function(q){return q.reduce(function(H,Y){return H.width>Y.width?H:Y})};if(!f)return g;for(var y="",b=function(q){var H=h.slice(0,q),Y=Qee({breakAll:u,style:c,children:H+y}).wordsWithComputedWidth,K=p(Y),Z=K.length>o||v(K).width>Number(i);return[Z,K]},S=0,N=h.length-1,k=0,E;S<=N&&k<=h.length-1;){var A=Math.floor((S+N)/2),C=A-1,T=b(C),I=lz(T,2),P=I[0],M=I[1],L=b(A),D=lz(L,1),R=D[0];if(!P&&!R&&(S=A+1),P&&R&&(N=A-1),!P&&R){E=M;break}k++}return E||g},uz=function(e){var n=kt(e)?[]:e.toString().split(Xee);return[{words:n}]},yPe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!wu.isSsr){var c,u,f=Qee({breakAll:o,children:i,style:s});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;c=h,u=p}else return uz(i);return gPe({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return uz(i)},dz="#808080",Yd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,g=p===void 0?"start":p,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,S=b===void 0?dz:b,N=oz(e,cPe),k=w.useMemo(function(){return yPe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:h,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,h,N.style,N.width]),E=N.dx,A=N.dy,C=N.angle,T=N.className,I=N.breakAll,P=oz(N,uPe);if(!_r(r)||!_r(s))return null;var M=r+(Re(E)?E:0),L=s+(Re(A)?A:0),D;switch(y){case"start":D=mE("calc(".concat(u,")"));break;case"middle":D=mE("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=mE("calc(".concat(k.length-1," * -").concat(l,")"));break}var R=[];if(h){var V=k[0].width,q=N.width;R.push("scale(".concat((Re(q)?q/V:1)/V,")"))}return C&&R.push("rotate(".concat(C,", ").concat(M,", ").concat(L,")")),R.length&&(P.transform=R.join(" ")),X.createElement("text",vP({},rt(P,!0),{x:M,y:L,className:At("recharts-text",T),textAnchor:g,fill:S.includes("url")?dz:S}),k.map(function(H,Y){var K=H.words.join(I?"":" ");return X.createElement("tspan",{x:M,dy:Y===0?D:l,key:"".concat(K,"-").concat(Y)},K)}))};function Gc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $M(t){let e,n,r;t.length!==2?(e=Gc,n=(l,c)=>Gc(t(l),c),r=(l,c)=>t(l)-c):(e=t===Gc||t===xPe?t:vPe,n=t,r=t);function i(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;n(l[h],c)<0?u=h+1:f=h}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;n(l[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function o(l,c,u=0,f=l.length){const h=i(l,c,u,f-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:o,right:s}}function vPe(){return 0}function Jee(t){return t===null?NaN:+t}function*bPe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const wPe=$M(Gc),ev=wPe.right;$M(Jee).center;class fz extends Map{constructor(e,n=NPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(hz(this,e))}has(e){return super.has(hz(this,e))}set(e,n){return super.set(jPe(this,e),n)}delete(e){return super.delete(SPe(this,e))}}function hz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jPe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function SPe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function NPe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _Pe(t=Gc){if(t===Gc)return Zee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Zee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kPe=Math.sqrt(50),APe=Math.sqrt(10),CPe=Math.sqrt(2);function $w(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=kPe?10:s>=APe?5:s>=CPe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?$w(t,e,n*2):[l,c,u]}function bP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?$w(e,t,n):$w(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function wP(t,e,n){return e=+e,t=+t,n=+n,$w(t,e,n)[2]}function jP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?wP(e,t,n):wP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ete(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Zee:_Pe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(e-u*h/c+p)),v=Math.min(r,Math.floor(e+(c-u)*h/c+p));ete(t,e,g,v,i)}const s=t[e];let o=n,l=r;for(fg(t,n,e),i(t[r],s)>0&&fg(t,n,r);o<l;){for(fg(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?fg(t,n,l):(++l,fg(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function fg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function EPe(t,e,n){if(t=Float64Array.from(bPe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pz(t);if(e>=1)return mz(t);var r,i=(r-1)*e,s=Math.floor(i),o=mz(ete(t,s).subarray(0,s+1)),l=pz(t.subarray(s+1));return o+(l-o)*(i-s)}}function TPe(t,e,n=Jee){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function PPe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ys(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SP=Symbol("implicit");function VM(){var t=new fz,e=[],n=[],r=SP;function i(s){let o=t.get(s);if(o===void 0){if(r!==SP)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new fz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return VM(e,n).unknown(r)},Ys.apply(i,arguments),i}function Hy(){var t=VM().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,f=.5;delete t.unknown;function h(){var p=e().length,g=i<r,v=g?i:r,y=g?r:i;s=(y-v)/Math.max(1,p-c+u*2),l&&(s=Math.floor(s)),v+=(y-v-s*(p-c))*f,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=PPe(p).map(function(S){return v+s*S});return n(g?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,h()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return Hy(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},Ys.apply(h(),arguments)}function tte(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tte(e())},t}function ty(){return tte(Hy.apply(null,arguments).paddingInner(1))}function BM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nte(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tv(){}var Wy=.7,Vw=1/Wy,zh="\\s*([+-]?\\d+)\\s*",Gy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IPe=/^#([0-9a-f]{3,8})$/,RPe=new RegExp(`^rgb\\(${zh},${zh},${zh}\\)$`),OPe=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),MPe=new RegExp(`^rgba\\(${zh},${zh},${zh},${Gy}\\)$`),DPe=new RegExp(`^rgba\\(${_o},${_o},${_o},${Gy}\\)$`),LPe=new RegExp(`^hsl\\(${Gy},${_o},${_o}\\)$`),FPe=new RegExp(`^hsla\\(${Gy},${_o},${_o},${Gy}\\)$`),gz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BM(tv,Ky,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yz,formatHex:yz,formatHex8:$Pe,formatHsl:VPe,formatRgb:xz,toString:xz});function yz(){return this.rgb().formatHex()}function $Pe(){return this.rgb().formatHex8()}function VPe(){return rte(this).formatHsl()}function xz(){return this.rgb().formatRgb()}function Ky(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IPe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vz(e):n===3?new Gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RPe.exec(t))?new Gi(e[1],e[2],e[3],1):(e=OPe.exec(t))?new Gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MPe.exec(t))?Zb(e[1],e[2],e[3],e[4]):(e=DPe.exec(t))?Zb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LPe.exec(t))?jz(e[1],e[2]/100,e[3]/100,1):(e=FPe.exec(t))?jz(e[1],e[2]/100,e[3]/100,e[4]):gz.hasOwnProperty(t)?vz(gz[t]):t==="transparent"?new Gi(NaN,NaN,NaN,0):null}function vz(t){return new Gi(t>>16&255,t>>8&255,t&255,1)}function Zb(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gi(t,e,n,r)}function BPe(t){return t instanceof tv||(t=Ky(t)),t?(t=t.rgb(),new Gi(t.r,t.g,t.b,t.opacity)):new Gi}function NP(t,e,n,r){return arguments.length===1?BPe(t):new Gi(t,e,n,r??1)}function Gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BM(Gi,NP,nte(tv,{brighter(t){return t=t==null?Vw:Math.pow(Vw,t),new Gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wy:Math.pow(Wy,t),new Gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gi(Ed(this.r),Ed(this.g),Ed(this.b),Bw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bz,formatHex:bz,formatHex8:UPe,formatRgb:wz,toString:wz}));function bz(){return`#${xd(this.r)}${xd(this.g)}${xd(this.b)}`}function UPe(){return`#${xd(this.r)}${xd(this.g)}${xd(this.b)}${xd((isNaN(this.opacity)?1:this.opacity)*255)}`}function wz(){const t=Bw(this.opacity);return`${t===1?"rgb(":"rgba("}${Ed(this.r)}, ${Ed(this.g)}, ${Ed(this.b)}${t===1?")":`, ${t})`}`}function Bw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ed(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xd(t){return t=Ed(t),(t<16?"0":"")+t.toString(16)}function jz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sa(t,e,n,r)}function rte(t){if(t instanceof Sa)return new Sa(t.h,t.s,t.l,t.opacity);if(t instanceof tv||(t=Ky(t)),!t)return new Sa;if(t instanceof Sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Sa(o,l,c,t.opacity)}function zPe(t,e,n,r){return arguments.length===1?rte(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BM(Sa,zPe,nte(tv,{brighter(t){return t=t==null?Vw:Math.pow(Vw,t),new Sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wy:Math.pow(Wy,t),new Sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gi(pE(t>=240?t-240:t+120,i,r),pE(t,i,r),pE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sa(Sz(this.h),e0(this.s),e0(this.l),Bw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bw(this.opacity);return`${t===1?"hsl(":"hsla("}${Sz(this.h)}, ${e0(this.s)*100}%, ${e0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sz(t){return t=(t||0)%360,t<0?t+360:t}function e0(t){return Math.max(0,Math.min(1,t||0))}function pE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const UM=t=>()=>t;function qPe(t,e){return function(n){return t+n*e}}function HPe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WPe(t){return(t=+t)==1?ite:function(e,n){return n-e?HPe(e,n,t):UM(isNaN(e)?n:e)}}function ite(t,e){var n=e-t;return n?qPe(t,n):UM(isNaN(t)?e:t)}const Nz=function t(e){var n=WPe(e);function r(i,s){var o=n((i=NP(i)).r,(s=NP(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=ite(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function GPe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function KPe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YPe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=gp(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function XPe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Uw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function QPe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gp(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var _P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gE=new RegExp(_P.source,"g");function JPe(t){return function(){return t}}function ZPe(t){return function(e){return t(e)+""}}function eIe(t,e){var n=_P.lastIndex=gE.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=_P.exec(t))&&(i=gE.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Uw(r,i)})),n=gE.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?ZPe(c[0].x):JPe(e):(e=c.length,function(u){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}function gp(t,e){var n=typeof e,r;return e==null||n==="boolean"?UM(e):(n==="number"?Uw:n==="string"?(r=Ky(e))?(e=r,Nz):eIe:e instanceof Ky?Nz:e instanceof Date?XPe:KPe(e)?GPe:Array.isArray(e)?YPe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QPe:Uw)(t,e)}function zM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function tIe(t,e){e===void 0&&(e=t,t=gp);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function nIe(t){return function(){return t}}function zw(t){return+t}var _z=[0,1];function Ti(t){return t}function kP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:nIe(isNaN(e)?NaN:.5)}function rIe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function iIe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=kP(i,r),s=n(o,s)):(r=kP(r,i),s=n(s,o)),function(l){return s(r(l))}}function sIe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=kP(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=ev(t,l,1,r)-1;return s[c](i[c](l))}}function nv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iS(){var t=_z,e=_z,n=gp,r,i,s,o=Ti,l,c,u;function f(){var p=Math.min(t.length,e.length);return o!==Ti&&(o=rIe(t[0],t[p-1])),l=p>2?sIe:iIe,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(r),e,n)))(r(o(p)))}return h.invert=function(p){return o(i((u||(u=l(e,t.map(r),Uw)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,zw),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=zM,f()},h.clamp=function(p){return arguments.length?(o=p?!0:Ti,f()):o!==Ti},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,g){return r=p,i=g,f()}}function qM(){return iS()(Ti,Ti)}function aIe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nm(t){return t=qw(Math.abs(t)),t?t[1]:NaN}function oIe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function lIe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var cIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yy(t){if(!(e=cIe.exec(t)))throw new Error("invalid format: "+t);var e;return new HM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yy.prototype=HM.prototype;function HM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}HM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uIe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ste;function dIe(t,e){var n=qw(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(ste=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+qw(t,Math.max(0,e+s-1))[0]}function kz(t,e){var n=qw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Az={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aIe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kz(t*100,e),r:kz,s:dIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cz(t){return t}var Ez=Array.prototype.map,Tz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fIe(t){var e=t.grouping===void 0||t.thousands===void 0?Cz:oIe(Ez.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Cz:lIe(Ez.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Yy(h);var p=h.fill,g=h.align,v=h.sign,y=h.symbol,b=h.zero,S=h.width,N=h.comma,k=h.precision,E=h.trim,A=h.type;A==="n"?(N=!0,A="g"):Az[A]||(k===void 0&&(k=12),E=!0,A="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=y==="$"?r:/[%p]/.test(A)?o:"",I=Az[A],P=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function M(L){var D=C,R=T,V,q,H;if(A==="c")R=I(L)+R,L="";else{L=+L;var Y=L<0||1/L<0;if(L=isNaN(L)?c:I(Math.abs(L),k),E&&(L=uIe(L)),Y&&+L==0&&v!=="+"&&(Y=!1),D=(Y?v==="("?v:l:v==="-"||v==="("?"":v)+D,R=(A==="s"?Tz[8+ste/3]:"")+R+(Y&&v==="("?")":""),P){for(V=-1,q=L.length;++V<q;)if(H=L.charCodeAt(V),48>H||H>57){R=(H===46?i+L.slice(V+1):L.slice(V))+R,L=L.slice(0,V);break}}}N&&!b&&(L=e(L,1/0));var K=D.length+L.length+R.length,Z=K<S?new Array(S-K+1).join(p):"";switch(N&&b&&(L=e(Z+L,Z.length?S-R.length:1/0),Z=""),g){case"<":L=D+L+R+Z;break;case"=":L=D+Z+L+R;break;case"^":L=Z.slice(0,K=Z.length>>1)+D+L+R+Z.slice(K);break;default:L=Z+D+L+R;break}return s(L)}return M.toString=function(){return h+""},M}function f(h,p){var g=u((h=Yy(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Nm(p)/3)))*3,y=Math.pow(10,-v),b=Tz[8+v/3];return function(S){return g(y*S)+b}}return{format:u,formatPrefix:f}}var t0,WM,ate;hIe({thousands:",",grouping:[3],currency:["$",""]});function hIe(t){return t0=fIe(t),WM=t0.format,ate=t0.formatPrefix,t0}function mIe(t){return Math.max(0,-Nm(Math.abs(t)))}function pIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nm(e)/3)))*3-Nm(Math.abs(t)))}function gIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nm(e)-Nm(t))+1}function ote(t,e,n,r){var i=jP(t,e,n),s;switch(r=Yy(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=pIe(i,o))&&(r.precision=s),ate(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=gIe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=mIe(i))&&(r.precision=s-(r.type==="%")*2);break}}return WM(r)}function ju(t){var e=t.domain;return t.ticks=function(n){var r=e();return bP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ote(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=wP(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Hw(){var t=qM();return t.copy=function(){return nv(t,Hw())},Ys.apply(t,arguments),ju(t)}function lte(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lte(t).unknown(e)},t=arguments.length?Array.from(t,zw):[0,1],ju(n)}function cte(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Pz(t){return Math.log(t)}function Iz(t){return Math.exp(t)}function yIe(t){return-Math.log(-t)}function xIe(t){return-Math.exp(-t)}function vIe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bIe(t){return t===10?vIe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wIe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Rz(t){return(e,n)=>-t(-e,n)}function GM(t){const e=t(Pz,Iz),n=e.domain;let r=10,i,s;function o(){return i=wIe(r),s=bIe(r),n()[0]<0?(i=Rz(i),s=Rz(s),t(yIe,xIe)):t(Pz,Iz),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),g=i(f),v,y;const b=l==null?10:+l;let S=[];if(!(r%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(v=1;v<r;++v)if(y=p<0?v/s(-p):v*s(p),!(y<u)){if(y>f)break;S.push(y)}}else for(;p<=g;++p)for(v=r-1;v>=1;--v)if(y=p>0?v/s(-p):v*s(p),!(y<u)){if(y>f)break;S.push(y)}S.length*2<b&&(S=bP(u,f,b))}else S=bP(p,g,Math.min(g-p,b)).map(s);return h?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Yy(c)).precision==null&&(c.trim=!0),c=WM(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?c(f):""}},e.nice=()=>n(cte(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function ute(){const t=GM(iS()).domain([1,10]);return t.copy=()=>nv(t,ute()).base(t.base()),Ys.apply(t,arguments),t}function Oz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Mz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KM(t){var e=1,n=t(Oz(e),Mz(e));return n.constant=function(r){return arguments.length?t(Oz(e=+r),Mz(e)):e},ju(n)}function dte(){var t=KM(iS());return t.copy=function(){return nv(t,dte()).constant(t.constant())},Ys.apply(t,arguments)}function Dz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jIe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SIe(t){return t<0?-t*t:t*t}function YM(t){var e=t(Ti,Ti),n=1;function r(){return n===1?t(Ti,Ti):n===.5?t(jIe,SIe):t(Dz(n),Dz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ju(e)}function XM(){var t=YM(iS());return t.copy=function(){return nv(t,XM()).exponent(t.exponent())},Ys.apply(t,arguments),t}function NIe(){return XM.apply(null,arguments).exponent(.5)}function Lz(t){return Math.sign(t)*t*t}function _Ie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fte(){var t=qM(),e=[0,1],n=!1,r;function i(s){var o=_Ie(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(Lz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,zw)).map(Lz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return fte(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ys.apply(i,arguments),ju(i)}function hte(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=TPe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[ev(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Gc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return hte().domain(t).range(e).unknown(r)},Ys.apply(s,arguments)}function mte(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[ev(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return mte().domain([t,e]).range(i).unknown(s)},Ys.apply(ju(o),arguments)}function pte(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[ev(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return pte().domain(t).range(e).unknown(n)},Ys.apply(i,arguments)}const yE=new Date,xE=new Date;function Ar(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Ar(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(yE.setTime(+s),xE.setTime(+o),t(yE),t(xE),Math.floor(n(yE,xE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Ww=Ar(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ww.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ar(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ww);Ww.range;const gl=1e3,zs=gl*60,yl=zs*60,Ml=yl*24,QM=Ml*7,Fz=Ml*30,vE=Ml*365,vd=Ar(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getUTCSeconds());vd.range;const JM=Ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gl)},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getMinutes());JM.range;const ZM=Ar(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getUTCMinutes());ZM.range;const eD=Ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gl-t.getMinutes()*zs)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getHours());eD.range;const tD=Ar(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCHours());tD.range;const rv=Ar(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zs)/Ml,t=>t.getDate()-1);rv.range;const sS=Ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ml,t=>t.getUTCDate()-1);sS.range;const gte=Ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ml,t=>Math.floor(t/Ml));gte.range;function gf(t){return Ar(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zs)/QM)}const aS=gf(0),Gw=gf(1),kIe=gf(2),AIe=gf(3),_m=gf(4),CIe=gf(5),EIe=gf(6);aS.range;Gw.range;kIe.range;AIe.range;_m.range;CIe.range;EIe.range;function yf(t){return Ar(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/QM)}const oS=yf(0),Kw=yf(1),TIe=yf(2),PIe=yf(3),km=yf(4),IIe=yf(5),RIe=yf(6);oS.range;Kw.range;TIe.range;PIe.range;km.range;IIe.range;RIe.range;const nD=Ar(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nD.range;const rD=Ar(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rD.range;const Dl=Ar(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ar(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Dl.range;const Ll=Ar(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ll.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ar(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ll.range;function yte(t,e,n,r,i,s){const o=[[vd,1,gl],[vd,5,5*gl],[vd,15,15*gl],[vd,30,30*gl],[s,1,zs],[s,5,5*zs],[s,15,15*zs],[s,30,30*zs],[i,1,yl],[i,3,3*yl],[i,6,6*yl],[i,12,12*yl],[r,1,Ml],[r,2,2*Ml],[n,1,QM],[e,1,Fz],[e,3,3*Fz],[t,1,vE]];function l(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const g=h&&typeof h.range=="function"?h:c(u,f,h),v=g?g.range(u,+f+1):[];return p?v.reverse():v}function c(u,f,h){const p=Math.abs(f-u)/h,g=$M(([,,b])=>b).right(o,p);if(g===o.length)return t.every(jP(u/vE,f/vE,h));if(g===0)return Ww.every(Math.max(jP(u,f,h),1));const[v,y]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(y)}return[l,c]}const[OIe,MIe]=yte(Ll,rD,oS,gte,tD,ZM),[DIe,LIe]=yte(Dl,nD,aS,rv,eD,JM);function bE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function FIe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=mg(i),f=pg(i),h=mg(s),p=pg(s),g=mg(o),v=pg(o),y=mg(l),b=pg(l),S=mg(c),N=pg(c),k={a:Y,A:K,b:Z,B:U,c:null,d:qz,e:qz,f:oRe,g:yRe,G:vRe,H:iRe,I:sRe,j:aRe,L:xte,m:lRe,M:cRe,p:W,q:Q,Q:Gz,s:Kz,S:uRe,u:dRe,U:fRe,V:hRe,w:mRe,W:pRe,x:null,X:null,y:gRe,Y:xRe,Z:bRe,"%":Wz},E={a:B,A:se,b:ue,B:pe,c:null,d:Hz,e:Hz,f:NRe,g:ORe,G:DRe,H:wRe,I:jRe,j:SRe,L:bte,m:_Re,M:kRe,p:ne,q:ae,Q:Gz,s:Kz,S:ARe,u:CRe,U:ERe,V:TRe,w:PRe,W:IRe,x:null,X:null,y:RRe,Y:MRe,Z:LRe,"%":Wz},A={a:M,A:L,b:D,B:R,c:V,d:Uz,e:Uz,f:eRe,g:Bz,G:Vz,H:zz,I:zz,j:XIe,L:ZIe,m:YIe,M:QIe,p:P,q:KIe,Q:nRe,s:rRe,S:JIe,u:zIe,U:qIe,V:HIe,w:UIe,W:WIe,x:q,X:H,y:Bz,Y:Vz,Z:GIe,"%":tRe};k.x=C(n,k),k.X=C(r,k),k.c=C(e,k),E.x=C(n,E),E.X=C(r,E),E.c=C(e,E);function C(ie,ce){return function(ge){var le=[],Ne=-1,$e=0,ot=ie.length,Ae,Ke,Nt;for(ge instanceof Date||(ge=new Date(+ge));++Ne<ot;)ie.charCodeAt(Ne)===37&&(le.push(ie.slice($e,Ne)),(Ke=$z[Ae=ie.charAt(++Ne)])!=null?Ae=ie.charAt(++Ne):Ke=Ae==="e"?" ":"0",(Nt=ce[Ae])&&(Ae=Nt(ge,Ke)),le.push(Ae),$e=Ne+1);return le.push(ie.slice($e,Ne)),le.join("")}}function T(ie,ce){return function(ge){var le=hg(1900,void 0,1),Ne=I(le,ie,ge+="",0),$e,ot;if(Ne!=ge.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ce&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?($e=wE(hg(le.y,0,1)),ot=$e.getUTCDay(),$e=ot>4||ot===0?Kw.ceil($e):Kw($e),$e=sS.offset($e,(le.V-1)*7),le.y=$e.getUTCFullYear(),le.m=$e.getUTCMonth(),le.d=$e.getUTCDate()+(le.w+6)%7):($e=bE(hg(le.y,0,1)),ot=$e.getDay(),$e=ot>4||ot===0?Gw.ceil($e):Gw($e),$e=rv.offset($e,(le.V-1)*7),le.y=$e.getFullYear(),le.m=$e.getMonth(),le.d=$e.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ot="Z"in le?wE(hg(le.y,0,1)).getUTCDay():bE(hg(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ot+5)%7:le.w+le.U*7-(ot+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,wE(le)):bE(le)}}function I(ie,ce,ge,le){for(var Ne=0,$e=ce.length,ot=ge.length,Ae,Ke;Ne<$e;){if(le>=ot)return-1;if(Ae=ce.charCodeAt(Ne++),Ae===37){if(Ae=ce.charAt(Ne++),Ke=A[Ae in $z?ce.charAt(Ne++):Ae],!Ke||(le=Ke(ie,ge,le))<0)return-1}else if(Ae!=ge.charCodeAt(le++))return-1}return le}function P(ie,ce,ge){var le=u.exec(ce.slice(ge));return le?(ie.p=f.get(le[0].toLowerCase()),ge+le[0].length):-1}function M(ie,ce,ge){var le=g.exec(ce.slice(ge));return le?(ie.w=v.get(le[0].toLowerCase()),ge+le[0].length):-1}function L(ie,ce,ge){var le=h.exec(ce.slice(ge));return le?(ie.w=p.get(le[0].toLowerCase()),ge+le[0].length):-1}function D(ie,ce,ge){var le=S.exec(ce.slice(ge));return le?(ie.m=N.get(le[0].toLowerCase()),ge+le[0].length):-1}function R(ie,ce,ge){var le=y.exec(ce.slice(ge));return le?(ie.m=b.get(le[0].toLowerCase()),ge+le[0].length):-1}function V(ie,ce,ge){return I(ie,e,ce,ge)}function q(ie,ce,ge){return I(ie,n,ce,ge)}function H(ie,ce,ge){return I(ie,r,ce,ge)}function Y(ie){return o[ie.getDay()]}function K(ie){return s[ie.getDay()]}function Z(ie){return c[ie.getMonth()]}function U(ie){return l[ie.getMonth()]}function W(ie){return i[+(ie.getHours()>=12)]}function Q(ie){return 1+~~(ie.getMonth()/3)}function B(ie){return o[ie.getUTCDay()]}function se(ie){return s[ie.getUTCDay()]}function ue(ie){return c[ie.getUTCMonth()]}function pe(ie){return l[ie.getUTCMonth()]}function ne(ie){return i[+(ie.getUTCHours()>=12)]}function ae(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ce=C(ie+="",k);return ce.toString=function(){return ie},ce},parse:function(ie){var ce=T(ie+="",!1);return ce.toString=function(){return ie},ce},utcFormat:function(ie){var ce=C(ie+="",E);return ce.toString=function(){return ie},ce},utcParse:function(ie){var ce=T(ie+="",!0);return ce.toString=function(){return ie},ce}}}var $z={"-":"",_:" ",0:"0"},$r=/^\s*\d+/,$Ie=/^%/,VIe=/[\\^$*+?|[\]().{}]/g;function en(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function BIe(t){return t.replace(VIe,"\\$&")}function mg(t){return new RegExp("^(?:"+t.map(BIe).join("|")+")","i")}function pg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function UIe(t,e,n){var r=$r.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zIe(t,e,n){var r=$r.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qIe(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function HIe(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function WIe(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vz(t,e,n){var r=$r.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bz(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GIe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KIe(t,e,n){var r=$r.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function YIe(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Uz(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function XIe(t,e,n){var r=$r.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zz(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function QIe(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function JIe(t,e,n){var r=$r.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ZIe(t,e,n){var r=$r.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eRe(t,e,n){var r=$r.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tRe(t,e,n){var r=$Ie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nRe(t,e,n){var r=$r.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rRe(t,e,n){var r=$r.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qz(t,e){return en(t.getDate(),e,2)}function iRe(t,e){return en(t.getHours(),e,2)}function sRe(t,e){return en(t.getHours()%12||12,e,2)}function aRe(t,e){return en(1+rv.count(Dl(t),t),e,3)}function xte(t,e){return en(t.getMilliseconds(),e,3)}function oRe(t,e){return xte(t,e)+"000"}function lRe(t,e){return en(t.getMonth()+1,e,2)}function cRe(t,e){return en(t.getMinutes(),e,2)}function uRe(t,e){return en(t.getSeconds(),e,2)}function dRe(t){var e=t.getDay();return e===0?7:e}function fRe(t,e){return en(aS.count(Dl(t)-1,t),e,2)}function vte(t){var e=t.getDay();return e>=4||e===0?_m(t):_m.ceil(t)}function hRe(t,e){return t=vte(t),en(_m.count(Dl(t),t)+(Dl(t).getDay()===4),e,2)}function mRe(t){return t.getDay()}function pRe(t,e){return en(Gw.count(Dl(t)-1,t),e,2)}function gRe(t,e){return en(t.getFullYear()%100,e,2)}function yRe(t,e){return t=vte(t),en(t.getFullYear()%100,e,2)}function xRe(t,e){return en(t.getFullYear()%1e4,e,4)}function vRe(t,e){var n=t.getDay();return t=n>=4||n===0?_m(t):_m.ceil(t),en(t.getFullYear()%1e4,e,4)}function bRe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+en(e/60|0,"0",2)+en(e%60,"0",2)}function Hz(t,e){return en(t.getUTCDate(),e,2)}function wRe(t,e){return en(t.getUTCHours(),e,2)}function jRe(t,e){return en(t.getUTCHours()%12||12,e,2)}function SRe(t,e){return en(1+sS.count(Ll(t),t),e,3)}function bte(t,e){return en(t.getUTCMilliseconds(),e,3)}function NRe(t,e){return bte(t,e)+"000"}function _Re(t,e){return en(t.getUTCMonth()+1,e,2)}function kRe(t,e){return en(t.getUTCMinutes(),e,2)}function ARe(t,e){return en(t.getUTCSeconds(),e,2)}function CRe(t){var e=t.getUTCDay();return e===0?7:e}function ERe(t,e){return en(oS.count(Ll(t)-1,t),e,2)}function wte(t){var e=t.getUTCDay();return e>=4||e===0?km(t):km.ceil(t)}function TRe(t,e){return t=wte(t),en(km.count(Ll(t),t)+(Ll(t).getUTCDay()===4),e,2)}function PRe(t){return t.getUTCDay()}function IRe(t,e){return en(Kw.count(Ll(t)-1,t),e,2)}function RRe(t,e){return en(t.getUTCFullYear()%100,e,2)}function ORe(t,e){return t=wte(t),en(t.getUTCFullYear()%100,e,2)}function MRe(t,e){return en(t.getUTCFullYear()%1e4,e,4)}function DRe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?km(t):km.ceil(t),en(t.getUTCFullYear()%1e4,e,4)}function LRe(){return"+0000"}function Wz(){return"%"}function Gz(t){return+t}function Kz(t){return Math.floor(+t/1e3)}var ch,jte,Ste;FRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FRe(t){return ch=FIe(t),jte=ch.format,ch.parse,Ste=ch.utcFormat,ch.utcParse,ch}function $Re(t){return new Date(t)}function VRe(t){return t instanceof Date?+t:+new Date(+t)}function iD(t,e,n,r,i,s,o,l,c,u){var f=qM(),h=f.invert,p=f.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),S=u("%a %d"),N=u("%b %d"),k=u("%B"),E=u("%Y");function A(C){return(c(C)<C?g:l(C)<C?v:o(C)<C?y:s(C)<C?b:r(C)<C?i(C)<C?S:N:n(C)<C?k:E)(C)}return f.invert=function(C){return new Date(h(C))},f.domain=function(C){return arguments.length?p(Array.from(C,VRe)):p().map($Re)},f.ticks=function(C){var T=p();return t(T[0],T[T.length-1],C??10)},f.tickFormat=function(C,T){return T==null?A:u(T)},f.nice=function(C){var T=p();return(!C||typeof C.range!="function")&&(C=e(T[0],T[T.length-1],C??10)),C?p(cte(T,C)):f},f.copy=function(){return nv(f,iD(t,e,n,r,i,s,o,l,c,u))},f}function BRe(){return Ys.apply(iD(DIe,LIe,Dl,nD,aS,rv,eD,JM,vd,jte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function URe(){return Ys.apply(iD(OIe,MIe,Ll,rD,oS,sS,tD,ZM,vd,Ste).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lS(){var t=0,e=1,n,r,i,s,o=Ti,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(p){var g,v;return arguments.length?([g,v]=p,o=h(g,v),u):[o(0),o(1)]}}return u.range=f(gp),u.rangeRound=f(zM),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Su(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Nte(){var t=ju(lS()(Ti));return t.copy=function(){return Su(t,Nte())},zl.apply(t,arguments)}function _te(){var t=GM(lS()).domain([1,10]);return t.copy=function(){return Su(t,_te()).base(t.base())},zl.apply(t,arguments)}function kte(){var t=KM(lS());return t.copy=function(){return Su(t,kte()).constant(t.constant())},zl.apply(t,arguments)}function sD(){var t=YM(lS());return t.copy=function(){return Su(t,sD()).exponent(t.exponent())},zl.apply(t,arguments)}function zRe(){return sD.apply(null,arguments).exponent(.5)}function Ate(){var t=[],e=Ti;function n(r){if(r!=null&&!isNaN(r=+r))return e((ev(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>EPe(t,s/r))},n.copy=function(){return Ate(e).domain(t)},zl.apply(n,arguments)}function cS(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=Ti,f,h=!1,p;function g(y){return isNaN(y=+y)?p:(y=.5+((y=+f(y))-s)*(r*y<r*s?l:c),u(h?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=f(t=+t),s=f(e=+e),o=f(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(h=!!y,g):h},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(b){var S,N,k;return arguments.length?([S,N,k]=b,u=tIe(y,[S,N,k]),g):[u(0),u(.5),u(1)]}}return g.range=v(gp),g.rangeRound=v(zM),g.unknown=function(y){return arguments.length?(p=y,g):p},function(y){return f=y,i=y(t),s=y(e),o=y(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function Cte(){var t=ju(cS()(Ti));return t.copy=function(){return Su(t,Cte())},zl.apply(t,arguments)}function Ete(){var t=GM(cS()).domain([.1,1,10]);return t.copy=function(){return Su(t,Ete()).base(t.base())},zl.apply(t,arguments)}function Tte(){var t=KM(cS());return t.copy=function(){return Su(t,Tte()).constant(t.constant())},zl.apply(t,arguments)}function aD(){var t=YM(cS());return t.copy=function(){return Su(t,aD()).exponent(t.exponent())},zl.apply(t,arguments)}function qRe(){return aD.apply(null,arguments).exponent(.5)}const Yz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hy,scaleDiverging:Cte,scaleDivergingLog:Ete,scaleDivergingPow:aD,scaleDivergingSqrt:qRe,scaleDivergingSymlog:Tte,scaleIdentity:lte,scaleImplicit:SP,scaleLinear:Hw,scaleLog:ute,scaleOrdinal:VM,scalePoint:ty,scalePow:XM,scaleQuantile:hte,scaleQuantize:mte,scaleRadial:fte,scaleSequential:Nte,scaleSequentialLog:_te,scaleSequentialPow:sD,scaleSequentialQuantile:Ate,scaleSequentialSqrt:zRe,scaleSequentialSymlog:kte,scaleSqrt:NIe,scaleSymlog:dte,scaleThreshold:pte,scaleTime:BRe,scaleUtc:URe,tickFormat:ote},Symbol.toStringTag,{value:"Module"}));var jE,Xz;function uS(){if(Xz)return jE;Xz=1;var t=fp();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var l=n[s],c=r(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,f=l}return f}return jE=e,jE}var SE,Qz;function Pte(){if(Qz)return SE;Qz=1;function t(e,n){return e>n}return SE=t,SE}var NE,Jz;function HRe(){if(Jz)return NE;Jz=1;var t=uS(),e=Pte(),n=pp();function r(i){return i&&i.length?t(i,n,e):void 0}return NE=r,NE}var WRe=HRe();const Fc=tn(WRe);var _E,Zz;function Ite(){if(Zz)return _E;Zz=1;function t(e,n){return e<n}return _E=t,_E}var kE,e8;function GRe(){if(e8)return kE;e8=1;var t=uS(),e=Ite(),n=pp();function r(i){return i&&i.length?t(i,n,e):void 0}return kE=r,kE}var KRe=GRe();const dS=tn(KRe);var AE,t8;function YRe(){if(t8)return AE;t8=1;var t=jM(),e=Uo(),n=Vee(),r=Ji();function i(s,o){var l=r(s)?t:n;return l(s,e(o,3))}return AE=i,AE}var CE,n8;function XRe(){if(n8)return CE;n8=1;var t=Fee(),e=YRe();function n(r,i){return t(e(r,i),1)}return CE=n,CE}var QRe=XRe();const JRe=tn(QRe);var EE,r8;function ZRe(){if(r8)return EE;r8=1;var t=MM();function e(n,r){return t(n,r)}return EE=e,EE}var eOe=ZRe();const Xd=tn(eOe);var yp=1e9,tOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lD,Ln=!0,Ks="[DecimalError] ",Td=Ks+"Invalid argument: ",oD=Ks+"Exponent out of range: ",xp=Math.floor,ad=Math.pow,nOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gs,Mr=1e7,Tn=7,Rte=9007199254740991,Yw=xp(Rte/Tn),We={};We.absoluteValue=We.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};We.comparedTo=We.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};We.decimalPlaces=We.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(t){return _l(this,new this.constructor(t))};We.dividedToIntegerBy=We.idiv=function(t){var e=this,n=e.constructor;return pn(_l(e,new n(t),0,1),n.precision)};We.equals=We.eq=function(t){return!this.cmp(t)};We.exponent=function(){return yr(this)};We.greaterThan=We.gt=function(t){return this.cmp(t)>0};We.greaterThanOrEqualTo=We.gte=function(t){return this.cmp(t)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(t){return this.cmp(t)<0};We.lessThanOrEqualTo=We.lte=function(t){return this.cmp(t)<1};We.logarithm=We.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(gs))throw Error(Ks+"NaN");if(n.s<1)throw Error(Ks+(n.s?"NaN":"-Infinity"));return n.eq(gs)?new r(0):(Ln=!1,e=_l(Xy(n,s),Xy(t,s),s),Ln=!0,pn(e,i))};We.minus=We.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Dte(e,t):Ote(e,(t.s=-t.s,t))};We.modulo=We.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ks+"NaN");return n.s?(Ln=!1,e=_l(n,t,0,1).times(t),Ln=!0,n.minus(e)):pn(new r(n),i)};We.naturalExponential=We.exp=function(){return Mte(this)};We.naturalLogarithm=We.ln=function(){return Xy(this)};We.negated=We.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};We.plus=We.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ote(e,t):Dte(e,(t.s=-t.s,t))};We.precision=We.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Td+t);if(e=yr(i)+1,r=i.d.length-1,n=r*Tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};We.squareRoot=We.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ks+"NaN")}for(t=yr(l),Ln=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=mo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=xp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(_l(l,s,o+2)).times(.5),mo(s.d).slice(0,o)===(e=mo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pn(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return Ln=!0,pn(r,n)};We.times=We.mul=function(t){var e,n,r,i,s,o,l,c,u,f=this,h=f.constructor,p=f.d,g=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,u=g.length,c<u&&(s=p,p=g,g=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+g[r]*p[i-r-1]+e,s[i--]=l%Mr|0,e=l/Mr|0;s[i]=(s[i]+e)%Mr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ln?pn(t,h.precision):t};We.toDecimalPlaces=We.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Do(t,0,yp),e===void 0?e=r.rounding:Do(e,0,8),pn(n,t+yr(n)+1,e))};We.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Qd(r,!0):(Do(t,0,yp),e===void 0?e=i.rounding:Do(e,0,8),r=pn(new i(r),t+1,e),n=Qd(r,!0,t+1)),n};We.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Qd(i):(Do(t,0,yp),e===void 0?e=s.rounding:Do(e,0,8),r=pn(new s(i),t+yr(i)+1,e),n=Qd(r.abs(),!1,t+yr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var t=this,e=t.constructor;return pn(new e(t),yr(t)+1,e.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(gs);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ks+"Infinity");return l}if(l.eq(gs))return l;if(r=c.precision,t.eq(gs))return pn(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=f<0?-f:f)<=Rte){for(i=new c(gs),e=Math.ceil(r/Tn+4),Ln=!1;n%2&&(i=i.times(l),s8(i.d,e)),n=xp(n/2),n!==0;)l=l.times(l),s8(l.d,e);return Ln=!0,t.s<0?new c(gs).div(i):pn(i,r)}}else if(s<0)throw Error(Ks+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ln=!1,i=t.times(Xy(l,r+u)),Ln=!0,i=Mte(i),i.s=s,i};We.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=yr(i),r=Qd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Do(t,1,yp),e===void 0?e=s.rounding:Do(e,0,8),i=pn(new s(i),t,e),n=yr(i),r=Qd(i,t<=n||n<=s.toExpNeg,t)),r};We.toSignificantDigits=We.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Do(t,1,yp),e===void 0?e=r.rounding:Do(e,0,8)),pn(new r(n),t,e)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yr(t),n=t.constructor;return Qd(t,e<=n.toExpNeg||e>=n.toExpPos)};function Ote(t,e){var n,r,i,s,o,l,c,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Ln?pn(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(h/Tn),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Mr|0,c[s]%=Mr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ln?pn(e,h):e}function Do(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Td+t)}function mo(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Tn-r.length,n&&(s+=_c(n)),s+=r;o=t[e],r=o+"",n=Tn-r.length,n&&(s+=_c(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var _l=function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%Mr|0,o=s/Mr|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Mr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,f,h,p,g,v,y,b,S,N,k,E,A,C,T,I,P=r.constructor,M=r.s==i.s?1:-1,L=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ks+"Division by zero");for(c=r.e-i.e,T=D.length,A=L.length,g=new P(M),v=g.d=[],u=0;D[u]==(L[u]||0);)++u;if(D[u]>(L[u]||0)&&--c,s==null?N=s=P.precision:o?N=s+(yr(r)-yr(i))+1:N=s,N<0)return new P(0);if(N=N/Tn+2|0,u=0,T==1)for(f=0,D=D[0],N++;(u<A||f)&&N--;u++)k=f*Mr+(L[u]||0),v[u]=k/D|0,f=k%D|0;else{for(f=Mr/(D[0]+1)|0,f>1&&(D=t(D,f),L=t(L,f),T=D.length,A=L.length),E=T,y=L.slice(0,T),b=y.length;b<T;)y[b++]=0;I=D.slice(),I.unshift(0),C=D[0],D[1]>=Mr/2&&++C;do f=0,l=e(D,y,T,b),l<0?(S=y[0],T!=b&&(S=S*Mr+(y[1]||0)),f=S/C|0,f>1?(f>=Mr&&(f=Mr-1),h=t(D,f),p=h.length,b=y.length,l=e(h,y,p,b),l==1&&(f--,n(h,T<p?I:D,p))):(f==0&&(l=f=1),h=D.slice()),p=h.length,p<b&&h.unshift(0),n(y,h,b),l==-1&&(b=y.length,l=e(D,y,T,b),l<1&&(f++,n(y,T<b?I:D,b))),b=y.length):l===0&&(f++,y=[0]),v[u++]=f,l&&y[0]?y[b++]=L[E]||0:(y=[L[E]],b=1);while((E++<A||y[0]!==void 0)&&N--)}return v[0]||v.shift(),g.e=c,pn(g,o?s+yr(g)+1:s)}}();function Mte(t,e){var n,r,i,s,o,l,c=0,u=0,f=t.constructor,h=f.precision;if(yr(t)>16)throw Error(oD+yr(t));if(!t.s)return new f(gs);for(Ln=!1,l=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(ad(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new f(gs),f.precision=l;;){if(i=pn(i.times(t),l),n=n.times(++c),o=s.plus(_l(i,n,l)),mo(o.d).slice(0,l)===mo(s.d).slice(0,l)){for(;u--;)s=pn(s.times(s),l);return f.precision=h,e==null?(Ln=!0,pn(s,h)):s}s=o}}function yr(t){for(var e=t.e*Tn,n=t.d[0];n>=10;n/=10)e++;return e}function TE(t,e,n){if(e>t.LN10.sd())throw Ln=!0,n&&(t.precision=n),Error(Ks+"LN10 precision limit exceeded");return pn(new t(t.LN10),e)}function _c(t){for(var e="";t--;)e+="0";return e}function Xy(t,e){var n,r,i,s,o,l,c,u,f,h=1,p=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Ks+(g.s?"NaN":"-Infinity"));if(g.eq(gs))return new y(0);if(e==null?(Ln=!1,u=b):u=e,g.eq(10))return e==null&&(Ln=!0),TE(y,u);if(u+=p,y.precision=u,n=mo(v),r=n.charAt(0),s=yr(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=mo(g.d),r=n.charAt(0),h++;s=yr(g),r>1?(g=new y("0."+n),s++):g=new y(r+"."+n.slice(1))}else return c=TE(y,u+2,b).times(s+""),g=Xy(new y(r+"."+n.slice(1)),u-p).plus(c),y.precision=b,e==null?(Ln=!0,pn(g,b)):g;for(l=o=g=_l(g.minus(gs),g.plus(gs),u),f=pn(g.times(g),u),i=3;;){if(o=pn(o.times(f),u),c=l.plus(_l(o,new y(i),u)),mo(c.d).slice(0,u)===mo(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(TE(y,u+2,b).times(s+""))),l=_l(l,new y(h),u),y.precision=b,e==null?(Ln=!0,pn(l,b)):l;l=c,i+=2}}function i8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=xp(n/Tn),t.d=[],r=(n+1)%Tn,n<0&&(r+=Tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Tn;r<i;)t.d.push(+e.slice(r,r+=Tn));e=e.slice(r),r=Tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ln&&(t.e>Yw||t.e<-Yw))throw Error(oD+n)}else t.s=0,t.e=0,t.d=[0];return t}function pn(t,e,n){var r,i,s,o,l,c,u,f,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Tn,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/Tn),s=h.length,f>=s)return t;for(u=s=h[f],o=1;s>=10;s/=10)o++;r%=Tn,i=r-Tn+o}if(n!==void 0&&(s=ad(10,o-i-1),l=u/s%10|0,c=e<0||h[f+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/ad(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(s=yr(t),h.length=1,e=e-s-1,h[0]=ad(10,(Tn-e%Tn)%Tn),t.e=xp(-e/Tn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,s=1,f--):(h.length=f+1,s=ad(10,Tn-r),h[f]=i>0?(u/ad(10,o-i)%ad(10,i)|0)*s:0),c)for(;;)if(f==0){(h[0]+=s)==Mr&&(h[0]=1,++t.e);break}else{if(h[f]+=s,h[f]!=Mr)break;h[f--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Ln&&(t.e>Yw||t.e<-Yw))throw Error(oD+yr(t));return t}function Dte(t,e){var n,r,i,s,o,l,c,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Ln?pn(e,g):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(f=o<0,f?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(g/Tn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=Mr-1;--c[s],c[i]+=Mr}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ln?pn(e,g):e):new p(0)}function Qd(t,e,n){var r,i=yr(t),s=mo(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+_c(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+_c(-i-1)+s,n&&(r=n-o)>0&&(s+=_c(r))):i>=o?(s+=_c(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+_c(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=_c(r))),t.s<0?"-"+s:s}function s8(t,e){if(t.length>e)return t.length=e,!0}function Lte(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Td+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return i8(o,s.toString())}else if(typeof s!="string")throw Error(Td+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,nOe.test(s))i8(o,s);else throw Error(Td+s)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Lte,i.config=i.set=rOe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rOe(t){if(!t||typeof t!="object")throw Error(Ks+"Object expected");var e,n,r,i=["precision",1,yp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(xp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Td+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Td+n+": "+r);return this}var lD=Lte(tOe);gs=new lD(1);const hn=lD;function iOe(t){return lOe(t)||oOe(t)||aOe(t)||sOe()}function sOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aOe(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function oOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lOe(t){if(Array.isArray(t))return AP(t)}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cOe=function(e){return e},Fte={},$te=function(e){return e===Fte},a8=function(e){return function n(){return arguments.length===0||arguments.length===1&&$te(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uOe=function t(e,n){return e===1?n:a8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==Fte}).length;return o>=e?n.apply(void 0,i):t(e-o,a8(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(h){return $te(h)?c.shift():h});return n.apply(void 0,iOe(f).concat(c))}))})},fS=function(e){return uOe(e.length,e)},CP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},dOe=fS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fOe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cOe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},EP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Vte=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function hOe(t){var e;return t===0?e=1:e=Math.floor(new hn(t).abs().log(10).toNumber())+1,e}function mOe(t,e,n){for(var r=new hn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var pOe=fS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),gOe=fS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),yOe=fS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const hS={rangeStep:mOe,getDigitCount:hOe,interpolateNumber:pOe,uninterpolateNumber:gOe,uninterpolateTruncation:yOe};function TP(t){return bOe(t)||vOe(t)||Bte(t)||xOe()}function xOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bOe(t){if(Array.isArray(t))return PP(t)}function Qy(t,e){return SOe(t)||jOe(t,e)||Bte(t,e)||wOe()}function wOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jOe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function SOe(t){if(Array.isArray(t))return t}function Ute(t){var e=Qy(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function zte(t,e,n){if(t.lte(0))return new hn(0);var r=hS.getDigitCount(t.toNumber()),i=new hn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new hn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new hn(Math.ceil(c))}function NOe(t,e,n){var r=1,i=new hn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new hn(10).pow(hS.getDigitCount(t)-1),i=new hn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new hn(Math.floor(t)))}else t===0?i=new hn(Math.floor((e-1)/2)):n||(i=new hn(Math.floor(t)));var o=Math.floor((e-1)/2),l=fOe(dOe(function(c){return i.add(new hn(c-o).mul(r)).toNumber()}),CP);return l(0,e)}function qte(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new hn(0),tickMin:new hn(0),tickMax:new hn(0)};var s=zte(new hn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new hn(0):(o=new hn(t).add(e).div(2),o=o.sub(new hn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new hn(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?qte(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new hn(l).mul(s)),tickMax:o.add(new hn(c).mul(s))})}function _Oe(t){var e=Qy(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Ute([n,r]),c=Qy(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(TP(CP(0,i-1).map(function(){return 1/0}))):[].concat(TP(CP(0,i-1).map(function(){return-1/0})),[f]);return n>r?EP(h):h}if(u===f)return NOe(u,i,s);var p=qte(u,f,o,s),g=p.step,v=p.tickMin,y=p.tickMax,b=hS.rangeStep(v,y.add(new hn(.1).mul(g)),g);return n>r?EP(b):b}function kOe(t,e){var n=Qy(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Ute([r,i]),l=Qy(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(e,2),h=zte(new hn(u).sub(c).div(f-1),s,0),p=[].concat(TP(hS.rangeStep(new hn(c),new hn(u).sub(new hn(.99).mul(h)),h)),[u]);return r>i?EP(p):p}var AOe=Vte(_Oe),COe=Vte(kOe),EOe="Invariant failed";function Jd(t,e){throw new Error(EOe)}var TOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}function POe(t,e){return MOe(t)||OOe(t,e)||ROe(t,e)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(t,e){if(t){if(typeof t=="string")return o8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function MOe(t){if(Array.isArray(t))return t}function DOe(t,e){if(t==null)return{};var n=LOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gte(r.key),r)}}function VOe(t,e,n){return e&&$Oe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BOe(t,e,n){return e=Qw(e),UOe(t,Hte()?Reflect.construct(e,n||[],Qw(t).constructor):e.apply(t,n))}function UOe(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zOe(t)}function zOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hte=function(){return!!t})()}function Qw(t){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qw(t)}function qOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IP(t,e)}function IP(t,e){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IP(t,e)}function Wte(t,e,n){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=HOe(t,"string");return Am(e)=="symbol"?e:e+""}function HOe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iv=function(t){function e(){return FOe(this,e),BOe(this,e,arguments)}return qOe(e,t),VOe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=DOe(r,TOe),g=rt(p,!1);this.props.direction==="x"&&f.type!=="number"&&Jd();var v=c.map(function(y){var b=u(y,l),S=b.x,N=b.y,k=b.value,E=b.errorVal;if(!E)return null;var A=[],C,T;if(Array.isArray(E)){var I=POe(E,2);C=I[0],T=I[1]}else C=T=E;if(s==="vertical"){var P=f.scale,M=N+i,L=M+o,D=M-o,R=P(k-C),V=P(k+T);A.push({x1:V,y1:L,x2:V,y2:D}),A.push({x1:R,y1:M,x2:V,y2:M}),A.push({x1:R,y1:L,x2:R,y2:D})}else if(s==="horizontal"){var q=h.scale,H=S+i,Y=H-o,K=H+o,Z=q(k-C),U=q(k+T);A.push({x1:Y,y1:U,x2:K,y2:U}),A.push({x1:H,y1:Z,x2:H,y2:U}),A.push({x1:Y,y1:Z,x2:K,y2:Z})}return X.createElement(Bt,Xw({className:"recharts-errorBar",key:"bar-".concat(A.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),A.map(function(W){return X.createElement("line",Xw({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return X.createElement(Bt,{className:"recharts-errorBars"},v)}}])}(X.Component);Wte(iv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wte(iv,"displayName","ErrorBar");function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function l8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(n),!0).forEach(function(r){WOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WOe(t,e,n){return e=GOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GOe(t){var e=KOe(t,"string");return Jy(e)=="symbol"?e:e+""}function KOe(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kte=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=hs(n,Wi);if(!o)return null;var l=Wi.defaultProps,c=l!==void 0?Zu(Zu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(f,h){var p=h.item,g=h.props,v=g.sectors||g.data||[];return f.concat(v.map(function(y){return{type:o.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,g=p!==void 0?Zu(Zu({},p),h.props):{},v=g.dataKey,y=g.name,b=g.legendType,S=g.hide;return{inactive:S,dataKey:v,type:c.iconType||b||"square",color:cD(h),value:y||v,payload:g}}),Zu(Zu(Zu({},c),Wi.getWithHeight(o,i)),{},{payload:u,item:o})};function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function c8(t){return JOe(t)||QOe(t)||XOe(t)||YOe()}function YOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XOe(t,e){if(t){if(typeof t=="string")return RP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RP(t,e)}}function QOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JOe(t){if(Array.isArray(t))return RP(t)}function RP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(n),!0).forEach(function(r){qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qh(t,e,n){return e=ZOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZOe(t){var e=eMe(t,"string");return Zy(e)=="symbol"?e:e+""}function eMe(t,e){if(Zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ar(t,e,n){return kt(t)||kt(e)?n:_r(e)?ws(t,e,n):yt(e)?e(t):n}function ny(t,e,n,r){var i=JRe(t,function(l){return ar(l,e)});if(n==="number"){var s=i.filter(function(l){return Re(l)||parseFloat(l)});return s.length?[dS(s),Fc(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!kt(l)}):i;return o.map(function(l){return _r(l)||l instanceof Date?l:""})}var tMe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,p=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Ci(h-f)!==Ci(p-h)){var v=[];if(Ci(p-h)===Ci(c[1]-c[0])){g=p;var y=h+c[1]-c[0];v[0]=Math.min(y,(y+f)/2),v[1]=Math.max(y,(y+f)/2)}else{g=f;var b=p+c[1]-c[0];v[0]=Math.min(h,(b+h)/2),v[1]=Math.max(h,(b+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var N=Math.min(f,p),k=Math.max(f,p);if(e>(N+h)/2&&e<=(k+h)/2){o=i[u].index;break}}}else for(var E=0;E<l;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<l-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===l-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},cD=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xn(Xn({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},nMe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,h=Object.keys(f),p=0,g=h.length;p<g;p++){var v=f[h[p]],y=v.items,b=v.cateAxisId,S=y.filter(function(T){return Nl(T.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,k=N!==void 0?Xn(Xn({},N),S[0].props):S[0].props,E=k.barSize,A=k[b];o[A]||(o[A]=[]);var C=kt(E)?n:E;o[A].push({item:S[0],stackList:S.slice(1),barSize:kt(C)?void 0:Ei(C,r,0)})}}return o},rMe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Ei(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=i/c,v=o.reduce(function(E,A){return E+A.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&g>0&&(p=!0,g*=.9,v=c*g);var y=(i-v)/2>>0,b={offset:y-u,size:0};f=o.reduce(function(E,A){var C={item:A.item,position:{offset:b.offset+b.size+u,size:p?g:A.barSize}},T=[].concat(c8(E),[C]);return b=T[T.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){T.push({item:I,position:b})}),T},h)}else{var S=Ei(r,i,0,!0);i-2*S-(c-1)*u<=0&&(u=0);var N=(i-2*S-(c-1)*u)/c;N>1&&(N>>=0);var k=l===+l?Math.min(N,l):N;f=o.reduce(function(E,A,C){var T=[].concat(c8(E),[{item:A.item,position:{offset:S+(N+u)*C+(N-k)/2,size:k}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},h)}return f},iMe=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Kte({children:s,legendWidth:c});if(u){var f=i||{},h=f.width,p=f.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&Re(e[g]))return Xn(Xn({},e),{},qh({},g,e[g]+(h||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&Re(e[v]))return Xn(Xn({},e),{},qh({},v,e[v]+(p||0)))}return e},sMe=function(e,n,r){return kt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Yte=function(e,n,r,i,s){var o=n.props.children,l=js(o,iv).filter(function(u){return sMe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=ar(f,r);if(kt(h))return u;var p=Array.isArray(h)?[dS(h),Fc(h)]:[h,h],g=c.reduce(function(v,y){var b=ar(f,y,0),S=p[0]-Math.abs(Array.isArray(b)?b[0]:b),N=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(S,v[0]),Math.max(N,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},aMe=function(e,n,r,i,s){var o=n.map(function(l){return Yte(e,l,r,s,i)}).filter(function(l){return!kt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Xte=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Yte(e,c,u,i)||ny(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},Qte=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Jte=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},xl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ci(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=s?s.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!mp(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:s?s[h]:h,index:p,offset:u}})},PE=new WeakMap,n0=function(e,n){if(typeof n!="function")return e;PE.has(e)||PE.set(e,new WeakMap);var r=PE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Zte=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Hy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Hw(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ty(),realScaleType:"point"}:s==="category"?{scale:Hy(),realScaleType:"band"}:{scale:Hw(),realScaleType:"linear"};if(Gd(i)){var c="scale".concat(Qj(i));return{scale:(Yz[c]||ty)(),realScaleType:Yz[c]?c:"point"}}return yt(i)?{scale:i}:{scale:ty(),realScaleType:"point"}},d8=1e-4,ene=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-d8,o=Math.max(i[0],i[1])+d8,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},oMe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},lMe=function(e,n){if(!n||n.length!==2||!Re(n[0])||!Re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Re(e[0])||e[0]<r)&&(s[0]=r),(!Re(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},cMe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=mp(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},uMe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=mp(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},dMe={sign:cMe,expand:JCe,none:xm,silhouette:ZCe,wiggle:eEe,positive:uMe},fMe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=dMe[r],o=QCe().keys(i).value(function(l,c){return+ar(l,c,0)}).order(cP).offset(s);return o(e)},hMe=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Xn(Xn({},p.type.defaultProps),p.props):p.props,y=v.stackId,b=v.hide;if(b)return h;var S=v[r],N=h[S]||{hasStack:!1,stackGroups:{}};if(_r(y)){var k=N.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(p),N.hasStack=!0,N.stackGroups[y]=k}else N.stackGroups[pf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Xn(Xn({},h),{},qh({},S,N))},c),f={};return Object.keys(u).reduce(function(h,p){var g=u[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var S=g.stackGroups[b];return Xn(Xn({},y),{},qh({},b,{numericAxisId:r,cateAxisId:i,items:S.items,stackedData:fMe(e,S.items,s)}))},v)}return Xn(Xn({},h),{},qh({},p,g))},f)},tne=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=AOe(u,s,l);return e.domain([dS(f),Fc(f)]),{niceTicks:f}}if(s&&i==="number"){var h=e.domain(),p=COe(h,s,l);return{niceTicks:p}}return null};function Jw(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!kt(i[e.dataKey])){var l=Aw(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=ar(i,kt(o)?e.dataKey:o);return kt(c)?null:e.scale(c)}var f8=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=ar(o,n.dataKey,n.domain[l]);return kt(c)?null:n.scale(c)-s/2+i},mMe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},pMe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xn(Xn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(_r(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},gMe=function(e){return e.reduce(function(n,r){return[dS(r.concat([n[0]]).filter(Re)),Fc(r.concat([n[1]]).filter(Re))]},[1/0,-1/0])},nne=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,f){var h=gMe(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},h8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OP=function(e,n,r){if(yt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(h8.test(e[0])){var s=+h8.exec(e[0])[1];i[0]=n[0]-s}else yt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(m8.test(e[1])){var o=+m8.exec(e[1])[1];i[1]=n[1]+o}else yt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=LM(n,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},p8=function(e,n,r){return!e||!e.length||Xd(e,ws(r,"type.defaultProps.domain"))?n:e},rne=function(e,n){var r=e.type.defaultProps?Xn(Xn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return Xn(Xn({},rt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:cD(e),value:ar(n,i),type:c,payload:n,chartType:u,hide:f})};function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function g8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return e=yMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yMe(t){var e=xMe(t,"string");return ex(e)=="symbol"?e:e+""}function xMe(t,e){if(ex(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ex(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vMe(t,e){return SMe(t)||jMe(t,e)||wMe(t,e)||bMe()}function bMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(t,e){if(t){if(typeof t=="string")return y8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y8(t,e)}}function y8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function SMe(t){if(Array.isArray(t))return t}var e1=Math.PI/180,NMe=function(e){return e*180/Math.PI},Nn=function(e,n,r,i){return{x:e+Math.cos(-e1*i)*r,y:n+Math.sin(-e1*i)*r}},sne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_Me=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,f=Ei(e.cx,o,o/2),h=Ei(e.cy,l,l/2),p=sne(o,l,r),g=Ei(e.innerRadius,p,0),v=Ei(e.outerRadius,p,p*.8),y=Object.keys(n);return y.reduce(function(b,S){var N=n[S],k=N.domain,E=N.reversed,A;if(kt(N.range))i==="angleAxis"?A=[c,u]:i==="radiusAxis"&&(A=[g,v]),E&&(A=[A[1],A[0]]);else{A=N.range;var C=A,T=vMe(C,2);c=T[0],u=T[1]}var I=Zte(N,s),P=I.realScaleType,M=I.scale;M.domain(k).range(A),ene(M);var L=tne(M,cl(cl({},N),{},{realScaleType:P})),D=cl(cl(cl({},N),L),{},{range:A,radius:v,realScaleType:P,scale:M,cx:f,cy:h,innerRadius:g,outerRadius:v,startAngle:c,endAngle:u});return cl(cl({},b),{},ine({},S,D))},{})},kMe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},AMe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=kMe({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:NMe(u),angleInRadian:u}},CMe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},EMe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},x8=function(e,n){var r=e.x,i=e.y,s=AMe({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=CMe(n),h=f.startAngle,p=f.endAngle,g=l,v;if(h<=p){for(;g>p;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=p}else{for(;g>h;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=h}return v?cl(cl({},n),{},{radius:o,angle:EMe(g,n)}):null},ane=function(e){return!w.isValidElement(e)&&!yt(e)&&typeof e!="boolean"?e.className:""};function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}var TMe=["offset"];function PMe(t){return MMe(t)||OMe(t)||RMe(t)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(t,e){if(t){if(typeof t=="string")return MP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(t,e)}}function OMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MMe(t){if(Array.isArray(t))return MP(t)}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DMe(t,e){if(t==null)return{};var n=LMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(n),!0).forEach(function(r){FMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FMe(t,e,n){return e=$Me(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Me(t){var e=VMe(t,"string");return tx(e)=="symbol"?e:e+""}function VMe(t,e){if(tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}var BMe=function(e){var n=e.value,r=e.formatter,i=kt(e.children)?n:e.children;return yt(r)?r(i):i},UMe=function(e,n){var r=Ci(n-e),i=Math.min(Math.abs(n-e),360);return r*i},zMe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,f=c.cy,h=c.innerRadius,p=c.outerRadius,g=c.startAngle,v=c.endAngle,y=c.clockWise,b=(h+p)/2,S=UMe(g,v),N=S>=0?1:-1,k,E;i==="insideStart"?(k=g+N*o,E=y):i==="insideEnd"?(k=v-N*o,E=!y):i==="end"&&(k=v+N*o,E=y),E=S<=0?E:!E;var A=Nn(u,f,b,k),C=Nn(u,f,b,k+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),I=kt(e.id)?pf("recharts-radial-line-"):e.id;return X.createElement("text",nx({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:I,d:T})),X.createElement("textPath",{xlinkHref:"#".concat(I)},n))},qMe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,h=s.endAngle,p=(f+h)/2;if(i==="outside"){var g=Nn(o,l,u+r,p),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,S=Nn(o,l,b,p),N=S.x,k=S.y;return{x:N,y:k,textAnchor:"middle",verticalAnchor:"middle"}},HMe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,f=o.height,h=f>=0?1:-1,p=h*i,g=h>0?"end":"start",v=h>0?"start":"end",y=u>=0?1:-1,b=y*i,S=y>0?"end":"start",N=y>0?"start":"end";if(s==="top"){var k={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:g};return Sr(Sr({},k),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var E={x:l+u/2,y:c+f+p,textAnchor:"middle",verticalAnchor:v};return Sr(Sr({},E),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(s==="left"){var A={x:l-b,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Sr(Sr({},A),r?{width:Math.max(A.x-r.x,0),height:f}:{})}if(s==="right"){var C={x:l+u+b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return Sr(Sr({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:f}:{})}var T=r?{width:u,height:f}:{};return s==="insideLeft"?Sr({x:l+b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},T):s==="insideRight"?Sr({x:l+u-b,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideTop"?Sr({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:v},T):s==="insideBottom"?Sr({x:l+u/2,y:c+f-p,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?Sr({x:l+b,y:c+p,textAnchor:N,verticalAnchor:v},T):s==="insideTopRight"?Sr({x:l+u-b,y:c+p,textAnchor:S,verticalAnchor:v},T):s==="insideBottomLeft"?Sr({x:l+b,y:c+f-p,textAnchor:N,verticalAnchor:g},T):s==="insideBottomRight"?Sr({x:l+u-b,y:c+f-p,textAnchor:S,verticalAnchor:g},T):hp(s)&&(Re(s.x)||yd(s.x))&&(Re(s.y)||yd(s.y))?Sr({x:l+Ei(s.x,u),y:c+Ei(s.y,f),textAnchor:"end",verticalAnchor:"end"},T):Sr({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},WMe=function(e){return"cx"in e&&Re(e.cx)};function Lr(t){var e=t.offset,n=e===void 0?5:e,r=DMe(t,TMe),i=Sr({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!s||kt(l)&&kt(c)&&!w.isValidElement(u)&&!yt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(yt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=BMe(i);var v=WMe(s),y=rt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zMe(i,g,y);var b=v?qMe(i):HMe(i);return X.createElement(Yd,nx({className:At("recharts-label",h)},y,b,{breakAll:p}),g)}Lr.displayName="Label";var one=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,g=e.top,v=e.left,y=e.width,b=e.height,S=e.clockWise,N=e.labelViewBox;if(N)return N;if(Re(y)&&Re(b)){if(Re(h)&&Re(p))return{x:h,y:p,width:y,height:b};if(Re(g)&&Re(v))return{x:g,y:v,width:y,height:b}}return Re(h)&&Re(p)?{x:h,y:p,width:0,height:0}:Re(n)&&Re(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:S}:e.viewBox?e.viewBox:{}},GMe=function(e,n){return e?e===!0?X.createElement(Lr,{key:"label-implicit",viewBox:n}):_r(e)?X.createElement(Lr,{key:"label-implicit",viewBox:n,value:e}):w.isValidElement(e)?e.type===Lr?w.cloneElement(e,{key:"label-implicit",viewBox:n}):X.createElement(Lr,{key:"label-implicit",content:e,viewBox:n}):yt(e)?X.createElement(Lr,{key:"label-implicit",content:e,viewBox:n}):hp(e)?X.createElement(Lr,nx({viewBox:n},e,{key:"label-implicit"})):null:null},KMe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=one(e),o=js(i,Lr).map(function(c,u){return w.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=GMe(e.label,n||s);return[l].concat(PMe(o))};Lr.parseViewBox=one;Lr.renderCallByParent=KMe;var IE,b8;function YMe(){if(b8)return IE;b8=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return IE=t,IE}var XMe=YMe();const QMe=tn(XMe);function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}var JMe=["valueAccessor"],ZMe=["data","dataKey","clockWise","id","textBreakAll"];function eDe(t){return iDe(t)||rDe(t)||nDe(t)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDe(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function rDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iDe(t){if(Array.isArray(t))return DP(t)}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){sDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sDe(t,e,n){return e=aDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aDe(t){var e=oDe(t,"string");return rx(e)=="symbol"?e:e+""}function oDe(t,e){if(rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S8(t,e){if(t==null)return{};var n=lDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cDe=function(e){return Array.isArray(e.value)?QMe(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?cDe:e,r=S8(t,JMe),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=S8(r,ZMe);return!i||!i.length?null:X.createElement(Bt,{className:"recharts-label-list"},i.map(function(f,h){var p=kt(s)?n(f,h):ar(f&&f.payload,s),g=kt(l)?{}:{id:"".concat(l,"-").concat(h)};return X.createElement(Lr,t1({},rt(f,!0),u,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Lr.parseViewBox(kt(o)?f:j8(j8({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ko.displayName="LabelList";function uDe(t,e){return t?t===!0?X.createElement(ko,{key:"labelList-implicit",data:e}):X.isValidElement(t)||yt(t)?X.createElement(ko,{key:"labelList-implicit",data:e,content:t}):hp(t)?X.createElement(ko,t1({data:e},t,{key:"labelList-implicit"})):null:null}function dDe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=js(r,ko).map(function(o,l){return w.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=uDe(t.label,e);return[s].concat(eDe(i))}ko.renderCallByParent=dDe;function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function LP(){return LP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LP.apply(this,arguments)}function N8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(r){fDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fDe(t,e,n){return e=hDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hDe(t){var e=mDe(t,"string");return ix(e)=="symbol"?e:e+""}function mDe(t,e){if(ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pDe=function(e,n){var r=Ci(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},r0=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/e1,p=u?s:s+o*h,g=Nn(n,r,f,p),v=Nn(n,r,i,p),y=u?s-o*h:s,b=Nn(n,r,f*Math.cos(h*e1),y);return{center:g,circleTangency:v,lineTangency:b,theta:h}},lne=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=pDe(o,l),u=o+c,f=Nn(n,r,s,o),h=Nn(n,r,s,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=Nn(n,r,i,o),v=Nn(n,r,i,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},gDe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=Ci(f-u),p=r0({cx:n,cy:r,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),g=p.circleTangency,v=p.lineTangency,y=p.theta,b=r0({cx:n,cy:r,radius:s,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),S=b.circleTangency,N=b.lineTangency,k=b.theta,E=c?Math.abs(u-f):Math.abs(u-f)-y-k;if(E<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):lne({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var C=r0({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=C.circleTangency,I=C.lineTangency,P=C.theta,M=r0({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=M.circleTangency,D=M.lineTangency,R=M.theta,V=c?Math.abs(u-f):Math.abs(u-f)-P-R;if(V<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},yDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cne=function(e){var n=_8(_8({},yDe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(o<s||f===h)return null;var g=At("recharts-sector",p),v=o-s,y=Ei(l,v,0,!0),b;return y>0&&Math.abs(f-h)<360?b=gDe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):b=lne({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:h}),X.createElement("path",LP({},rt(n,!0),{className:g,d:b,role:"img"}))};function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function FP(){return FP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FP.apply(this,arguments)}function k8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(r){xDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xDe(t,e,n){return e=vDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vDe(t){var e=bDe(t,"string");return sx(e)=="symbol"?e:e+""}function bDe(t,e){if(sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C8={curveBasisClosed:VCe,curveBasisOpen:BCe,curveBasis:$Ce,curveBumpX:_Ce,curveBumpY:kCe,curveLinearClosed:UCe,curveLinear:Zj,curveMonotoneX:zCe,curveMonotoneY:qCe,curveNatural:HCe,curveStep:WCe,curveStepAfter:KCe,curveStepBefore:GCe},i0=function(e){return e.x===+e.x&&e.y===+e.y},gg=function(e){return e.x},yg=function(e){return e.y},wDe=function(e,n){if(yt(e))return e;var r="curve".concat(Qj(e));return(r==="curveMonotone"||r==="curveBump")&&n?C8["".concat(r).concat(n==="vertical"?"Y":"X")]:C8[r]||Zj},jDe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=wDe(r,l),h=u?s.filter(function(y){return i0(y)}):s,p;if(Array.isArray(o)){var g=u?o.filter(function(y){return i0(y)}):o,v=h.map(function(y,b){return A8(A8({},y),{},{base:g[b]})});return l==="vertical"?p=Yb().y(yg).x1(gg).x0(function(y){return y.base.x}):p=Yb().x(gg).y1(yg).y0(function(y){return y.base.y}),p.defined(i0).curve(f),p(v)}return l==="vertical"&&Re(o)?p=Yb().y(yg).x1(gg).x0(o):Re(o)?p=Yb().x(gg).y1(yg).y0(o):p=oee().x(gg).y(yg),p.defined(i0).curve(f),p(h)},Pd=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?jDe(e):i;return X.createElement("path",FP({},rt(e,!1),Cw(e),{className:At("recharts-curve",n),d:o,ref:s}))},RE={exports:{}},OE,E8;function SDe(){if(E8)return OE;E8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return OE=t,OE}var ME,T8;function NDe(){if(T8)return ME;T8=1;var t=SDe();function e(){}function n(){}return n.resetWarningCache=e,ME=function(){function r(o,l,c,u,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},ME}var P8;function _De(){return P8||(P8=1,RE.exports=NDe()()),RE.exports}var kDe=_De();const on=tn(kDe);var ADe=Object.getOwnPropertyNames,CDe=Object.getOwnPropertySymbols,EDe=Object.prototype.hasOwnProperty;function I8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function s0(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function R8(t){return ADe(t).concat(CDe(t))}var TDe=Object.hasOwn||function(t,e){return EDe.call(t,e)};function xf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PDe="__v",IDe="__o",RDe="_owner",O8=Object.getOwnPropertyDescriptor,M8=Object.keys;function ODe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function MDe(t,e){return xf(t.getTime(),e.getTime())}function DDe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function LDe(t,e){return t===e}function D8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var p=o.value,g=l.value;if(n.equals(p[0],g[0],c,h,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var FDe=xf;function $De(t,e,n){var r=M8(t),i=r.length;if(M8(e).length!==i)return!1;for(;i-- >0;)if(!une(t,e,n,r[i]))return!1;return!0}function xg(t,e,n){var r=R8(t),i=r.length;if(R8(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=r[i],!une(t,e,n,s)||(o=O8(t,s),l=O8(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function VDe(t,e){return xf(t.valueOf(),e.valueOf())}function BDe(t,e){return t.source===e.source&&t.flags===e.flags}function L8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function UDe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zDe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function une(t,e,n,r){return(r===RDe||r===IDe||r===PDe)&&(t.$$typeof||e.$$typeof)?!0:TDe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var qDe="[object Arguments]",HDe="[object Boolean]",WDe="[object Date]",GDe="[object Error]",KDe="[object Map]",YDe="[object Number]",XDe="[object Object]",QDe="[object RegExp]",JDe="[object Set]",ZDe="[object String]",e4e="[object URL]",t4e=Array.isArray,F8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$8=Object.assign,n4e=Object.prototype.toString.call.bind(Object.prototype.toString);function r4e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;var S=typeof v;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(v,y,b):S==="function"?i(v,y,b):!1;var N=v.constructor;if(N!==y.constructor)return!1;if(N===Object)return l(v,y,b);if(t4e(v))return e(v,y,b);if(F8!=null&&F8(v))return h(v,y,b);if(N===Date)return n(v,y,b);if(N===RegExp)return u(v,y,b);if(N===Map)return s(v,y,b);if(N===Set)return f(v,y,b);var k=n4e(v);return k===WDe?n(v,y,b):k===QDe?u(v,y,b):k===KDe?s(v,y,b):k===JDe?f(v,y,b):k===XDe?typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b):k===e4e?p(v,y,b):k===GDe?r(v,y,b):k===qDe?l(v,y,b):k===HDe||k===YDe||k===ZDe?c(v,y,b):!1}}function i4e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?xg:ODe,areDatesEqual:MDe,areErrorsEqual:DDe,areFunctionsEqual:LDe,areMapsEqual:r?I8(D8,xg):D8,areNumbersEqual:FDe,areObjectsEqual:r?xg:$De,arePrimitiveWrappersEqual:VDe,areRegExpsEqual:BDe,areSetsEqual:r?I8(L8,xg):L8,areTypedArraysEqual:r?xg:UDe,areUrlsEqual:zDe};if(n&&(i=$8({},i,n(i))),e){var s=s0(i.areArraysEqual),o=s0(i.areMapsEqual),l=s0(i.areObjectsEqual),c=s0(i.areSetsEqual);i=$8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function s4e(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function a4e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var f=r(),h=f.cache,p=h===void 0?e?new WeakMap:void 0:h,g=f.meta;return n(c,u,{cache:p,equals:i,meta:g,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var o4e=Nu();Nu({strict:!0});Nu({circular:!0});Nu({circular:!0,strict:!0});Nu({createInternalComparator:function(){return xf}});Nu({strict:!0,createInternalComparator:function(){return xf}});Nu({circular:!0,createInternalComparator:function(){return xf}});Nu({circular:!0,createInternalComparator:function(){return xf},strict:!0});function Nu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=i4e(t),c=r4e(l),u=r?r(c):s4e(c);return a4e({circular:n,comparator:c,createState:i,equals:u,strict:o})}function l4e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function V8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):l4e(i)};requestAnimationFrame(r)}function $P(t){"@babel/helpers - typeof";return $P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$P(t)}function c4e(t){return h4e(t)||f4e(t)||d4e(t)||u4e()}function u4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4e(t,e){if(t){if(typeof t=="string")return B8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B8(t,e)}}function B8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h4e(t){if(Array.isArray(t))return t}function m4e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=c4e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){V8(i.bind(null,u),c);return}i(c),V8(i.bind(null,u));return}$P(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return e=p4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p4e(t){var e=g4e(t,"string");return ax(e)==="symbol"?e:String(e)}function g4e(t,e){if(ax(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ax(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y4e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},x4e=function(e){return e},v4e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ry=function(e,n){return Object.keys(n).reduce(function(r,i){return z8(z8({},r),{},dne({},i,e(i,n[i])))},{})},q8=function(e,n,r){return e.map(function(i){return"".concat(v4e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function b4e(t,e){return S4e(t)||j4e(t,e)||fne(t,e)||w4e()}function w4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function S4e(t){if(Array.isArray(t))return t}function N4e(t){return A4e(t)||k4e(t)||fne(t)||_4e()}function _4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return VP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(t,e)}}function k4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A4e(t){if(Array.isArray(t))return VP(t)}function VP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n1=1e-4,hne=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},mne=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},H8=function(e,n){return function(r){var i=hne(e,n);return mne(i,r)}},C4e=function(e,n){return function(r){var i=hne(e,n),s=[].concat(N4e(i.map(function(o,l){return o*l}).slice(1)),[0]);return mne(s,r)}},W8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=b4e(u,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var h=H8(i,o),p=H8(s,l),g=C4e(i,o),v=function(S){return S>1?1:S<0?0:S},y=function(S){for(var N=S>1?1:S,k=N,E=0;E<8;++E){var A=h(k)-N,C=g(k);if(Math.abs(A-N)<n1||C<n1)return p(k);k=v(k-A/C)}return p(k)};return y.isStepper=!1,y},E4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,h,p){var g=-(f-h)*r,v=p*s,y=p+(g-v)*l/1e3,b=p*l/1e3+f;return Math.abs(b-h)<n1&&Math.abs(y)<n1?[h,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},T4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W8(i);case"spring":return E4e();default:if(i.split("(")[0]==="cubic-bezier")return W8(i)}return typeof i=="function"?i:null};function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function G8(t){return R4e(t)||I4e(t)||pne(t)||P4e()}function P4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R4e(t){if(Array.isArray(t))return UP(t)}function K8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(r){BP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BP(t,e,n){return e=O4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4e(t){var e=M4e(t,"string");return ox(e)==="symbol"?e:String(e)}function M4e(t,e){if(ox(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ox(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D4e(t,e){return $4e(t)||F4e(t,e)||pne(t,e)||L4e()}function L4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $4e(t){if(Array.isArray(t))return t}var r1=function(e,n,r){return e+(n-e)*r},zP=function(e){var n=e.from,r=e.to;return n!==r},V4e=function t(e,n,r){var i=ry(function(s,o){if(zP(o)){var l=e(o.from,o.to,o.velocity),c=D4e(l,2),u=c[0],f=c[1];return qr(qr({},o),{},{from:u,velocity:f})}return o},n);return r<1?ry(function(s,o){return zP(o)?qr(qr({},o),{},{velocity:r1(o.velocity,i[s].velocity,r),from:r1(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const B4e=function(t,e,n,r,i){var s=y4e(t,e),o=s.reduce(function(b,S){return qr(qr({},b),{},BP({},S,[t[S],e[S]]))},{}),l=s.reduce(function(b,S){return qr(qr({},b),{},BP({},S,{from:t[S],velocity:0,to:e[S]}))},{}),c=-1,u,f,h=function(){return null},p=function(){return ry(function(S,N){return N.from},l)},g=function(){return!Object.values(l).filter(zP).length},v=function(S){u||(u=S);var N=S-u,k=N/n.dt;l=V4e(n,l,k),i(qr(qr(qr({},t),e),p())),u=S,g()||(c=requestAnimationFrame(h))},y=function(S){f||(f=S);var N=(S-f)/r,k=ry(function(A,C){return r1.apply(void 0,G8(C).concat([n(N)]))},o);if(i(qr(qr(qr({},t),e),k)),N<1)c=requestAnimationFrame(h);else{var E=ry(function(A,C){return r1.apply(void 0,G8(C).concat([n(1)]))},o);i(qr(qr(qr({},t),e),E))}};return h=n.isStepper?v:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}var U4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function z4e(t,e){if(t==null)return{};var n=q4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q4e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DE(t){return K4e(t)||G4e(t)||W4e(t)||H4e()}function H4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4e(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function G4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K4e(t){if(Array.isArray(t))return qP(t)}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dg(t,e,n){return e=gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gne(r.key),r)}}function Q4e(t,e,n){return e&&X4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gne(t){var e=J4e(t,"string");return Cm(e)==="symbol"?e:String(e)}function J4e(t,e){if(Cm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HP(t,e)}function HP(t,e){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HP(t,e)}function e5e(t){var e=t5e();return function(){var r=i1(t),i;if(e){var s=i1(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return WP(this,i)}}function WP(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GP(t)}function GP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i1(t)}var Va=function(t){Z4e(n,t);var e=e5e(n);function n(r,i){var s;Y4e(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,h=o.steps,p=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(GP(s)),s.changeStyle=s.changeStyle.bind(GP(s)),!l||g<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),WP(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof p=="function")return s.state={style:u},WP(s);s.state={style:c?Dg({},c,u):u}}else s.state={style:{}};return s}return Q4e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,h=s.from,p=this.state.style;if(l){if(!o){var g={style:c?Dg({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(g);return}if(!(o4e(i.to,f)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?h:i.to;if(this.state&&p){var b={style:c?Dg({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(b)}this.runAnimation(ma(ma({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,g=B4e(o,l,T4e(u),c,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([p,f,v,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,p=h===void 0?0:h,g=function(y,b,S){if(S===0)return y;var N=b.duration,k=b.easing,E=k===void 0?"ease":k,A=b.style,C=b.properties,T=b.onAnimationEnd,I=S>0?o[S-1]:b,P=C||Object.keys(A);if(typeof E=="function"||E==="spring")return[].concat(DE(y),[s.runJSAnimation.bind(s,{from:I.style,to:A,duration:N,easing:E}),N]);var M=q8(P,N,E),L=ma(ma(ma({},I.style),A),{},{transition:M});return[].concat(DE(y),[L,N,T]).filter(x4e)};return this.manager.start([c].concat(DE(o.reduce(g,[f,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=m4e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var y=l?Dg({},l,c):c,b=q8(Object.keys(y),o,u);v.start([f,s,ma(ma({},y),{},{transition:b}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=z4e(i,U4e),u=w.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var h=function(g){var v=g.props,y=v.style,b=y===void 0?{}:y,S=v.className,N=w.cloneElement(g,ma(ma({},c),{},{style:ma(ma({},b),f),className:S}));return N};return u===1?h(w.Children.only(s)):X.createElement("div",null,w.Children.map(s,function(p){return h(p)}))}}]),n}(w.PureComponent);Va.displayName="Animate";Va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Va.propTypes={from:on.oneOfType([on.object,on.string]),to:on.oneOfType([on.object,on.string]),attributeName:on.string,duration:on.number,begin:on.number,easing:on.oneOfType([on.string,on.func]),steps:on.arrayOf(on.shape({duration:on.number.isRequired,style:on.object.isRequired,easing:on.oneOfType([on.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),on.func]),properties:on.arrayOf("string"),onAnimationEnd:on.func})),children:on.oneOfType([on.node,on.func]),isActive:on.bool,canBegin:on.bool,onAnimationEnd:on.func,shouldReAnimate:on.bool,onAnimationStart:on.func,onAnimationReStart:on.func};function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function n5e(t,e){return a5e(t)||s5e(t,e)||i5e(t,e)||r5e()}function r5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(t,e){if(t){if(typeof t=="string")return X8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X8(t,e)}}function X8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function a5e(t){if(Array.isArray(t))return t}function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){o5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5e(t,e,n){return e=l5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l5e(t){var e=c5e(t,"string");return lx(e)=="symbol"?e:e+""}function c5e(t,e){if(lx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z8=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=s[p]>o?o:s[p];f="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(n)),f+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*h[1])),f+="L ".concat(e+r,",").concat(n+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-c*h[2],",").concat(n+i)),f+="L ".concat(e+c*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*h[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(e,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*v,`
            L `).concat(e+r,",").concat(n+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+i,`
            L `).concat(e+c*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},u5e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),h=Math.min(o,o+c),p=Math.max(o,o+c);return r>=u&&r<=f&&i>=h&&i<=p}return!1},d5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uD=function(e){var n=J8(J8({},d5e),e),r=w.useRef(),i=w.useState(-1),s=n5e(i,2),o=s[0],l=s[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&l(E)}catch{}},[]);var c=n.x,u=n.y,f=n.width,h=n.height,p=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,S=n.isAnimationActive,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var k=At("recharts-rectangle",g);return N?X.createElement(Va,{canBegin:o>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:N},function(E){var A=E.width,C=E.height,T=E.x,I=E.y;return X.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:S,easing:v},X.createElement("path",s1({},rt(n,!0),{className:k,d:Z8(T,I,A,C,p),ref:r})))}):X.createElement("path",s1({},rt(n,!0),{className:k,d:Z8(c,u,f,h,p)}))},f5e=["points","className","baseLinePoints","connectNulls"];function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}function h5e(t,e){if(t==null)return{};var n=m5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e9(t){return x5e(t)||y5e(t)||g5e(t)||p5e()}function p5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(t,e){if(t){if(typeof t=="string")return KP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(t,e)}}function y5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x5e(t){if(Array.isArray(t))return KP(t)}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t9=function(e){return e&&e.x===+e.x&&e.y===+e.y},v5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){t9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),t9(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},iy=function(e,n){var r=v5e(e);n&&(r=[r.reduce(function(s,o){return[].concat(e9(s),e9(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},b5e=function(e,n,r){var i=iy(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(iy(n.reverse(),r).slice(1))},w5e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=h5e(e,f5e);if(!n||!n.length)return null;var l=At("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=b5e(n,i,s);return X.createElement("g",{className:l},X.createElement("path",Ch({},rt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?X.createElement("path",Ch({},rt(o,!0),{fill:"none",d:iy(n,s)})):null,c?X.createElement("path",Ch({},rt(o,!0),{fill:"none",d:iy(i,s)})):null)}var f=iy(n,s);return X.createElement("path",Ch({},rt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(this,arguments)}var sv=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=At("recharts-dot",s);return n===+n&&r===+r&&i===+i?X.createElement("circle",YP({},rt(e,!1),Cw(e),{className:o,cx:n,cy:r,r:i})):null};function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}var j5e=["x","y","top","left","width","height","className"];function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(n),!0).forEach(function(r){N5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N5e(t,e,n){return e=_5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _5e(t){var e=k5e(t,"string");return cx(e)=="symbol"?e:e+""}function k5e(t,e){if(cx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A5e(t,e){if(t==null)return{};var n=C5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var E5e=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},T5e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,f=e.width,h=f===void 0?0:f,p=e.height,g=p===void 0?0:p,v=e.className,y=A5e(e,j5e),b=S5e({x:r,y:s,top:l,left:u,width:h,height:g},y);return!Re(r)||!Re(s)||!Re(h)||!Re(g)||!Re(l)||!Re(u)?null:X.createElement("path",XP({},rt(b,!0),{className:At("recharts-cross",v),d:E5e(r,s,h,g,l,u)}))},LE,r9;function P5e(){if(r9)return LE;r9=1;var t=uS(),e=Pte(),n=Uo();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return LE=r,LE}var I5e=P5e();const R5e=tn(I5e);var FE,i9;function O5e(){if(i9)return FE;i9=1;var t=uS(),e=Uo(),n=Ite();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return FE=r,FE}var M5e=O5e();const D5e=tn(M5e);var L5e=["cx","cy","angle","ticks","axisLine"],F5e=["ticks","tick","angle","tickFormatter","stroke"];function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function s9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(n),!0).forEach(function(r){mS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a9(t,e){if(t==null)return{};var n=$5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xne(r.key),r)}}function B5e(t,e,n){return e&&o9(t.prototype,e),n&&o9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U5e(t,e,n){return e=a1(e),z5e(t,yne()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function z5e(t,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q5e(t)}function q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yne=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function H5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QP(t,e)}function QP(t,e){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QP(t,e)}function mS(t,e,n){return e=xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=W5e(t,"string");return Em(e)=="symbol"?e:e+""}function W5e(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pS=function(t){function e(){return V5e(this,e),U5e(this,e,arguments)}return H5e(e,t),B5e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Nn(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=R5e(l,function(f){return f.coordinate||0}),u=D5e(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=a9(r,L5e),f=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),h=Nn(i,s,f[0],o),p=Nn(i,s,f[1],o),g=ed(ed(ed({},rt(u,!1)),{},{fill:"none"},rt(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return X.createElement("line",sy({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,f=a9(i,F5e),h=this.getTickTextAnchor(),p=rt(f,!1),g=rt(o,!1),v=s.map(function(y,b){var S=r.getTickValueCoord(y),N=ed(ed(ed(ed({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(S.x,", ").concat(S.y,")")},p),{},{stroke:"none",fill:u},g),{},{index:b},S),{},{payload:y});return X.createElement(Bt,sy({className:At("recharts-polar-radius-axis-tick",ane(o)),key:"tick-".concat(y.coordinate)},Kd(r.props,y,b)),e.renderTickItem(o,N,c?c(y.value,b):y.value))});return X.createElement(Bt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:X.createElement(Bt,{className:At("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Lr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return X.isValidElement(r)?o=X.cloneElement(r,i):yt(r)?o=r(i):o=X.createElement(Yd,sy({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(w.PureComponent);mS(pS,"displayName","PolarRadiusAxis");mS(pS,"axisType","radiusAxis");mS(pS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){gS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bne(r.key),r)}}function K5e(t,e,n){return e&&c9(t.prototype,e),n&&c9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y5e(t,e,n){return e=o1(e),X5e(t,vne()?Reflect.construct(e,n||[],o1(t).constructor):e.apply(t,n))}function X5e(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vne=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function J5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JP(t,e)}function gS(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=Z5e(t,"string");return Tm(e)=="symbol"?e:e+""}function Z5e(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eLe=Math.PI/180,tLe=1e-5,yS=function(t){function e(){return G5e(this,e),Y5e(this,e,arguments)}return J5e(e,t),K5e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,f=u||8,h=Nn(s,o,l,r.coordinate),p=Nn(s,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*eLe),o;return s>tLe?o=i==="outer"?"start":"end":s<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=td(td({},rt(this.props,!1)),{},{fill:"none"},rt(l,!1));if(c==="circle")return X.createElement(sv,ld({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var f=this.props.ticks,h=f.map(function(p){return Nn(i,s,o,p.coordinate)});return X.createElement(w5e,ld({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,f=rt(this.props,!1),h=rt(o,!1),p=td(td({},f),{},{fill:"none"},rt(l,!1)),g=s.map(function(v,y){var b=r.getTickLineCoord(v),S=r.getTickTextAnchor(v),N=td(td(td({textAnchor:S},f),{},{stroke:"none",fill:u},h),{},{index:y,payload:v,x:b.x2,y:b.y2});return X.createElement(Bt,ld({className:At("recharts-polar-angle-axis-tick",ane(o)),key:"tick-".concat(v.coordinate)},Kd(r.props,v,y)),l&&X.createElement("line",ld({className:"recharts-polar-angle-axis-tick-line"},p,b)),o&&e.renderTickItem(o,N,c?c(v.value,y):v.value))});return X.createElement(Bt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:X.createElement(Bt,{className:At("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return X.isValidElement(r)?o=X.cloneElement(r,i):yt(r)?o=r(i):o=X.createElement(Yd,ld({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(w.PureComponent);gS(yS,"displayName","PolarAngleAxis");gS(yS,"axisType","angleAxis");gS(yS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var $E,u9;function nLe(){if(u9)return $E;u9=1;var t=Tee(),e=t(Object.getPrototypeOf,Object);return $E=e,$E}var VE,d9;function rLe(){if(d9)return VE;d9=1;var t=Bl(),e=nLe(),n=Ul(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var p=l.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return VE=u,VE}var iLe=rLe();const sLe=tn(iLe);var BE,f9;function aLe(){if(f9)return BE;f9=1;var t=Bl(),e=Ul(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return BE=r,BE}var oLe=aLe();const lLe=tn(oLe);function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}function cLe(t,e){return hLe(t)||fLe(t,e)||dLe(t,e)||uLe()}function uLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dLe(t,e){if(t){if(typeof t=="string")return h9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h9(t,e)}}function h9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function hLe(t){if(Array.isArray(t))return t}function m9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(n),!0).forEach(function(r){mLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mLe(t,e,n){return e=pLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pLe(t){var e=gLe(t,"string");return ux(e)=="symbol"?e:e+""}function gLe(t,e){if(ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g9=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},yLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xLe=function(e){var n=p9(p9({},yLe),e),r=w.useRef(),i=w.useState(-1),s=cLe(i,2),o=s[0],l=s[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&l(k)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,S=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var N=At("recharts-trapezoid",g);return S?X.createElement(Va,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:c,y:u},duration:y,animationEasing:v,isActive:S},function(k){var E=k.upperWidth,A=k.lowerWidth,C=k.height,T=k.x,I=k.y;return X.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},X.createElement("path",l1({},rt(n,!0),{className:N,d:g9(T,I,E,A,C),ref:r})))}):X.createElement("g",null,X.createElement("path",l1({},rt(n,!0),{className:N,d:g9(c,u,f,h,p)})))},vLe=["option","shapeType","propTransformer","activeClassName","isActive"];function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function bLe(t,e){if(t==null)return{};var n=wLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(n),!0).forEach(function(r){jLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jLe(t,e,n){return e=SLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SLe(t){var e=NLe(t,"string");return dx(e)=="symbol"?e:e+""}function NLe(t,e){if(dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Le(t,e){return c1(c1({},e),t)}function kLe(t,e){return t==="symbols"}function x9(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return X.createElement(uD,n);case"trapezoid":return X.createElement(xLe,n);case"sector":return X.createElement(cne,n);case"symbols":if(kLe(e))return X.createElement(EM,n);break;default:return null}}function ALe(t){return w.isValidElement(t)?t.props:t}function wne(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?_Le:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=bLe(t,vLe),u;if(w.isValidElement(e))u=w.cloneElement(e,c1(c1({},c),ALe(e)));else if(yt(e))u=e(c);else if(sLe(e)&&!lLe(e)){var f=i(e,c);u=X.createElement(x9,{shapeType:n,elementProps:f})}else{var h=c;u=X.createElement(x9,{shapeType:n,elementProps:h})}return l?X.createElement(Bt,{className:o},u):u}function xS(t,e){return e!=null&&"trapezoids"in t.props}function vS(t,e){return e!=null&&"sectors"in t.props}function fx(t,e){return e!=null&&"points"in t.props}function CLe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function ELe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function TLe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function PLe(t,e){var n;return xS(t,e)?n=CLe:vS(t,e)?n=ELe:fx(t,e)&&(n=TLe),n}function ILe(t,e){var n;return xS(t,e)?n="trapezoids":vS(t,e)?n="sectors":fx(t,e)&&(n="points"),n}function RLe(t,e){if(xS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(vS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return fx(t,e)?e.payload:{}}function OLe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ILe(n,e),s=RLe(n,e),o=r.filter(function(c,u){var f=Xd(s,c),h=n.props[i].filter(function(v){var y=PLe(n,e);return y(v,e)}),p=n.props[i].indexOf(h[h.length-1]),g=u===p;return f&&g}),l=r.indexOf(o[o.length-1]);return l}var M0;function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}function v9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v9(Object(n),!0).forEach(function(r){Bs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sne(r.key),r)}}function DLe(t,e,n){return e&&b9(t.prototype,e),n&&b9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LLe(t,e,n){return e=u1(e),FLe(t,jne()?Reflect.construct(e,n||[],u1(t).constructor):e.apply(t,n))}function FLe(t,e){if(e&&(Pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Le(t)}function $Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jne=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u1(t)}function VLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(t,e)}function Bs(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=BLe(t,"string");return Pm(e)=="symbol"?e:e+""}function BLe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ba=function(t){function e(n){var r;return MLe(this,e),r=LLe(this,e,[n]),Bs(r,"pieRef",null),Bs(r,"sectorRefs",[]),Bs(r,"id",pf("recharts-pie-")),Bs(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),yt(i)&&i()}),Bs(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),yt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return VLe(e,t),DLe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=rt(this.props,!1),h=rt(o,!1),p=rt(l,!1),g=o&&o.offsetRadius||20,v=r.map(function(y,b){var S=(y.startAngle+y.endAngle)/2,N=Nn(y.cx,y.cy,y.outerRadius+g,S),k=jn(jn(jn(jn({},f),y),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(N.x,y.cx)},N),E=jn(jn(jn(jn({},f),y),{},{fill:"none",stroke:y.fill},p),{},{index:b,points:[Nn(y.cx,y.cy,y.outerRadius,S),N]}),A=c;return kt(c)&&kt(u)?A="value":kt(c)&&(A=u),X.createElement(Bt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,E,"line"),e.renderLabelItem(o,k,ar(y,A)))});return X.createElement(Bt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,g=h?o:p,v=jn(jn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return X.createElement(Bt,Eh({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Kd(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),X.createElement(wne,Eh({option:g,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,g=h.prevIsAnimationActive;return X.createElement(Va,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],S=s&&s[0],N=S.startAngle;return s.forEach(function(k,E){var A=p&&p[E],C=E>0?ws(k,"paddingAngle",0):0;if(A){var T=Nr(A.endAngle-A.startAngle,k.endAngle-k.startAngle),I=jn(jn({},k),{},{startAngle:N+C,endAngle:N+T(y)+C});b.push(I),N=I.endAngle}else{var P=k.endAngle,M=k.startAngle,L=Nr(0,P-M),D=L(y),R=jn(jn({},k),{},{startAngle:N+C,endAngle:N+D+C});b.push(R),N=R.endAngle}}),X.createElement(Bt,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Xd(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!Re(u)||!Re(f)||!Re(h)||!Re(p))return null;var y=At("recharts-pie",l);return X.createElement(Bt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(S){r.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),Lr.renderCallByParent(this.props,null,!1),(!g||v)&&ko.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(X.isValidElement(r))return X.cloneElement(r,i);if(yt(r))return r(i);var o=At("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return X.createElement(Pd,Eh({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(X.isValidElement(r))return X.cloneElement(r,i);var o=s;if(yt(r)&&(o=r(i),X.isValidElement(o)))return o;var l=At("recharts-pie-label-text",typeof r!="boolean"&&!yt(r)?r.className:"");return X.createElement(Yd,Eh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);M0=Ba;Bs(Ba,"displayName","Pie");Bs(Ba,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bs(Ba,"parseDeltaAngle",function(t,e){var n=Ci(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Bs(Ba,"getRealPieData",function(t){var e=t.data,n=t.children,r=rt(t,!1),i=js(n,Sm);return e&&e.length?e.map(function(s,o){return jn(jn(jn({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return jn(jn({},r),s.props)}):[]});Bs(Ba,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=sne(i,s),l=r+Ei(t.cx,i,i/2),c=n+Ei(t.cy,s,s/2),u=Ei(t.innerRadius,o,0),f=Ei(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});Bs(Ba,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?jn(jn({},e.type.defaultProps),e.props):e.props,i=M0.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,g=Math.abs(r.minAngle),v=M0.parseCoordinateOfPie(r,n),y=M0.parseDeltaAngle(o,l),b=Math.abs(y),S=u;kt(u)&&kt(h)?(Ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):kt(u)&&(Ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=h);var N=i.filter(function(I){return ar(I,S,0)!==0}).length,k=(b>=360?N:N-1)*c,E=b-N*g-k,A=i.reduce(function(I,P){var M=ar(P,S,0);return I+(Re(M)?M:0)},0),C;if(A>0){var T;C=i.map(function(I,P){var M=ar(I,S,0),L=ar(I,f,P),D=(Re(M)?M:0)/A,R;P?R=T.endAngle+Ci(y)*c*(M!==0?1:0):R=o;var V=R+Ci(y)*((M!==0?g:0)+D*E),q=(R+V)/2,H=(v.innerRadius+v.outerRadius)/2,Y=[{name:L,value:M,payload:I,dataKey:S,type:p}],K=Nn(v.cx,v.cy,H,q);return T=jn(jn(jn({percent:D,cornerRadius:s,name:L,tooltipPayload:Y,midAngle:q,middleRadius:H,tooltipPosition:K},I),v),{},{value:ar(I,S),startAngle:R,endAngle:V,payload:I,paddingAngle:Ci(y)*c}),T})}return jn(jn({},v),{},{sectors:C,data:i})});var UE,w9;function ULe(){if(w9)return UE;w9=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var l=-1,c=e(t((i-r)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=s;return u}return UE=n,UE}var zE,j9;function Nne(){if(j9)return zE;j9=1;var t=Wee(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var s=i<0?-1:1;return s*n}return i===i?i:0}return zE=r,zE}var qE,S9;function zLe(){if(S9)return qE;S9=1;var t=ULe(),e=rS(),n=Nne();function r(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),l=l===void 0?s<o?1:-1:n(l),t(s,o,l,i)}}return qE=r,qE}var HE,N9;function qLe(){if(N9)return HE;N9=1;var t=zLe(),e=t();return HE=e,HE}var HLe=qLe();const d1=tn(HLe);function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function _9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_9(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return e=WLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WLe(t){var e=GLe(t,"string");return hx(e)=="symbol"?e:e+""}function GLe(t,e){if(hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KLe=["Webkit","Moz","O","ms"],YLe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=KLe.reduce(function(s,o){return k9(k9({},s),{},_ne({},o+r,n))},{});return i[e]=n,i};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(this,arguments)}function A9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(n),!0).forEach(function(r){us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ane(r.key),r)}}function QLe(t,e,n){return e&&C9(t.prototype,e),n&&C9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JLe(t,e,n){return e=h1(e),ZLe(t,kne()?Reflect.construct(e,n||[],h1(t).constructor):e.apply(t,n))}function ZLe(t,e){if(e&&(Im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e3e(t)}function e3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kne=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h1(t)}function t3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eI(t,e)}function eI(t,e){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eI(t,e)}function us(t,e,n){return e=Ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=n3e(t,"string");return Im(e)=="symbol"?e:e+""}function n3e(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r3e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ty().domain(d1(0,c)).range([s,s+o-l]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},E9=function(e){return e.changedTouches&&!!e.changedTouches.length},Rm=function(t){function e(n){var r;return XLe(this,e),r=JLe(this,e,[n]),us(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),us(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),us(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),us(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),us(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),us(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),us(r,"handleSlideDragStart",function(i){var s=E9(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return t3e(e,t),QLe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,h=Math.min(i,s),p=Math.max(i,s),g=e.getIndexInRange(o,h),v=e.getIndexInRange(o,p);return{startIndex:g-g%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=ar(s[r],l,r);return yt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,p=c.startIndex,g=c.endIndex,v=c.onChange,y=r.pageX-s;y>0?y=Math.min(y,u+f-h-l,u+f-h-o):y<0&&(y=Math.max(y,u-o,u-l));var b=this.getIndex({startX:o+y,endX:l+y});(b.startIndex!==p||b.endIndex!==g)&&v&&v(b),this.setState({startX:o+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=E9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,h=f.x,p=f.width,g=f.travellerWidth,v=f.onChange,y=f.gap,b=f.data,S={startX:this.state.startX,endX:this.state.endX},N=r.pageX-s;N>0?N=Math.min(N,h+p-g-u):N<0&&(N=Math.max(N,h-u)),S[o]=u+N;var k=this.getIndex(S),E=k.startIndex,A=k.endIndex,C=function(){var I=b.length-1;return o==="startX"&&(l>c?E%y===0:A%y===0)||l<c&&A===I||o==="endX"&&(l>c?A%y===0:E%y===0)||l>c&&A===I};this.setState(us(us({},o,u+N),"brushMoveStartX",r.pageX),function(){v&&C()&&v(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=l.length)){var g=l[p];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(us({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return X.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,f=r.padding,h=w.Children.only(u);return h?X.cloneElement(h,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,p=c.traveller,g=c.ariaLabel,v=c.data,y=c.startIndex,b=c.endIndex,S=Math.max(r,this.props.x),N=WE(WE({},rt(this.props,!1)),{},{x:S,y:u,width:f,height:h}),k=g||"Min value: ".concat((s=v[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return X.createElement(Bt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,N))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,p=f.endX,g=5,v={pointerEvents:"none",fill:u};return X.createElement(Bt,{className:"recharts-brush-texts"},X.createElement(Yd,f1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-g,y:o+l/2},v),this.getTextOfTick(i)),X.createElement(Yd,f1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+g,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,f=r.height,h=r.alwaysShowText,p=this.state,g=p.startX,v=p.endX,y=p.isTextActive,b=p.isSlideMoving,S=p.isTravellerMoving,N=p.isTravellerFocused;if(!i||!i.length||!Re(l)||!Re(c)||!Re(u)||!Re(f)||u<=0||f<=0)return null;var k=At("recharts-brush",s),E=X.Children.count(o)===1,A=YLe("userSelect","none");return X.createElement(Bt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||S||N||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,i):yt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return WE({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?r3e({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(w.PureComponent);us(Rm,"displayName","Brush");us(Rm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GE,T9;function i3e(){if(T9)return GE;T9=1;var t=DM();function e(n,r){var i;return t(n,function(s,o,l){return i=r(s,o,l),!i}),!!i}return GE=e,GE}var KE,P9;function s3e(){if(P9)return KE;P9=1;var t=See(),e=Uo(),n=i3e(),r=Ji(),i=rS();function s(o,l,c){var u=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return KE=s,KE}var a3e=s3e();const o3e=tn(a3e);var Ao=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},YE,I9;function l3e(){if(I9)return YE;I9=1;var t=Bee();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return YE=e,YE}var XE,R9;function c3e(){if(R9)return XE;R9=1;var t=l3e(),e=$ee(),n=Uo();function r(i,s){var o={};return s=n(s,3),e(i,function(l,c,u){t(o,c,s(l,c,u))}),o}return XE=r,XE}var u3e=c3e();const d3e=tn(u3e);var QE,O9;function f3e(){if(O9)return QE;O9=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return QE=t,QE}var JE,M9;function h3e(){if(M9)return JE;M9=1;var t=DM();function e(n,r){var i=!0;return t(n,function(s,o,l){return i=!!r(s,o,l),i}),i}return JE=e,JE}var ZE,D9;function m3e(){if(D9)return ZE;D9=1;var t=f3e(),e=h3e(),n=Uo(),r=Ji(),i=rS();function s(o,l,c){var u=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,n(l,3))}return ZE=s,ZE}var p3e=m3e();const Cne=tn(p3e);var g3e=["x","y"];function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tI.apply(this,arguments)}function L9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(n),!0).forEach(function(r){y3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y3e(t,e,n){return e=x3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x3e(t){var e=v3e(t,"string");return mx(e)=="symbol"?e:e+""}function v3e(t,e){if(mx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b3e(t,e){if(t==null)return{};var n=w3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j3e(t,e){var n=t.x,r=t.y,i=b3e(t,g3e),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return vg(vg(vg(vg(vg({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function F9(t){return X.createElement(wne,tI({shapeType:"rectangle",propTransformer:j3e,activeClassName:"recharts-active-bar"},t))}var S3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Jd(),n)}},N3e=["value","background"],Ene;function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function _3e(t,e){if(t==null)return{};var n=k3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m1.apply(this,arguments)}function $9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(n),!0).forEach(function(r){$c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pne(r.key),r)}}function C3e(t,e,n){return e&&V9(t.prototype,e),n&&V9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E3e(t,e,n){return e=p1(e),T3e(t,Tne()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function T3e(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P3e(t)}function P3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tne=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p1(t)}function I3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nI(t,e)}function $c(t,e,n){return e=Pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=R3e(t,"string");return Om(e)=="symbol"?e:e+""}function R3e(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lo=function(t){function e(){var n;A3e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=E3e(this,e,[].concat(i)),$c(n,"state",{isAnimationFinished:!1}),$c(n,"id",pf("recharts-bar-")),$c(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),$c(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return I3e(e,t),C3e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=rt(this.props,!1);return r&&r.map(function(h,p){var g=p===c,v=g?u:o,y=fr(fr(fr({},f),h),{},{isActive:g,option:v,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return X.createElement(Bt,m1({className:"recharts-bar-rectangle"},Kd(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),X.createElement(F9,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return X.createElement(Va,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=s.map(function(b,S){var N=p&&p[S];if(N){var k=Nr(N.x,b.x),E=Nr(N.y,b.y),A=Nr(N.width,b.width),C=Nr(N.height,b.height);return fr(fr({},b),{},{x:k(v),y:E(v),width:A(v),height:C(v)})}if(o==="horizontal"){var T=Nr(0,b.height),I=T(v);return fr(fr({},b),{},{y:b.y+b.height-I,height:I})}var P=Nr(0,b.width),M=P(v);return fr(fr({},b),{},{width:M})});return X.createElement(Bt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Xd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=rt(this.props.background,!1);return s.map(function(u,f){u.value;var h=u.background,p=_3e(u,N3e);if(!h)return null;var g=fr(fr(fr(fr(fr({},p),{},{fill:"#eee"},h),c),Kd(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return X.createElement(F9,m1({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,h=js(f,iv);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,g=function(b,S){var N=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:N,errorVal:ar(b,S)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return X.createElement(Bt,v,h.map(function(y){return X.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,f=r.top,h=r.width,p=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,S=At("recharts-bar",o),N=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,E=N||k,A=kt(y)?this.id:y;return X.createElement(Bt,{className:S},N||k?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(A)},X.createElement("rect",{x:N?u:u-h/2,y:k?f:f-p/2,width:N?h:h*2,height:k?p:p*2}))):null,X.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!g||b)&&ko.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(w.PureComponent);Ene=Lo;$c(Lo,"displayName","Bar");$c(Lo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$c(Lo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,g=oMe(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?fr(fr({},y),n.props):n.props,S=b.dataKey,N=b.children,k=b.minPointSize,E=v==="horizontal"?o:s,A=u?E.scale.domain():null,C=mMe({numericAxis:E}),T=js(N,Sm),I=h.map(function(P,M){var L,D,R,V,q,H;u?L=lMe(u[f+M],A):(L=ar(P,S),Array.isArray(L)||(L=[C,L]));var Y=S3e(k,Ene.defaultProps.minPointSize)(L[1],M);if(v==="horizontal"){var K,Z=[o.scale(L[0]),o.scale(L[1])],U=Z[0],W=Z[1];D=f8({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:P,index:M}),R=(K=W??U)!==null&&K!==void 0?K:void 0,V=g.size;var Q=U-W;if(q=Number.isNaN(Q)?0:Q,H={x:D,y:o.y,width:V,height:o.height},Math.abs(Y)>0&&Math.abs(q)<Math.abs(Y)){var B=Ci(q||Y)*(Math.abs(Y)-Math.abs(q));R-=B,q+=B}}else{var se=[s.scale(L[0]),s.scale(L[1])],ue=se[0],pe=se[1];if(D=ue,R=f8({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:P,index:M}),V=pe-ue,q=g.size,H={x:s.x,y:R,width:s.width,height:q},Math.abs(Y)>0&&Math.abs(V)<Math.abs(Y)){var ne=Ci(V||Y)*(Math.abs(Y)-Math.abs(V));V+=ne}}return fr(fr(fr({},P),{},{x:D,y:R,width:V,height:q,value:u?L:L[1],payload:P,background:H},T&&T[M]&&T[M].props),{},{tooltipPayload:[rne(n,P)],tooltipPosition:{x:D+V/2,y:R+q/2}})});return fr({data:I,layout:v},p)});function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function O3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ine(r.key),r)}}function M3e(t,e,n){return e&&B9(t.prototype,e),n&&B9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){bS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bS(t,e,n){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=D3e(t,"string");return px(e)=="symbol"?e:e+""}function D3e(t,e){if(px(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dD=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!hs(u,Lo);return f.reduce(function(g,v){var y=n[v],b=y.orientation,S=y.domain,N=y.padding,k=N===void 0?{}:N,E=y.mirror,A=y.reversed,C="".concat(b).concat(E?"Mirror":""),T,I,P,M,L;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=S[1]-S[0],R=1/0,V=y.categoricalDomain.sort(XAe);if(V.forEach(function(se,ue){ue>0&&(R=Math.min((se||0)-(V[ue-1]||0),R))}),Number.isFinite(R)){var q=R/D,H=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(T=q*H/2),y.padding==="no-gap"){var Y=Ei(e.barCategoryGap,q*H),K=q*H/2;T=K-Y-(K-Y)/H*Y}}}i==="xAxis"?I=[r.left+(k.left||0)+(T||0),r.left+r.width-(k.right||0)-(T||0)]:i==="yAxis"?I=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(T||0),r.top+r.height-(k.bottom||0)-(T||0)]:I=y.range,A&&(I=[I[1],I[0]]);var Z=Zte(y,s,p),U=Z.scale,W=Z.realScaleType;U.domain(S).range(I),ene(U);var Q=tne(U,va(va({},y),{},{realScaleType:W}));i==="xAxis"?(L=b==="top"&&!E||b==="bottom"&&E,P=r.left,M=h[C]-L*y.height):i==="yAxis"&&(L=b==="left"&&!E||b==="right"&&E,P=h[C]-L*y.width,M=r.top);var B=va(va(va({},y),Q),{},{realScaleType:W,x:P,y:M,scale:U,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return B.bandSize=Zw(B,Q),!y.hide&&i==="xAxis"?h[C]+=(L?-1:1)*B.height:y.hide||(h[C]+=(L?-1:1)*B.width),va(va({},g),{},bS({},v,B))},{})},Rne=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},L3e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Rne({x:n,y:r},{x:i,y:s})},One=function(){function t(e){O3e(this,t),this.scale=e}return M3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();bS(One,"EPS",1e-4);var fD=function(e){var n=Object.keys(e).reduce(function(r,i){return va(va({},r),{},bS({},i,One.create(e[i])))},{});return va(va({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return d3e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Cne(i,function(s,o){return n[o].isInRange(s)})}})};function F3e(t){return(t%180+180)%180}var $3e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=F3e(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},e2,z9;function V3e(){if(z9)return e2;z9=1;var t=Uo(),e=Zx(),n=tS();function r(i){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=n(s),o=function(h){return u(c[h],h,c)}}var f=i(s,o,l);return f>-1?c[u?s[f]:f]:void 0}}return e2=r,e2}var t2,q9;function B3e(){if(q9)return t2;q9=1;var t=Nne();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return t2=e,t2}var n2,H9;function U3e(){if(H9)return n2;H9=1;var t=Oee(),e=Uo(),n=B3e(),r=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),t(s,e(o,3),u)}return n2=i,n2}var r2,W9;function z3e(){if(W9)return r2;W9=1;var t=V3e(),e=U3e(),n=t(e);return r2=n,r2}var q3e=z3e();const H3e=tn(q3e);var W3e=YZ();const G3e=tn(W3e);var K3e=G3e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hD=w.createContext(void 0),mD=w.createContext(void 0),Mne=w.createContext(void 0),Dne=w.createContext({}),Lne=w.createContext(void 0),Fne=w.createContext(0),$ne=w.createContext(0),G9=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,f=K3e(s);return X.createElement(hD.Provider,{value:r},X.createElement(mD.Provider,{value:i},X.createElement(Dne.Provider,{value:s},X.createElement(Mne.Provider,{value:f},X.createElement(Lne.Provider,{value:o},X.createElement(Fne.Provider,{value:u},X.createElement($ne.Provider,{value:c},l)))))))},Y3e=function(){return w.useContext(Lne)},Vne=function(e){var n=w.useContext(hD);n==null&&Jd();var r=n[e];return r==null&&Jd(),r},X3e=function(){var e=w.useContext(hD);return Ec(e)},Q3e=function(){var e=w.useContext(mD),n=H3e(e,function(r){return Cne(r.domain,Number.isFinite)});return n||Ec(e)},Bne=function(e){var n=w.useContext(mD);n==null&&Jd();var r=n[e];return r==null&&Jd(),r},J3e=function(){var e=w.useContext(Mne);return e},Z3e=function(){return w.useContext(Dne)},pD=function(){return w.useContext($ne)},gD=function(){return w.useContext(Fne)};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function eFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zne(r.key),r)}}function nFe(t,e,n){return e&&tFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rFe(t,e,n){return e=g1(e),iFe(t,Une()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function iFe(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(t)}function sFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Une(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Une=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function aFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rI(t,e)}function K9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(n),!0).forEach(function(r){yD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yD(t,e,n){return e=zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=oFe(t,"string");return Mm(e)=="symbol"?e:e+""}function oFe(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lFe(t,e){return fFe(t)||dFe(t,e)||uFe(t,e)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(t,e){if(t){if(typeof t=="string")return X9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X9(t,e)}}function X9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function fFe(t){if(Array.isArray(t))return t}function iI(){return iI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iI.apply(this,arguments)}var hFe=function(e,n){var r;return X.isValidElement(e)?r=X.cloneElement(e,n):yt(e)?r=e(n):r=X.createElement("line",iI({},n,{className:"recharts-reference-line-line"})),r},mFe=function(e,n,r,i,s,o,l,c,u){var f=s.x,h=s.y,p=s.width,g=s.height;if(r){var v=u.y,y=e.y.apply(v,{position:o});if(Ao(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:f+p,y},{x:f,y}];return c==="left"?b.reverse():b}if(n){var S=u.x,N=e.x.apply(S,{position:o});if(Ao(u,"discard")&&!e.x.isInRange(N))return null;var k=[{x:N,y:h+g},{x:N,y:h}];return l==="top"?k.reverse():k}if(i){var E=u.segment,A=E.map(function(C){return e.apply(C,{position:o})});return Ao(u,"discard")&&o3e(A,function(C){return!e.isInRange(C)})?null:A}return null};function pFe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Y3e(),f=Vne(i),h=Bne(s),p=J3e();if(!u||!p)return null;Ca(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=fD({x:f.scale,y:h.scale}),v=_r(e),y=_r(n),b=r&&r.length===2,S=mFe(g,v,y,b,p,t.position,f.orientation,h.orientation,t);if(!S)return null;var N=lFe(S,2),k=N[0],E=k.x,A=k.y,C=N[1],T=C.x,I=C.y,P=Ao(t,"hidden")?"url(#".concat(u,")"):void 0,M=Y9(Y9({clipPath:P},rt(t,!0)),{},{x1:E,y1:A,x2:T,y2:I});return X.createElement(Bt,{className:At("recharts-reference-line",l)},hFe(o,M),Lr.renderCallByParent(t,L3e({x1:E,y1:A,x2:T,y2:I})))}var xD=function(t){function e(){return eFe(this,e),rFe(this,e,arguments)}return aFe(e,t),nFe(e,[{key:"render",value:function(){return X.createElement(pFe,this.props)}}])}(X.Component);yD(xD,"displayName","ReferenceLine");yD(xD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sI(){return sI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sI.apply(this,arguments)}function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){wS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hne(r.key),r)}}function xFe(t,e,n){return e&&yFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vFe(t,e,n){return e=y1(e),bFe(t,qne()?Reflect.construct(e,n||[],y1(t).constructor):e.apply(t,n))}function bFe(t,e){if(e&&(Dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wFe(t)}function wFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qne=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y1(t)}function jFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aI(t,e)}function wS(t,e,n){return e=Hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=SFe(t,"string");return Dm(e)=="symbol"?e:e+""}function SFe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NFe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=fD({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ao(e,"discard")&&!o.isInRange(l)?null:l},jS=function(t){function e(){return gFe(this,e),vFe(this,e,arguments)}return jFe(e,t),xFe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=_r(i),f=_r(s);if(Ca(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=NFe(this.props);if(!h)return null;var p=h.x,g=h.y,v=this.props,y=v.shape,b=v.className,S=Ao(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=J9(J9({clipPath:S},rt(this.props,!0)),{},{cx:p,cy:g});return X.createElement(Bt,{className:At("recharts-reference-dot",b)},e.renderDot(y,N),Lr.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])}(X.Component);wS(jS,"displayName","ReferenceDot");wS(jS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wS(jS,"renderDot",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):yt(t)?n=t(e):n=X.createElement(sv,sI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function oI(){return oI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oI.apply(this,arguments)}function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){SS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gne(r.key),r)}}function AFe(t,e,n){return e&&kFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CFe(t,e,n){return e=x1(e),EFe(t,Wne()?Reflect.construct(e,n||[],x1(t).constructor):e.apply(t,n))}function EFe(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TFe(t)}function TFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wne=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x1(t)}function PFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lI(t,e)}function lI(t,e){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lI(t,e)}function SS(t,e,n){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=IFe(t,"string");return Lm(e)=="symbol"?e:e+""}function IFe(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RFe=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,h=s.yAxis;if(!f||!h)return null;var p=fD({x:f.scale,y:h.scale}),g={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Ao(s,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:Rne(g,v)},NS=function(t){function e(){return _Fe(this,e),CFe(this,e,arguments)}return PFe(e,t),AFe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Ca(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=_r(i),p=_r(s),g=_r(o),v=_r(l),y=this.props.shape;if(!h&&!p&&!g&&!v&&!y)return null;var b=RFe(h,p,g,v,this.props);if(!b&&!y)return null;var S=Ao(this.props,"hidden")?"url(#".concat(f,")"):void 0;return X.createElement(Bt,{className:At("recharts-reference-area",c)},e.renderRect(y,eq(eq({clipPath:S},rt(this.props,!0)),b)),Lr.renderCallByParent(this.props,b))}}])}(X.Component);SS(NS,"displayName","ReferenceArea");SS(NS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});SS(NS,"renderRect",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):yt(t)?n=t(e):n=X.createElement(uD,oI({},e,{className:"recharts-reference-area-rect"})),n});function Kne(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function OFe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return $3e(r,n)}function MFe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function v1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function DFe(t,e){return Kne(t,e+1)}function LFe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,f=o,h=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:Kne(r,u)};var y=c,b,S=function(){return b===void 0&&(b=n(v,y)),b},N=v.coordinate,k=c===0||v1(t,N,S,f,l);k||(c=0,f=o,u+=1),k&&(f=N+t*(S()/2+i),c+=u)},p;u<=s.length;)if(p=h(),p)return p.v;return[]}function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function tq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tq(Object(n),!0).forEach(function(r){FFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FFe(t,e,n){return e=$Fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Fe(t){var e=VFe(t,"string");return gx(e)=="symbol"?e:e+""}function VFe(t,e){if(gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BFe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(p){var g=s[p],v,y=function(){return v===void 0&&(v=n(g,p)),v};if(p===o-1){var b=t*(g.coordinate+t*y()/2-c);s[p]=g=ai(ai({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else s[p]=g=ai(ai({},g),{},{tickCoord:g.coordinate});var S=v1(t,g.tickCoord,y,l,c);S&&(c=g.tickCoord-t*(y()/2+i),s[p]=ai(ai({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function UFe(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var f=r[l-1],h=n(f,l-1),p=t*(f.coordinate+t*h/2-u);o[l-1]=f=ai(ai({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var g=v1(t,f.tickCoord,function(){return h},c,u);g&&(u=f.tickCoord-t*(h/2+i),o[l-1]=ai(ai({},f),{},{isShow:!0}))}for(var v=s?l-1:l,y=function(N){var k=o[N],E,A=function(){return E===void 0&&(E=n(k,N)),E};if(N===0){var C=t*(k.coordinate-t*A()/2-c);o[N]=k=ai(ai({},k),{},{tickCoord:C<0?k.coordinate-C*t:k.coordinate})}else o[N]=k=ai(ai({},k),{},{tickCoord:k.coordinate});var T=v1(t,k.tickCoord,A,c,u);T&&(c=k.tickCoord+t*(A()/2+i),o[N]=ai(ai({},k),{},{isShow:!0}))},b=0;b<v;b++)y(b);return o}function vD(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(Re(c)||wu.isSsr)return DFe(i,typeof c=="number"&&Re(c)?c:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",v=f&&g==="width"?ey(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(k,E){var A=yt(u)?u(k.value,E):k.value;return g==="width"?OFe(ey(A,{fontSize:e,letterSpacing:n}),v,h):ey(A,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Ci(i[1].coordinate-i[0].coordinate):1,S=MFe(s,b,g);return c==="equidistantPreserveStart"?LFe(b,S,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=UFe(b,S,y,i,o,c==="preserveStartEnd"):p=BFe(b,S,y,i,o),p.filter(function(N){return N.isShow}))}var zFe=["viewBox"],qFe=["viewBox"],HFe=["ticks"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Th.apply(this,arguments)}function nq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(n),!0).forEach(function(r){bD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i2(t,e){if(t==null)return{};var n=WFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xne(r.key),r)}}function KFe(t,e,n){return e&&rq(t.prototype,e),n&&rq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YFe(t,e,n){return e=b1(e),XFe(t,Yne()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function XFe(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QFe(t)}function QFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yne=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function JFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cI(t,e)}function cI(t,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(t,e)}function bD(t,e,n){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=ZFe(t,"string");return Fm(e)=="symbol"?e:e+""}function ZFe(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vp=function(t){function e(n){var r;return GFe(this,e),r=YFe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return JFe(e,t),KFe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=i2(r,zFe),l=this.props,c=l.viewBox,u=i2(l,qFe);return!Uh(s,c)||!Uh(o,u)||!Uh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,g,v,y,b,S,N,k=h?-1:1,E=r.tickSize||f,A=Re(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,b=o+ +!h*c,y=b-k*E,N=y-k*p,S=A;break;case"left":y=b=r.coordinate,v=s+ +!h*l,g=v-k*E,S=g-k*p,N=A;break;case"right":y=b=r.coordinate,v=s+ +h*l,g=v+k*E,S=g+k*p,N=A;break;default:g=v=r.coordinate,b=o+ +h*c,y=b+k*E,N=y+k*p,S=A;break}return{line:{x1:g,y1:y,x2:v,y2:b},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,h=ji(ji(ji({},rt(this.props,!1)),rt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=ji(ji({},h),{},{x1:i,y1:s+p*l,x2:i+o,y2:s+p*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);h=ji(ji({},h),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+l})}return X.createElement("line",Th({},h,{className:At("recharts-cartesian-axis-line",ws(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,p=l.unit,g=vD(ji(ji({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=rt(this.props,!1),S=rt(f,!1),N=ji(ji({},b),{},{fill:"none"},rt(c,!1)),k=g.map(function(E,A){var C=o.getTickLineCoord(E),T=C.line,I=C.tick,P=ji(ji(ji(ji({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},S),I),{},{index:A,payload:E,visibleTicksCount:g.length,tickFormatter:h});return X.createElement(Bt,Th({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Kd(o.props,E,A)),c&&X.createElement("line",Th({},N,T,{className:At("recharts-cartesian-axis-tick-line",ws(c,"className"))})),f&&e.renderTickItem(f,P,"".concat(yt(h)?h(E.value,A):E.value).concat(p||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,g=i2(h,HFe),v=p;return yt(c)&&(v=p&&p.length>0?c(this.props):c(g)),o<=0||l<=0||!v||!v.length?null:X.createElement(Bt,{className:At("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return X.isValidElement(r)?o=X.cloneElement(r,i):yt(r)?o=r(i):o=X.createElement(Yd,Th({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(w.Component);bD(vp,"displayName","CartesianAxis");bD(vp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var e$e=["x1","y1","x2","y2","key"],t$e=["offset"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iq(Object(n),!0).forEach(function(r){n$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n$e(t,e,n){return e=r$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$e(t){var e=i$e(t,"string");return Zd(e)=="symbol"?e:e+""}function i$e(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bd.apply(this,arguments)}function sq(t,e){if(t==null)return{};var n=s$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a$e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return X.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Qne(t,e){var n;if(X.isValidElement(t))n=X.cloneElement(t,e);else if(yt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=sq(e,e$e),u=rt(c,!1);u.offset;var f=sq(u,t$e);n=X.createElement("line",bd({},f,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function o$e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ci(ci({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return Qne(i,u)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function l$e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ci(ci({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return Qne(i,u)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function c$e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var v=!f[g+1],y=v?i+o-p:f[g+1]-p;if(y<=0)return null;var b=g%e.length;return X.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:y,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function u$e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+s-s)}).sort(function(p,g){return p-g});s!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var v=!f[g+1],y=v?s+l-p:f[g+1]-p;if(y<=0)return null;var b=g%r.length;return X.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:y,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var d$e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return Jte(vD(ci(ci(ci({},vp.defaultProps),r),{},{ticks:xl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},f$e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return Jte(vD(ci(ci(ci({},vp.defaultProps),r),{},{ticks:xl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},uh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Id(t){var e,n,r,i,s,o,l=pD(),c=gD(),u=Z3e(),f=ci(ci({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:uh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:uh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:uh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:uh.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:uh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:uh.verticalFill,x:Re(t.x)?t.x:u.left,y:Re(t.y)?t.y:u.top,width:Re(t.width)?t.width:u.width,height:Re(t.height)?t.height:u.height}),h=f.x,p=f.y,g=f.width,v=f.height,y=f.syncWithTicks,b=f.horizontalValues,S=f.verticalValues,N=X3e(),k=Q3e();if(!Re(g)||g<=0||!Re(v)||v<=0||!Re(h)||h!==+h||!Re(p)||p!==+p)return null;var E=f.verticalCoordinatesGenerator||d$e,A=f.horizontalCoordinatesGenerator||f$e,C=f.horizontalPoints,T=f.verticalPoints;if((!C||!C.length)&&yt(A)){var I=b&&b.length,P=A({yAxis:k?ci(ci({},k),{},{ticks:I?b:k.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);Ca(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zd(P),"]")),Array.isArray(P)&&(C=P)}if((!T||!T.length)&&yt(E)){var M=S&&S.length,L=E({xAxis:N?ci(ci({},N),{},{ticks:M?S:N.ticks}):void 0,width:l,height:c,offset:u},M?!0:y);Ca(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zd(L),"]")),Array.isArray(L)&&(T=L)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(a$e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),X.createElement(o$e,bd({},f,{offset:u,horizontalPoints:C,xAxis:N,yAxis:k})),X.createElement(l$e,bd({},f,{offset:u,verticalPoints:T,xAxis:N,yAxis:k})),X.createElement(c$e,bd({},f,{horizontalPoints:C})),X.createElement(u$e,bd({},f,{verticalPoints:T})))}Id.displayName="CartesianGrid";var h$e=["type","layout","connectNulls","ref"],m$e=["key"];function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function aq(t,e){if(t==null)return{};var n=p$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(n),!0).forEach(function(r){ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dh(t){return v$e(t)||x$e(t)||y$e(t)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$e(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(t,e)}}function x$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v$e(t){if(Array.isArray(t))return uI(t)}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zne(r.key),r)}}function w$e(t,e,n){return e&&lq(t.prototype,e),n&&lq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j$e(t,e,n){return e=w1(e),S$e(t,Jne()?Reflect.construct(e,n||[],w1(t).constructor):e.apply(t,n))}function S$e(t,e){if(e&&($m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$e(t)}function N$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jne=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w1(t)}function _$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dI(t,e)}function dI(t,e){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dI(t,e)}function ba(t,e,n){return e=Zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=k$e(t,"string");return $m(e)=="symbol"?e:e+""}function k$e(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vm=function(t){function e(){var n;b$e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j$e(this,e,[].concat(i)),ba(n,"state",{isAnimationFinished:!0,totalLength:0}),ba(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ba(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,N){return S+N});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),h=o%u,p=l-o,g=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>h){g=[].concat(dh(c.slice(0,v)),[h-y]);break}var b=g.length%2===0?[0,p]:[p];return[].concat(dh(e.repeat(c,f)),dh(g),b).map(function(S){return"".concat(S,"px")}).join(", ")}),ba(n,"id",pf("recharts-line-")),ba(n,"pathRef",function(o){n.mainCurve=o}),ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return _$e(e,t),w$e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,h=js(f,iv);if(!h)return null;var p=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:ar(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return X.createElement(Bt,g,h.map(function(v){return X.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=rt(this.props,!1),p=rt(c,!0),g=u.map(function(y,b){var S=ls(ls(ls({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return e.renderDotItem(c,S)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return X.createElement(Bt,ay({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var h=aq(l,h$e),p=ls(ls(ls({},rt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:f});return X.createElement(Pd,ay({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,p=o.animationEasing,g=o.animationId,v=o.animateNewValues,y=o.width,b=o.height,S=this.state,N=S.prevPoints,k=S.totalLength;return X.createElement(Va,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(N){var C=N.length/l.length,T=l.map(function(D,R){var V=Math.floor(R*C);if(N[V]){var q=N[V],H=Nr(q.x,D.x),Y=Nr(q.y,D.y);return ls(ls({},D),{},{x:H(A),y:Y(A)})}if(v){var K=Nr(y*2,D.x),Z=Nr(b/2,D.y);return ls(ls({},D),{},{x:K(A),y:Z(A)})}return ls(ls({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(T,r,i)}var I=Nr(0,k),P=I(A),M;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});M=s.getStrokeDasharray(P,k,L)}else M=s.generateSimpleStrokeDasharray(k,P);return s.renderCurveStatically(l,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Xd(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,h=i.top,p=i.left,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,N=l.length===1,k=At("recharts-line",c),E=u&&u.allowDataOverflow,A=f&&f.allowDataOverflow,C=E||A,T=kt(b)?this.id:b,I=(r=rt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=I.r,M=P===void 0?3:P,L=I.strokeWidth,D=L===void 0?2:L,R=eee(o)?o:{},V=R.clipDot,q=V===void 0?!0:V,H=M*2+D;return X.createElement(Bt,{className:k},E||A?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(T)},X.createElement("rect",{x:E?p:p-g/2,y:A?h:h-v/2,width:E?g:g*2,height:A?v:v*2})),!q&&X.createElement("clipPath",{id:"clipPath-dots-".concat(T)},X.createElement("rect",{x:p-H/2,y:h-H/2,width:g+H,height:v+H}))):null,!N&&this.renderCurve(C,T),this.renderErrorBar(C,T),(N||o)&&this.renderDots(C,q,T),(!y||S)&&ko.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(dh(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(dh(o),dh(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(X.isValidElement(r))s=X.cloneElement(r,i);else if(yt(r))s=r(i);else{var o=i.key,l=aq(i,m$e),c=At("recharts-line-dot",typeof r!="boolean"?r.className:"");s=X.createElement(sv,ay({key:o},l,{className:c}))}return s}}])}(w.PureComponent);ba(Vm,"displayName","Line");ba(Vm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ba(Vm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,h=c.map(function(p,g){var v=ar(p,o);return f==="horizontal"?{x:Jw({axis:n,ticks:i,bandSize:l,entry:p,index:g}),y:kt(v)?null:r.scale(v),value:v,payload:p}:{x:kt(v)?null:n.scale(v),y:Jw({axis:r,ticks:s,bandSize:l,entry:p,index:g}),value:v,payload:p}});return ls({points:h,layout:f},u)});var A$e=["layout","type","stroke","connectNulls","isRange","ref"],C$e=["key"],ere;function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function tre(t,e){if(t==null)return{};var n=E$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rre(r.key),r)}}function P$e(t,e,n){return e&&uq(t.prototype,e),n&&uq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I$e(t,e,n){return e=j1(e),R$e(t,nre()?Reflect.construct(e,n||[],j1(t).constructor):e.apply(t,n))}function R$e(t,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$e(t)}function O$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nre=function(){return!!t})()}function j1(t){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j1(t)}function M$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fI(t,e)}function po(t,e,n){return e=rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=D$e(t,"string");return Bm(e)=="symbol"?e:e+""}function D$e(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _u=function(t){function e(){var n;T$e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=I$e(this,e,[].concat(i)),po(n,"state",{isAnimationFinished:!0}),po(n,"id",pf("recharts-area-")),po(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),po(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return M$e(e,t),P$e(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,p=rt(this.props,!1),g=rt(u,!0),v=f.map(function(b,S){var N=Nc(Nc(Nc({key:"dot-".concat(S),r:3},p),g),{},{index:S,cx:b.x,cy:b.y,dataKey:h,value:b.value,payload:b.payload,points:f});return e.renderDotItem(u,N)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return X.createElement(Bt,wd({className:"recharts-area-dots"},y),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=r*Math.abs(c-u),h=Fc(o.map(function(p){return p.y||0}));return Re(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Fc(s.map(function(p){return p.y||0})),h)),Re(h)?X.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=r*Math.abs(c-u),h=Fc(o.map(function(p){return p.x||0}));return Re(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Fc(s.map(function(p){return p.x||0})),h)),Re(h)?X.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var g=tre(l,A$e);return X.createElement(Bt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},X.createElement(Pd,wd({},rt(g,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&X.createElement(Pd,wd({},rt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),f!=="none"&&p&&X.createElement(Pd,wd({},rt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,p=o.animationEasing,g=o.animationId,v=this.state,y=v.prevPoints,b=v.prevBaseLine;return X.createElement(Va,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(y){var k=y.length/l.length,E=l.map(function(I,P){var M=Math.floor(P*k);if(y[M]){var L=y[M],D=Nr(L.x,I.x),R=Nr(L.y,I.y);return Nc(Nc({},I),{},{x:D(N),y:R(N)})}return I}),A;if(Re(c)&&typeof c=="number"){var C=Nr(b,c);A=C(N)}else if(kt(c)||mp(c)){var T=Nr(b,0);A=T(N)}else A=c.map(function(I,P){var M=Math.floor(P*k);if(b[M]){var L=b[M],D=Nr(L.x,I.x),R=Nr(L.y,I.y);return Nc(Nc({},I),{},{x:D(N),y:R(N)})}return I});return s.renderAreaStatically(E,A,r,i)}return X.createElement(Bt,null,X.createElement("defs",null,X.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(N))),X.createElement(Bt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!f&&p>0||!Xd(f,o)||!Xd(h,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,f=i.left,h=i.xAxis,p=i.yAxis,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,N=l.length===1,k=At("recharts-area",c),E=h&&h.allowDataOverflow,A=p&&p.allowDataOverflow,C=E||A,T=kt(b)?this.id:b,I=(r=rt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=I.r,M=P===void 0?3:P,L=I.strokeWidth,D=L===void 0?2:L,R=eee(o)?o:{},V=R.clipDot,q=V===void 0?!0:V,H=M*2+D;return X.createElement(Bt,{className:k},E||A?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(T)},X.createElement("rect",{x:E?f:f-g/2,y:A?u:u-v/2,width:E?g:g*2,height:A?v:v*2})),!q&&X.createElement("clipPath",{id:"clipPath-dots-".concat(T)},X.createElement("rect",{x:f-H/2,y:u-H/2,width:g+H,height:v+H}))):null,N?null:this.renderArea(C,T),(o||N)&&this.renderDots(C,q,T),(!y||S)&&ko.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(w.PureComponent);ere=_u;po(_u,"displayName","Area");po(_u,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});po(_u,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Re(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});po(_u,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,g=e.layout,v=u&&u.length,y=ere.getBaseValue(e,n,r,i),b=g==="horizontal",S=!1,N=h.map(function(E,A){var C;v?C=u[f+A]:(C=ar(E,c),Array.isArray(C)?S=!0:C=[y,C]);var T=C[1]==null||v&&ar(E,c)==null;return b?{x:Jw({axis:r,ticks:s,bandSize:l,entry:E,index:A}),y:T?null:i.scale(C[1]),value:C,payload:E}:{x:T?null:r.scale(C[1]),y:Jw({axis:i,ticks:o,bandSize:l,entry:E,index:A}),value:C,payload:E}}),k;return v||S?k=N.map(function(E){var A=Array.isArray(E.value)?E.value[0]:null;return b?{x:E.x,y:A!=null&&E.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:E.y}}):k=b?i.scale(y):r.scale(y),Nc({points:N,baseLine:k,layout:g,isRange:S},p)});po(_u,"renderDotItem",function(t,e){var n;if(X.isValidElement(t))n=X.cloneElement(t,e);else if(yt(t))n=t(e);else{var r=At("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=tre(e,C$e);n=X.createElement(sv,wd({},s,{key:i,className:r}))}return n});function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function L$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,are(r.key),r)}}function $$e(t,e,n){return e&&F$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V$e(t,e,n){return e=S1(e),B$e(t,ire()?Reflect.construct(e,n||[],S1(t).constructor):e.apply(t,n))}function B$e(t,e){if(e&&(Um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$e(t)}function U$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ire(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ire=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(t)}function z$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hI(t,e)}function hI(t,e){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hI(t,e)}function sre(t,e,n){return e=are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=q$e(t,"string");return Um(e)=="symbol"?e:e+""}function q$e(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mI(){return mI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mI.apply(this,arguments)}function H$e(t){var e=t.xAxisId,n=pD(),r=gD(),i=Vne(e);return i==null?null:X.createElement(vp,mI({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return xl(o,!0)}}))}var Ea=function(t){function e(){return L$e(this,e),V$e(this,e,arguments)}return z$e(e,t),$$e(e,[{key:"render",value:function(){return X.createElement(H$e,this.props)}}])}(X.Component);sre(Ea,"displayName","XAxis");sre(Ea,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function W$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cre(r.key),r)}}function K$e(t,e,n){return e&&G$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y$e(t,e,n){return e=N1(e),X$e(t,ore()?Reflect.construct(e,n||[],N1(t).constructor):e.apply(t,n))}function X$e(t,e){if(e&&(zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$e(t)}function Q$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ore(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ore=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(t)}function J$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pI(t,e)}function pI(t,e){return pI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pI(t,e)}function lre(t,e,n){return e=cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=Z$e(t,"string");return zm(e)=="symbol"?e:e+""}function Z$e(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gI.apply(this,arguments)}var eVe=function(e){var n=e.yAxisId,r=pD(),i=gD(),s=Bne(n);return s==null?null:X.createElement(vp,gI({},s,{className:At("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return xl(l,!0)}}))},Ta=function(t){function e(){return W$e(this,e),Y$e(this,e,arguments)}return J$e(e,t),K$e(e,[{key:"render",value:function(){return X.createElement(eVe,this.props)}}])}(X.Component);lre(Ta,"displayName","YAxis");lre(Ta,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dq(t){return iVe(t)||rVe(t)||nVe(t)||tVe()}function tVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nVe(t,e){if(t){if(typeof t=="string")return yI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yI(t,e)}}function rVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iVe(t){if(Array.isArray(t))return yI(t)}function yI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xI=function(e,n,r,i,s){var o=js(e,xD),l=js(e,jS),c=[].concat(dq(o),dq(l)),u=js(e,NS),f="".concat(i,"Id"),h=i[0],p=n;if(c.length&&(p=c.reduce(function(y,b){if(b.props[f]===r&&Ao(b.props,"extendDomain")&&Re(b.props[h])){var S=b.props[h];return[Math.min(y[0],S),Math.max(y[1],S)]}return y},p)),u.length){var g="".concat(h,"1"),v="".concat(h,"2");p=u.reduce(function(y,b){if(b.props[f]===r&&Ao(b.props,"extendDomain")&&Re(b.props[g])&&Re(b.props[v])){var S=b.props[g],N=b.props[v];return[Math.min(y[0],S,N),Math.max(y[1],S,N)]}return y},p)}return s&&s.length&&(p=s.reduce(function(y,b){return Re(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},p)),p},s2={exports:{}},fq;function sVe(){return fq||(fq=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||c,p),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,v=new Array(g);p<g;p++)v[p]=h[p].fn;return v},l.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,p,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],S=arguments.length,N,k;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,g),!0;case 6:return b.fn.call(b.context,f,h,p,g,v),!0}for(k=1,N=new Array(S-1);k<S;k++)N[k-1]=arguments[k];b.fn.apply(b.context,N)}else{var E=b.length,A;for(k=0;k<E;k++)switch(b[k].once&&this.removeListener(u,b[k].fn,void 0,!0),S){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,f);break;case 3:b[k].fn.call(b[k].context,f,h);break;case 4:b[k].fn.call(b[k].context,f,h,p);break;default:if(!N)for(A=1,N=new Array(S-1);A<S;A++)N[A-1]=arguments[A];b[k].fn.apply(b[k].context,N)}}return!0},l.prototype.on=function(u,f,h){return s(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return s(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,p){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!h||v.context===h)&&o(this,g);else{for(var y=0,b=[],S=v.length;y<S;y++)(v[y].fn!==f||p&&!v[y].once||h&&v[y].context!==h)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(s2)),s2.exports}var aVe=sVe();const oVe=tn(aVe);var a2=new oVe,o2="recharts.syncMouseEvents";function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function lVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ure(r.key),r)}}function uVe(t,e,n){return e&&cVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l2(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=dVe(t,"string");return yx(e)=="symbol"?e:e+""}function dVe(t,e){if(yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fVe=function(){function t(){lVe(this,t),l2(this,"activeIndex",0),l2(this,"coordinateList",[]),l2(this,"layout","horizontal")}return uVe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+c+u,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function hVe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Re(r)&&Re(i))return!0}return!1}function mVe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dre(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Nn(e,n,r,i),l=Nn(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function pVe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,p=Nn(l,c,u,h),g=Nn(l,c,f,h);r=p.x,i=p.y,s=g.x,o=g.y}else return dre(e);return[{x:r,y:i},{x:s,y:o}]}function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){gVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gVe(t,e,n){return e=yVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yVe(t){var e=xVe(t,"string");return xx(e)=="symbol"?e:e+""}function xVe(t,e){if(xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vVe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var v,y=Pd;if(p==="ScatterChart")v=o,y=T5e;else if(p==="BarChart")v=mVe(h,o,c,f),y=uD;else if(h==="radial"){var b=dre(o),S=b.cx,N=b.cy,k=b.radius,E=b.startAngle,A=b.endAngle;v={cx:S,cy:N,startAngle:E,endAngle:A,innerRadius:k,outerRadius:k},y=cne}else v={points:pVe(h,o,c)},y=Pd;var C=a0(a0(a0(a0({stroke:"#ccc",pointerEvents:"none"},c),v),rt(g,!1)),{},{payload:l,payloadIndex:u,className:At("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,C):w.createElement(y,C)}var bVe=["item"],wVe=["children","className","width","height","style","compact","title","desc"];function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}function mq(t,e){return NVe(t)||SVe(t,e)||hre(t,e)||jVe()}function jVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function NVe(t){if(Array.isArray(t))return t}function pq(t,e){if(t==null)return{};var n=_Ve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mre(r.key),r)}}function CVe(t,e,n){return e&&AVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EVe(t,e,n){return e=_1(e),TVe(t,fre()?Reflect.construct(e,n||[],_1(t).constructor):e.apply(t,n))}function TVe(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PVe(t)}function PVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fre=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(t)}function IVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vI(t,e)}function vI(t,e){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vI(t,e)}function Hm(t){return MVe(t)||OVe(t)||hre(t)||RVe()}function RVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(t,e){if(t){if(typeof t=="string")return bI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bI(t,e)}}function OVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MVe(t){if(Array.isArray(t))return bI(t)}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(n),!0).forEach(function(r){pt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pt(t,e,n){return e=mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=DVe(t,"string");return qm(e)=="symbol"?e:e+""}function DVe(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LVe={xAxis:["bottom","top"],yAxis:["left","right"]},FVe={width:"100%",height:"100%"},pre={x:0,y:0};function o0(t){return t}var $Ve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},VVe=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return be(be(be({},i),Nn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return be(be(be({},i),Nn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return pre},_S=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hm(l),Hm(u)):l},[]);return o.length>0?o:e&&e.length&&Re(i)&&Re(s)?e.slice(i,s+1):[]};function gre(t){return t==="number"?[0,"auto"]:void 0}var wI=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=_S(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?l:h;p=Aw(g,o.dataKey,i)}else p=h&&h[r]||l[r];return p?[].concat(Hm(c),[rne(u,p)]):c},[])},yq=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=$Ve(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=tMe(o,l,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,p=wI(e,n,f,h),g=VVe(r,l,f,s);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:g}}return null},BVe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,g=Qte(f,s);return r.reduce(function(v,y){var b,S=y.type.defaultProps!==void 0?be(be({},y.type.defaultProps),y.props):y.props,N=S.type,k=S.dataKey,E=S.allowDataOverflow,A=S.allowDuplicatedCategory,C=S.scale,T=S.ticks,I=S.includeHidden,P=S[o];if(v[P])return v;var M=_S(e.data,{graphicalItems:i.filter(function(Q){var B,se=o in Q.props?Q.props[o]:(B=Q.type.defaultProps)===null||B===void 0?void 0:B[o];return se===P}),dataStartIndex:c,dataEndIndex:u}),L=M.length,D,R,V;hVe(S.domain,E,N)&&(D=OP(S.domain,null,E),g&&(N==="number"||C!=="auto")&&(V=ny(M,k,"category")));var q=gre(N);if(!D||D.length===0){var H,Y=(H=S.domain)!==null&&H!==void 0?H:q;if(k){if(D=ny(M,k,N),N==="category"&&g){var K=YAe(D);A&&K?(R=D,D=d1(0,L)):A||(D=p8(Y,D,y).reduce(function(Q,B){return Q.indexOf(B)>=0?Q:[].concat(Hm(Q),[B])},[]))}else if(N==="category")A?D=D.filter(function(Q){return Q!==""&&!kt(Q)}):D=p8(Y,D,y).reduce(function(Q,B){return Q.indexOf(B)>=0||B===""||kt(B)?Q:[].concat(Hm(Q),[B])},[]);else if(N==="number"){var Z=aMe(M,i.filter(function(Q){var B,se,ue=o in Q.props?Q.props[o]:(B=Q.type.defaultProps)===null||B===void 0?void 0:B[o],pe="hide"in Q.props?Q.props.hide:(se=Q.type.defaultProps)===null||se===void 0?void 0:se.hide;return ue===P&&(I||!pe)}),k,s,f);Z&&(D=Z)}g&&(N==="number"||C!=="auto")&&(V=ny(M,k,"category"))}else g?D=d1(0,L):l&&l[P]&&l[P].hasStack&&N==="number"?D=p==="expand"?[0,1]:nne(l[P].stackGroups,c,u):D=Xte(M,i.filter(function(Q){var B=o in Q.props?Q.props[o]:Q.type.defaultProps[o],se="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return B===P&&(I||!se)}),N,f,!0);if(N==="number")D=xI(h,D,P,s,T),Y&&(D=OP(Y,D,E));else if(N==="category"&&Y){var U=Y,W=D.every(function(Q){return U.indexOf(Q)>=0});W&&(D=U)}}return be(be({},v),{},pt({},P,be(be({},S),{},{axisType:s,domain:D,categoricalDomain:V,duplicateDomain:R,originalDomain:(b=S.domain)!==null&&b!==void 0?b:q,isCategorical:g,layout:f})))},{})},UVe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=_S(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),g=p.length,v=Qte(f,s),y=-1;return r.reduce(function(b,S){var N=S.type.defaultProps!==void 0?be(be({},S.type.defaultProps),S.props):S.props,k=N[o],E=gre("number");if(!b[k]){y++;var A;return v?A=d1(0,g):l&&l[k]&&l[k].hasStack?(A=nne(l[k].stackGroups,c,u),A=xI(h,A,k,s)):(A=OP(E,Xte(p,r.filter(function(C){var T,I,P=o in C.props?C.props[o]:(T=C.type.defaultProps)===null||T===void 0?void 0:T[o],M="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return P===k&&!M}),"number",f),i.defaultProps.allowDataOverflow),A=xI(h,A,k,s)),be(be({},b),{},pt({},k,be(be({axisType:s},i.defaultProps),{},{hide:!0,orientation:ws(LVe,"".concat(s,".").concat(y%2),null),domain:A,originalDomain:E,isCategorical:v,layout:f})))}return b},{})},zVe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=js(f,s),g={};return p&&p.length?g=BVe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=UVe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},qVe=function(e){var n=Ec(e),r=xl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:LM(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zw(n,r)}},xq=function(e){var n=e.children,r=e.defaultShowTooltip,i=hs(n,Rm),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},HVe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Nl(n&&n.type);return r&&r.indexOf("Bar")>=0})},vq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WVe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,f=r.height,h=r.children,p=r.margin||{},g=hs(h,Rm),v=hs(h,Wi),y=Object.keys(c).reduce(function(A,C){var T=c[C],I=T.orientation;return!T.mirror&&!T.hide?be(be({},A),{},pt({},I,A[I]+T.width)):A},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(A,C){var T=o[C],I=T.orientation;return!T.mirror&&!T.hide?be(be({},A),{},pt({},I,ws(A,"".concat(I))+T.height)):A},{top:p.top||0,bottom:p.bottom||0}),S=be(be({},b),y),N=S.bottom;g&&(S.bottom+=g.props.height||Rm.defaultProps.height),v&&n&&(S=iMe(S,i,r,n));var k=u-S.left-S.right,E=f-S.top-S.bottom;return be(be({brushBottom:N},S),{},{width:Math.max(k,0),height:Math.max(E,0)})},GVe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},kS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(S,N){var k=N.graphicalItems,E=N.stackGroups,A=N.offset,C=N.updateId,T=N.dataStartIndex,I=N.dataEndIndex,P=S.barSize,M=S.layout,L=S.barGap,D=S.barCategoryGap,R=S.maxBarSize,V=vq(M),q=V.numericAxisName,H=V.cateAxisName,Y=HVe(k),K=[];return k.forEach(function(Z,U){var W=_S(S.data,{graphicalItems:[Z],dataStartIndex:T,dataEndIndex:I}),Q=Z.type.defaultProps!==void 0?be(be({},Z.type.defaultProps),Z.props):Z.props,B=Q.dataKey,se=Q.maxBarSize,ue=Q["".concat(q,"Id")],pe=Q["".concat(H,"Id")],ne={},ae=c.reduce(function(ht,mt){var It=N["".concat(mt.axisType,"Map")],lr=Q["".concat(mt.axisType,"Id")];It&&It[lr]||mt.axisType==="zAxis"||Jd();var vr=It[lr];return be(be({},ht),{},pt(pt({},mt.axisType,vr),"".concat(mt.axisType,"Ticks"),xl(vr)))},ne),ie=ae[H],ce=ae["".concat(H,"Ticks")],ge=E&&E[ue]&&E[ue].hasStack&&pMe(Z,E[ue].stackGroups),le=Nl(Z.type).indexOf("Bar")>=0,Ne=Zw(ie,ce),$e=[],ot=Y&&nMe({barSize:P,stackGroups:E,totalSize:GVe(ae,H)});if(le){var Ae,Ke,Nt=kt(se)?R:se,Ce=(Ae=(Ke=Zw(ie,ce,!0))!==null&&Ke!==void 0?Ke:Nt)!==null&&Ae!==void 0?Ae:0;$e=rMe({barGap:L,barCategoryGap:D,bandSize:Ce!==Ne?Ce:Ne,sizeList:ot[pe],maxBarSize:Nt}),Ce!==Ne&&($e=$e.map(function(ht){return be(be({},ht),{},{position:be(be({},ht.position),{},{offset:ht.position.offset-Ce/2})})}))}var Je=Z&&Z.type&&Z.type.getComposedData;Je&&K.push({props:be(be({},Je(be(be({},ae),{},{displayedData:W,props:S,dataKey:B,item:Z,bandSize:Ne,barPosition:$e,offset:A,stackedData:ge,layout:M,dataStartIndex:T,dataEndIndex:I}))),{},pt(pt(pt({key:Z.key||"item-".concat(U)},q,ae[q]),H,ae[H]),"animationId",C)),childIndex:oCe(Z,S.children),item:Z})}),K},g=function(S,N){var k=S.props,E=S.dataStartIndex,A=S.dataEndIndex,C=S.updateId;if(!T6({props:k}))return null;var T=k.children,I=k.layout,P=k.stackOffset,M=k.data,L=k.reverseStackOrder,D=vq(I),R=D.numericAxisName,V=D.cateAxisName,q=js(T,r),H=hMe(M,q,"".concat(R,"Id"),"".concat(V,"Id"),P,L),Y=c.reduce(function(Q,B){var se="".concat(B.axisType,"Map");return be(be({},Q),{},pt({},se,zVe(k,be(be({},B),{},{graphicalItems:q,stackGroups:B.axisType===R&&H,dataStartIndex:E,dataEndIndex:A}))))},{}),K=WVe(be(be({},Y),{},{props:k,graphicalItems:q}),N==null?void 0:N.legendBBox);Object.keys(Y).forEach(function(Q){Y[Q]=f(k,Y[Q],K,Q.replace("Map",""),n)});var Z=Y["".concat(V,"Map")],U=qVe(Z),W=p(k,be(be({},Y),{},{dataStartIndex:E,dataEndIndex:A,updateId:C,graphicalItems:q,stackGroups:H,offset:K}));return be(be({formattedGraphicalItems:W,graphicalItems:q,offset:K,stackGroups:H},U),Y)},v=function(b){function S(N){var k,E,A;return kVe(this,S),A=EVe(this,S,[N]),pt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pt(A,"accessibilityManager",new fVe),pt(A,"handleLegendBBoxUpdate",function(C){if(C){var T=A.state,I=T.dataStartIndex,P=T.dataEndIndex,M=T.updateId;A.setState(be({legendBBox:C},g({props:A.props,dataStartIndex:I,dataEndIndex:P,updateId:M},be(be({},A.state),{},{legendBBox:C}))))}}),pt(A,"handleReceiveSyncEvent",function(C,T,I){if(A.props.syncId===C){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(T)}}),pt(A,"handleBrushChange",function(C){var T=C.startIndex,I=C.endIndex;if(T!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var P=A.state.updateId;A.setState(function(){return be({dataStartIndex:T,dataEndIndex:I},g({props:A.props,dataStartIndex:T,dataEndIndex:I,updateId:P},A.state))}),A.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),pt(A,"handleMouseEnter",function(C){var T=A.getMouseInfo(C);if(T){var I=be(be({},T),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var P=A.props.onMouseEnter;yt(P)&&P(I,C)}}),pt(A,"triggeredAfterMouseMove",function(C){var T=A.getMouseInfo(C),I=T?be(be({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var P=A.props.onMouseMove;yt(P)&&P(I,C)}),pt(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),pt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),pt(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),pt(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var I=A.props.onMouseLeave;yt(I)&&I(T,C)}),pt(A,"handleOuterEvent",function(C){var T=aCe(C),I=ws(A.props,"".concat(T));if(T&&yt(I)){var P,M;/.*touch.*/i.test(T)?M=A.getMouseInfo(C.changedTouches[0]):M=A.getMouseInfo(C),I((P=M)!==null&&P!==void 0?P:{},C)}}),pt(A,"handleClick",function(C){var T=A.getMouseInfo(C);if(T){var I=be(be({},T),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var P=A.props.onClick;yt(P)&&P(I,C)}}),pt(A,"handleMouseDown",function(C){var T=A.props.onMouseDown;if(yt(T)){var I=A.getMouseInfo(C);T(I,C)}}),pt(A,"handleMouseUp",function(C){var T=A.props.onMouseUp;if(yt(T)){var I=A.getMouseInfo(C);T(I,C)}}),pt(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),pt(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),pt(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),pt(A,"handleDoubleClick",function(C){var T=A.props.onDoubleClick;if(yt(T)){var I=A.getMouseInfo(C);T(I,C)}}),pt(A,"handleContextMenu",function(C){var T=A.props.onContextMenu;if(yt(T)){var I=A.getMouseInfo(C);T(I,C)}}),pt(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&a2.emit(o2,A.props.syncId,C,A.eventEmitterSymbol)}),pt(A,"applySyncEvent",function(C){var T=A.props,I=T.layout,P=T.syncMethod,M=A.state.updateId,L=C.dataStartIndex,D=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(be({dataStartIndex:L,dataEndIndex:D},g({props:A.props,dataStartIndex:L,dataEndIndex:D,updateId:M},A.state)));else if(C.activeTooltipIndex!==void 0){var R=C.chartX,V=C.chartY,q=C.activeTooltipIndex,H=A.state,Y=H.offset,K=H.tooltipTicks;if(!Y)return;if(typeof P=="function")q=P(K,C);else if(P==="value"){q=-1;for(var Z=0;Z<K.length;Z++)if(K[Z].value===C.activeLabel){q=Z;break}}var U=be(be({},Y),{},{x:Y.left,y:Y.top}),W=Math.min(R,U.x+U.width),Q=Math.min(V,U.y+U.height),B=K[q]&&K[q].value,se=wI(A.state,A.props.data,q),ue=K[q]?{x:I==="horizontal"?K[q].coordinate:W,y:I==="horizontal"?Q:K[q].coordinate}:pre;A.setState(be(be({},C),{},{activeLabel:B,activeCoordinate:ue,activePayload:se,activeTooltipIndex:q}))}else A.setState(C)}),pt(A,"renderCursor",function(C){var T,I=A.state,P=I.isTooltipActive,M=I.activeCoordinate,L=I.activePayload,D=I.offset,R=I.activeTooltipIndex,V=I.tooltipAxisBandSize,q=A.getTooltipEventType(),H=(T=C.props.active)!==null&&T!==void 0?T:P,Y=A.props.layout,K=C.key||"_recharts-cursor";return X.createElement(vVe,{key:K,activeCoordinate:M,activePayload:L,activeTooltipIndex:R,chartName:n,element:C,isActive:H,layout:Y,offset:D,tooltipAxisBandSize:V,tooltipEventType:q})}),pt(A,"renderPolarAxis",function(C,T,I){var P=ws(C,"type.axisType"),M=ws(A.state,"".concat(P,"Map")),L=C.type.defaultProps,D=L!==void 0?be(be({},L),C.props):C.props,R=M&&M[D["".concat(P,"Id")]];return w.cloneElement(C,be(be({},R),{},{className:At(P,R.className),key:C.key||"".concat(T,"-").concat(I),ticks:xl(R,!0)}))}),pt(A,"renderPolarGrid",function(C){var T=C.props,I=T.radialLines,P=T.polarAngles,M=T.polarRadius,L=A.state,D=L.radiusAxisMap,R=L.angleAxisMap,V=Ec(D),q=Ec(R),H=q.cx,Y=q.cy,K=q.innerRadius,Z=q.outerRadius;return w.cloneElement(C,{polarAngles:Array.isArray(P)?P:xl(q,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(M)?M:xl(V,!0).map(function(U){return U.coordinate}),cx:H,cy:Y,innerRadius:K,outerRadius:Z,key:C.key||"polar-grid",radialLines:I})}),pt(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,T=A.props,I=T.children,P=T.width,M=T.height,L=A.props.margin||{},D=P-(L.left||0)-(L.right||0),R=Kte({children:I,formattedGraphicalItems:C,legendWidth:D,legendContent:u});if(!R)return null;var V=R.item,q=pq(R,bVe);return w.cloneElement(V,be(be({},q),{},{chartWidth:P,chartHeight:M,margin:L,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),pt(A,"renderTooltip",function(){var C,T=A.props,I=T.children,P=T.accessibilityLayer,M=hs(I,Dr);if(!M)return null;var L=A.state,D=L.isTooltipActive,R=L.activeCoordinate,V=L.activePayload,q=L.activeLabel,H=L.offset,Y=(C=M.props.active)!==null&&C!==void 0?C:D;return w.cloneElement(M,{viewBox:be(be({},H),{},{x:H.left,y:H.top}),active:Y,label:q,payload:Y?V:[],coordinate:R,accessibilityLayer:P})}),pt(A,"renderBrush",function(C){var T=A.props,I=T.margin,P=T.data,M=A.state,L=M.offset,D=M.dataStartIndex,R=M.dataEndIndex,V=M.updateId;return w.cloneElement(C,{key:C.key||"_recharts-brush",onChange:n0(A.handleBrushChange,C.props.onChange),data:P,x:Re(C.props.x)?C.props.x:L.left,y:Re(C.props.y)?C.props.y:L.top+L.height+L.brushBottom-(I.bottom||0),width:Re(C.props.width)?C.props.width:L.width,startIndex:D,endIndex:R,updateId:"brush-".concat(V)})}),pt(A,"renderReferenceElement",function(C,T,I){if(!C)return null;var P=A,M=P.clipPathId,L=A.state,D=L.xAxisMap,R=L.yAxisMap,V=L.offset,q=C.type.defaultProps||{},H=C.props,Y=H.xAxisId,K=Y===void 0?q.xAxisId:Y,Z=H.yAxisId,U=Z===void 0?q.yAxisId:Z;return w.cloneElement(C,{key:C.key||"".concat(T,"-").concat(I),xAxis:D[K],yAxis:R[U],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:M})}),pt(A,"renderActivePoints",function(C){var T=C.item,I=C.activePoint,P=C.basePoint,M=C.childIndex,L=C.isRange,D=[],R=T.props.key,V=T.item.type.defaultProps!==void 0?be(be({},T.item.type.defaultProps),T.item.props):T.item.props,q=V.activeDot,H=V.dataKey,Y=be(be({index:M,dataKey:H,cx:I.x,cy:I.y,r:4,fill:cD(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},rt(q,!1)),Cw(q));return D.push(S.renderActiveDot(q,Y,"".concat(R,"-activePoint-").concat(M))),P?D.push(S.renderActiveDot(q,be(be({},Y),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(M))):L&&D.push(null),D}),pt(A,"renderGraphicChild",function(C,T,I){var P=A.filterFormatItem(C,T,I);if(!P)return null;var M=A.getTooltipEventType(),L=A.state,D=L.isTooltipActive,R=L.tooltipAxis,V=L.activeTooltipIndex,q=L.activeLabel,H=A.props.children,Y=hs(H,Dr),K=P.props,Z=K.points,U=K.isRange,W=K.baseLine,Q=P.item.type.defaultProps!==void 0?be(be({},P.item.type.defaultProps),P.item.props):P.item.props,B=Q.activeDot,se=Q.hide,ue=Q.activeBar,pe=Q.activeShape,ne=!!(!se&&D&&Y&&(B||ue||pe)),ae={};M!=="axis"&&Y&&Y.props.trigger==="click"?ae={onClick:n0(A.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(ae={onMouseLeave:n0(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:n0(A.handleItemMouseEnter,C.props.onMouseEnter)});var ie=w.cloneElement(C,be(be({},P.props),ae));function ce(mt){return typeof R.dataKey=="function"?R.dataKey(mt.payload):null}if(ne)if(V>=0){var ge,le;if(R.dataKey&&!R.allowDuplicatedCategory){var Ne=typeof R.dataKey=="function"?ce:"payload.".concat(R.dataKey.toString());ge=Aw(Z,Ne,q),le=U&&W&&Aw(W,Ne,q)}else ge=Z==null?void 0:Z[V],le=U&&W&&W[V];if(pe||ue){var $e=C.props.activeIndex!==void 0?C.props.activeIndex:V;return[w.cloneElement(C,be(be(be({},P.props),ae),{},{activeIndex:$e})),null,null]}if(!kt(ge))return[ie].concat(Hm(A.renderActivePoints({item:P,activePoint:ge,basePoint:le,childIndex:V,isRange:U})))}else{var ot,Ae=(ot=A.getItemByXY(A.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:ie},Ke=Ae.graphicalItem,Nt=Ke.item,Ce=Nt===void 0?C:Nt,Je=Ke.childIndex,ht=be(be(be({},P.props),ae),{},{activeIndex:Je});return[w.cloneElement(Ce,ht),null,null]}return U?[ie,null,null]:[ie,null]}),pt(A,"renderCustomized",function(C,T,I){return w.cloneElement(C,be(be({key:"recharts-customized-".concat(I)},A.props),A.state))}),pt(A,"renderMap",{CartesianGrid:{handler:o0,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:o0},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:o0},YAxis:{handler:o0},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((k=N.id)!==null&&k!==void 0?k:pf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=Gee(A.triggeredAfterMouseMove,(E=N.throttleDelay)!==null&&E!==void 0?E:1e3/60),A.state={},A}return IVe(S,b),CVe(S,[{key:"componentDidMount",value:function(){var k,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,E=k.children,A=k.data,C=k.height,T=k.layout,I=hs(E,Dr);if(I){var P=I.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,L=wI(this.state,A,P,M),D=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+C)/2,V=T==="horizontal",q=V?{x:D,y:R}:{y:D,x:R},H=this.state.formattedGraphicalItems.find(function(K){var Z=K.item;return Z.type.name==="Scatter"});H&&(q=be(be({},q),H.props.points[P].tooltipPosition),L=H.props.points[P].tooltipPayload);var Y={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:M,activePayload:L,activeCoordinate:q};this.setState(Y),this.renderCursor(I),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(k){nP([hs(k.children,Dr)],[hs(this.props.children,Dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=hs(this.props.children,Dr);if(k&&typeof k.props.shared=="boolean"){var E=k.props.shared?"axis":"item";return l.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var E=this.container,A=E.getBoundingClientRect(),C=GTe(A),T={chartX:Math.round(k.pageX-C.left),chartY:Math.round(k.pageY-C.top)},I=A.width/E.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,I);if(!P)return null;var M=this.state,L=M.xAxisMap,D=M.yAxisMap,R=this.getTooltipEventType(),V=yq(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&L&&D){var q=Ec(L).scale,H=Ec(D).scale,Y=q&&q.invert?q.invert(T.chartX):null,K=H&&H.invert?H.invert(T.chartY):null;return be(be({},T),{},{xValue:Y,yValue:K},V)}return V?be(be({},T),V):null}},{key:"inRange",value:function(k,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,T=k/A,I=E/A;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,M=T>=P.left&&T<=P.left+P.width&&I>=P.top&&I<=P.top+P.height;return M?{x:T,y:I}:null}var L=this.state,D=L.angleAxisMap,R=L.radiusAxisMap;if(D&&R){var V=Ec(D);return x8({x:T,y:I},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,E=this.getTooltipEventType(),A=hs(k,Dr),C={};A&&E==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Cw(this.props,this.handleOuterEvent);return be(be({},T),C)}},{key:"addListener",value:function(){a2.on(o2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a2.removeListener(o2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,E,A){for(var C=this.state.formattedGraphicalItems,T=0,I=C.length;T<I;T++){var P=C[T];if(P.item===k||P.props.key===k.key||E===Nl(P.item.type)&&A===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,E=this.state.offset,A=E.left,C=E.top,T=E.height,I=E.width;return X.createElement("defs",null,X.createElement("clipPath",{id:k},X.createElement("rect",{x:A,y:C,height:T,width:I})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(E,A){var C=mq(A,2),T=C[0],I=C[1];return be(be({},E),{},pt({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(E,A){var C=mq(A,2),T=C[0],I=C[1];return be(be({},E),{},pt({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[k])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(k){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[k])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(k){var E=this.state,A=E.formattedGraphicalItems,C=E.activeItem;if(A&&A.length)for(var T=0,I=A.length;T<I;T++){var P=A[T],M=P.props,L=P.item,D=L.type.defaultProps!==void 0?be(be({},L.type.defaultProps),L.props):L.props,R=Nl(L.type);if(R==="Bar"){var V=(M.data||[]).find(function(K){return u5e(k,K)});if(V)return{graphicalItem:P,payload:V}}else if(R==="RadialBar"){var q=(M.data||[]).find(function(K){return x8(k,K)});if(q)return{graphicalItem:P,payload:q}}else if(xS(P,C)||vS(P,C)||fx(P,C)){var H=OLe({graphicalItem:P,activeTooltipItem:C,itemData:D.data}),Y=D.activeIndex===void 0?H:D.activeIndex;return{graphicalItem:be(be({},P),{},{childIndex:Y}),payload:fx(P,C)?D.data[H]:P.props.data[H]}}}return null}},{key:"render",value:function(){var k=this;if(!T6(this))return null;var E=this.props,A=E.children,C=E.className,T=E.width,I=E.height,P=E.style,M=E.compact,L=E.title,D=E.desc,R=pq(E,wVe),V=rt(R,!1);if(M)return X.createElement(G9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(iP,Ph({},V,{width:T,height:I,title:L,desc:D}),this.renderClipPath(),I6(A,this.renderMap)));if(this.props.accessibilityLayer){var q,H;V.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,V.role=(H=this.props.role)!==null&&H!==void 0?H:"application",V.onKeyDown=function(K){k.accessibilityManager.keyboardEvent(K)},V.onFocus=function(){k.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return X.createElement(G9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Ph({className:At("recharts-wrapper",C),style:be({position:"relative",cursor:"default",width:T,height:I},P)},Y,{ref:function(Z){k.container=Z}}),X.createElement(iP,Ph({},V,{width:T,height:I,title:L,desc:D,style:FVe}),this.renderClipPath(),I6(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);pt(v,"displayName",n),pt(v,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),pt(v,"getDerivedStateFromProps",function(b,S){var N=b.dataKey,k=b.data,E=b.children,A=b.width,C=b.height,T=b.layout,I=b.stackOffset,P=b.margin,M=S.dataStartIndex,L=S.dataEndIndex;if(S.updateId===void 0){var D=xq(b);return be(be(be({},D),{},{updateId:0},g(be(be({props:b},D),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:k,prevWidth:A,prevHeight:C,prevLayout:T,prevStackOffset:I,prevMargin:P,prevChildren:E})}if(N!==S.prevDataKey||k!==S.prevData||A!==S.prevWidth||C!==S.prevHeight||T!==S.prevLayout||I!==S.prevStackOffset||!Uh(P,S.prevMargin)){var R=xq(b),V={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},q=be(be({},yq(S,k,T)),{},{updateId:S.updateId+1}),H=be(be(be({},R),V),q);return be(be(be({},H),g(be({props:b},H),S)),{},{prevDataKey:N,prevData:k,prevWidth:A,prevHeight:C,prevLayout:T,prevStackOffset:I,prevMargin:P,prevChildren:E})}if(!nP(E,S.prevChildren)){var Y,K,Z,U,W=hs(E,Rm),Q=W&&(Y=(K=W.props)===null||K===void 0?void 0:K.startIndex)!==null&&Y!==void 0?Y:M,B=W&&(Z=(U=W.props)===null||U===void 0?void 0:U.endIndex)!==null&&Z!==void 0?Z:L,se=Q!==M||B!==L,ue=!kt(k),pe=ue&&!se?S.updateId:S.updateId+1;return be(be({updateId:pe},g(be(be({props:b},S),{},{updateId:pe,dataStartIndex:Q,dataEndIndex:B}),S)),{},{prevChildren:E,dataStartIndex:Q,dataEndIndex:B})}return null}),pt(v,"renderActiveDot",function(b,S,N){var k;return w.isValidElement(b)?k=w.cloneElement(b,S):yt(b)?k=b(S):k=X.createElement(sv,S),X.createElement(Bt,{className:"recharts-active-dot",key:N},k)});var y=w.forwardRef(function(S,N){return X.createElement(v,Ph({},S,{ref:N}))});return y.displayName=v.displayName,y},KVe=kS({chartName:"LineChart",GraphicalChild:Vm,axisComponents:[{axisType:"xAxis",AxisComp:Ea},{axisType:"yAxis",AxisComp:Ta}],formatAxisMap:dD}),k1=kS({chartName:"BarChart",GraphicalChild:Lo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ea},{axisType:"yAxis",AxisComp:Ta}],formatAxisMap:dD}),jI=kS({chartName:"PieChart",GraphicalChild:Ba,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yS},{axisType:"radiusAxis",AxisComp:pS}],formatAxisMap:_Me,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),YVe=kS({chartName:"AreaChart",GraphicalChild:_u,axisComponents:[{axisType:"xAxis",AxisComp:Ea},{axisType:"yAxis",AxisComp:Ta}],formatAxisMap:dD});const XVe=({userId:t,onDataImported:e})=>{const{toast:n}=Tt(),{isGuest:r}=Vn(),[i,s]=w.useState("file"),[o,l]=w.useState(!1),[c,u]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(""),[v,y]=w.useState(null),[b,S]=w.useState(null),N=async I=>{var M;y(null),S(null);const P=(M=I.target.files)==null?void 0:M[0];if(P){h(P.name),l(!0);try{if(P.type==="application/pdf")u("PDF file detected. Content will be processed."),n({title:"PDF Detected",description:"PDF parsing is in beta. Basic data will be extracted.",variant:"default"});else{const L=new FileReader;L.onload=D=>{var V;const R=(V=D.target)==null?void 0:V.result;u(R),E(R,P.type)},L.readAsText(P)}nn("health_data_file_upload",{isGuest:r,fileType:P.type,fileSize:P.size})}catch(L){console.error("Error reading file:",L),y("Failed to read the file. Please try a different file format."),n({title:"File Error",description:"Could not read the file. Please try a different format.",variant:"destructive"})}finally{l(!1)}}},k=()=>{if(y(null),S(null),!p.trim()){y("Please enter some health data text.");return}l(!0);try{E(p,"text/plain"),nn("health_data_text_input",{isGuest:r,textLength:p.length})}catch(I){console.error("Error processing text:",I),y("Failed to process the text. Please check the format."),n({title:"Processing Error",description:"Could not process the text. Please check the format.",variant:"destructive"})}finally{l(!1)}},E=async(I,P)=>{try{let M=null;if(P.includes("json"))try{M=JSON.parse(I)}catch{throw new Error("Invalid JSON format")}else P.includes("csv")||I.includes(",")?M=A(I):M=C(I);if(!M||Object.keys(M).length===0)throw new Error("No valid health data found");!r&&t&&await T(M),e&&e(M),S("Health data imported successfully!"),n({title:"Import Successful",description:"Your health data has been imported successfully.",variant:"default"})}catch(M){console.error("Error processing health data:",M),y(`Failed to process health data: ${M instanceof Error?M.message:"Unknown error"}`),n({title:"Processing Error",description:`Could not process health data: ${M instanceof Error?M.message:"Unknown error"}`,variant:"destructive"})}},A=I=>{const P=I.split(`
`);if(P.length<2)return null;const M=P[0].split(",").map(D=>D.trim()),L={weightData:[],nutritionData:[],activityData:[],macroDistribution:[],foodCategories:[]};for(let D=1;D<P.length;D++){const R=P[D].split(",").map(q=>q.trim());if(R.length!==M.length)continue;const V={};M.forEach((q,H)=>{V[q.toLowerCase()]=R[H]}),"weight"in V&&L.weightData.push({date:V.date||new Date().toISOString().split("T")[0],weight:parseFloat(V.weight)||0,target:parseFloat(V.target)||0}),"calories"in V&&L.nutritionData.push({date:V.date||new Date().toISOString().split("T")[0],calories:parseInt(V.calories)||0,protein:parseInt(V.protein)||0,carbs:parseInt(V.carbs)||0,fat:parseInt(V.fat)||0}),"steps"in V&&L.activityData.push({date:V.date||new Date().toISOString().split("T")[0],steps:parseInt(V.steps)||0,active_minutes:parseInt(V.active_minutes)||0})}if(L.nutritionData.length>0){const D=L.nutritionData.reduce((H,Y)=>H+Y.protein,0),R=L.nutritionData.reduce((H,Y)=>H+Y.carbs,0),V=L.nutritionData.reduce((H,Y)=>H+Y.fat,0),q=D+R+V;q>0&&(L.macroDistribution=[{name:"Protein",value:Math.round(D/q*100)},{name:"Carbs",value:Math.round(R/q*100)},{name:"Fat",value:Math.round(V/q*100)}])}return L},C=I=>{const P={weightData:[],nutritionData:[],activityData:[],macroDistribution:[],foodCategories:[]},M=I.match(/weight[:\s]+(\d+(?:\.\d+)?)\s*(?:kg|pounds|lbs)/gi);M&&M.forEach(R=>{const V=parseFloat(R.replace(/[^\d.]/g,""));isNaN(V)||P.weightData.push({date:new Date().toISOString().split("T")[0],weight:V,target:V-2})});const L=I.match(/calories[:\s]+(\d+)/gi);L&&L.forEach(R=>{const V=parseInt(R.replace(/[^\d]/g,""));isNaN(V)||P.nutritionData.push({date:new Date().toISOString().split("T")[0],calories:V,protein:Math.round(V*.2/4),carbs:Math.round(V*.5/4),fat:Math.round(V*.3/9)})});const D=I.match(/steps[:\s]+(\d+)/gi);if(D&&D.forEach(R=>{const V=parseInt(R.replace(/[^\d]/g,""));isNaN(V)||P.activityData.push({date:new Date().toISOString().split("T")[0],steps:V,active_minutes:Math.round(V/1e3)})}),P.nutritionData.length>0){const R=P.nutritionData.reduce((Y,K)=>Y+K.protein,0),V=P.nutritionData.reduce((Y,K)=>Y+K.carbs,0),q=P.nutritionData.reduce((Y,K)=>Y+K.fat,0),H=R+V+q;H>0&&(P.macroDistribution=[{name:"Protein",value:Math.round(R/H*100)},{name:"Carbs",value:Math.round(V/H*100)},{name:"Fat",value:Math.round(q/H*100)}])}return P.foodCategories=[{name:"Fruits & Vegetables",value:30},{name:"Proteins",value:25},{name:"Grains",value:20},{name:"Dairy",value:15},{name:"Other",value:10}],P},T=async I=>{if(!(r||!t))try{const P=lt(Oe),M=$t(Oe);if(P.currentUser){const L=Ve(M,"users",P.currentUser.uid),D=await Mt(L);let R=D.exists()?D.data():{};R={...R,healthData:I,healthDataUpdatedAt:new Date},await rn(L,R),console.log("Health data saved to Firebase")}}catch(P){throw console.error("Error saving health data to Firebase:",P),P}};return a.jsxs(Ee,{className:"sci-fi-card border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsxs(Qe,{className:"text-xl font-bold text-safebite-text flex items-center",children:[a.jsx(D2,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Import Health Data",a.jsx(Se,{className:"ml-3 bg-safebite-teal text-safebite-dark-blue",children:"Beta"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Import your health data from files or text"})]})})}),a.jsxs(Fe,{className:"pt-4",children:[v&&a.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"Import Error"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:v})]})]})}),b&&a.jsx("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/20 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(_a,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"Import Successful"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:b})]})]})}),a.jsxs(pi,{defaultValue:i,className:"mb-6",onValueChange:s,children:[a.jsxs(Qr,{className:"grid grid-cols-2 mb-4",children:[a.jsxs(ft,{value:"file",children:[a.jsx(b7,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Upload File"})]}),a.jsxs(ft,{value:"text",children:[a.jsx(O2,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Enter Text"})]})]}),a.jsx(St,{value:"file",children:a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Upload Health Data File"}),a.jsxs("div",{className:"flex items-center text-safebite-text-secondary text-sm",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Supported: CSV, JSON, TXT"})]})]}),a.jsxs("div",{className:"border-2 border-dashed border-safebite-card-bg-alt rounded-lg p-6 text-center",children:[a.jsx(bt,{type:"file",id:"file-upload",className:"hidden",accept:".csv,.json,.txt,.pdf",onChange:N,disabled:o}),a.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center justify-center",children:[a.jsx(D2,{className:"h-12 w-12 text-safebite-teal mb-2"}),a.jsx("p",{className:"text-safebite-text font-medium mb-1",children:o?"Processing...":"Click to upload a file"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"or drag and drop"})]})]}),o&&a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsx(_n,{className:"h-6 w-6 text-safebite-teal animate-spin"})}),f&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(O2,{className:"h-5 w-5 text-safebite-teal mr-2"}),a.jsx("span",{className:"text-safebite-text",children:f})]}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{h(null),u(null)},disabled:o,children:a.jsx(or,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"mt-4 text-safebite-text-secondary text-sm",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Note:"})," Your health data will be processed locally and only saved to your profile if you're logged in."]})})]})}),a.jsx(St,{value:"text",children:a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Enter Health Data Text"}),a.jsxs("div",{className:"flex items-center text-safebite-text-secondary text-sm",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Enter data in any format"})]})]}),a.jsx("textarea",{className:"w-full h-40 p-3 rounded-lg bg-safebite-card-bg border-safebite-card-bg-alt focus:border-safebite-teal text-safebite-text resize-none",placeholder:`Enter your health data here. For example:
Weight: 70 kg
Calories: 2000
Steps: 8000
Or paste data from your health app.`,value:p,onChange:I=>g(I.target.value),disabled:o}),o&&a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsx(_n,{className:"h-6 w-6 text-safebite-teal animate-spin"})}),a.jsx(ee,{className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:k,disabled:o||!p.trim(),children:"Process Health Data"}),a.jsx("div",{className:"mt-4 text-safebite-text-secondary text-sm",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Note:"})," Our system will try to extract health metrics from your text. The more structured your data, the better the results."]})})]})})]}),a.jsxs("div",{className:"text-safebite-text-secondary text-sm",children:[a.jsxs("p",{className:"mb-2",children:[a.jsx("strong",{children:"Privacy Notice:"})," Your health data is processed locally in your browser. If you're logged in, it will be securely stored in your profile."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Supported Data:"})," Weight, calories, macronutrients, steps, and activity minutes. More metrics coming soon."]})]})]})]})},c2=t=>{let e=t.split("").reduce((u,f)=>u+f.charCodeAt(0),0);const n=(u,f)=>{const h=Math.sin(e)*1e4;return e++,Math.floor((h-Math.floor(h))*(f-u+1))+u},r=new Date,i=Array.from({length:30},(u,f)=>{const h=new Date(r);h.setDate(h.getDate()-(29-f));const p=70+n(-10,10),g=p+Math.sin(f/5)*1.5;return{date:h.toISOString().split("T")[0],weight:parseFloat(g.toFixed(1)),target:p-2}}),s=Array.from({length:7},(u,f)=>{const h=new Date(r);return h.setDate(h.getDate()-(6-f)),{date:h.toISOString().split("T")[0],calories:n(1800,2500),protein:n(60,120),carbs:n(150,300),fat:n(40,90)}}),o=Array.from({length:7},(u,f)=>{const h=new Date(r);return h.setDate(h.getDate()-(6-f)),{date:h.toISOString().split("T")[0],steps:n(3e3,12e3),activeMinutes:n(20,120),caloriesBurned:n(200,800)}}),l=[{name:"Protein",value:n(20,30)},{name:"Carbs",value:n(40,55)},{name:"Fat",value:n(20,35)}],c=[{name:"Vegetables",value:n(15,30)},{name:"Fruits",value:n(10,20)},{name:"Grains",value:n(20,35)},{name:"Protein Foods",value:n(15,25)},{name:"Dairy",value:n(5,15)},{name:"Oils & Fats",value:n(5,10)}];return{weightData:i,nutritionData:s,activityData:o,macroDistribution:l,foodCategories:c}},yre=({userId:t="default-user",initialTab:e="weight"})=>{const{toast:n}=Tt(),{isGuest:r}=Vn(),[i,s]=w.useState(!0),[o,l]=w.useState(e),[c,u]=w.useState("30d"),[f,h]=w.useState(null),[p,g]=w.useState(null),[v,y]=w.useState(!1),b={primary:"#10b981",secondary:"#6366f1",background:"#0f172a",text:"#e2e8f0",textSecondary:"#94a3b8",pieColors:["#10b981","#6366f1","#f97316","#eab308","#ec4899","#8b5cf6"]};w.useEffect(()=>{(async()=>{s(!0),g(null);try{const I=c2(t||"default-user");h(I);let P=null;if(!r&&t!=="default-user"){const M=lt(Oe),L=$t(Oe);if(M.currentUser)try{const D=Ve(L,"users",M.currentUser.uid),R=await Mt(D);if(R.exists()){const V=R.data();V.healthData?(P=V.healthData,console.log("Found real health data:",P),h(P)):console.log("No health data found in user profile, using mock data")}else console.log("User document does not exist, using mock data")}catch(D){console.error("Firebase error fetching health data:",D)}else console.log("No current user, using mock data")}else console.log("Guest mode or default user, using mock data");nn("view_health_charts",{isGuest:r,tab:o,timeRange:c,dataSource:P?"firebase":"mock"})}catch(I){console.error("Error in health data component:",I),g("Failed to load health data. Using sample data instead.");const P=c2("fallback-"+Date.now());h(P),n({title:"Using Sample Data",description:"Could not load your health data. Showing sample data instead.",variant:"default"})}finally{s(!1)}})()},[t,n,r,o]);const S=T=>new Date(T).toLocaleDateString("en-US",{month:"short",day:"numeric"}),N=T=>{l(T),nn("change_health_chart_tab",{isGuest:r,tab:T})},k=T=>{u(T),nn("change_health_chart_timerange",{isGuest:r,timeRange:T})},E=()=>{n({title:"Export Started",description:"Your health data is being prepared for download.",variant:"default"}),nn("export_health_data",{isGuest:r,tab:o})},A=T=>{T&&(h(T),y(!1),n({title:"Data Imported",description:"Your health data has been imported and is now displayed.",variant:"default"}),nn("health_data_imported",{isGuest:r,tab:o,dataSource:"import"}))};if(i)return a.jsx(Ee,{className:"sci-fi-card border-safebite-teal/30",children:a.jsxs(Fe,{className:"p-6 flex flex-col items-center justify-center h-64",children:[a.jsx(_n,{className:"h-8 w-8 text-safebite-teal animate-spin mb-2"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Loading health data charts..."})]})});if(!f){const T=c2(t||"fallback-user");h(T),console.log("Generated fallback data in render phase")}const C=p?a.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"Health Data Notice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:p||"Using sample data for visualization. Your actual health data will appear here when available."})]})]})}):null;return a.jsxs(Ee,{className:"sci-fi-card border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs(Qe,{className:"text-xl font-bold text-safebite-text flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Insights",a.jsx(Se,{className:"ml-3 bg-safebite-teal text-safebite-dark-blue",children:"Data-Driven"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Visualize your health progress and patterns"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Oo,{defaultValue:c,onValueChange:k,children:[a.jsx(Fa,{className:"w-[120px] bg-safebite-card-bg-alt border-safebite-card-bg",children:a.jsx(Mo,{placeholder:"Time Range"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"7d",children:"Last 7 Days"}),a.jsx(Ht,{value:"30d",children:"Last 30 Days"}),a.jsx(Ht,{value:"90d",children:"Last 3 Months"}),a.jsx(Ht,{value:"1y",children:"Last Year"})]})]}),a.jsxs($l,{open:v,onOpenChange:y,children:[a.jsx(gve,{asChild:!0,children:a.jsx(ee,{variant:"outline",size:"icon",className:"border-safebite-card-bg",children:a.jsx(b7,{className:"h-4 w-4"})})}),a.jsx(Vo,{className:"sm:max-w-[600px] bg-safebite-dark-blue border-safebite-teal/30",children:a.jsx(XVe,{userId:t,onDataImported:A})})]}),a.jsx(ee,{variant:"outline",size:"icon",className:"border-safebite-card-bg",onClick:E,children:a.jsx(x7,{className:"h-4 w-4"})})]})]})}),a.jsxs(Fe,{className:"pt-4",children:[C,a.jsxs(pi,{defaultValue:o,className:"mb-6",onValueChange:N,children:[a.jsxs(Qr,{className:"grid grid-cols-4 mb-4",children:[a.jsxs(ft,{value:"weight",children:[a.jsx(gle,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Weight"})]}),a.jsxs(ft,{value:"nutrition",children:[a.jsx(uy,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Nutrition"})]}),a.jsxs(ft,{value:"activity",children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Activity"})]}),a.jsxs(ft,{value:"distribution",children:[a.jsx(qI,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Distribution"})]})]}),a.jsx(St,{value:"weight",children:a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Weight Tracking"}),a.jsxs("div",{className:"flex items-center text-safebite-text-secondary text-sm",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["Target: ",f.weightData[0].target," kg"]})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(KVe,{data:f.weightData,margin:{top:5,right:20,left:0,bottom:5},children:[a.jsx(Id,{strokeDasharray:"3 3",stroke:b.background}),a.jsx(Ea,{dataKey:"date",tickFormatter:S,stroke:b.textSecondary,tick:{fontSize:12}}),a.jsx(Ta,{stroke:b.textSecondary,tick:{fontSize:12},domain:["dataMin - 2","dataMax + 2"]}),a.jsx(Dr,{contentStyle:{backgroundColor:b.background,borderColor:b.primary,color:b.text},formatter:T=>[`${T} kg`,"Weight"],labelFormatter:T=>S(T)}),a.jsx(Wi,{}),a.jsx(Vm,{type:"monotone",dataKey:"weight",stroke:b.primary,strokeWidth:2,dot:{r:3,fill:b.primary},activeDot:{r:5},name:"Weight (kg)"}),a.jsx(Vm,{type:"monotone",dataKey:"target",stroke:b.secondary,strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Target (kg)"})]})})}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Se,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal/30",children:["Current: ",f.weightData[f.weightData.length-1].weight," kg"]}),a.jsxs(Se,{className:"bg-safebite-card-bg-alt text-safebite-text-secondary border-safebite-card-bg",children:["Change: ",(f.weightData[f.weightData.length-1].weight-f.weightData[0].weight).toFixed(1)," kg"]})]}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Last updated: ",S(f.weightData[f.weightData.length-1].date)]})]})]})}),a.jsx(St,{value:"nutrition",children:a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Nutrition Tracking"}),a.jsxs("div",{className:"flex items-center text-safebite-text-secondary text-sm",children:[a.jsx(Yc,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Last 7 Days"})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(k1,{data:f.nutritionData,margin:{top:5,right:20,left:0,bottom:5},children:[a.jsx(Id,{strokeDasharray:"3 3",stroke:b.background}),a.jsx(Ea,{dataKey:"date",tickFormatter:S,stroke:b.textSecondary,tick:{fontSize:12}}),a.jsx(Ta,{stroke:b.textSecondary,tick:{fontSize:12}}),a.jsx(Dr,{contentStyle:{backgroundColor:b.background,borderColor:b.primary,color:b.text},formatter:T=>[`${T}`,""],labelFormatter:T=>S(T)}),a.jsx(Wi,{}),a.jsx(Lo,{dataKey:"calories",fill:b.primary,name:"Calories (kcal)"})]})})}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[a.jsxs(Se,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal/30 flex justify-center",children:["Avg Calories: ",Math.round(f.nutritionData.reduce((T,I)=>T+I.calories,0)/f.nutritionData.length)," kcal"]}),a.jsxs(Se,{className:"bg-secondary/20 text-secondary border-secondary/30 flex justify-center",children:["Avg Protein: ",Math.round(f.nutritionData.reduce((T,I)=>T+I.protein,0)/f.nutritionData.length)," g"]}),a.jsxs(Se,{className:"bg-accent/20 text-accent border-accent/30 flex justify-center",children:["Avg Carbs: ",Math.round(f.nutritionData.reduce((T,I)=>T+I.carbs,0)/f.nutritionData.length)," g"]})]})]})}),a.jsx(St,{value:"activity",children:a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Activity Tracking"}),a.jsxs("div",{className:"flex items-center text-safebite-text-secondary text-sm",children:[a.jsx(Yc,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Last 7 Days"})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(k1,{data:f.activityData,margin:{top:5,right:20,left:0,bottom:5},children:[a.jsx(Id,{strokeDasharray:"3 3",stroke:b.background}),a.jsx(Ea,{dataKey:"date",tickFormatter:S,stroke:b.textSecondary,tick:{fontSize:12}}),a.jsx(Ta,{stroke:b.textSecondary,tick:{fontSize:12}}),a.jsx(Dr,{contentStyle:{backgroundColor:b.background,borderColor:b.primary,color:b.text},formatter:T=>[`${T}`,""],labelFormatter:T=>S(T)}),a.jsx(Wi,{}),a.jsx(Lo,{dataKey:"steps",fill:b.primary,name:"Steps"})]})})}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[a.jsxs(Se,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal/30 flex justify-center",children:["Avg Steps: ",Math.round(f.activityData.reduce((T,I)=>T+I.steps,0)/f.activityData.length)]}),a.jsxs(Se,{className:"bg-secondary/20 text-secondary border-secondary/30 flex justify-center",children:["Avg Active: ",Math.round(f.activityData.reduce((T,I)=>T+I.activeMinutes,0)/f.activityData.length)," min"]}),a.jsxs(Se,{className:"bg-accent/20 text-accent border-accent/30 flex justify-center",children:["Avg Burned: ",Math.round(f.activityData.reduce((T,I)=>T+I.caloriesBurned,0)/f.activityData.length)," kcal"]})]})]})}),a.jsx(St,{value:"distribution",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Macronutrient Distribution"}),a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(jI,{children:[a.jsx(Ba,{data:f.macroDistribution,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:T,percent:I})=>`${T} ${(I*100).toFixed(0)}%`,children:f.macroDistribution.map((T,I)=>a.jsx(Sm,{fill:b.pieColors[I%b.pieColors.length]},`cell-${I}`))}),a.jsx(Dr,{contentStyle:{backgroundColor:b.background,borderColor:b.primary,color:b.text},formatter:T=>[`${T}%`,""]}),a.jsx(Wi,{})]})})})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Food Category Distribution"}),a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(jI,{children:[a.jsx(Ba,{data:f.foodCategories,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:T,percent:I})=>`${T} ${(I*100).toFixed(0)}%`,children:f.foodCategories.map((T,I)=>a.jsx(Sm,{fill:b.pieColors[I%b.pieColors.length]},`cell-${I}`))}),a.jsx(Dr,{contentStyle:{backgroundColor:b.background,borderColor:b.primary,color:b.text},formatter:T=>[`${T}%`,""]}),a.jsx(Wi,{})]})})})]})]})})]})]})]})},QVe=()=>{const t=$n(),{toast:e}=Tt(),[n,r]=w.useState(!0),[i,s]=w.useState(!1),[o,l]=w.useState("");return w.useEffect(()=>{const c=()=>{const f=Lx(),h=localStorage.getItem("guestUserName");console.log("Guest name sources:",{sessionName:f,localName:h,localStorage:localStorage.getItem("guestUserName"),sessionStorage:sessionStorage.getItem("guestUserName")});const p=f||h||"";p?(l(p),console.log("Setting guest name to:",p)):console.log("No guest name found in any storage location")};c();const u=setInterval(c,2e3);return()=>clearInterval(u)},[]),w.useEffect(()=>{localStorage.getItem("safebite-guest-first-visit")!=="false"&&(s(!0),localStorage.setItem("safebite-guest-first-visit","false"))},[]),w.useEffect(()=>{o!==void 0&&n&&!i&&(e(o?{title:`Welcome, ${o}!`,description:"You're exploring SafeBite in guest mode. Your data won't be saved when you leave.",variant:"default",duration:8e3}:{title:"Welcome to Guest Mode!",description:"Explore SafeBite's features freely. Create an account to save your progress and get personalized insights.",variant:"default",duration:8e3}),r(!1))},[e,n,o,i]),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden min-h-screen",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"guest-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5",className:"text-safebite-teal/50"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#guest-grid)"})]})}),i&&a.jsx(cZ,{onComplete:()=>s(!1),userName:o||"Guest"}),a.jsx(rje,{}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-1",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple animate-gradient-text",children:["Welcome, ",o||"Guest","!"]})}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"You're exploring in Guest Mode. Sign up to unlock all features."})]}),a.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[a.jsx(lZ,{currentPage:"guest-dashboard"}),a.jsxs(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx(uu,{className:"mr-2 h-4 w-4"}),"Create Account"]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Discover Key Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Ee,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-lg",children:[a.jsx(In,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Instant Food Search"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Look up foods or scan barcodes for nutrition facts and safety insights."}),a.jsxs(ee,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Try Search",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Ee,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-lg",children:[a.jsx(Vc,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Calculators"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Use over 30 calculators for BMI, BMR, calories, and more."}),a.jsxs(ee,{onClick:()=>t("/healthbox"),className:"w-full sci-fi-button-alt",children:["Explore Tools",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Ee,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-lg",children:[a.jsx(Co,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Food Insights"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Leverage AI for deeper understanding of food ingredients and safety."}),a.jsxs(ee,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Learn More",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Unlock Full Potential - Sign Up!"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(bl,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(Kr,{className:"mr-2 h-5 w-5"}),"Personalized Tracking"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Log meals, track nutrition, monitor progress, and save history."}),a.jsx(ee,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(bl,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(Ad,{className:"mr-2 h-5 w-5"}),"Gamification & Goals"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Set health goals, earn badges, and track achievements."}),a.jsx(ee,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(bl,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(WI,{className:"mr-2 h-5 w-5"}),"Personalized AI"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Receive AI recommendations tailored to your health profile."}),a.jsx(ee,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]})]})]}),a.jsx("div",{className:"relative z-10 mb-10",children:a.jsxs(Ee,{className:"sci-fi-card shadow-neon-teal border-safebite-teal/50 bg-gradient-to-br from-safebite-card-bg to-safebite-card-bg-alt",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-center text-xl font-semibold gradient-text",children:"Why Create a Free Account?"})}),a.jsxs(Fe,{children:[a.jsxs("ul",{className:"space-y-3 mb-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(lo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Save food search history & favorites"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(lo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Get personalized AI health recommendations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(lo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Track nutrition, activity & progress over time"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(lo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Earn achievements & XP for healthy habits"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(lo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Access premium features & future integrations"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ee,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 transition-transform hover:scale-105 shadow-md hover:shadow-lg",size:"lg",children:"Sign Up Free"})})]})]})}),a.jsxs("div",{className:"relative z-10 mb-10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Health Insights"}),a.jsx(yre,{userId:"guest-user",initialTab:"weight"})]}),a.jsxs("div",{className:"relative z-10 mb-10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"What's Next?"}),a.jsxs(Ee,{className:"sci-fi-card relative overflow-hidden border-orange-500/30 bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-lg bg-gradient-to-r from-orange-600 via-red-500 to-yellow-500 opacity-75 blur animate-pulse-slow"}),a.jsx("div",{className:"relative p-6 bg-safebite-card-bg-alt rounded-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center",children:[a.jsx("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:mr-6",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg",children:a.jsx(Fr,{className:"h-8 w-8 text-white"})})}),a.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl font-semibold text-orange-400 mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Get nutritional insights for meals from Zomato & Swiggy directly within SafeBite. Search for your favorite dishes!"}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start",children:[a.jsx(Se,{variant:"outline",className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:"Now Live"}),a.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Try it now!"})]})]})]})})]})]}),a.jsxs("div",{className:"text-center text-safebite-text-secondary text-sm mt-8",children:[a.jsx("p",{children:"SafeBite v3.0"}),a.jsxs("p",{className:"mt-2",children:["Guest mode provides limited functionality. ",a.jsx(ee,{variant:"link",className:"p-0 h-auto text-safebite-teal",onClick:()=>t("/auth/signup"),children:"Sign up"})," for full access."]})]})]})};var wD="Avatar",[JVe,yWe]=Xi(wD),[ZVe,xre]=JVe(wD),vre=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=w.useState("idle");return a.jsx(ZVe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(Ge.span,{...r,ref:e})})});vre.displayName=wD;var bre="AvatarImage",wre=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=xre(bre,n),l=e6e(r,s.referrerPolicy),c=Qn(u=>{i(u),o.onImageLoadingStatusChange(u)});return xr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Ge.img,{...s,ref:e,src:r}):null});wre.displayName=bre;var jre="AvatarFallback",Sre=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=xre(jre,n),[o,l]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(Ge.span,{...i,ref:e}):null});Sre.displayName=jre;function e6e(t,e){const[n,r]=w.useState("idle");return xr(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=l=>()=>{i&&r(l)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var Nre=vre,_re=wre,kre=Sre;const A1=w.forwardRef(({className:t,...e},n)=>a.jsx(Nre,{ref:n,className:st("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));A1.displayName=Nre.displayName;const Are=w.forwardRef(({className:t,...e},n)=>a.jsx(_re,{ref:n,className:st("aspect-square h-full w-full",t),...e}));Are.displayName=_re.displayName;const C1=w.forwardRef(({className:t,...e},n)=>a.jsx(kre,{ref:n,className:st("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));C1.displayName=kre.displayName;const t6e="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Google Gemini API Key loaded:","Available");const n6e=async t=>{try{const e=t.map(i=>({role:i.role,parts:[{text:i.content}]})),n=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":t6e},body:JSON.stringify({contents:e,generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!n.ok)throw new Error(`Gemini API error: ${n.status}`);const r=await n.json();if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0)return r.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error chatting with Gemini:",e),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},av=({initialMessage:t="Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or healthy eating!",currentPage:e="",userData:n=null,autoOpen:r=!1})=>{const[i,s]=w.useState(r),[o,l]=w.useState(!r),[c,u]=w.useState([{role:"assistant",content:t}]),[f,h]=w.useState(""),[p,g]=w.useState(!1),[v,y]=w.useState(!1),[b,S]=w.useState(!1),N=w.useRef(null),k=lt(Oe),E=$t(Oe);Tt();const{isGuest:A}=Vn();w.useEffect(()=>{const V=window.location.pathname,q=V==="/"||V==="/SafeBite-V1/"||V==="/SafeBite-V1",H=V.includes("/auth/"),Y=k.currentUser!==null,K=(Y||A)&&!q&&!H&&(A||n!==null);console.log("FoodChatBot - shouldDisplay:",K,{isLoggedIn:Y,isGuest:A,isLandingPage:q,isAuthPage:H,userData:n}),S(K)},[k.currentUser,A,n]);const C=()=>{var V;(V=N.current)==null||V.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{C()},[c]),w.useEffect(()=>{if(r){const V=setTimeout(()=>{s(!0),l(!1)},1500);return()=>clearTimeout(V)}},[r]),w.useEffect(()=>{const V=k.onAuthStateChanged(q=>{y(!!q),e&&q?T(e,q):e&&T(e,null)});return()=>V()},[k,e]),w.useEffect(()=>{n&&v&&e&&I(n,e)},[n,v,e]);const T=async(V,q)=>{let H="",Y=!q;const K=Y?localStorage.getItem("guestUserName")||"Guest":null;if(!(c.length>1)){switch(V){case"dashboard":Y?H=`Welcome to the SafeBite dashboard, ${K}! As a guest user, you can explore basic features. Would you like me to explain what's available to you, or would you like to sign up for full access?`:H=`Welcome to your personalized dashboard, ${q.displayName||"there"}! I can help you understand your health metrics or suggest ways to improve your nutrition based on your data. What would you like to know about today?`;break;case"nutrition":Y?H="I see you're exploring nutrition information. You can search for foods to see their nutritional content. Would you like help finding details for a specific food, or would you like some healthy meal suggestions?":H="Welcome to the Nutrition page! Based on your profile, I can help you find foods that match your dietary preferences and health goals. Would you like personalized recommendations or help with searching for specific foods?";break;case"recipes":Y?H="Looking for recipe ideas? You can search for recipes here. What kind of dishes are you interested in today? I can suggest options based on ingredients or cuisine types.":H="Welcome to Recipes! Based on your previous activity and preferences, I can suggest personalized recipe ideas. Would you like recommendations for quick meals, healthy options, or something specific to your dietary needs?";break;case"healthbox":Y?H="Welcome to Healthbox! Here you can access various health calculators and tools. As a guest, you can try them out, but your results won't be saved. Would you like me to guide you through the available tools?":H="Welcome to Healthbox! I can help you understand the different health tools available or assist with interpreting your results. Your data will be saved to your profile for tracking progress. Which health aspect would you like to focus on today?";break;case"food-delivery":Y?H="Looking for food delivery options? You can explore healthy choices from popular restaurants here. Would you like suggestions for nutritious takeout options?":H="Welcome to Food Delivery! Based on your health profile and preferences, I can suggest healthier options from your favorite restaurants. Would you like recommendations from Zomato, Swiggy, or based on your dietary preferences?";break;case"weekly-questions":Y?H="This is the weekly health check-in page. As a guest, you can try it out, but your answers won't be saved. Would you like to sign up to track your progress over time?":H="Welcome to your weekly health check-in! Answering these questions helps us provide personalized recommendations and track your progress. Would you like me to explain how this information is used to improve your experience?";break;case"settings":Y?H="As a guest user, your settings options are limited. Would you like to create an account to access all features and save your preferences?":H="You can customize your SafeBite experience here. Would you like help with setting up your dietary preferences, health goals, or notification settings?";break;default:Y?H="Welcome to SafeBite! I'm your AI assistant and can help you navigate the site. As a guest user, some features are limited. Would you like to know more about creating an account?":H="Welcome to SafeBite! I'm your personal AI assistant and can help with nutrition information, recipe suggestions, and health insights. What can I help you with today?"}if(H&&(u(Z=>[...Z,{role:"assistant",content:H}]),v&&q))try{const Z=bo(E,"users",q.uid,"chatHistory");await P0(Z,{aiMessage:H,timestamp:md(),context:V,isAutoGenerated:!0})}catch(Z){console.error("Error saving context message to Firebase:",Z)}}},I=async(V,q)=>{c.length>2||setTimeout(async()=>{var Y,K,Z,U,W;let H="";if(V){const Q=(Y=V.profile)==null?void 0:Y.health_goals,B=(K=V.profile)==null?void 0:K.dietary_preferences,se=(Z=V.profile)==null?void 0:Z.health_conditions,ue=V.recentActivity||[],pe=(W=(U=V.profile)==null?void 0:U.weeklyCheckin)==null?void 0:W.answers;switch(q){case"dashboard":pe?pe.exercise_minutes<150?H=`I noticed from your weekly check-in that you're getting ${pe.exercise_minutes} minutes of exercise. The recommended amount is 150 minutes per week. Would you like some tips for increasing your activity level?`:pe.water_intake<6?H=`Your weekly check-in shows you're drinking ${pe.water_intake} cups of water daily. Increasing to 8 cups could improve your hydration. Would you like some hydration tips?`:pe.stress_level>3&&(H=`I see your stress level is rated ${pe.stress_level}/5. Would you like me to suggest some stress management techniques or foods that can help reduce stress?`):Q==="Weight Loss"?H="I noticed your goal is weight loss. Would you like me to suggest some low-calorie meal options or exercise routines that could help? Completing your weekly health check-in would also help me provide more personalized recommendations.":Q==="Muscle Gain"?H="Since you're focusing on muscle gain, would you like some high-protein recipe suggestions or nutrition tips? I can also recommend specific health tools in Healthbox to track your progress.":se&&se.includes("Diabetes")&&(H="I see you're managing diabetes. Would you like me to help you find low-glycemic food options or meal planning tips? I can also suggest specific health monitoring tools in Healthbox.");break;case"nutrition":pe?pe.junk_food_consumption>5?H="Based on your weekly check-in, you might want to reduce processed food intake. Would you like me to suggest some healthier alternatives to common junk foods?":pe.fruit_vegetable_servings<5&&(H=`Your weekly check-in shows you're getting ${pe.fruit_vegetable_servings} servings of fruits and vegetables daily. Would you like suggestions for increasing your intake to the recommended 5+ servings?`):B&&(B.includes("Vegetarian")?H="As a vegetarian, would you like me to suggest some plant-based protein sources or vegetarian recipes? I can also help you ensure you're getting all essential nutrients.":B.includes("Vegan")?H="For your vegan diet, would you like me to suggest some nutrient-dense plant foods or vegan recipes? I can also help you identify potential nutrient gaps to watch for.":B.includes("Keto")&&(H="For your keto diet, would you like me to suggest some low-carb, high-fat food options? I can also help you track your macronutrient ratios to stay in ketosis."));break;case"recipes":if(ue.length>0){const ne=ue.filter(ae=>ae.type==="search").map(ae=>ae.query);ne.length>0&&(H=`I see you recently searched for "${ne[0]}". Would you like me to suggest similar recipes or nutrition information? I can also help you modify recipes to match your dietary preferences.`)}else pe&&pe.home_cooked_meals<10?H=`Your weekly check-in shows you had ${pe.home_cooked_meals} home-cooked meals. Would you like some quick and easy recipe ideas to help you cook at home more often?`:B&&(H=`Based on your dietary preferences, I can suggest some ${B.toLowerCase()} recipes. Would you like quick meals, batch cooking ideas, or special occasion recipes?`);break;case"healthbox":pe?pe.sleep_hours<7?H=`I noticed from your weekly check-in that you're getting ${pe.sleep_hours} hours of sleep. Would you like to try the Sleep Calculator tool to help improve your sleep quality?`:pe.stress_level>3?H=`Based on your stress level of ${pe.stress_level}/5, you might find the Stress Analyzer tool helpful. Would you like to try it?`:pe.health_symptoms&&pe.health_symptoms.includes("joint_pain")&&(H="I see you mentioned joint pain in your weekly check-in. The Body Mass Index and Exercise Planner tools might be helpful for managing this. Would you like to try them?"):se?H=`Since you've mentioned ${se}, would you like me to suggest specific health tools that might be helpful for monitoring your condition? Regular weekly check-ins can also help track your progress.`:H="Would you like me to recommend which health tools might be most relevant for your health goals? Completing a weekly health check-in would also help me provide more personalized recommendations.";break;case"weekly-questions":H="Completing your weekly health check-in helps us provide personalized recommendations. Your answers are used to track progress, suggest relevant health tools, and customize nutrition advice. Would you like me to explain more about any specific question?";break;case"food-delivery":B?H=`When ordering food delivery, look for ${B.toLowerCase()} options. Would you like tips for making healthier choices when ordering from restaurants?`:Q==="Weight Loss"?H="When ordering food delivery while focusing on weight loss, look for options with vegetables, lean proteins, and ask for dressings on the side. Would you like more specific recommendations?":H="Would you like some tips for identifying healthier options when ordering food delivery? I can help you decode menu descriptions and make better choices.";break}if(H&&(u(ne=>[...ne,{role:"assistant",content:H}]),v))try{const ne=k.currentUser;if(ne){const ae=bo(E,"users",ne.uid,"chatHistory");await P0(ae,{aiMessage:H,timestamp:md(),context:q,isPersonalized:!0,basedOn:{healthGoals:Q||"General Health",dietaryPreferences:B||"None",healthConditions:se||"None",weeklyCheckin:!!pe,recentActivity:(ue==null?void 0:ue.slice(0,3))||[]}})}}catch(ne){console.error("Error saving personalized suggestion to Firebase:",ne)}}},8e3)},P=async()=>{if(!f.trim())return;const V={role:"user",content:f};u(q=>[...q,V]),h(""),g(!0);try{const q=[...c,V],H=await n6e(q),Y={role:"assistant",content:H};if(u(K=>[...K,Y]),v)try{const K=k.currentUser;if(K){const Z=bo(E,"users",K.uid,"chatHistory");await P0(Z,{userMessage:V.content,aiResponse:H,timestamp:md(),context:q.map(W=>({role:W.role,content:W.content.substring(0,100)+(W.content.length>100?"...":"")})),topics:M(V.content)});const U=Ve(E,"users",K.uid);await rn(U,{aiLearning:{lastInteraction:md(),recentTopics:M(V.content),interactionCount:q.length/2}},{merge:!0})}}catch(K){console.error("Error saving chat to Firebase:",K)}}catch(q){console.error("Error sending message to Gemini:",q),u(H=>[...H,{role:"assistant",content:"I'm sorry, I'm having trouble connecting to my knowledge base right now. Please try again later."}])}finally{g(!1)}},M=V=>{const q=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],H=[],Y=V.toLowerCase();for(const K of q)Y.includes(K)&&H.push(K);return H.length>0?H:["general"]},L=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),P())},D=()=>{s(!i),i||l(!1)},R=()=>{l(!o)};return b?a.jsxs(a.Fragment,{children:[!i&&a.jsx(ee,{onClick:D,className:"fixed bottom-6 right-6 rounded-full w-14 h-14 p-0 bg-safebite-teal hover:bg-safebite-teal/80 shadow-xl z-50 border-2 border-white/20 flex items-center justify-center",title:"SafeBite AI Assistant",children:a.jsx(Fg,{size:24,className:"text-safebite-dark-blue"})}),i&&a.jsxs(Ee,{className:`fixed bottom-6 right-6 w-80 sm:w-96 shadow-xl border border-safebite-teal/30 transition-all duration-300 ease-in-out ${o?"h-16":"h-[500px]"}`,children:[a.jsxs(Xe,{className:"p-3 border-b border-safebite-teal/30 bg-safebite-teal/10 flex flex-row items-center justify-between space-y-0",children:[a.jsxs(Qe,{className:"text-base font-medium flex items-center",children:[a.jsxs(A1,{className:"h-8 w-8 mr-2",children:[a.jsx(Are,{src:"/bot-avatar.png",alt:"AI"}),a.jsx(C1,{className:"bg-safebite-teal text-safebite-dark-blue text-xs",children:"AI"})]}),"SafeBite AI Assistant"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:R,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:o?a.jsx(_7,{size:16}):a.jsx(k7,{size:16})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:D,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:a.jsx(or,{size:16})})]})]}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"p-4 overflow-y-auto h-[380px] bg-safebite-card-bg",children:a.jsxs("div",{className:"space-y-4",children:[c.map((V,q)=>a.jsx("div",{className:`flex ${V.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${V.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg-alt text-safebite-text"}`,children:V.content.split(`
`).map((H,Y)=>{const K=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings"];let Z=H;return K.forEach(U=>{if(H.toLowerCase().includes(U.toLowerCase())){const W=H.toLowerCase().indexOf(U.toLowerCase());H.substring(W,W+U.length);const Q=[H.substring(0,W),H.substring(W+U.length)];Z=`${Q[0]}<Button
                                variant="link"
                                className="p-0 h-auto text-current underline"
                                onClick={() => checkAuthAndNavigate(route)}
                              >
                                {actualRoute}
                              </Button>${Q[1]}`}}),a.jsxs(X.Fragment,{children:[Z,Y<V.content.split(`
`).length-1&&a.jsx("br",{})]},Y)})})},q)),p&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-safebite-card-bg-alt text-safebite-text",children:a.jsx(_n,{className:"h-5 w-5 animate-spin"})})}),a.jsx("div",{ref:N})]})}),a.jsx(El,{className:"p-3 border-t",children:a.jsxs("div",{className:"flex w-full items-center space-x-2",children:[a.jsx(bt,{placeholder:"Ask about food or nutrition...",value:f,onChange:V=>h(V.target.value),onKeyDown:L,className:"flex-1",disabled:p}),a.jsx(ee,{size:"icon",onClick:P,disabled:p||!f.trim(),className:"bg-safebite-teal hover:bg-safebite-teal/80",children:p?a.jsx(_n,{className:"h-5 w-5 animate-spin"}):a.jsx(YI,{size:18})})]})})]})]})]}):null},Cre=w.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:st("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Cre.displayName="Textarea";function r6e(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var jD="ScrollArea",[Ere,xWe]=Xi(jD),[i6e,Xs]=Ere(jD),Tre=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=w.useState(null),[u,f]=w.useState(null),[h,p]=w.useState(null),[g,v]=w.useState(null),[y,b]=w.useState(null),[S,N]=w.useState(0),[k,E]=w.useState(0),[A,C]=w.useState(!1),[T,I]=w.useState(!1),P=Et(e,L=>c(L)),M=cf(i);return a.jsx(i6e,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:A,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:N,onCornerHeightChange:E,children:a.jsx(Ge.div,{dir:M,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Tre.displayName=jD;var Pre="ScrollAreaViewport",Ire=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,l=Xs(Pre,n),c=w.useRef(null),u=Et(e,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),a.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:m6e({asChild:i,children:r},f=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});Ire.displayName=Pre;var zo="ScrollAreaScrollbar",SD=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Xs(zo,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return w.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?a.jsx(s6e,{...r,ref:e,forceMount:n}):i.type==="scroll"?a.jsx(a6e,{...r,ref:e,forceMount:n}):i.type==="auto"?a.jsx(Rre,{...r,ref:e,forceMount:n}):i.type==="always"?a.jsx(ND,{...r,ref:e}):null});SD.displayName=zo;var s6e=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Xs(zo,t.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(Qi,{present:n||s,children:a.jsx(Rre,{"data-state":s?"visible":"hidden",...r,ref:e})})}),a6e=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Xs(zo,t.__scopeScrollArea),s=t.orientation==="horizontal",o=CS(()=>c("SCROLL_END"),100),[l,c]=r6e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),w.useEffect(()=>{const u=i.viewport,f=s?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const g=u[f];h!==g&&(c("SCROLL"),o()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,s,c,o]),a.jsx(Qi,{present:n||l!=="hidden",children:a.jsx(ND,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Be(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Be(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Rre=w.forwardRef((t,e)=>{const n=Xs(zo,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=w.useState(!1),l=t.orientation==="horizontal",c=CS(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:f)}},10);return Wm(n.viewport,c),Wm(n.content,c),a.jsx(Qi,{present:r||s,children:a.jsx(ND,{"data-state":s?"visible":"hidden",...i,ref:e})})}),ND=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Xs(zo,t.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Fre(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return f6e(p,o.current,l,g)}return n==="horizontal"?a.jsx(o6e,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,g=bq(p,l,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=h(p,i.dir))}}):n==="vertical"?a.jsx(l6e,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,g=bq(p,l);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=h(p))}}):null}),o6e=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Xs(zo,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=Et(e,c,s.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Mre,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":AS(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(s.viewport){const p=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(p),Vre(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:T1(o.paddingLeft),paddingEnd:T1(o.paddingRight)}})}})}),l6e=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Xs(zo,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=Et(e,c,s.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Mre,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":AS(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(s.viewport){const p=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(p),Vre(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:T1(o.paddingTop),paddingEnd:T1(o.paddingBottom)}})}})}),[c6e,Ore]=Ere(zo),Mre=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=t,g=Xs(zo,n),[v,y]=w.useState(null),b=Et(e,P=>y(P)),S=w.useRef(null),N=w.useRef(""),k=g.viewport,E=r.content-r.viewport,A=Qn(f),C=Qn(c),T=CS(h,10);function I(P){if(S.current){const M=P.clientX-S.current.left,L=P.clientY-S.current.top;u({x:M,y:L})}}return w.useEffect(()=>{const P=M=>{const L=M.target;(v==null?void 0:v.contains(L))&&A(M,E)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[k,v,E,A]),w.useEffect(C,[r,C]),Wm(v,T),Wm(g.content,T),a.jsx(c6e,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Qn(s),onThumbPointerUp:Qn(o),onThumbPositionChange:C,onThumbPointerDown:Qn(l),children:a.jsx(Ge.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:Be(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),S.current=v.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),I(P))}),onPointerMove:Be(t.onPointerMove,I),onPointerUp:Be(t.onPointerUp,P=>{const M=P.target;M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=N.current,g.viewport&&(g.viewport.style.scrollBehavior=""),S.current=null})})})}),E1="ScrollAreaThumb",Dre=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ore(E1,t.__scopeScrollArea);return a.jsx(Qi,{present:n||i.hasThumb,children:a.jsx(u6e,{ref:e,...r})})}),u6e=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Xs(E1,n),o=Ore(E1,n),{onThumbPositionChange:l}=o,c=Et(e,h=>o.onThumbChange(h)),u=w.useRef(),f=CS(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=s.viewport;if(h){const p=()=>{if(f(),!u.current){const g=h6e(h,l);u.current=g,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[s.viewport,f,l]),a.jsx(Ge.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Be(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),v=h.clientX-g.left,y=h.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:Be(t.onPointerUp,o.onThumbPointerUp)})});Dre.displayName=E1;var _D="ScrollAreaCorner",Lre=w.forwardRef((t,e)=>{const n=Xs(_D,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(d6e,{...t,ref:e}):null});Lre.displayName=_D;var d6e=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Xs(_D,n),[s,o]=w.useState(0),[l,c]=w.useState(0),u=!!(s&&l);return Wm(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),Wm(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?a.jsx(Ge.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function T1(t){return t?parseInt(t,10):0}function Fre(t,e){const n=t/e;return isNaN(n)?0:n}function AS(t){const e=Fre(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function f6e(t,e,n,r="ltr"){const i=AS(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return $re([c,u],h)(t)}function bq(t,e,n="ltr"){const r=AS(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Cy(t,c);return $re([0,o],[0,l])(u)}function $re(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Vre(t,e){return t>0&&t<e}var h6e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function CS(t,e){const n=Qn(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Wm(t,e){const n=Qn(e);xr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function m6e(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=w.Children.only(r);return w.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var Bre=Tre,p6e=Ire,g6e=Lre;const kD=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Bre,{ref:r,className:st("relative overflow-hidden",t),...n,children:[a.jsx(p6e,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(Ure,{}),a.jsx(g6e,{})]}));kD.displayName=Bre.displayName;const Ure=w.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(SD,{ref:r,orientation:e,className:st("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(Dre,{className:"relative flex-1 rounded-full bg-border"})}));Ure.displayName=SD.displayName;const AD="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Enhanced Gemini Service - API Key loaded:","Available");const zre=t=>{const{displayName:e,isGuest:n,dietaryPreferences:r,healthGoals:i,healthConditions:s,recentActivity:o,weeklyCheckin:l,currentPage:c}=t;let u=`You are SafeBite AI, a helpful and friendly nutrition and health assistant. 
Your primary goal is to provide accurate, personalized advice about food, nutrition, and healthy eating.
Always be supportive, encouraging, and non-judgmental.

Current date: ${new Date().toLocaleDateString()}
Current page: ${c||"Unknown"}
`;if(n)u+=`
User type: Guest (limited features)
User name: ${e||"Guest"}

As this is a guest user, focus on providing general information and encouraging them to create an account for personalized features.
`;else if(e){if(u+=`
User type: Registered user
User name: ${e}
`,r&&r.length>0&&(u+=`
Dietary preferences: ${r.join(", ")}`),i&&i.length>0&&(u+=`
Health goals: ${i.join(", ")}`),s&&s.length>0&&(u+=`
Health conditions: ${s.join(", ")}`),l){u+=`
Weekly check-in data:`;for(const[f,h]of Object.entries(l))f!=="timestamp"&&(u+=`
- ${f.replace(/_/g," ")}: ${h}`)}o&&o.length>0&&(u+=`
Recent activity (last 3):`,o.slice(0,3).forEach(f=>{u+=`
- ${f.type}: ${f.query||f.action||"Unknown"}`}))}if(c)switch(c){case"dashboard":u+=`
Page context: User is on the dashboard, which shows health metrics, recent activity, and quick access to features.`;break;case"nutrition":u+=`
Page context: User is on the nutrition page, which allows searching for food items and viewing nutritional information.`;break;case"recipes":u+=`
Page context: User is on the recipes page, which provides healthy recipe suggestions and meal planning.`;break;case"healthbox":u+=`
Page context: User is on the healthbox page, which contains health calculators and tools for tracking health metrics.`;break;case"food-delivery":u+=`
Page context: User is on the food delivery page, which helps find healthy options from food delivery services.`;break;case"weekly-questions":u+=`
Page context: User is completing their weekly health check-in, which tracks progress and provides personalized recommendations.`;break;case"settings":u+=`
Page context: User is on the settings page, where they can update their profile, preferences, and notification settings.`;break}return u+=`

Guidelines for your responses:
1. Be concise and easy to understand, using simple language.
2. When discussing nutrition, focus on balanced eating rather than strict diets.
3. Acknowledge that individual needs vary and avoid one-size-fits-all advice.
4. For health conditions, provide general information but remind users to consult healthcare professionals.
5. Personalize responses based on the user's dietary preferences, health goals, and conditions when available.
6. Provide specific, actionable advice when possible.
7. Be encouraging and positive, focusing on what users can add to their diet rather than what to restrict.
8. When appropriate, suggest relevant features within the SafeBite app that might help the user.
9. If you don't know something, admit it rather than providing potentially incorrect information.
10. Keep responses friendly and conversational, but professional.
`,u},y6e=async(t,e)=>{try{const r=[{role:"system",parts:[{text:zre(e)}]},...t.map(o=>({role:o.role,parts:[{text:o.content}]}))],i=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":AD},body:JSON.stringify({contents:r,generationConfig:{temperature:.7,maxOutputTokens:800,topP:.95,topK:40},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!i.ok)throw new Error(`Gemini API error: ${i.status}`);const s=await i.json();if(s.candidates&&s.candidates.length>0&&s.candidates[0].content&&s.candidates[0].content.parts&&s.candidates[0].content.parts.length>0)return s.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(n){return console.error("Error chatting with Enhanced Gemini:",n),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},x6e=async t=>{try{const e=zre(t),n=`Based on the user context provided, generate a single, helpful proactive suggestion that would be valuable to the user right now. 
The suggestion should be specific, actionable, and directly relevant to the current page (${t.currentPage}) and the user's profile information.
Keep it concise (1-2 sentences) and friendly. Don't be too pushy or sales-like.
If there's not enough context to make a meaningful suggestion, respond with "NO_SUGGESTION".`,r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":AD},body:JSON.stringify({contents:[{role:"system",parts:[{text:e}]},{role:"user",parts:[{text:n}]}],generationConfig:{temperature:.7,maxOutputTokens:100,topP:.95,topK:40}})});if(!r.ok)throw new Error(`Gemini API error: ${r.status}`);const i=await r.json();if(i.candidates&&i.candidates.length>0&&i.candidates[0].content&&i.candidates[0].content.parts&&i.candidates[0].content.parts.length>0){const s=i.candidates[0].content.parts[0].text.trim();return s==="NO_SUGGESTION"?null:s}else return null}catch(e){return console.error("Error generating proactive suggestion:",e),null}},v6e=async t=>{if(!t)return{topics:[],entities:[]};try{const e=`Extract the main topics and entities from this message:
"${t}"

Return ONLY a JSON object with two arrays:
1. "topics": General categories or subjects (like "nutrition", "weight loss", "recipes", etc.)
2. "entities": Specific items mentioned (like "apples", "protein", "vitamin C", etc.)

Format: 
{
  "topics": ["topic1", "topic2"],
  "entities": ["entity1", "entity2"]
}`,n=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":AD},body:JSON.stringify({contents:[{role:"user",parts:[{text:e}]}],generationConfig:{temperature:.1,maxOutputTokens:200}})});if(!n.ok)throw new Error(`Gemini API error: ${n.status}`);const r=await n.json();if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0){const o=r.candidates[0].content.parts[0].text.match(/\{[\s\S]*\}/);if(o)try{const l=JSON.parse(o[0]);return{topics:Array.isArray(l.topics)?l.topics:[],entities:Array.isArray(l.entities)?l.entities:[]}}catch(l){console.error("Error parsing JSON from Gemini response:",l)}}return{topics:b6e(t),entities:[]}}catch(e){return console.error("Error extracting topics and entities:",e),{topics:[],entities:[]}}},b6e=t=>{const e=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],n=[],r=t.toLowerCase();for(const i of e)r.includes(i)&&n.push(i);return n.length>0?n:["general"]},w6e=async()=>{const e=lt(Oe).currentUser,n={isGuest:!0,currentPage:wq()};if(!e){if(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"){const i=localStorage.getItem("guestUserName")||"Guest";return{...n,displayName:i}}return n}return{userId:e.uid,displayName:e.displayName||void 0,isGuest:!1,currentPage:wq()}},wq=()=>{const t=window.location.pathname;return t.includes("/dashboard")?"dashboard":t.includes("/nutrition")?"nutrition":t.includes("/recipes")?"recipes":t.includes("/healthbox")?"healthbox":t.includes("/food-delivery")?"food-delivery":t.includes("/weekly-questions")?"weekly-questions":t.includes("/settings")?"settings":"unknown"},j6e=()=>{if(!("SpeechRecognition"in window)&&!("webkitSpeechRecognition"in window))return console.warn("Speech recognition is not supported in this browser."),null;const t=window.SpeechRecognition||window.webkitSpeechRecognition;try{const e=new t;return e.continuous=!0,e.interimResults=!0,e.lang="en-US",e}catch(e){return console.error("Error initializing speech recognition:",e),null}},ES=()=>"speechSynthesis"in window,qre=()=>ES()?window.speechSynthesis.getVoices():[],Hre=()=>{if(!ES())return null;const t=qre();return t.length===0?null:t.find(n=>n.name.includes("Female")||n.name.includes("Google")||n.name.includes("Samantha"))||t[0]},S6e=(t,e)=>{if(!ES()){console.warn("Speech synthesis is not supported in this browser.");return}window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(t),r=Hre();r&&(n.voice=r),n.rate=1,n.pitch=1,n.volume=1,e&&(n.onend=e),window.speechSynthesis.speak(n)},jq={initSpeechRecognition:j6e,isSpeechSynthesisAvailable:ES,getAvailableVoices:qre,getPreferredVoice:Hre,speakText:S6e};function N6e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const _6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,k6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,A6e={};function Sq(t,e){return(A6e.jsx?k6e:_6e).test(t)}const C6e=/[ \t\n\f\r]/g;function E6e(t){return typeof t=="object"?t.type==="text"?Nq(t.value):!1:Nq(t)}function Nq(t){return t.replace(C6e,"")===""}class ov{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}ov.prototype.normal={};ov.prototype.property={};ov.prototype.space=void 0;function Wre(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new ov(n,r,e)}function SI(t){return t.toLowerCase()}class Zi{constructor(e,n){this.attribute=n,this.property=e}}Zi.prototype.attribute="";Zi.prototype.booleanish=!1;Zi.prototype.boolean=!1;Zi.prototype.commaOrSpaceSeparated=!1;Zi.prototype.commaSeparated=!1;Zi.prototype.defined=!1;Zi.prototype.mustUseProperty=!1;Zi.prototype.number=!1;Zi.prototype.overloadedBoolean=!1;Zi.prototype.property="";Zi.prototype.spaceSeparated=!1;Zi.prototype.space=void 0;let T6e=0;const Pt=vf(),hr=vf(),Gre=vf(),Me=vf(),wn=vf(),Hh=vf(),cs=vf();function vf(){return 2**++T6e}const NI=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:hr,commaOrSpaceSeparated:cs,commaSeparated:Hh,number:Me,overloadedBoolean:Gre,spaceSeparated:wn},Symbol.toStringTag,{value:"Module"})),u2=Object.keys(NI);class CD extends Zi{constructor(e,n,r,i){let s=-1;if(super(e,n),_q(this,"space",i),typeof r=="number")for(;++s<u2.length;){const o=u2[s];_q(this,u2[s],(r&NI[o])===NI[o])}}}CD.prototype.defined=!0;function _q(t,e,n){n&&(t[e]=n)}function bp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new CD(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[SI(r)]=r,n[SI(s.attribute)]=r}return new ov(e,n,t.space)}const Kre=bp({properties:{ariaActiveDescendant:null,ariaAtomic:hr,ariaAutoComplete:null,ariaBusy:hr,ariaChecked:hr,ariaColCount:Me,ariaColIndex:Me,ariaColSpan:Me,ariaControls:wn,ariaCurrent:null,ariaDescribedBy:wn,ariaDetails:null,ariaDisabled:hr,ariaDropEffect:wn,ariaErrorMessage:null,ariaExpanded:hr,ariaFlowTo:wn,ariaGrabbed:hr,ariaHasPopup:null,ariaHidden:hr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wn,ariaLevel:Me,ariaLive:null,ariaModal:hr,ariaMultiLine:hr,ariaMultiSelectable:hr,ariaOrientation:null,ariaOwns:wn,ariaPlaceholder:null,ariaPosInSet:Me,ariaPressed:hr,ariaReadOnly:hr,ariaRelevant:null,ariaRequired:hr,ariaRoleDescription:wn,ariaRowCount:Me,ariaRowIndex:Me,ariaRowSpan:Me,ariaSelected:hr,ariaSetSize:Me,ariaSort:null,ariaValueMax:Me,ariaValueMin:Me,ariaValueNow:Me,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Yre(t,e){return e in t?t[e]:e}function Xre(t,e){return Yre(t,e.toLowerCase())}const P6e=bp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hh,acceptCharset:wn,accessKey:wn,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:wn,autoFocus:Pt,autoPlay:Pt,blocking:wn,capture:null,charSet:null,checked:Pt,cite:null,className:wn,cols:Me,colSpan:null,content:null,contentEditable:hr,controls:Pt,controlsList:wn,coords:Me|Hh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:Gre,draggable:hr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:wn,height:Me,hidden:Pt,high:Me,href:null,hrefLang:null,htmlFor:wn,httpEquiv:wn,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:wn,itemRef:wn,itemScope:Pt,itemType:wn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Me,manifest:null,max:null,maxLength:Me,media:null,method:null,min:null,minLength:Me,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Me,pattern:null,ping:wn,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:wn,required:Pt,reversed:Pt,rows:Me,rowSpan:Me,sandbox:wn,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:Me,sizes:null,slot:null,span:Me,spellCheck:hr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Me,step:null,style:null,tabIndex:Me,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:hr,width:Me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wn,axis:null,background:null,bgColor:null,border:Me,borderColor:null,bottomMargin:Me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Me,leftMargin:Me,link:null,longDesc:null,lowSrc:null,marginHeight:Me,marginWidth:Me,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Me,rules:null,scheme:null,scrolling:hr,standby:null,summary:null,text:null,topMargin:Me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Me,security:null,unselectable:null},space:"html",transform:Xre}),I6e=bp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cs,accentHeight:Me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Me,amplitude:Me,arabicForm:null,ascent:Me,attributeName:null,attributeType:null,azimuth:Me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Me,by:null,calcMode:null,capHeight:Me,className:wn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Me,diffuseConstant:Me,direction:null,display:null,dur:null,divisor:Me,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Me,enableBackground:null,end:null,event:null,exponent:Me,externalResourcesRequired:null,fill:null,fillOpacity:Me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hh,g2:Hh,glyphName:Hh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Me,horizOriginX:Me,horizOriginY:Me,id:null,ideographic:Me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Me,k:Me,k1:Me,k2:Me,k3:Me,k4:Me,kernelMatrix:cs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Me,overlineThickness:Me,paintOrder:null,panose1:null,path:null,pathLength:Me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Me,pointsAtY:Me,pointsAtZ:Me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cs,rev:cs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cs,requiredFeatures:cs,requiredFonts:cs,requiredFormats:cs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Me,specularExponent:Me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Me,strikethroughThickness:Me,string:null,stroke:null,strokeDashArray:cs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Me,strokeOpacity:Me,strokeWidth:null,style:null,surfaceScale:Me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cs,tabIndex:Me,tableValues:null,target:null,targetX:Me,targetY:Me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Me,underlineThickness:Me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Me,values:null,vAlphabetic:Me,vMathematical:Me,vectorEffect:null,vHanging:Me,vIdeographic:Me,version:null,vertAdvY:Me,vertOriginX:Me,vertOriginY:Me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Yre}),Qre=bp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Jre=bp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Xre}),Zre=bp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),R6e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},O6e=/[A-Z]/g,kq=/-[a-z]/g,M6e=/^data[-\w.:]+$/i;function D6e(t,e){const n=SI(e);let r=e,i=Zi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&M6e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(kq,F6e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!kq.test(s)){let o=s.replace(O6e,L6e);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=CD}return new i(r,e)}function L6e(t){return"-"+t.toLowerCase()}function F6e(t){return t.charAt(1).toUpperCase()}const $6e=Wre([Kre,P6e,Qre,Jre,Zre],"html"),ED=Wre([Kre,I6e,Qre,Jre,Zre],"svg");function V6e(t){return t.join(" ").trim()}var fh={},d2,Aq;function B6e(){if(Aq)return d2;Aq=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,u="/",f="*",h="",p="comment",g="declaration";d2=function(y,b){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];b=b||{};var S=1,N=1;function k(R){var V=R.match(e);V&&(S+=V.length);var q=R.lastIndexOf(c);N=~q?R.length-q:N+R.length}function E(){var R={line:S,column:N};return function(V){return V.position=new A(R),I(),V}}function A(R){this.start=R,this.end={line:S,column:N},this.source=b.source}A.prototype.content=y;function C(R){var V=new Error(b.source+":"+S+":"+N+": "+R);if(V.reason=R,V.filename=b.source,V.line=S,V.column=N,V.source=y,!b.silent)throw V}function T(R){var V=R.exec(y);if(V){var q=V[0];return k(q),y=y.slice(q.length),V}}function I(){T(n)}function P(R){var V;for(R=R||[];V=M();)V!==!1&&R.push(V);return R}function M(){var R=E();if(!(u!=y.charAt(0)||f!=y.charAt(1))){for(var V=2;h!=y.charAt(V)&&(f!=y.charAt(V)||u!=y.charAt(V+1));)++V;if(V+=2,h===y.charAt(V-1))return C("End of comment missing");var q=y.slice(2,V-2);return N+=2,k(q),y=y.slice(V),N+=2,R({type:p,comment:q})}}function L(){var R=E(),V=T(r);if(V){if(M(),!T(i))return C("property missing ':'");var q=T(s),H=R({type:g,property:v(V[0].replace(t,h)),value:q?v(q[0].replace(t,h)):h});return T(o),H}}function D(){var R=[];P(R);for(var V;V=L();)V!==!1&&(R.push(V),P(R));return R}return I(),D()};function v(y){return y?y.replace(l,h):h}return d2}var Cq;function U6e(){if(Cq)return fh;Cq=1;var t=fh&&fh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fh,"__esModule",{value:!0}),fh.default=n;var e=t(B6e());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),l=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var u=c.property,f=c.value;l?i(u,f,c):f&&(s=s||{},s[u]=f)}}),s}return fh}var bg={},Eq;function z6e(){if(Eq)return bg;Eq=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||t.test(u)},o=function(u,f){return f.toUpperCase()},l=function(u,f){return"".concat(f,"-")},c=function(u,f){return f===void 0&&(f={}),s(u)?u:(u=u.toLowerCase(),f.reactCompat?u=u.replace(i,l):u=u.replace(r,l),u.replace(e,o))};return bg.camelCase=c,bg}var wg,Tq;function q6e(){if(Tq)return wg;Tq=1;var t=wg&&wg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(U6e()),n=z6e();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(l,c){l&&c&&(o[(0,n.camelCase)(l,s)]=c)}),o}return r.default=r,wg=r,wg}var H6e=q6e();const W6e=tn(H6e),eie=tie("end"),TD=tie("start");function tie(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function G6e(t){const e=TD(t),n=eie(t);if(e&&n)return{start:e,end:n}}function oy(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Pq(t.position):"start"in t||"end"in t?Pq(t):"line"in t||"column"in t?_I(t):""}function _I(t){return Iq(t&&t.line)+":"+Iq(t&&t.column)}function Pq(t){return _I(t&&t.start)+"-"+_I(t&&t.end)}function Iq(t){return t&&typeof t=="number"?t:1}class gi extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=oy(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}gi.prototype.file="";gi.prototype.name="";gi.prototype.reason="";gi.prototype.message="";gi.prototype.stack="";gi.prototype.column=void 0;gi.prototype.line=void 0;gi.prototype.ancestors=void 0;gi.prototype.cause=void 0;gi.prototype.fatal=void 0;gi.prototype.place=void 0;gi.prototype.ruleId=void 0;gi.prototype.source=void 0;const PD={}.hasOwnProperty,K6e=new Map,Y6e=/[A-Z]/g,X6e=new Set(["table","tbody","thead","tfoot","tr"]),Q6e=new Set(["td","th"]),nie="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function J6e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=aBe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=sBe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ED:$6e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=rie(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function rie(t,e,n){if(e.type==="element")return Z6e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return eBe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return nBe(t,e,n);if(e.type==="mdxjsEsm")return tBe(t,e);if(e.type==="root")return rBe(t,e,n);if(e.type==="text")return iBe(t,e)}function Z6e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ED,t.schema=i),t.ancestors.push(e);const s=sie(t,e.tagName,!1),o=oBe(t,e);let l=RD(t,e);return X6e.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!E6e(c):!0})),iie(t,o,s,e),ID(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function eBe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}vx(t,e.position)}function tBe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);vx(t,e.position)}function nBe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ED,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:sie(t,e.name,!0),o=lBe(t,e),l=RD(t,e);return iie(t,o,s,e),ID(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function rBe(t,e,n){const r={};return ID(r,RD(t,e)),t.create(e,t.Fragment,r,n)}function iBe(t,e){return e.value}function iie(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function ID(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function sBe(t,e,n){return r;function r(i,s,o,l){const u=Array.isArray(o.children)?n:e;return l?u(s,o,l):u(s,o)}}function aBe(t,e){return n;function n(r,i,s,o){const l=Array.isArray(s.children),c=TD(r);return e(i,s,o,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function oBe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&PD.call(e.properties,i)){const s=cBe(t,i,e.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Q6e.has(e.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lBe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else vx(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else vx(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function RD(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:K6e;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const l=rie(t,s,o);l!==void 0&&n.push(l)}return n}function cBe(t,e,n){const r=D6e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?N6e(n):V6e(n)),r.property==="style"){let i=typeof n=="object"?n:uBe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=dBe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?R6e[r.property]||r.property:r.attribute,n]}}function uBe(t,e){try{return W6e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new gi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=nie+"#cannot-parse-style-attribute",i}}function sie(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const l=Sq(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=Sq(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return PD.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);vx(t)}function vx(t,e){const n=new gi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=nie+"#cannot-handle-mdx-estrees-without-createevaluater",n}function dBe(t){const e={};let n;for(n in t)PD.call(t,n)&&(e[fBe(n)]=t[n]);return e}function fBe(t){let e=t.replace(Y6e,hBe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function hBe(t){return"-"+t.toLowerCase()}const f2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mBe={};function OD(t,e){const n=mBe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return aie(t,r,i)}function aie(t,e,n){if(pBe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Rq(t.children,e,n)}return Array.isArray(t)?Rq(t,e,n):""}function Rq(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=aie(t[i],e,n);return r.join("")}function pBe(t){return!!(t&&typeof t=="object")}const Oq=document.createElement("i");function MD(t){const e="&"+t+";";Oq.innerHTML=e;const n=Oq.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ss(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Vs(t,e){return t.length>0?(Ss(t,t.length,0,e),t):e}const Mq={}.hasOwnProperty;function oie(t){const e={};let n=-1;for(;++n<t.length;)gBe(e,t[n]);return e}function gBe(t,e){let n;for(n in e){const i=(Mq.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Mq.call(i,o)||(i[o]=[]);const l=s[o];yBe(i[o],Array.isArray(l)?l:l?[l]:[])}}}function yBe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ss(t,0,0,r)}function lie(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Pa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ki=ku(/[A-Za-z]/),fi=ku(/[\dA-Za-z]/),xBe=ku(/[#-'*+\--9=?A-Z^-~]/);function P1(t){return t!==null&&(t<32||t===127)}const kI=ku(/\d/),vBe=ku(/[\dA-Fa-f]/),bBe=ku(/[!-/:-@[-`{-~]/);function dt(t){return t!==null&&t<-2}function gn(t){return t!==null&&(t<0||t===32)}function Vt(t){return t===-2||t===-1||t===32}const TS=ku(new RegExp("\\p{P}|\\p{S}","u")),ef=ku(/\s/);function ku(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function wp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&fi(t.charCodeAt(n+1))&&fi(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Yt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return Vt(c)?(t.enter(n),l(c)):e(c)}function l(c){return Vt(c)&&s++<i?(t.consume(c),l):(t.exit(n),e(c))}}const wBe={tokenize:jBe};function jBe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Yt(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return dt(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const SBe={tokenize:NBe},Dq={tokenize:_Be};function NBe(t){const e=this,n=[];let r=0,i,s,o;return l;function l(k){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,c,u)(k)}return u(k)}function c(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&N();const E=e.events.length;let A=E,C;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){C=e.events[A][1].end;break}S(r);let T=E;for(;T<e.events.length;)e.events[T][1].end={...C},T++;return Ss(e.events,A+1,0,e.events.slice(E)),e.events.length=T,u(k)}return l(k)}function u(k){if(r===n.length){if(!i)return p(k);if(i.currentConstruct&&i.currentConstruct.concrete)return v(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Dq,f,h)(k)}function f(k){return i&&N(),S(r),p(k)}function h(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(k)}function p(k){return e.containerState={},t.attempt(Dq,g,v)(k)}function g(k){return r++,n.push([e.currentConstruct,e.containerState]),p(k)}function v(k){if(k===null){i&&N(),S(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(k)}function y(k){if(k===null){b(t.exit("chunkFlow"),!0),S(0),t.consume(k);return}return dt(k)?(t.consume(k),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(k),y)}function b(k,E){const A=e.sliceStream(k);if(E&&A.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(A),e.parser.lazy[k.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<o&&(!i.events[C][1].end||i.events[C][1].end.offset>o))return;const T=e.events.length;let I=T,P,M;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(P){M=e.events[I][1].end;break}P=!0}for(S(r),C=T;C<e.events.length;)e.events[C][1].end={...M},C++;Ss(e.events,I+1,0,e.events.slice(T)),e.events.length=C}}function S(k){let E=n.length;for(;E-- >k;){const A=n[E];e.containerState=A[1],A[0].exit.call(e,t)}n.length=k}function N(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function _Be(t,e,n){return Yt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gm(t){if(t===null||gn(t)||ef(t))return 1;if(TS(t))return 2}function PS(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const AI={name:"attention",resolveAll:kBe,tokenize:ABe};function kBe(t,e){let n=-1,r,i,s,o,l,c,u,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},p={...t[n][1].start};Lq(h,-c),Lq(p,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Vs(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Vs(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Vs(u,PS(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Vs(u,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,u=Vs(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Ss(t,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ABe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Gm(r);let s;return o;function o(c){return s=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===s)return t.consume(c),l;const u=t.exit("attentionSequence"),f=Gm(c),h=!f||f===2&&i||n.includes(c),p=!i||i===2&&f||n.includes(r);return u._open=!!(s===42?h:h&&(i||!p)),u._close=!!(s===42?p:p&&(f||!h)),e(c)}}function Lq(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const CBe={name:"autolink",tokenize:EBe};function EBe(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return ki(g)?(t.consume(g),o):g===64?n(g):u(g)}function o(g){return g===43||g===45||g===46||fi(g)?(r=1,l(g)):u(g)}function l(g){return g===58?(t.consume(g),r=0,c):(g===43||g===45||g===46||fi(g))&&r++<32?(t.consume(g),l):(r=0,u(g))}function c(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||P1(g)?n(g):(t.consume(g),c)}function u(g){return g===64?(t.consume(g),f):xBe(g)?(t.consume(g),u):n(g)}function f(g){return fi(g)?h(g):n(g)}function h(g){return g===46?(t.consume(g),r=0,f):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||fi(g))&&r++<63){const v=g===45?p:h;return t.consume(g),v}return n(g)}}const lv={partial:!0,tokenize:TBe};function TBe(t,e,n){return r;function r(s){return Vt(s)?Yt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||dt(s)?e(s):n(s)}}const cie={continuation:{tokenize:IBe},exit:RBe,name:"blockQuote",tokenize:PBe};function PBe(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Vt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function IBe(t,e,n){const r=this;return i;function i(o){return Vt(o)?Yt(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(cie,e,n)(o)}}function RBe(t){t.exit("blockQuote")}const uie={name:"characterEscape",tokenize:OBe};function OBe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return bBe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const die={name:"characterReference",tokenize:MBe};function MBe(t,e,n){const r=this;let i=0,s,o;return l;function l(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),c}function c(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=fi,f(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=vBe,f):(t.enter("characterReferenceValue"),s=7,o=kI,f(h))}function f(h){if(h===59&&i){const p=t.exit("characterReferenceValue");return o===fi&&!MD(r.sliceSerialize(p))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),f):n(h)}}const Fq={partial:!0,tokenize:LBe},$q={concrete:!0,name:"codeFenced",tokenize:DBe};function DBe(t,e,n){const r=this,i={partial:!0,tokenize:A};let s=0,o=0,l;return c;function c(C){return u(C)}function u(C){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=C,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(C)}function f(C){return C===l?(o++,t.consume(C),f):o<3?n(C):(t.exit("codeFencedFenceSequence"),Vt(C)?Yt(t,h,"whitespace")(C):h(C))}function h(C){return C===null||dt(C)?(t.exit("codeFencedFence"),r.interrupt?e(C):t.check(Fq,y,E)(C)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||dt(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(C)):Vt(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Yt(t,g,"whitespace")(C)):C===96&&C===l?n(C):(t.consume(C),p)}function g(C){return C===null||dt(C)?h(C):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===null||dt(C)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(C)):C===96&&C===l?n(C):(t.consume(C),v)}function y(C){return t.attempt(i,E,b)(C)}function b(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),S}function S(C){return s>0&&Vt(C)?Yt(t,N,"linePrefix",s+1)(C):N(C)}function N(C){return C===null||dt(C)?t.check(Fq,y,E)(C):(t.enter("codeFlowValue"),k(C))}function k(C){return C===null||dt(C)?(t.exit("codeFlowValue"),N(C)):(t.consume(C),k)}function E(C){return t.exit("codeFenced"),e(C)}function A(C,T,I){let P=0;return M;function M(q){return C.enter("lineEnding"),C.consume(q),C.exit("lineEnding"),L}function L(q){return C.enter("codeFencedFence"),Vt(q)?Yt(C,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):D(q)}function D(q){return q===l?(C.enter("codeFencedFenceSequence"),R(q)):I(q)}function R(q){return q===l?(P++,C.consume(q),R):P>=o?(C.exit("codeFencedFenceSequence"),Vt(q)?Yt(C,V,"whitespace")(q):V(q)):I(q)}function V(q){return q===null||dt(q)?(C.exit("codeFencedFence"),T(q)):I(q)}}}function LBe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const h2={name:"codeIndented",tokenize:$Be},FBe={partial:!0,tokenize:VBe};function $Be(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Yt(t,s,"linePrefix",5)(u)}function s(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):dt(u)?t.attempt(FBe,o,c)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||dt(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),l)}function c(u){return t.exit("codeIndented"),e(u)}}function VBe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Yt(t,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):dt(o)?i(o):n(o)}}const BBe={name:"codeText",previous:zBe,resolve:UBe,tokenize:qBe};function UBe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function zBe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qBe(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),l(h)}function l(h){return h===96?(t.consume(h),r++,l):(t.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),c):h===96?(s=t.enter("codeTextSequence"),i=0,f(h)):dt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||dt(h)?(t.exit("codeTextData"),c(h)):(t.consume(h),u)}function f(h){return h===96?(t.consume(h),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}class HBe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jg(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jg(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jg(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);jg(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jg(this.left,n.reverse())}}}function jg(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function fie(t){const e={};let n=-1,r,i,s,o,l,c,u;const f=new HBe(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,WBe(f,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return Ss(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function WBe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let f,h,p=-1,g=n,v=0,y=0;const b=[y];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),h&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(y=p+1,b.push(y),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),p=b.length;p--;){const S=l.slice(b[p],b[p+1]),N=s.pop();c.push([N,N+S.length-1]),t.splice(N,2,S)}for(c.reverse(),p=-1;++p<c.length;)u[v+c[p][0]]=v+c[p][1],v+=c[p][1]-c[p][0]-1;return u}const GBe={resolve:YBe,tokenize:XBe},KBe={partial:!0,tokenize:QBe};function YBe(t){return fie(t),t}function XBe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):dt(l)?t.check(KBe,o,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function QBe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Yt(t,s,"linePrefix")}function s(o){if(o===null||dt(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function hie(t,e,n,r,i,s,o,l,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return h;function h(S){return S===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(S),t.exit(s),p):S===null||S===32||S===41||P1(S)?n(S):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),y(S))}function p(S){return S===62?(t.enter(s),t.consume(S),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===62?(t.exit("chunkString"),t.exit(l),p(S)):S===null||S===60||dt(S)?n(S):(t.consume(S),S===92?v:g)}function v(S){return S===60||S===62||S===92?(t.consume(S),g):g(S)}function y(S){return!f&&(S===null||S===41||gn(S))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(S)):f<u&&S===40?(t.consume(S),f++,y):S===41?(t.consume(S),f--,y):S===null||S===32||S===40||P1(S)?n(S):(t.consume(S),S===92?b:y)}function b(S){return S===40||S===41||S===92?(t.consume(S),y):y(S)}}function mie(t,e,n,r,i,s){const o=this;let l=0,c;return u;function u(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),f}function f(g){return l>999||g===null||g===91||g===93&&!c||g===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):dt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||dt(g)||l++>999?(t.exit("chunkString"),f(g)):(t.consume(g),c||(c=!Vt(g)),g===92?p:h)}function p(g){return g===91||g===92||g===93?(t.consume(g),l++,h):h(g)}}function pie(t,e,n,r,i,s){let o;return l;function l(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,c):n(p)}function c(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),u(p))}function u(p){return p===o?(t.exit(s),c(o)):p===null?n(p):dt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Yt(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===o||p===null||dt(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?h:f)}function h(p){return p===o||p===92?(t.consume(p),f):f(p)}}function ly(t,e){let n;return r;function r(i){return dt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Vt(i)?Yt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const JBe={name:"definition",tokenize:eUe},ZBe={partial:!0,tokenize:tUe};function eUe(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),o(g)}function o(g){return mie.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return i=Pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),c):n(g)}function c(g){return gn(g)?ly(t,u)(g):u(g)}function u(g){return hie(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return t.attempt(ZBe,h,h)(g)}function h(g){return Vt(g)?Yt(t,p,"whitespace")(g):p(g)}function p(g){return g===null||dt(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function tUe(t,e,n){return r;function r(l){return gn(l)?ly(t,i)(l):n(l)}function i(l){return pie(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Vt(l)?Yt(t,o,"whitespace")(l):o(l)}function o(l){return l===null||dt(l)?e(l):n(l)}}const nUe={name:"hardBreakEscape",tokenize:rUe};function rUe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return dt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const iUe={name:"headingAtx",resolve:sUe,tokenize:aUe};function sUe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ss(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function aUe(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(t.consume(f),o):f===null||gn(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||dt(f)?(t.exit("atxHeading"),e(f)):Vt(f)?Yt(t,l,"whitespace")(f):(t.enter("atxHeadingText"),u(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),l(f))}function u(f){return f===null||f===35||gn(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),u)}}const oUe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Vq=["pre","script","style","textarea"],lUe={concrete:!0,name:"htmlFlow",resolveTo:dUe,tokenize:fUe},cUe={partial:!0,tokenize:mUe},uUe={partial:!0,tokenize:hUe};function dUe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function fUe(t,e,n){const r=this;let i,s,o,l,c;return u;function u(B){return f(B)}function f(B){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(B),h}function h(B){return B===33?(t.consume(B),p):B===47?(t.consume(B),s=!0,y):B===63?(t.consume(B),i=3,r.interrupt?e:U):ki(B)?(t.consume(B),o=String.fromCharCode(B),b):n(B)}function p(B){return B===45?(t.consume(B),i=2,g):B===91?(t.consume(B),i=5,l=0,v):ki(B)?(t.consume(B),i=4,r.interrupt?e:U):n(B)}function g(B){return B===45?(t.consume(B),r.interrupt?e:U):n(B)}function v(B){const se="CDATA[";return B===se.charCodeAt(l++)?(t.consume(B),l===se.length?r.interrupt?e:D:v):n(B)}function y(B){return ki(B)?(t.consume(B),o=String.fromCharCode(B),b):n(B)}function b(B){if(B===null||B===47||B===62||gn(B)){const se=B===47,ue=o.toLowerCase();return!se&&!s&&Vq.includes(ue)?(i=1,r.interrupt?e(B):D(B)):oUe.includes(o.toLowerCase())?(i=6,se?(t.consume(B),S):r.interrupt?e(B):D(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):s?N(B):k(B))}return B===45||fi(B)?(t.consume(B),o+=String.fromCharCode(B),b):n(B)}function S(B){return B===62?(t.consume(B),r.interrupt?e:D):n(B)}function N(B){return Vt(B)?(t.consume(B),N):M(B)}function k(B){return B===47?(t.consume(B),M):B===58||B===95||ki(B)?(t.consume(B),E):Vt(B)?(t.consume(B),k):M(B)}function E(B){return B===45||B===46||B===58||B===95||fi(B)?(t.consume(B),E):A(B)}function A(B){return B===61?(t.consume(B),C):Vt(B)?(t.consume(B),A):k(B)}function C(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),c=B,T):Vt(B)?(t.consume(B),C):I(B)}function T(B){return B===c?(t.consume(B),c=null,P):B===null||dt(B)?n(B):(t.consume(B),T)}function I(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||gn(B)?A(B):(t.consume(B),I)}function P(B){return B===47||B===62||Vt(B)?k(B):n(B)}function M(B){return B===62?(t.consume(B),L):n(B)}function L(B){return B===null||dt(B)?D(B):Vt(B)?(t.consume(B),L):n(B)}function D(B){return B===45&&i===2?(t.consume(B),H):B===60&&i===1?(t.consume(B),Y):B===62&&i===4?(t.consume(B),W):B===63&&i===3?(t.consume(B),U):B===93&&i===5?(t.consume(B),Z):dt(B)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(cUe,Q,R)(B)):B===null||dt(B)?(t.exit("htmlFlowData"),R(B)):(t.consume(B),D)}function R(B){return t.check(uUe,V,Q)(B)}function V(B){return t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),q}function q(B){return B===null||dt(B)?R(B):(t.enter("htmlFlowData"),D(B))}function H(B){return B===45?(t.consume(B),U):D(B)}function Y(B){return B===47?(t.consume(B),o="",K):D(B)}function K(B){if(B===62){const se=o.toLowerCase();return Vq.includes(se)?(t.consume(B),W):D(B)}return ki(B)&&o.length<8?(t.consume(B),o+=String.fromCharCode(B),K):D(B)}function Z(B){return B===93?(t.consume(B),U):D(B)}function U(B){return B===62?(t.consume(B),W):B===45&&i===2?(t.consume(B),U):D(B)}function W(B){return B===null||dt(B)?(t.exit("htmlFlowData"),Q(B)):(t.consume(B),W)}function Q(B){return t.exit("htmlFlow"),e(B)}}function hUe(t,e,n){const r=this;return i;function i(o){return dt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function mUe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(lv,e,n)}}const pUe={name:"htmlText",tokenize:gUe};function gUe(t,e,n){const r=this;let i,s,o;return l;function l(U){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(U),c}function c(U){return U===33?(t.consume(U),u):U===47?(t.consume(U),A):U===63?(t.consume(U),k):ki(U)?(t.consume(U),I):n(U)}function u(U){return U===45?(t.consume(U),f):U===91?(t.consume(U),s=0,v):ki(U)?(t.consume(U),N):n(U)}function f(U){return U===45?(t.consume(U),g):n(U)}function h(U){return U===null?n(U):U===45?(t.consume(U),p):dt(U)?(o=h,Y(U)):(t.consume(U),h)}function p(U){return U===45?(t.consume(U),g):h(U)}function g(U){return U===62?H(U):U===45?p(U):h(U)}function v(U){const W="CDATA[";return U===W.charCodeAt(s++)?(t.consume(U),s===W.length?y:v):n(U)}function y(U){return U===null?n(U):U===93?(t.consume(U),b):dt(U)?(o=y,Y(U)):(t.consume(U),y)}function b(U){return U===93?(t.consume(U),S):y(U)}function S(U){return U===62?H(U):U===93?(t.consume(U),S):y(U)}function N(U){return U===null||U===62?H(U):dt(U)?(o=N,Y(U)):(t.consume(U),N)}function k(U){return U===null?n(U):U===63?(t.consume(U),E):dt(U)?(o=k,Y(U)):(t.consume(U),k)}function E(U){return U===62?H(U):k(U)}function A(U){return ki(U)?(t.consume(U),C):n(U)}function C(U){return U===45||fi(U)?(t.consume(U),C):T(U)}function T(U){return dt(U)?(o=T,Y(U)):Vt(U)?(t.consume(U),T):H(U)}function I(U){return U===45||fi(U)?(t.consume(U),I):U===47||U===62||gn(U)?P(U):n(U)}function P(U){return U===47?(t.consume(U),H):U===58||U===95||ki(U)?(t.consume(U),M):dt(U)?(o=P,Y(U)):Vt(U)?(t.consume(U),P):H(U)}function M(U){return U===45||U===46||U===58||U===95||fi(U)?(t.consume(U),M):L(U)}function L(U){return U===61?(t.consume(U),D):dt(U)?(o=L,Y(U)):Vt(U)?(t.consume(U),L):P(U)}function D(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),i=U,R):dt(U)?(o=D,Y(U)):Vt(U)?(t.consume(U),D):(t.consume(U),V)}function R(U){return U===i?(t.consume(U),i=void 0,q):U===null?n(U):dt(U)?(o=R,Y(U)):(t.consume(U),R)}function V(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||gn(U)?P(U):(t.consume(U),V)}function q(U){return U===47||U===62||gn(U)?P(U):n(U)}function H(U){return U===62?(t.consume(U),t.exit("htmlTextData"),t.exit("htmlText"),e):n(U)}function Y(U){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),K}function K(U){return Vt(U)?Yt(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):Z(U)}function Z(U){return t.enter("htmlTextData"),o(U)}}const DD={name:"labelEnd",resolveAll:bUe,resolveTo:wUe,tokenize:jUe},yUe={tokenize:SUe},xUe={tokenize:NUe},vUe={tokenize:_Ue};function bUe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ss(t,0,t.length,n),t}function wUe(t,e){let n=t.length,r=0,i,s,o,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",c,e],["enter",u,e]],l=Vs(l,t.slice(s+1,s+r+3)),l=Vs(l,[["enter",f,e]]),l=Vs(l,PS(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),l=Vs(l,[["exit",f,e],t[o-2],t[o-1],["exit",u,e]]),l=Vs(l,t.slice(o+1)),l=Vs(l,[["exit",c,e]]),Ss(t,s,t.length,l),t}function jUe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(Pa(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),c):n(p)}function c(p){return p===40?t.attempt(yUe,f,o?f:h)(p):p===91?t.attempt(xUe,f,o?u:h)(p):o?f(p):h(p)}function u(p){return t.attempt(vUe,f,h)(p)}function f(p){return e(p)}function h(p){return s._balanced=!0,n(p)}}function SUe(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return gn(h)?ly(t,s)(h):s(h)}function s(h){return h===41?f(h):hie(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return gn(h)?ly(t,c)(h):f(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?pie(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function u(h){return gn(h)?ly(t,f)(h):f(h)}function f(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function NUe(t,e,n){const r=this;return i;function i(l){return mie.call(r,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function _Ue(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const kUe={name:"labelStartImage",resolveAll:DD.resolveAll,tokenize:AUe};function AUe(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const CUe={name:"labelStartLink",resolveAll:DD.resolveAll,tokenize:EUe};function EUe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const m2={name:"lineEnding",tokenize:TUe};function TUe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Yt(t,e,"linePrefix")}}const D0={name:"thematicBreak",tokenize:PUe};function PUe(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||dt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function c(u){return u===i?(t.consume(u),r++,c):(t.exit("thematicBreakSequence"),Vt(u)?Yt(t,l,"whitespace")(u):l(u))}}const zi={continuation:{tokenize:MUe},exit:LUe,name:"list",tokenize:OUe},IUe={partial:!0,tokenize:FUe},RUe={partial:!0,tokenize:DUe};function OUe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(g){const v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:kI(g)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(D0,n,u)(g):u(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(g)}return n(g)}function c(g){return kI(g)&&++o<10?(t.consume(g),c):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),u(g)):n(g)}function u(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(lv,r.interrupt?n:f,t.attempt(IUe,p,h))}function f(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function h(g){return Vt(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function MUe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(lv,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Yt(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Vt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(RUe,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Yt(t,t.attempt(zi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function DUe(t,e,n){const r=this;return Yt(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function LUe(t){t.exit(this.containerState.type)}function FUe(t,e,n){const r=this;return Yt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Vt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Bq={name:"setextUnderline",resolveTo:$Ue,tokenize:VUe};function $Ue(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function VUe(t,e,n){const r=this;let i;return s;function s(u){let f=r.events.length,h;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){h=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),Vt(u)?Yt(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||dt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const BUe={tokenize:UUe};function UUe(t){const e=this,n=t.attempt(lv,r,t.attempt(this.parser.constructs.flowInitial,i,Yt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(GBe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const zUe={resolveAll:yie()},qUe=gie("string"),HUe=gie("text");function gie(t){return{resolveAll:yie(t==="text"?WUe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,l);return o;function o(f){return u(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return u(f)?(n.exit("data"),s(f)):(n.consume(f),c)}function u(f){if(f===null)return!0;const h=i[f];let p=-1;if(h)for(;++p<h.length;){const g=h[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function yie(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function WUe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const u={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const GUe={42:zi,43:zi,45:zi,48:zi,49:zi,50:zi,51:zi,52:zi,53:zi,54:zi,55:zi,56:zi,57:zi,62:cie},KUe={91:JBe},YUe={[-2]:h2,[-1]:h2,32:h2},XUe={35:iUe,42:D0,45:[Bq,D0],60:lUe,61:Bq,95:D0,96:$q,126:$q},QUe={38:die,92:uie},JUe={[-5]:m2,[-4]:m2,[-3]:m2,33:kUe,38:die,42:AI,60:[CBe,pUe],91:CUe,92:[nUe,uie],93:DD,95:AI,96:BBe},ZUe={null:[AI,zUe]},eze={null:[42,95]},tze={null:[]},nze=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:eze,contentInitial:KUe,disable:tze,document:GUe,flow:XUe,flowInitial:YUe,insideSpan:ZUe,string:QUe,text:JUe},Symbol.toStringTag,{value:"Module"}));function rze(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const c={attempt:T(A),check:T(C),consume:N,enter:k,exit:E,interrupt:T(C,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:v,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:h};let f=e.tokenize.call(u,c);return e.resolveAll&&s.push(e),u;function h(L){return o=Vs(o,L),b(),o[o.length-1]!==null?[]:(I(e,0),u.events=PS(s,u.events,u),u.events)}function p(L,D){return sze(g(L),D)}function g(L){return ize(o,L)}function v(){const{_bufferIndex:L,_index:D,line:R,column:V,offset:q}=r;return{_bufferIndex:L,_index:D,line:R,column:V,offset:q}}function y(L){i[L.line]=L.column,M()}function b(){let L;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<D.length;)S(D.charCodeAt(r._bufferIndex));else S(D)}}function S(L){f=f(L)}function N(L){dt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,M()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function k(L,D){const R=D||{};return R.type=L,R.start=v(),u.events.push(["enter",R,u]),l.push(R),R}function E(L){const D=l.pop();return D.end=v(),u.events.push(["exit",D,u]),D}function A(L,D){I(L,D.from)}function C(L,D){D.restore()}function T(L,D){return R;function R(V,q,H){let Y,K,Z,U;return Array.isArray(V)?Q(V):"tokenize"in V?Q([V]):W(V);function W(pe){return ne;function ne(ae){const ie=ae!==null&&pe[ae],ce=ae!==null&&pe.null,ge=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return Q(ge)(ae)}}function Q(pe){return Y=pe,K=0,pe.length===0?H:B(pe[K])}function B(pe){return ne;function ne(ae){return U=P(),Z=pe,pe.partial||(u.currentConstruct=pe),pe.name&&u.parser.constructs.disable.null.includes(pe.name)?ue():pe.tokenize.call(D?Object.assign(Object.create(u),D):u,c,se,ue)(ae)}}function se(pe){return L(Z,U),q}function ue(pe){return U.restore(),++K<Y.length?B(Y[K]):H}}}function I(L,D){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Ss(u.events,D,u.events.length-D,L.resolve(u.events.slice(D),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function P(){const L=v(),D=u.previous,R=u.currentConstruct,V=u.events.length,q=Array.from(l);return{from:V,restore:H};function H(){r=L,u.previous=D,u.currentConstruct=R,u.events.length=V,l=q,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ize(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function sze(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function aze(t){const r={constructs:oie([nze,...(t||{}).extensions||[]]),content:i(wBe),defined:[],document:i(SBe),flow:i(BUe),lazy:{},string:i(qUe),text:i(HUe)};return r;function i(s){return o;function o(l){return rze(r,s,l)}}}function oze(t){for(;!fie(t););return t}const Uq=/[\0\t\n\r]/g;function lze(){let t=1,e="",n=!0,r;return i;function i(s,o,l){const c=[];let u,f,h,p,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Uq.lastIndex=h,u=Uq.exec(s),p=u&&u.index!==void 0?u.index:s.length,g=s.charCodeAt(p),!u){e=s.slice(h);break}if(g===10&&h===p&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<p&&(c.push(s.slice(h,p)),t+=p-h),g){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}h=p+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const cze=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uze(t){return t.replace(cze,dze)}function dze(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return lie(n.slice(s?2:1),s?16:10)}return MD(n)||t}const xie={}.hasOwnProperty;function fze(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hze(n)(oze(aze(n).document().write(lze()(t,e,!0))))}function hze(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ce),autolinkProtocol:P,autolinkEmail:P,atxHeading:s(ot),blockQuote:s(ce),characterEscape:P,characterReference:P,codeFenced:s(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ge,o),codeText:s(le,o),codeTextData:P,data:P,codeFlowValue:P,definition:s(Ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s($e),hardBreakEscape:s(Ae),hardBreakTrailing:s(Ae),htmlFlow:s(Ke,o),htmlFlowData:P,htmlText:s(Ke,o),htmlTextData:P,image:s(Nt),label:o,link:s(Ce),listItem:s(ht),listItemValue:p,listOrdered:s(Je,h),listUnordered:s(Je),paragraph:s(mt),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(ot),strong:s(It),thematicBreak:s(vr)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:ie,autolinkProtocol:ae,blockQuote:c(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:pe,characterReference:ne,codeFenced:c(b),codeFencedFence:y,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:M,codeIndented:c(S),codeText:c(q),codeTextData:M,data:M,definition:c(),definitionDestinationString:E,definitionLabelString:N,definitionTitleString:k,emphasis:c(),hardBreakEscape:c(D),hardBreakTrailing:c(D),htmlFlow:c(R),htmlFlowData:M,htmlText:c(V),htmlTextData:M,image:c(Y),label:Z,labelText:K,lineEnding:L,link:c(H),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:se,resourceDestinationString:U,resourceTitleString:W,resource:Q,setextHeading:c(I),setextHeadingLineSequence:T,setextHeadingText:C,strong:c(),thematicBreak:c()}};vie(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(he){let je={type:"root",children:[]};const it={stack:[je],tokenStack:[],config:e,enter:l,exit:u,buffer:o,resume:f,data:n},vt=[];let Dt=-1;for(;++Dt<he.length;)if(he[Dt][1].type==="listOrdered"||he[Dt][1].type==="listUnordered")if(he[Dt][0]==="enter")vt.push(Dt);else{const er=vt.pop();Dt=i(he,er,Dt)}for(Dt=-1;++Dt<he.length;){const er=e[he[Dt][0]];xie.call(er,he[Dt][1].type)&&er[he[Dt][1].type].call(Object.assign({sliceSerialize:he[Dt][2].sliceSerialize},it),he[Dt][1])}if(it.tokenStack.length>0){const er=it.tokenStack[it.tokenStack.length-1];(er[1]||zq).call(it,void 0,er[0])}for(je.position={start:bc(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:bc(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},Dt=-1;++Dt<e.transforms.length;)je=e.transforms[Dt](je)||je;return je}function i(he,je,it){let vt=je-1,Dt=-1,er=!1,Cr,Er,es,yi;for(;++vt<=it;){const fn=he[vt];switch(fn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{fn[0]==="enter"?Dt++:Dt--,yi=void 0;break}case"lineEndingBlank":{fn[0]==="enter"&&(Cr&&!yi&&!Dt&&!es&&(es=vt),yi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yi=void 0}if(!Dt&&fn[0]==="enter"&&fn[1].type==="listItemPrefix"||Dt===-1&&fn[0]==="exit"&&(fn[1].type==="listUnordered"||fn[1].type==="listOrdered")){if(Cr){let Oi=vt;for(Er=void 0;Oi--;){const nt=he[Oi];if(nt[1].type==="lineEnding"||nt[1].type==="lineEndingBlank"){if(nt[0]==="exit")continue;Er&&(he[Er][1].type="lineEndingBlank",er=!0),nt[1].type="lineEnding",Er=Oi}else if(!(nt[1].type==="linePrefix"||nt[1].type==="blockQuotePrefix"||nt[1].type==="blockQuotePrefixWhitespace"||nt[1].type==="blockQuoteMarker"||nt[1].type==="listItemIndent"))break}es&&(!Er||es<Er)&&(Cr._spread=!0),Cr.end=Object.assign({},Er?he[Er][1].start:fn[1].end),he.splice(Er||vt,0,["exit",Cr,fn[2]]),vt++,it++}if(fn[1].type==="listItemPrefix"){const Oi={type:"listItem",_spread:!1,start:Object.assign({},fn[1].start),end:void 0};Cr=Oi,he.splice(vt,0,["enter",Oi,fn[2]]),vt++,it++,es=void 0,yi=!0}}}return he[je][1]._spread=er,it}function s(he,je){return it;function it(vt){l.call(this,he(vt),vt),je&&je.call(this,vt)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(he,je,it){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([je,it||void 0]),he.position={start:bc(je.start),end:void 0}}function c(he){return je;function je(it){he&&he.call(this,it),u.call(this,it)}}function u(he,je){const it=this.stack.pop(),vt=this.tokenStack.pop();if(vt)vt[0].type!==he.type&&(je?je.call(this,he,vt[0]):(vt[1]||zq).call(this,he,vt[0]));else throw new Error("Cannot close `"+he.type+"` ("+oy({start:he.start,end:he.end})+"): its not open");it.position.end=bc(he.end)}function f(){return OD(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(he){if(this.data.expectingFirstListItemValue){const je=this.stack[this.stack.length-2];je.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function g(){const he=this.resume(),je=this.stack[this.stack.length-1];je.lang=he}function v(){const he=this.resume(),je=this.stack[this.stack.length-1];je.meta=he}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const he=this.resume(),je=this.stack[this.stack.length-1];je.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const he=this.resume(),je=this.stack[this.stack.length-1];je.value=he.replace(/(\r?\n|\r)$/g,"")}function N(he){const je=this.resume(),it=this.stack[this.stack.length-1];it.label=je,it.identifier=Pa(this.sliceSerialize(he)).toLowerCase()}function k(){const he=this.resume(),je=this.stack[this.stack.length-1];je.title=he}function E(){const he=this.resume(),je=this.stack[this.stack.length-1];je.url=he}function A(he){const je=this.stack[this.stack.length-1];if(!je.depth){const it=this.sliceSerialize(he).length;je.depth=it}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function T(he){const je=this.stack[this.stack.length-1];je.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function P(he){const it=this.stack[this.stack.length-1].children;let vt=it[it.length-1];(!vt||vt.type!=="text")&&(vt=lr(),vt.position={start:bc(he.start),end:void 0},it.push(vt)),this.stack.push(vt)}function M(he){const je=this.stack.pop();je.value+=this.sliceSerialize(he),je.position.end=bc(he.end)}function L(he){const je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const it=je.children[je.children.length-1];it.position.end=bc(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(je.type)&&(P.call(this,he),M.call(this,he))}function D(){this.data.atHardBreak=!0}function R(){const he=this.resume(),je=this.stack[this.stack.length-1];je.value=he}function V(){const he=this.resume(),je=this.stack[this.stack.length-1];je.value=he}function q(){const he=this.resume(),je=this.stack[this.stack.length-1];je.value=he}function H(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=je,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function Y(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=je,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function K(he){const je=this.sliceSerialize(he),it=this.stack[this.stack.length-2];it.label=uze(je),it.identifier=Pa(je).toLowerCase()}function Z(){const he=this.stack[this.stack.length-1],je=this.resume(),it=this.stack[this.stack.length-1];if(this.data.inReference=!0,it.type==="link"){const vt=he.children;it.children=vt}else it.alt=je}function U(){const he=this.resume(),je=this.stack[this.stack.length-1];je.url=he}function W(){const he=this.resume(),je=this.stack[this.stack.length-1];je.title=he}function Q(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function se(he){const je=this.resume(),it=this.stack[this.stack.length-1];it.label=je,it.identifier=Pa(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function ue(he){this.data.characterReferenceType=he.type}function pe(he){const je=this.sliceSerialize(he),it=this.data.characterReferenceType;let vt;it?(vt=lie(je,it==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):vt=MD(je);const Dt=this.stack[this.stack.length-1];Dt.value+=vt}function ne(he){const je=this.stack.pop();je.position.end=bc(he.end)}function ae(he){M.call(this,he);const je=this.stack[this.stack.length-1];je.url=this.sliceSerialize(he)}function ie(he){M.call(this,he);const je=this.stack[this.stack.length-1];je.url="mailto:"+this.sliceSerialize(he)}function ce(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function Ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function ot(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function Nt(){return{type:"image",title:null,url:"",alt:null}}function Ce(){return{type:"link",title:null,url:"",children:[]}}function Je(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function ht(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function mt(){return{type:"paragraph",children:[]}}function It(){return{type:"strong",children:[]}}function lr(){return{type:"text",value:""}}function vr(){return{type:"thematicBreak"}}}function bc(t){return{line:t.line,column:t.column,offset:t.offset}}function vie(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?vie(t,r):mze(t,r)}}function mze(t,e){let n;for(n in e)if(xie.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function zq(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+oy({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+oy({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+oy({start:e.start,end:e.end})+") is still open")}function pze(t){const e=this;e.parser=n;function n(r){return fze(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function gze(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function yze(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function xze(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function vze(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bze(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wze(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=wp(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,u),t.applyData(e,u)}function jze(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Sze(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bie(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Nze(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bie(t,e);const i={src:wp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function _ze(t,e){const n={src:wp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function kze(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Aze(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bie(t,e);const i={href:wp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Cze(t,e){const n={href:wp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Eze(t,e,n){const r=t.all(e),i=n?Tze(n):wie(e),s={},o=[];if(typeof e.checked=="boolean"){const f=r[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function Tze(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=wie(n[r])}return e}function wie(t){const e=t.spread;return e??t.children.length>1}function Pze(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Ize(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Rze(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Oze(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Mze(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=TD(e.children[1]),c=eie(e.children[e.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Dze(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let c=-1;const u=[];for(;++c<l;){const h=e.children[c],p={},g=o?o[c]:void 0;g&&(p.align=g);let v={type:"element",tagName:s,properties:p,children:[]};h&&(v.children=t.all(h),t.patch(h,v),v=t.applyData(h,v)),u.push(v)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,f),t.applyData(e,f)}function Lze(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const qq=9,Hq=32;function Fze(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Wq(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Wq(e.slice(i),i>0,!1)),s.join("")}function Wq(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===qq||s===Hq;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===qq||s===Hq;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function $ze(t,e){const n={type:"text",value:Fze(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Vze(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Bze={blockquote:gze,break:yze,code:xze,delete:vze,emphasis:bze,footnoteReference:wze,heading:jze,html:Sze,imageReference:Nze,image:_ze,inlineCode:kze,linkReference:Aze,link:Cze,listItem:Eze,list:Pze,paragraph:Ize,root:Rze,strong:Oze,table:Mze,tableCell:Lze,tableRow:Dze,text:$ze,thematicBreak:Vze,toml:l0,yaml:l0,definition:l0,footnoteDefinition:l0};function l0(){}const jie=-1,IS=0,cy=1,I1=2,LD=3,FD=4,$D=5,VD=6,Sie=7,Nie=8,Gq=typeof self=="object"?self:globalThis,Uze=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case IS:case jie:return n(o,i);case cy:{const l=n([],i);for(const c of o)l.push(r(c));return l}case I1:{const l=n({},i);for(const[c,u]of o)l[r(c)]=r(u);return l}case LD:return n(new Date(o),i);case FD:{const{source:l,flags:c}=o;return n(new RegExp(l,c),i)}case $D:{const l=n(new Map,i);for(const[c,u]of o)l.set(r(c),r(u));return l}case VD:{const l=n(new Set,i);for(const c of o)l.add(r(c));return l}case Sie:{const{name:l,message:c}=o;return n(new Gq[l](c),i)}case Nie:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new Gq[s](o),i)};return r},Kq=t=>Uze(new Map,t)(0),hh="",{toString:zze}={},{keys:qze}=Object,Sg=t=>{const e=typeof t;if(e!=="object"||!t)return[IS,e];const n=zze.call(t).slice(8,-1);switch(n){case"Array":return[cy,hh];case"Object":return[I1,hh];case"Date":return[LD,hh];case"RegExp":return[FD,hh];case"Map":return[$D,hh];case"Set":return[VD,hh];case"DataView":return[cy,n]}return n.includes("Array")?[cy,n]:n.includes("Error")?[Sie,n]:[I1,n]},c0=([t,e])=>t===IS&&(e==="function"||e==="symbol"),Hze=(t,e,n,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},s=o=>{if(n.has(o))return n.get(o);let[l,c]=Sg(o);switch(l){case IS:{let f=o;switch(c){case"bigint":l=Nie,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([jie],o)}return i([l,f],o)}case cy:{if(c){let p=o;return c==="DataView"?p=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(p=new Uint8Array(o)),i([c,[...p]],o)}const f=[],h=i([l,f],o);for(const p of o)f.push(s(p));return h}case I1:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],h=i([l,f],o);for(const p of qze(o))(t||!c0(Sg(o[p])))&&f.push([s(p),s(o[p])]);return h}case LD:return i([l,o.toISOString()],o);case FD:{const{source:f,flags:h}=o;return i([l,{source:f,flags:h}],o)}case $D:{const f=[],h=i([l,f],o);for(const[p,g]of o)(t||!(c0(Sg(p))||c0(Sg(g))))&&f.push([s(p),s(g)]);return h}case VD:{const f=[],h=i([l,f],o);for(const p of o)(t||!c0(Sg(p)))&&f.push(s(p));return h}}const{message:u}=o;return i([l,{name:c,message:u}],o)};return s},Yq=(t,{json:e,lossy:n}={})=>{const r=[];return Hze(!(e||n),!!e,new Map,r)(t),r},R1=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Kq(Yq(t,e)):structuredClone(t):(t,e)=>Kq(Yq(t,e));function Wze(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Gze(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Kze(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Wze,r=t.options.footnoteBackLabel||Gze,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const f=t.all(u),h=String(u.identifier).toUpperCase(),p=wp(h.toLowerCase());let g=0;const v=[],y=t.footnoteCounts.get(h);for(;y!==void 0&&++g<=y;){v.length>0&&v.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,g);typeof N=="string"&&(N={type:"text",value:N}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,g),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const N=b.children[b.children.length-1];N&&N.type==="text"?N.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else f.push(...v);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(f,!0)};t.patch(u,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...R1(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const RS=function(t){if(t==null)return Jze;if(typeof t=="function")return OS(t);if(typeof t=="object")return Array.isArray(t)?Yze(t):Xze(t);if(typeof t=="string")return Qze(t);throw new Error("Expected function, string, or object as test")};function Yze(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=RS(t[n]);return OS(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Xze(t){const e=t;return OS(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Qze(t){return OS(e);function e(n){return n&&n.type===t}}function OS(t){return e;function e(n,r,i){return!!(Zze(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Jze(){return!0}function Zze(t){return t!==null&&typeof t=="object"&&"type"in t}const _ie=[],e8e=!0,CI=!1,t8e="skip";function kie(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=RS(i),o=r?-1:1;l(t,void 0,[])();function l(c,u,f){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=_ie,v,y,b;if((!e||s(c,u,f[f.length-1]||void 0))&&(g=n8e(n(c,f)),g[0]===CI))return g;if("children"in c&&c.children){const S=c;if(S.children&&g[0]!==t8e)for(y=(r?S.children.length:-1)+o,b=f.concat(S);y>-1&&y<S.children.length;){const N=S.children[y];if(v=l(N,y,b)(),v[0]===CI)return v;y=typeof v[1]=="number"?v[1]:y+o}}return g}}}function n8e(t){return Array.isArray(t)?t:typeof t=="number"?[e8e,t]:t==null?_ie:[t]}function BD(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),kie(t,s,l,i);function l(c,u){const f=u[u.length-1],h=f?f.children.indexOf(c):void 0;return o(c,h,f)}}const EI={}.hasOwnProperty,r8e={};function i8e(t,e){const n=e||r8e,r=new Map,i=new Map,s=new Map,o={...Bze,...n.handlers},l={all:u,applyData:a8e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:n,patch:s8e,wrap:l8e};return BD(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?r:i,p=String(f.identifier).toUpperCase();h.has(p)||h.set(p,f)}}),l;function c(f,h){const p=f.type,g=l.handlers[p];if(EI.call(l.handlers,p)&&g)return g(l,f,h);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in f){const{children:y,...b}=f,S=R1(b);return S.children=l.all(f),S}return R1(f)}return(l.options.unknownHandler||o8e)(l,f,h)}function u(f){const h=[];if("children"in f){const p=f.children;let g=-1;for(;++g<p.length;){const v=l.one(p[g],f);if(v){if(g&&p[g-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Xq(v.value)),!Array.isArray(v)&&v.type==="element")){const y=v.children[0];y&&y.type==="text"&&(y.value=Xq(y.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function s8e(t,e){t.position&&(e.position=G6e(t))}function a8e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,R1(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function o8e(t,e){const n=e.data||{},r="value"in e&&!(EI.call(n,"hProperties")||EI.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function l8e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Xq(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Qq(t,e){const n=i8e(t,e),r=n.one(t,void 0),i=Kze(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function c8e(t,e){return t&&"run"in t?async function(n,r){const i=Qq(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Qq(n,{file:r,...t||e})}}function Jq(t){if(t)throw t}var p2,Zq;function u8e(){if(Zq)return p2;Zq=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var f=t.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!h)return!1;var p;for(p in u);return typeof p>"u"||t.call(u,p)},o=function(u,f){n&&f.name==="__proto__"?n(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},l=function(u,f){if(f==="__proto__")if(t.call(u,f)){if(r)return r(u,f).value}else return;return u[f]};return p2=function c(){var u,f,h,p,g,v,y=arguments[0],b=1,S=arguments.length,N=!1;for(typeof y=="boolean"&&(N=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<S;++b)if(u=arguments[b],u!=null)for(f in u)h=l(y,f),p=l(u,f),y!==p&&(N&&p&&(s(p)||(g=i(p)))?(g?(g=!1,v=h&&i(h)?h:[]):v=h&&s(h)?h:{},o(y,{name:f,newValue:c(N,v,p)})):typeof p<"u"&&o(y,{name:f,newValue:p}));return y},p2}var d8e=u8e();const g2=tn(d8e);function TI(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function f8e(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...u){const f=t[++s];let h=-1;if(c){o(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,f?h8e(f,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function h8e(t,e){let n;return r;function r(...o){const l=t.length>o.length;let c;l&&o.push(i);try{c=t.apply(this,o)}catch(u){const f=u;if(l&&n)throw f;return i(f)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...l){n||(n=!0,e(o,...l))}function s(o){i(null,o)}}const ro={basename:m8e,dirname:p8e,extname:g8e,join:y8e,sep:"/"};function m8e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');cv(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function p8e(t){if(cv(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function g8e(t){cv(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function y8e(...t){let e=-1,n;for(;++e<t.length;)cv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":x8e(n)}function x8e(t){cv(t);const e=t.codePointAt(0)===47;let n=v8e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function v8e(t,e){let n="",r=0,i=-1,s=0,o=-1,l,c;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function cv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const b8e={cwd:w8e};function w8e(){return"/"}function PI(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function j8e(t){if(typeof t=="string")t=new URL(t);else if(!PI(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return S8e(t)}function S8e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const y2=["history","path","basename","stem","extname","dirname"];class Aie{constructor(e){let n;e?PI(e)?n={path:e}:typeof e=="string"||N8e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":b8e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<y2.length;){const s=y2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)y2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ro.basename(this.path):void 0}set basename(e){v2(e,"basename"),x2(e,"basename"),this.path=ro.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ro.dirname(this.path):void 0}set dirname(e){eH(this.basename,"dirname"),this.path=ro.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ro.extname(this.path):void 0}set extname(e){if(x2(e,"extname"),eH(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ro.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){PI(e)&&(e=j8e(e)),v2(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ro.basename(this.path,this.extname):void 0}set stem(e){v2(e,"stem"),x2(e,"stem"),this.path=ro.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new gi(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function x2(t,e){if(t&&t.includes(ro.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ro.sep+"`")}function v2(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function eH(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function N8e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _8e=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},k8e={}.hasOwnProperty;class UD extends _8e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=f8e()}copy(){const e=new UD;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(g2(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(j2("data",this.frozen),this.namespace[e]=n,this):k8e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(j2("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=u0(e),r=this.parser||this.Parser;return b2("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),b2("process",this.parser||this.Parser),w2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=u0(e),c=r.parse(l);r.run(c,l,function(f,h,p){if(f||!h||!p)return u(f);const g=h,v=r.stringify(g,p);E8e(v)?p.value=v:p.result=v,u(f,p)});function u(f,h){f||!h?o(f):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),b2("processSync",this.parser||this.Parser),w2("processSync",this.compiler||this.Compiler),this.process(e,i),nH("processSync","process",n),r;function i(s,o){n=!0,Jq(s),r=o}}run(e,n,r){tH(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const c=u0(n);i.run(e,c,u);function u(f,h,p){const g=h||e;f?l(f):o?o(g):r(void 0,g,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),nH("runSync","run",r),i;function s(o,l){Jq(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=u0(n),i=this.compiler||this.Compiler;return w2("stringify",i),tH(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(j2("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...h]=u;c(f,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=g2(!0,i.settings,u.settings))}function l(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const h=u[f];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...f]);else if(f.length>0){let[g,...v]=f;const y=r[p][1];TI(y)&&TI(g)&&(g=g2(!0,y,g)),r[p]=[u,g,...v]}}}}const A8e=new UD().freeze();function b2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function w2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function j2(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function tH(t){if(!TI(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function nH(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function u0(t){return C8e(t)?t:new Aie(t)}function C8e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function E8e(t){return typeof t=="string"||T8e(t)}function T8e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const P8e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",rH=[],iH={allowDangerousHtml:!0},I8e=/^(https?|ircs?|mailto|xmpp)$/i,R8e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sH(t){const e=O8e(t),n=M8e(t);return D8e(e.runSync(e.parse(n),n),t)}function O8e(t){const e=t.rehypePlugins||rH,n=t.remarkPlugins||rH,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...iH}:iH;return A8e().use(pze).use(n).use(c8e,r).use(e)}function M8e(t){const e=t.children||"",n=new Aie;return typeof e=="string"&&(n.value=e),n}function D8e(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||L8e;for(const f of R8e)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+P8e+f.id,void 0);return BD(t,u),J6e(t,{Fragment:a.Fragment,components:i,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function u(f,h,p){if(f.type==="raw"&&p&&typeof h=="number")return o?p.children.splice(h,1):p.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let g;for(g in f2)if(Object.hasOwn(f2,g)&&Object.hasOwn(f.properties,g)){const v=f.properties[g],y=f2[g];(y===null||y.includes(f.tagName))&&(f.properties[g]=c(String(v||""),g,f))}}if(f.type==="element"){let g=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&r&&typeof h=="number"&&(g=!r(f,h,p)),g&&p&&typeof h=="number")return l&&f.children?p.children.splice(h,1,...f.children):p.children.splice(h,1),h}}}function L8e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||I8e.test(t.slice(0,e))?t:""}function aH(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function F8e(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function $8e(t,e,n){const i=RS((n||{}).ignore||[]),s=V8e(e);let o=-1;for(;++o<s.length;)kie(t,"text",l);function l(u,f){let h=-1,p;for(;++h<f.length;){const g=f[h],v=p?p.children:void 0;if(i(g,v?v.indexOf(g):void 0,p))return;p=g}if(p)return c(u,f)}function c(u,f){const h=f[f.length-1],p=s[o][0],g=s[o][1];let v=0;const b=h.children.indexOf(u);let S=!1,N=[];p.lastIndex=0;let k=p.exec(u.value);for(;k;){const E=k.index,A={index:k.index,input:k.input,stack:[...f,u]};let C=g(...k,A);if(typeof C=="string"&&(C=C.length>0?{type:"text",value:C}:void 0),C===!1?p.lastIndex=E+1:(v!==E&&N.push({type:"text",value:u.value.slice(v,E)}),Array.isArray(C)?N.push(...C):C&&N.push(C),v=E+k[0].length,S=!0),!p.global)break;k=p.exec(u.value)}return S?(v<u.value.length&&N.push({type:"text",value:u.value.slice(v)}),h.children.splice(b,1,...N)):N=[u],b+N.length}}function V8e(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([B8e(i[0]),U8e(i[1])])}return e}function B8e(t){return typeof t=="string"?new RegExp(F8e(t),"g"):t}function U8e(t){return typeof t=="function"?t:function(){return t}}const S2="phrasing",N2=["autolink","link","image","label"];function z8e(){return{transforms:[X8e],enter:{literalAutolink:H8e,literalAutolinkEmail:_2,literalAutolinkHttp:_2,literalAutolinkWww:_2},exit:{literalAutolink:Y8e,literalAutolinkEmail:K8e,literalAutolinkHttp:W8e,literalAutolinkWww:G8e}}}function q8e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:S2,notInConstruct:N2},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:S2,notInConstruct:N2},{character:":",before:"[ps]",after:"\\/",inConstruct:S2,notInConstruct:N2}]}}function H8e(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function _2(t){this.config.enter.autolinkProtocol.call(this,t)}function W8e(t){this.config.exit.autolinkProtocol.call(this,t)}function G8e(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function K8e(t){this.config.exit.autolinkEmail.call(this,t)}function Y8e(t){this.exit(t)}function X8e(t){$8e(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Q8e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),J8e]],{ignore:["link","linkReference"]})}function Q8e(t,e,n,r,i){let s="";if(!Cie(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Z8e(n)))return!1;const o=e9e(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function J8e(t,e,n,r){return!Cie(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Z8e(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function e9e(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=aH(t,"(");let s=aH(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function Cie(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ef(n)||TS(n))&&(!e||n!==47)}Eie.peek=c9e;function t9e(){this.buffer()}function n9e(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function r9e(){this.buffer()}function i9e(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function s9e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pa(this.sliceSerialize(t)).toLowerCase(),n.label=e}function a9e(t){this.exit(t)}function o9e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pa(this.sliceSerialize(t)).toLowerCase(),n.label=e}function l9e(t){this.exit(t)}function c9e(){return"["}function Eie(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),l(),o(),s+=i.move("]"),s}function u9e(){return{enter:{gfmFootnoteCallString:t9e,gfmFootnoteCall:n9e,gfmFootnoteDefinitionLabelString:r9e,gfmFootnoteDefinition:i9e},exit:{gfmFootnoteCallString:s9e,gfmFootnoteCall:a9e,gfmFootnoteDefinitionLabelString:o9e,gfmFootnoteDefinition:l9e}}}function d9e(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Eie},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const l=s.createTracker(o);let c=l.move("[^");const u=s.enter("footnoteDefinition"),f=s.enter("label");return c+=l.move(s.safe(s.associationId(r),{before:c,after:"]"})),f(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),e?Tie:f9e))),u(),c}}function f9e(t,e,n){return e===0?t:Tie(t,e,n)}function Tie(t,e,n){return(n?"":"    ")+t}const h9e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Pie.peek=x9e;function m9e(){return{canContainEols:["delete"],enter:{strikethrough:g9e},exit:{strikethrough:y9e}}}function p9e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:h9e}],handlers:{delete:Pie}}}function g9e(t){this.enter({type:"delete",children:[]},t)}function y9e(t){this.exit(t)}function Pie(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function x9e(){return"~"}function v9e(t){return t.length}function b9e(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||v9e,s=[],o=[],l=[],c=[];let u=0,f=-1;for(;++f<t.length;){const y=[],b=[];let S=-1;for(t[f].length>u&&(u=t[f].length);++S<t[f].length;){const N=w9e(t[f][S]);if(n.alignDelimiters!==!1){const k=i(N);b[S]=k,(c[S]===void 0||k>c[S])&&(c[S]=k)}y.push(N)}o[f]=y,l[f]=b}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=oH(r[h]);else{const y=oH(r);for(;++h<u;)s[h]=y}h=-1;const p=[],g=[];for(;++h<u;){const y=s[h];let b="",S="";y===99?(b=":",S=":"):y===108?b=":":y===114&&(S=":");let N=n.alignDelimiters===!1?1:Math.max(1,c[h]-b.length-S.length);const k=b+"-".repeat(N)+S;n.alignDelimiters!==!1&&(N=b.length+N+S.length,N>c[h]&&(c[h]=N),g[h]=N),p[h]=k}o.splice(1,0,p),l.splice(1,0,g),f=-1;const v=[];for(;++f<o.length;){const y=o[f],b=l[f];h=-1;const S=[];for(;++h<u;){const N=y[h]||"";let k="",E="";if(n.alignDelimiters!==!1){const A=c[h]-(b[h]||0),C=s[h];C===114?k=" ".repeat(A):C===99?A%2?(k=" ".repeat(A/2+.5),E=" ".repeat(A/2-.5)):(k=" ".repeat(A/2),E=k):E=" ".repeat(A)}n.delimiterStart!==!1&&!h&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||h)&&S.push(" "),n.alignDelimiters!==!1&&S.push(k),S.push(N),n.alignDelimiters!==!1&&S.push(E),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&S.push("|")}v.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return v.join(`
`)}function w9e(t){return t==null?"":String(t)}function oH(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function j9e(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),S9e);return i(),o}function S9e(t,e,n){return">"+(n?"":" ")+t}function N9e(t,e){return lH(t,e.inConstruct,!0)&&!lH(t,e.notInConstruct,!1)}function lH(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function cH(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&N9e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function _9e(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function k9e(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function A9e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function C9e(t,e,n,r){const i=A9e(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(k9e(t,n)){const h=n.enter("codeIndented"),p=n.indentLines(s,E9e);return h(),p}const l=n.createTracker(r),c=i.repeat(Math.max(_9e(s,i)+1,3)),u=n.enter("codeFenced");let f=l.move(c);if(t.lang){const h=n.enter(`codeFencedLang${o}`);f+=l.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...l.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);f+=l.move(" "),f+=l.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...l.current()})),h()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(c),u(),f}function E9e(t,e,n){return(n?"":"    ")+t}function zD(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function T9e(t,e,n,r){const i=zD(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(t),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...c.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(t.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),o(),u}function P9e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function bx(t){return"&#x"+t.toString(16).toUpperCase()+";"}function O1(t,e,n){const r=Gm(t),i=Gm(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Iie.peek=I9e;function Iie(t,e,n,r){const i=P9e(n),s=n.enter("emphasis"),o=n.createTracker(r),l=o.move(i);let c=o.move(n.containerPhrasing(t,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),f=O1(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=bx(u)+c.slice(1));const h=c.charCodeAt(c.length-1),p=O1(r.after.charCodeAt(0),h,i);p.inside&&(c=c.slice(0,-1)+bx(h));const g=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+c+g}function I9e(t,e,n){return n.options.emphasis||"*"}function R9e(t,e){let n=!1;return BD(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,CI}),!!((!t.depth||t.depth<3)&&OD(t)&&(e.options.setext||n))}function O9e(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(R9e(t,n)){const f=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),f(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=bx(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),l(),u}Rie.peek=M9e;function Rie(t){return t.value||""}function M9e(){return"<"}Oie.peek=D9e;function Oie(t,e,n,r){const i=zD(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(t.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,{before:u,after:t.title?" ":")",...c.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(t.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),o(),u}function D9e(){return"!"}Mie.peek=L9e;function Mie(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(t.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:c,after:"]",...l.current()});return o(),n.stack=f,s(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function L9e(){return"!"}Die.peek=F9e;function Die(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],l=n.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function F9e(){return"`"}function Lie(t,e){const n=OD(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Fie.peek=$9e;function Fie(t,e,n,r){const i=zD(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,c;if(Lie(t,n)){const f=n.stack;n.stack=[],l=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),l(),n.stack=f,h}l=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),c(),t.title&&(c=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),l(),u}function $9e(t,e,n){return Lie(t,n)?"<":"["}$ie.peek=V9e;function $ie(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(t,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:c,after:"]",...l.current()});return o(),n.stack=f,s(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function V9e(){return"["}function qD(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function B9e(t){const e=qD(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function U9e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Vie(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function z9e(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?U9e(n):qD(n);const l=t.ordered?o==="."?")":".":B9e(n);let c=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Vie(n)===o&&f){let h=-1;for(;++h<t.children.length;){const p=t.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function q9e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function H9e(t,e,n,r){const i=q9e(n);let s=n.bulletCurrent||qD(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(o-s.length)),l.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,l.current()),f);return c(),u;function f(h,p,g){return p?(g?"":" ".repeat(o))+h:(g?s:s+" ".repeat(o-s.length))+h}}function W9e(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const G9e=RS(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function K9e(t,e,n,r){return(t.children.some(function(o){return G9e(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Y9e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Bie.peek=X9e;function Bie(t,e,n,r){const i=Y9e(n),s=n.enter("strong"),o=n.createTracker(r),l=o.move(i+i);let c=o.move(n.containerPhrasing(t,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),f=O1(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=bx(u)+c.slice(1));const h=c.charCodeAt(c.length-1),p=O1(r.after.charCodeAt(0),h,i);p.inside&&(c=c.slice(0,-1)+bx(h));const g=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+c+g}function X9e(t,e,n){return n.options.strong||"*"}function Q9e(t,e,n,r){return n.safe(t.value,r)}function J9e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Z9e(t,e,n){const r=(Vie(n)+(n.options.ruleSpaces?" ":"")).repeat(J9e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Uie={blockquote:j9e,break:cH,code:C9e,definition:T9e,emphasis:Iie,hardBreak:cH,heading:O9e,html:Rie,image:Oie,imageReference:Mie,inlineCode:Die,link:Fie,linkReference:$ie,list:z9e,listItem:H9e,paragraph:W9e,root:K9e,strong:Bie,text:Q9e,thematicBreak:Z9e};function eqe(){return{enter:{table:tqe,tableData:uH,tableHeader:uH,tableRow:rqe},exit:{codeText:iqe,table:nqe,tableData:k2,tableHeader:k2,tableRow:k2}}}function tqe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function nqe(t){this.exit(t),this.data.inTable=void 0}function rqe(t){this.enter({type:"tableRow",children:[]},t)}function k2(t){this.exit(t)}function uH(t){this.enter({type:"tableCell",children:[]},t)}function iqe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,sqe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function sqe(t,e){return e==="|"?e:t}function aqe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:c,tableRow:l}};function o(g,v,y,b){return u(f(g,y,b),g.align)}function l(g,v,y,b){const S=h(g,y,b),N=u([S]);return N.slice(0,N.indexOf(`
`))}function c(g,v,y,b){const S=y.enter("tableCell"),N=y.enter("phrasing"),k=y.containerPhrasing(g,{...b,before:s,after:s});return N(),S(),k}function u(g,v){return b9e(g,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function f(g,v,y){const b=g.children;let S=-1;const N=[],k=v.enter("table");for(;++S<b.length;)N[S]=h(b[S],v,y);return k(),N}function h(g,v,y){const b=g.children;let S=-1;const N=[],k=v.enter("tableRow");for(;++S<b.length;)N[S]=c(b[S],g,v,y);return k(),N}function p(g,v,y){let b=Uie.inlineCode(g,v,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function oqe(){return{exit:{taskListCheckValueChecked:dH,taskListCheckValueUnchecked:dH,paragraph:cqe}}}function lqe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:uqe}}}function dH(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function cqe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function uqe(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(o);let c=Uie.listItem(t,e,n,{...r,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(f){return f+o}}function dqe(){return[z8e(),u9e(),m9e(),eqe(),oqe()]}function fqe(t){return{extensions:[q8e(),d9e(t),p9e(),aqe(t),lqe()]}}const hqe={tokenize:vqe,partial:!0},zie={tokenize:bqe,partial:!0},qie={tokenize:wqe,partial:!0},Hie={tokenize:jqe,partial:!0},mqe={tokenize:Sqe,partial:!0},Wie={name:"wwwAutolink",tokenize:yqe,previous:Kie},Gie={name:"protocolAutolink",tokenize:xqe,previous:Yie},ql={name:"emailAutolink",tokenize:gqe,previous:Xie},qo={};function pqe(){return{text:qo}}let nd=48;for(;nd<123;)qo[nd]=ql,nd++,nd===58?nd=65:nd===91&&(nd=97);qo[43]=ql;qo[45]=ql;qo[46]=ql;qo[95]=ql;qo[72]=[ql,Gie];qo[104]=[ql,Gie];qo[87]=[ql,Wie];qo[119]=[ql,Wie];function gqe(t,e,n){const r=this;let i,s;return o;function o(h){return!II(h)||!Xie.call(r,r.previous)||HD(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(h))}function l(h){return II(h)?(t.consume(h),l):h===64?(t.consume(h),c):n(h)}function c(h){return h===46?t.check(mqe,f,u)(h):h===45||h===95||fi(h)?(s=!0,t.consume(h),c):f(h)}function u(h){return t.consume(h),i=!0,c}function f(h){return s&&i&&ki(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function yqe(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Kie.call(r,r.previous)||HD(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(hqe,t.attempt(zie,t.attempt(qie,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function xqe(t,e,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&Yie.call(r,r.previous)&&!HD(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),l):n(h)}function l(h){if(ki(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),l;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(h),c}return n(h)}function c(h){return h===47?(t.consume(h),s?u:(s=!0,c)):n(h)}function u(h){return h===null||P1(h)||gn(h)||ef(h)||TS(h)?n(h):t.attempt(zie,t.attempt(qie,f),n)(h)}function f(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function vqe(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function bqe(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(Hie,c,l)(u):u===null||gn(u)||ef(u)||u!==45&&TS(u)?c(u):(s=!0,t.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function c(u){return i||r||!s?n(u):e(u)}}function wqe(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(Hie,e,s)(o):o===null||gn(o)||ef(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function jqe(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),s):l===93?(t.consume(l),i):l===60||l===null||gn(l)||ef(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||gn(l)||ef(l)?e(l):r(l)}function s(l){return ki(l)?o(l):n(l)}function o(l){return l===59?(t.consume(l),r):ki(l)?(t.consume(l),o):n(l)}}function Sqe(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return fi(s)?n(s):e(s)}}function Kie(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||gn(t)}function Yie(t){return!ki(t)}function Xie(t){return!(t===47||II(t))}function II(t){return t===43||t===45||t===46||t===95||fi(t)}function HD(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Nqe={tokenize:Iqe,partial:!0};function _qe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Eqe,continuation:{tokenize:Tqe},exit:Pqe}},text:{91:{name:"gfmFootnoteCall",tokenize:Cqe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:kqe,resolveTo:Aqe}}}}function kqe(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return n(c);const u=Pa(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Aqe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function Cqe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return l;function l(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!o||h===null||h===91||gn(h))return n(h);if(h===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(Pa(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return gn(h)||(o=!0),s++,t.consume(h),h===92?f:u}function f(h){return h===91||h===92||h===93?(t.consume(h),s++,u):u(h)}}function Eqe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,l;return c;function c(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(v)}function f(v){if(o>999||v===93&&!l||v===null||v===91||gn(v))return n(v);if(v===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return s=Pa(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return gn(v)||(l=!0),o++,t.consume(v),v===92?h:f}function h(v){return v===91||v===92||v===93?(t.consume(v),o++,f):f(v)}function p(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),Yt(t,g,"gfmFootnoteDefinitionWhitespace")):n(v)}function g(v){return e(v)}}function Tqe(t,e,n){return t.check(lv,e,t.attempt(Nqe,e,n))}function Pqe(t){t.exit("gfmFootnoteDefinition")}function Iqe(t,e,n){const r=this;return Yt(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Rqe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},p=[["enter",f,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",h,l]],g=l.parser.constructs.insideSpan.null;g&&Ss(p,p.length,0,PS(g,o.slice(u+1,c),l)),Ss(p,p.length,0,[["exit",h,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",f,l]]),Ss(o,u-1,c-u+3,p),c=u+p.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function s(o,l,c){const u=this.previous,f=this.events;let h=0;return p;function p(v){return u===126&&f[f.length-1][1].type!=="characterEscape"?c(v):(o.enter("strikethroughSequenceTemporary"),g(v))}function g(v){const y=Gm(u);if(v===126)return h>1?c(v):(o.consume(v),h++,g);if(h<2&&!n)return c(v);const b=o.exit("strikethroughSequenceTemporary"),S=Gm(v);return b._open=!S||S===2&&!!y,b._close=!y||y===2&&!!S,l(v)}}}class Oqe{constructor(){this.map=[]}add(e,n,r){Mqe(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Mqe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Dqe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Lqe(){return{flow:{null:{name:"table",tokenize:Fqe,resolveAll:$qe}}}}function Fqe(t,e,n){const r=this;let i=0,s=0,o;return l;function l(M){let L=r.events.length-1;for(;L>-1;){const V=r.events[L][1].type;if(V==="lineEnding"||V==="linePrefix")L--;else break}const D=L>-1?r.events[L][1].type:null,R=D==="tableHead"||D==="tableRow"?C:c;return R===C&&r.parser.lazy[r.now().line]?n(M):R(M)}function c(M){return t.enter("tableHead"),t.enter("tableRow"),u(M)}function u(M){return M===124||(o=!0,s+=1),f(M)}function f(M){return M===null?n(M):dt(M)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),g):n(M):Vt(M)?Yt(t,f,"whitespace")(M):(s+=1,o&&(o=!1,i+=1),M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),o=!0,f):(t.enter("data"),h(M)))}function h(M){return M===null||M===124||gn(M)?(t.exit("data"),f(M)):(t.consume(M),M===92?p:h)}function p(M){return M===92||M===124?(t.consume(M),h):h(M)}function g(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(t.enter("tableDelimiterRow"),o=!1,Vt(M)?Yt(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):v(M))}function v(M){return M===45||M===58?b(M):M===124?(o=!0,t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),y):A(M)}function y(M){return Vt(M)?Yt(t,b,"whitespace")(M):b(M)}function b(M){return M===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),S):M===45?(s+=1,S(M)):M===null||dt(M)?E(M):A(M)}function S(M){return M===45?(t.enter("tableDelimiterFiller"),N(M)):A(M)}function N(M){return M===45?(t.consume(M),N):M===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),k):(t.exit("tableDelimiterFiller"),k(M))}function k(M){return Vt(M)?Yt(t,E,"whitespace")(M):E(M)}function E(M){return M===124?v(M):M===null||dt(M)?!o||i!==s?A(M):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(M)):A(M)}function A(M){return n(M)}function C(M){return t.enter("tableRow"),T(M)}function T(M){return M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),T):M===null||dt(M)?(t.exit("tableRow"),e(M)):Vt(M)?Yt(t,T,"whitespace")(M):(t.enter("data"),I(M))}function I(M){return M===null||M===124||gn(M)?(t.exit("data"),T(M)):(t.consume(M),M===92?P:I)}function P(M){return M===92||M===124?(t.consume(M),I):I(M)}}function $qe(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,u,f,h;const p=new Oqe;for(;++n<t.length;){const g=t[n],v=g[1];g[0]==="enter"?v.type==="tableHead"?(l=!1,c!==0&&(fH(p,e,c,u,f),f=void 0,c=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",u,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,f={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",f,e]])),i=v.type==="tableDelimiterRow"?2:f?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=d0(p,e,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=d0(p,e,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):v.type==="tableHead"?(l=!0,c=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(c=n,s[1]!==0?(o[0]=o[1],h=d0(p,e,s,i,n,h)):o[1]!==0&&(h=d0(p,e,o,i,n,h)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&fH(p,e,c,u,f),p.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Dqe(e.events,n))}return t}function d0(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},bh(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const c=bh(e.events,n[1]);if(s={type:o,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=bh(e.events,n[2]),f=bh(e.events,n[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const p=e.events[n[2]],g=e.events[n[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,y=n[3]-n[2]-1;t.add(v,y,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(s.end=Object.assign({},bh(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function fH(t,e,n,r,i){const s=[],o=bh(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function bh(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Vqe={name:"tasklistCheck",tokenize:Uqe};function Bqe(){return{text:{91:Vqe}}}function Uqe(t,e,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),s)}function s(c){return gn(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(c)}function l(c){return dt(c)?e(c):Vt(c)?t.check({tokenize:zqe},e,n)(c):n(c)}}function zqe(t,e,n){return Yt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function qqe(t){return oie([pqe(),_qe(),Rqe(t),Lqe(),Bqe()])}const Hqe={};function hH(t){const e=this,n=t||Hqe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(qqe(n)),s.push(dqe()),o.push(fqe(n))}const Wqe=({initialMessage:t,onClose:e,isExpanded:n=!1,onToggleExpand:r})=>{const[i,s]=w.useState([]),[o,l]=w.useState(""),[c,u]=w.useState(!1),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[v,y]=w.useState({isGuest:!0}),[b,S]=w.useState(!1),[N,k]=w.useState(""),[E,A]=w.useState(0),[C,T]=w.useState([]),[I,P]=w.useState(null),[M,L]=w.useState(!1),[D,R]=w.useState(null),V=w.useRef(null),q=w.useRef(null),H=w.useRef(null),Y=window.speechSynthesis,{toast:K}=Tt();lt(Oe);const Z=$t(Oe),U=w.useRef(null);w.useEffect(()=>{s([{role:"assistant",content:t||"Hi there! I'm SafeBite AI, your nutrition and health assistant. How can I help you today?"}]),W(),H.current=jq.initSpeechRecognition(),H.current&&(H.current.onresult=Nt=>{const Ce=Array.from(Nt.results).map(Je=>Je[0]).map(Je=>Je.transcript).join("");l(Ce)},H.current.onerror=Nt=>{console.error("Speech recognition error",Nt.error),h(!1),K({title:"Speech Recognition Error",description:`Error: ${Nt.error}. Please try again.`,variant:"destructive"})}),Q();const Ke=setTimeout(()=>{B()},5e3);return()=>{if(H.current)try{f&&H.current.stop()}catch(Nt){console.error("Error stopping speech recognition:",Nt)}Y&&Y.cancel(),U.current&&clearTimeout(U.current),clearTimeout(Ke)}},[t]),w.useEffect(()=>{se()},[i,b]);const W=async()=>{var Ae,Ke,Nt;try{const Ce=await w6e();if(!Ce.isGuest&&Ce.userId){const Je=Ve(Z,"users",Ce.userId),ht=await Mt(Je);if(ht.exists()){const mt=ht.data();Ce.dietaryPreferences=(Ae=mt.profile)!=null&&Ae.dietary_preferences?mt.profile.dietary_preferences.split(",").map(It=>It.trim()):[],Ce.healthGoals=(Ke=mt.profile)!=null&&Ke.health_goals?mt.profile.health_goals.split(",").map(It=>It.trim()):[],Ce.healthConditions=(Nt=mt.profile)!=null&&Nt.health_conditions?mt.profile.health_conditions.split(",").map(It=>It.trim()):[],Ce.recentActivity=mt.recentActivity||[],Ce.weeklyCheckin=mt.weeklyCheckin||null}}y(Ce)}catch(Ce){console.error("Error loading user context:",Ce)}},Q=()=>{T(["What foods are good for energy?","How can I improve my diet?","Tell me about healthy breakfast options","What are the benefits of eating more vegetables?"])},B=async()=>{try{const Ae=await x6e(v);Ae&&(P(Ae),L(!0),setTimeout(()=>{L(!1)},15e3))}catch(Ae){console.error("Error generating proactive suggestion:",Ae)}},se=()=>{var Ae;(Ae=V.current)==null||Ae.scrollIntoView({behavior:"smooth"})},ue=async()=>{if(!o.trim())return;const Ae={role:"user",content:o.trim()};s(Ke=>[...Ke,Ae]),l(""),u(!0);try{const{topics:Ke}=await v6e(Ae.content);if(nn("chatbot_query",{query:Ae.content,topics:Ke.join(",")}),!v.isGuest&&v.userId)try{const Je=Ve(Z,"users",v.userId);await au(Je,{chatHistory:Ij({message:Ae.content,timestamp:new Date,topics:Ke})})}catch(Je){console.error("Error saving chat history:",Je)}const Ce={role:"assistant",content:await y6e([...i,Ae],v)};pe(Ce.content),ne(Ae.content,Ce.content)}catch(Ke){console.error("Error sending message:",Ke),s(Nt=>[...Nt,{role:"assistant",content:"I'm sorry, I encountered an error processing your request. Please try again."}]),u(!1)}},pe=Ae=>{S(!0),k(Ae),A(0);const Ke=()=>{A(Nt=>{const Ce=Nt+1;if(Ce>=Ae.length)return s(lr=>[...lr,{role:"assistant",content:Ae}]),S(!1),u(!1),p&&le(Ae),0;const Je=30,ht=10,mt=Math.max(.2,Math.min(1,Ae.length/500)),It=Je*mt+ht*(1-mt);return U.current=setTimeout(Ke,It),Ce})};U.current=setTimeout(Ke,200)},ne=(Ae,Ke)=>{T(["Can you explain that in more detail?","How does that affect my health?","What foods should I avoid?","Are there any recipes you recommend?"])},ae=Ae=>{l(Ae),q.current&&q.current.focus()},ie=()=>{I&&(l(I),L(!1),q.current&&q.current.focus())},ce=()=>{if(!H.current){K({title:"Speech Recognition Not Available",description:"Your browser doesn't support speech recognition.",variant:"destructive"});return}if(f)H.current.stop(),h(!1);else try{H.current.start(),h(!0),K({title:"Listening...",description:"Speak now. Click the microphone again to stop."})}catch(Ae){console.error("Error starting speech recognition:",Ae),K({title:"Speech Recognition Error",description:"Could not start speech recognition. Please try again.",variant:"destructive"})}},ge=()=>{g(!p),p?Y&&Y.cancel():K({title:"Text-to-Speech Enabled",description:"AI responses will be read aloud."})},le=Ae=>{jq.speakText(Ae)},Ne=(Ae,Ke)=>{navigator.clipboard.writeText(Ae).then(()=>{R(Ke),setTimeout(()=>R(null),2e3),K({title:"Copied to clipboard",description:"Message content copied to clipboard."})}).catch(Nt=>{console.error("Error copying text:",Nt),K({title:"Copy Failed",description:"Could not copy text to clipboard.",variant:"destructive"})})},$e=Ae=>{Ae.key==="Enter"&&!Ae.shiftKey&&(Ae.preventDefault(),ue())},ot={expanded:{width:"100%",height:"100%",borderRadius:"0px",transition:{duration:.3}},collapsed:{width:"380px",height:"500px",borderRadius:"12px",transition:{duration:.3}}};return a.jsxs(cu.div,{className:`bg-safebite-dark-blue border border-safebite-card-bg-alt shadow-xl flex flex-col ${n?"fixed inset-0 z-50":"rounded-xl"}`,variants:ot,animate:n?"expanded":"collapsed",initial:"collapsed",children:[a.jsxs("div",{className:"p-3 border-b border-safebite-card-bg-alt flex justify-between items-center bg-safebite-card-bg rounded-t-xl",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-2",children:a.jsx(Fg,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:"SafeBite AI"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Powered by Gemini"})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Mh,{children:a.jsxs(Bg,{children:[a.jsx(Ug,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-safebite-text-secondary hover:text-safebite-text",onClick:ge,children:p?a.jsx(yle,{className:"h-4 w-4"}):a.jsx(xle,{className:"h-4 w-4"})})}),a.jsx(Dh,{children:a.jsxs("p",{children:[p?"Disable":"Enable"," text-to-speech"]})})]})}),a.jsx(Mh,{children:a.jsxs(Bg,{children:[a.jsx(Ug,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-safebite-text-secondary hover:text-safebite-text",onClick:r,children:n?a.jsx(k7,{className:"h-4 w-4"}):a.jsx(_7,{className:"h-4 w-4"})})}),a.jsx(Dh,{children:a.jsxs("p",{children:[n?"Minimize":"Maximize"," chat"]})})]})}),e&&a.jsx(ee,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(or,{className:"h-4 w-4"})})]})]}),a.jsx(kD,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[i.map((Ae,Ke)=>a.jsx("div",{className:`flex ${Ae.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex max-w-[80%] ${Ae.role==="user"?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${Ae.role==="user"?"ml-2 bg-safebite-teal/20":"mr-2 bg-safebite-card-bg"}`,children:Ae.role==="user"?a.jsx(Ra,{className:"h-4 w-4 text-safebite-teal"}):a.jsx(Fg,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{className:`p-3 rounded-lg relative group ${Ae.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg text-safebite-text"}`,children:[Ae.role==="assistant"&&a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 text-safebite-text-secondary hover:text-safebite-text",onClick:()=>Ne(Ae.content,Ke),children:D===Ke?a.jsx(_a,{className:"h-3 w-3"}):a.jsx(Goe,{className:"h-3 w-3"})})}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx(sH,{remarkPlugins:[hH],children:Ae.content})}),Ae.role==="assistant"&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-safebite-card-bg-alt flex justify-between items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"Was this helpful?"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 text-safebite-text-secondary hover:text-green-500",onClick:()=>{K({title:"Feedback Received",description:"Thanks for your positive feedback!"})},children:a.jsx(T7,{className:"h-3 w-3"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 text-safebite-text-secondary hover:text-red-500",onClick:()=>{K({title:"Feedback Received",description:"Thanks for your feedback. We'll work to improve."})},children:a.jsx(ple,{className:"h-3 w-3"})})]})]})]})]})},Ke)),b&&a.jsx("div",{className:"flex justify-start",children:a.jsxs("div",{className:"flex flex-row",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-card-bg flex items-center justify-center mr-2",children:a.jsx(Fg,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{className:"p-3 rounded-lg bg-safebite-card-bg text-safebite-text",children:[a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx(sH,{remarkPlugins:[hH],children:N.substring(0,E)})}),a.jsxs("div",{className:"flex space-x-1 mt-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-safebite-teal/50 animate-pulse"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-safebite-teal/50 animate-pulse delay-100"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-safebite-teal/50 animate-pulse delay-200"})]})]})]})}),a.jsx("div",{ref:V})]})}),!c&&C.length>0&&a.jsxs("div",{className:"px-4 py-2 border-t border-safebite-card-bg-alt",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"Suggested questions:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((Ae,Ke)=>a.jsx(Se,{variant:"outline",className:"bg-safebite-card-bg hover:bg-safebite-card-bg-alt cursor-pointer transition-colors",onClick:()=>ae(Ae),children:Ae},Ke))})]}),a.jsx(Fj,{children:M&&I&&a.jsx(cu.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"px-4 py-2 border-t border-safebite-card-bg-alt bg-safebite-teal/10",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Rn,{className:"h-4 w-4 text-safebite-teal mr-2 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-safebite-teal mb-1",children:"Suggestion:"}),a.jsx("p",{className:"text-sm text-safebite-text",children:I}),a.jsxs("div",{className:"flex justify-end mt-1",children:[a.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 text-xs text-safebite-text-secondary hover:text-safebite-text",onClick:()=>L(!1),children:"Dismiss"}),a.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 text-xs text-safebite-teal",onClick:ie,children:"Ask this"})]})]})]})})}),a.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Cre,{ref:q,value:o,onChange:Ae=>l(Ae.target.value),onKeyDown:$e,placeholder:"Type your message...",className:"min-h-[60px] resize-none bg-safebite-card-bg border-safebite-card-bg-alt focus-visible:ring-safebite-teal",disabled:c})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Mh,{children:a.jsxs(Bg,{children:[a.jsx(Ug,{asChild:!0,children:a.jsx(ee,{variant:"outline",size:"icon",className:`${f?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg"}`,onClick:ce,disabled:c||!("SpeechRecognition"in window||"webkitSpeechRecognition"in window),children:f?a.jsx(sle,{className:"h-5 w-5"}):a.jsx(ale,{className:"h-5 w-5"})})}),a.jsx(Dh,{children:a.jsxs("p",{children:[f?"Stop":"Start"," voice input"]})})]})}),a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:ue,disabled:c||!o.trim(),children:c?a.jsx(_n,{className:"h-5 w-5 animate-spin"}):a.jsx(YI,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary text-center",children:a.jsx("p",{children:"SafeBite AI provides general information, not medical advice."})})]})]})},Gqe=({onClose:t,isOpen:e})=>{const[n,r]=w.useState([]),[i,s]=w.useState(!0),[o,l]=w.useState("all"),[c,u]=w.useState(0),[f,h]=w.useState(null),p=w.useRef(null),g=$n(),{toast:v}=Tt(),y=lt(Oe),b=$t(Oe),S=y.currentUser;w.useEffect(()=>{e&&(async()=>{if(S)try{s(!0);const V=bo(b,"notifications"),q=ky(V,Yg("userId","==",S.uid),Ay("timestamp","desc")),H=await AO(q),Y=[];H.forEach(K=>{const Z=K.data();Y.push({id:K.id,userId:Z.userId,title:Z.title,message:Z.message,type:Z.type,category:Z.category,timestamp:Z.timestamp.toDate(),read:Z.read,icon:Z.icon,link:Z.link,actionText:Z.actionText,expiresAt:Z.expiresAt?Z.expiresAt.toDate():void 0})}),r(Y),u(Y.filter(K=>!K.read).length)}catch(V){console.error("Error fetching notifications:",V),v({title:"Error",description:"Failed to load notifications. Please try again.",variant:"destructive"})}finally{s(!1)}})()},[e,S,b,v]);const N=async R=>{if(S)try{const V=Ve(b,"notifications",R.id);await au(V,{read:!0}),r(q=>q.map(H=>H.id===R.id?{...H,read:!0}:H)),u(q=>Math.max(0,q-1))}catch(V){console.error("Error marking notification as read:",V)}},k=async R=>{if(S)try{const V=Ve(b,"notifications",R.id);await Ywe(V),r(q=>q.filter(H=>H.id!==R.id)),R.read||u(q=>Math.max(0,q-1)),v({title:"Notification Deleted",description:"The notification has been removed."})}catch(V){console.error("Error deleting notification:",V),v({title:"Error",description:"Failed to delete notification. Please try again.",variant:"destructive"})}},E=async()=>{if(!(!S||n.length===0))try{const R=e$(b);n.filter(q=>!q.read).forEach(q=>{const H=Ve(b,"notifications",q.id);R.update(H,{read:!0})}),await R.commit(),r(q=>q.map(H=>({...H,read:!0}))),u(0),v({title:"All Notifications Read",description:"All notifications have been marked as read."})}catch(R){console.error("Error marking all notifications as read:",R),v({title:"Error",description:"Failed to mark notifications as read. Please try again.",variant:"destructive"})}},A=async()=>{if(!(!S||n.length===0))try{const R=e$(b);n.forEach(V=>{const q=Ve(b,"notifications",V.id);R.delete(q)}),await R.commit(),r([]),u(0),v({title:"All Notifications Deleted",description:"All notifications have been removed."})}catch(R){console.error("Error deleting all notifications:",R),v({title:"Error",description:"Failed to delete notifications. Please try again.",variant:"destructive"})}},C=R=>{h(R),R.read||N(R)},T=R=>{R.link&&(g(R.link),t())},I=n.filter(R=>o==="all"?!0:o==="unread"?!R.read:R.category===o),P=R=>{const{type:V,icon:q}=R;return V==="success"?a.jsx(_a,{className:"h-4 w-4 text-green-500"}):V==="warning"?a.jsx(Wt,{className:"h-4 w-4 text-amber-500"}):V==="error"?a.jsx(Wt,{className:"h-4 w-4 text-red-500"}):q==="food"||R.category==="food"?a.jsx(gr,{className:"h-4 w-4 text-orange-500"}):q==="health"||R.category==="health"?a.jsx(Kr,{className:"h-4 w-4 text-blue-500"}):q==="activity"||R.category==="activity"?a.jsx(Yc,{className:"h-4 w-4 text-purple-500"}):q==="promo"||R.category==="promo"?a.jsx(co,{className:"h-4 w-4 text-pink-500"}):q==="heart"?a.jsx(Zn,{className:"h-4 w-4 text-red-500"}):q==="clock"?a.jsx(dn,{className:"h-4 w-4 text-blue-400"}):a.jsx(Jn,{className:"h-4 w-4 text-safebite-teal"})},M=R=>{const q=new Date().getTime()-R.getTime(),H=Math.floor(q/1e3),Y=Math.floor(H/60),K=Math.floor(Y/60),Z=Math.floor(K/24);return H<60?"Just now":Y<60?`${Y}m ago`:K<24?`${K}h ago`:Z<7?`${Z}d ago`:R.toLocaleDateString()},L=()=>{h(null)},D={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:.2}},exit:{opacity:0,x:20,transition:{duration:.2}}};return a.jsx(Fj,{children:e&&a.jsx(cu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[1500] flex justify-end",onClick:t,children:a.jsx(cu.div,{ref:p,initial:"hidden",animate:"visible",exit:"exit",variants:D,className:"w-full max-w-md bg-safebite-dark-blue border-l border-safebite-card-bg-alt h-full overflow-hidden",onClick:R=>R.stopPropagation(),children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ia,{className:"h-5 w-5 text-safebite-teal mr-2"}),a.jsx("h2",{className:"text-lg font-semibold text-safebite-text",children:"Notifications"}),c>0&&a.jsxs(Se,{variant:"outline",className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[c," new"]})]}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:t,className:"text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(or,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:f?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt flex items-center",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:L,className:"mr-2",children:a.jsx(or,{className:"h-4 w-4"})}),a.jsx("h3",{className:"font-medium text-safebite-text",children:"Notification Details"})]}),a.jsxs("div",{className:"p-4 flex-1",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"p-2 rounded-full bg-safebite-card-bg-alt mr-3 flex-shrink-0",children:P(f)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-safebite-text",children:f.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:M(f.timestamp)})]})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:f.message}),a.jsxs("div",{className:"flex justify-between",children:[f.link&&a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>T(f),children:f.actionText||"View Details"}),a.jsxs(ee,{variant:"outline",className:"text-red-500 border-red-500/30 hover:bg-red-500/10",onClick:()=>{k(f),L()},children:[a.jsx(AL,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}):a.jsxs(pi,{defaultValue:"all",value:o,onValueChange:l,className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 pt-2",children:a.jsxs(Qr,{className:"w-full bg-safebite-card-bg grid grid-cols-5",children:[a.jsx(ft,{value:"all",className:"text-xs",children:"All"}),a.jsx(ft,{value:"unread",className:"text-xs",children:"Unread"}),a.jsx(ft,{value:"food",className:"text-xs",children:"Food"}),a.jsx(ft,{value:"health",className:"text-xs",children:"Health"}),a.jsx(ft,{value:"system",className:"text-xs",children:"System"})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:i?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-safebite-teal"})}):I.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[a.jsx(Ia,{className:"h-12 w-12 text-safebite-text-secondary mb-4 opacity-20"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"No notifications to display"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:o!=="all"?"Try selecting a different category":"You're all caught up!"})]}):a.jsxs(St,{value:o,className:"h-full m-0 data-[state=active]:flex data-[state=active]:flex-col",children:[a.jsx(kD,{className:"flex-1",children:a.jsx("div",{className:"p-4 space-y-2",children:I.map(R=>a.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${R.read?"bg-safebite-card-bg hover:bg-safebite-card-bg-alt":"bg-safebite-teal/5 hover:bg-safebite-teal/10 border-l-2 border-safebite-teal"}`,onClick:()=>C(R),children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`p-2 rounded-full bg-safebite-card-bg-alt mr-3 flex-shrink-0 ${R.read?"":"bg-safebite-teal/20"}`,children:P(R)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:`font-medium truncate ${R.read?"text-safebite-text":"text-safebite-teal"}`,children:R.title}),a.jsx("span",{className:"text-xs text-safebite-text-secondary ml-2 flex-shrink-0",children:M(R.timestamp)})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm line-clamp-2",children:R.message})]})]})},R.id))})}),I.length>0&&a.jsx("div",{className:"p-3 border-t border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"text-xs",onClick:E,disabled:!I.some(R=>!R.read),children:[a.jsx(_a,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"text-xs text-red-400 hover:text-red-500",onClick:A,children:[a.jsx(AL,{className:"h-3 w-3 mr-1"}),"Clear all"]})]})})]})})]})}),a.jsx("div",{className:"p-3 border-t border-safebite-card-bg-alt",children:a.jsxs(ee,{variant:"ghost",size:"sm",className:"w-full justify-center text-safebite-text-secondary hover:text-safebite-text",onClick:()=>g("/settings/notifications"),children:[a.jsx(Ax,{className:"h-3 w-3 mr-1"}),"Notification Settings"]})})]})})})})},mH=({userProfile:t,onRetry:e,errorMessage:n})=>{var f,h;const{toast:r}=Tt(),{isGuest:i}=Vn(),s=()=>{var g;const p=[{name:"Sleep Quality",value:72,icon:a.jsx(dn,{className:"h-5 w-5 text-blue-400"})},{name:"Physical Activity",value:25,icon:a.jsx(Kr,{className:"h-5 w-5 text-green-400"})},{name:"Nutrition Balance",value:24,icon:a.jsx(gr,{className:"h-5 w-5 text-orange-400"})},{name:"Stress Level",value:70,icon:a.jsx(Co,{className:"h-5 w-5 text-purple-400"})}];if((g=t==null?void 0:t.weeklyCheckin)!=null&&g.answers){const v=t.weeklyCheckin.answers;if(v.sleep_hours){const y=p.findIndex(b=>b.name==="Sleep Quality");y>=0&&(p[y].value=Math.min(100,Math.round(v.sleep_hours*10)))}if(v.exercise_minutes){const y=p.findIndex(b=>b.name==="Physical Activity");y>=0&&(p[y].value=Math.min(100,Math.round(v.exercise_minutes/3)))}if(v.fruit_vegetable_servings){const y=p.findIndex(b=>b.name==="Nutrition Balance");y>=0&&(p[y].value=Math.min(100,Math.round(v.fruit_vegetable_servings*15)))}if(v.stress_level){const y=p.findIndex(b=>b.name==="Stress Level");y>=0&&(p[y].value=Math.min(100,Math.round(100-v.stress_level*10)))}}return p},o=()=>{var v;const p=[],g=((v=t==null?void 0:t.weeklyCheckin)==null?void 0:v.answers)||{};return(!g.sleep_hours||g.sleep_hours<7)&&p.push({title:"Improve Sleep Quality",description:"Aim for 7-9 hours of quality sleep each night. Establish a regular sleep schedule and create a restful environment.",priority:"medium"}),(!g.exercise_minutes||g.exercise_minutes<150)&&p.push({title:"Increase Physical Activity",description:"Try to get at least 150 minutes of moderate exercise per week. Even short walks can make a difference.",priority:"high"}),(!g.fruit_vegetable_servings||g.fruit_vegetable_servings<5)&&p.push({title:"Boost Nutrition Balance",description:"Aim for at least 5 servings of fruits and vegetables daily. Incorporate more whole foods in your diet.",priority:"high"}),(!g.stress_level||g.stress_level>5)&&p.push({title:"Manage Stress Levels",description:"Practice stress-reduction techniques like meditation, deep breathing, or yoga. Take regular breaks during the day.",priority:"medium"}),(!g.water_intake||g.water_intake<8)&&p.push({title:"Stay Hydrated",description:"Drink at least 8 cups of water daily. Set reminders or use a water tracking app to help.",priority:"medium"}),p.length===0&&p.push({title:"Maintain Your Healthy Habits",description:"You're doing well! Continue your current health practices and consider setting new goals.",priority:"low"}),p},l=s(),c=o(),u=()=>{e?e():window.location.reload(),r({title:"Retrying",description:"Attempting to load health data charts again."}),nn("retry_health_charts",{isGuest:i})};return a.jsxs(Ee,{className:"sci-fi-card border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs(Qe,{className:"text-xl font-bold text-safebite-text flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Insights",a.jsx(Se,{className:"ml-3 bg-safebite-teal text-safebite-dark-blue",children:"Alternative View"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:n?"Charts unavailable - showing alternative health insights":"Health insights based on your weekly check-in data"})]}),n&&a.jsxs(ee,{variant:"outline",size:"sm",className:"border-safebite-teal/30 text-safebite-teal",onClick:u,children:[a.jsx(wl,{className:"h-4 w-4 mr-2"}),"Retry Loading Charts"]})]})}),a.jsxs(Fe,{className:"pt-4",children:[n&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"Health Data Charts Error"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:n})]})]})}),a.jsxs(pi,{defaultValue:"metrics",className:"mb-6",children:[a.jsxs(Qr,{className:"grid grid-cols-2 mb-4",children:[a.jsxs(ft,{value:"metrics",children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Health Metrics"})]}),a.jsxs(ft,{value:"recommendations",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Recommendations"})]})]}),a.jsxs(St,{value:"metrics",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map((p,g)=>a.jsx(Ee,{className:"bg-safebite-card-bg-alt/30 border-safebite-card-bg-alt",children:a.jsxs(Fe,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:p.name}),p.icon]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Score"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:[p.value,"%"]})]}),a.jsx("div",{className:"h-2.5 bg-safebite-card-bg rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:`${p.value}%`}})})]})]})},g))}),((f=t==null?void 0:t.weeklyCheckin)==null?void 0:f.answers)&&a.jsxs(Ee,{className:"mt-6 bg-safebite-card-bg-alt/30 border-safebite-card-bg-alt",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"text-lg font-medium text-safebite-text flex items-center",children:[a.jsx(Yc,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Weekly Check-in Summary"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[t.weeklyCheckin.answers.sleep_hours&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(dn,{className:"h-5 w-5 text-blue-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Sleep Hours"}),a.jsxs("p",{className:"text-safebite-text font-medium",children:[t.weeklyCheckin.answers.sleep_hours," hours"]})]})]}),t.weeklyCheckin.answers.exercise_minutes&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Exercise"}),a.jsxs("p",{className:"text-safebite-text font-medium",children:[t.weeklyCheckin.answers.exercise_minutes," minutes"]})]})]}),t.weeklyCheckin.answers.water_intake&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"h-5 w-5 text-blue-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Water Intake"}),a.jsxs("p",{className:"text-safebite-text font-medium",children:[t.weeklyCheckin.answers.water_intake," cups"]})]})]}),t.weeklyCheckin.answers.fruit_vegetable_servings&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(gr,{className:"h-5 w-5 text-orange-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Fruits & Vegetables"}),a.jsxs("p",{className:"text-safebite-text font-medium",children:[t.weeklyCheckin.answers.fruit_vegetable_servings," servings"]})]})]}),t.weeklyCheckin.answers.home_cooked_meals&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(gr,{className:"h-5 w-5 text-purple-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Home Cooked Meals"}),a.jsxs("p",{className:"text-safebite-text font-medium",children:[t.weeklyCheckin.answers.home_cooked_meals," meals"]})]})]}),t.weeklyCheckin.answers.stress_level&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Co,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Stress Level"}),a.jsxs("p",{className:"text-safebite-text font-medium",children:[t.weeklyCheckin.answers.stress_level,"/10"]})]})]})]})})]})]}),a.jsx(St,{value:"recommendations",children:a.jsxs("div",{className:"space-y-4",children:[c.map((p,g)=>a.jsx(Ee,{className:`bg-safebite-card-bg-alt/30 border-l-4 ${p.priority==="high"?"border-l-red-500":p.priority==="medium"?"border-l-amber-500":"border-l-green-500"}`,children:a.jsx(Fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`rounded-full p-2 mr-3 ${p.priority==="high"?"bg-red-500/10 text-red-500":p.priority==="medium"?"bg-amber-500/10 text-amber-500":"bg-green-500/10 text-green-500"}`,children:a.jsx(Jn,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:p.title}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:p.description})]})]})})},g)),(!(t!=null&&t.weeklyCheckin)||!((h=t==null?void 0:t.weeklyCheckin)!=null&&h.answers))&&a.jsx(Ee,{className:"bg-safebite-teal/10 border-safebite-teal/30",children:a.jsx(Fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Rn,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:"Complete Your Weekly Check-in"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:"Get more personalized health insights and recommendations by completing your weekly health check-in."}),a.jsx(ee,{className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>{nn("weekly_checkin_cta_click",{isGuest:i}),r({title:"Weekly Check-in",description:"Opening weekly check-in questionnaire..."})},children:"Start Weekly Check-in"})]})]})})})]})})]})]})]})},f0=[{id:"home_cooked",text:"How many home-cooked meals did you have this week?",type:"slider",min:0,max:21,step:1},{id:"water_intake",text:"On average, how many glasses of water did you drink daily?",type:"slider",min:0,max:15,step:1},{id:"junk_food",text:"How many times did you consume processed/junk food this week?",type:"slider",min:0,max:20,step:1},{id:"exercise",text:"How many minutes did you exercise this week in total?",type:"slider",min:0,max:1e3,step:10},{id:"energy_level",text:"How would you rate your energy levels this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}],Kqe=[{id:"stress_level",text:"How would you rate your stress levels this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]},{id:"sleep_quality",text:"How would you rate your sleep quality this week?",type:"radio",options:["Very Poor","Poor","Fair","Good","Excellent"]},{id:"sleep_hours",text:"On average, how many hours of sleep did you get each night?",type:"slider",min:0,max:12,step:.5},{id:"fruit_veg",text:"How many servings of fruits and vegetables did you eat daily on average?",type:"slider",min:0,max:10,step:1},{id:"protein_intake",text:"How many protein-rich meals did you have this week?",type:"slider",min:0,max:21,step:1},{id:"alcohol",text:"How many alcoholic drinks did you consume this week?",type:"slider",min:0,max:30,step:1},{id:"mindfulness",text:"How many minutes did you spend on mindfulness or meditation this week?",type:"slider",min:0,max:500,step:5},{id:"social_activity",text:"How many social activities did you participate in this week?",type:"slider",min:0,max:20,step:1},{id:"screen_time",text:"On average, how many hours of screen time did you have daily (excluding work)?",type:"slider",min:0,max:16,step:.5},{id:"outdoor_time",text:"How many hours did you spend outdoors this week?",type:"slider",min:0,max:100,step:1},{id:"new_foods",text:"How many new foods or recipes did you try this week?",type:"slider",min:0,max:20,step:1},{id:"supplement_use",text:"Did you take your supplements/medications as prescribed this week?",type:"radio",options:["Never","Rarely","Sometimes","Usually","Always"]},{id:"mood",text:"How would you describe your overall mood this week?",type:"radio",options:["Very Negative","Negative","Neutral","Positive","Very Positive"]},{id:"digestion",text:"How would you rate your digestive health this week?",type:"radio",options:["Very Poor","Poor","Fair","Good","Excellent"]},{id:"sugar_intake",text:"How many sugary foods or drinks did you consume this week?",type:"slider",min:0,max:30,step:1}],pH={Diabetes:[{id:"blood_sugar",text:"How many times did your blood sugar levels go outside your target range this week?",type:"slider",min:0,max:30,step:1},{id:"carb_tracking",text:"How consistently did you track your carbohydrate intake this week?",type:"radio",options:["Not at all","Rarely","Sometimes","Usually","Always"]}],Hypertension:[{id:"blood_pressure",text:"How many times did you check your blood pressure this week?",type:"slider",min:0,max:30,step:1},{id:"salt_intake",text:"How would you rate your salt intake this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}],"Heart Issues":[{id:"cardio_exercise",text:"How many minutes of cardiovascular exercise did you do this week?",type:"slider",min:0,max:500,step:5},{id:"heart_symptoms",text:"Did you experience any heart-related symptoms this week?",type:"radio",options:["None","Mild","Moderate","Severe"]}],"Digestive Issues":[{id:"digestive_symptoms",text:"How many days this week did you experience digestive discomfort?",type:"slider",min:0,max:7,step:1},{id:"fiber_intake",text:"How would you rate your fiber intake this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}]},gH={"Weight Loss":[{id:"calorie_tracking",text:"How consistently did you track your calories this week?",type:"radio",options:["Not at all","Rarely","Sometimes","Usually","Always"]},{id:"weight_change",text:"How has your weight changed this week?",type:"radio",options:["Decreased significantly","Decreased slightly","Stayed the same","Increased slightly","Increased significantly"]}],"Muscle Gain":[{id:"strength_training",text:"How many strength training sessions did you complete this week?",type:"slider",min:0,max:14,step:1},{id:"protein_goal",text:"How many days did you meet your protein intake goal this week?",type:"slider",min:0,max:7,step:1}],"General Health":[{id:"balanced_meals",text:"How many balanced meals (including protein, carbs, and healthy fats) did you have this week?",type:"slider",min:0,max:21,step:1},{id:"health_habits",text:"How many days did you maintain all your healthy habits this week?",type:"slider",min:0,max:7,step:1}]},Yqe=async()=>{var t;try{const n=lt(Oe).currentUser;if(!n)return console.log("User not logged in, returning base questions"),f0;const r=$t(Oe),i=Ve(r,"users",n.uid),s=await Mt(i);if(!s.exists())return console.log("User profile not found, returning base questions"),f0;const o=s.data(),l=o.profile||{},c=((t=o.weeklyCheckin)==null?void 0:t.answers)||{},u=o.previousWeeklyQuestions||[];let f=[...f0];const h=l.health_conditions;h&&pH[h]&&(f=[...f,...pH[h]]);const p=l.health_goals;p&&gH[p]&&(f=[...f,...gH[p]]);const v=Kqe.filter(N=>!u.includes(N.id)).sort(()=>Math.random()-.5),y=Math.floor(Math.random()*2)+2,b=v.slice(0,y);f=[...f,...b];const S=f.map(N=>N.id);return await rn(i,{previousWeeklyQuestions:S},{merge:!0}),f}catch(e){return console.error("Error getting personalized weekly questions:",e),f0}},Xqe=({isOpen:t,onClose:e,onComplete:n})=>{const{toast:r}=Tt(),i=lt(Oe),s=$t(Oe),[o,l]=w.useState(!0),[c,u]=w.useState(!1),[f,h]=w.useState(!1),[p,g]=w.useState(1),[v,y]=w.useState([]),[b,S]=w.useState(0),[N,k]=w.useState(!1),[E,A]=w.useState({});w.useEffect(()=>{t&&(async()=>{var V;l(!0);try{const q=i.currentUser;if(!q){l(!1);return}const H=Ve(s,"users",q.uid),Y=await Mt(H);if(Y.exists()){const U=Y.data();if((V=U.weeklyCheckin)!=null&&V.lastSubmitted){const W=U.weeklyCheckin.lastSubmitted.toDate(),Q=new Date,B=pe=>{const ne=new Date(pe.getFullYear(),0,1),ae=(pe.getTime()-ne.getTime())/864e5;return Math.ceil((ae+ne.getDay()+1)/7)},se=B(W),ue=B(Q);se===ue&&W.getFullYear()===Q.getFullYear()&&k(!0)}}const K=await Yqe();y(K),S(K.length);const Z={};K.forEach(U=>{U.type==="slider"?Z[U.id]=Math.floor((U.min+U.max)/2):U.type==="radio"?Z[U.id]=U.options?U.options[Math.floor(U.options.length/2)]:"":U.type==="checkbox"?Z[U.id]=[]:Z[U.id]=""}),A(Z)}catch(q){console.error("Error checking weekly questions status:",q),r({title:"Error",description:"Could not load weekly questions. Please try again later.",variant:"destructive"})}finally{l(!1)}})()},[t,i,s,r]);const C=async()=>{u(!0);try{const R=i.currentUser;if(!R){r({title:"Authentication Required",description:"Please log in to submit your weekly check-in.",variant:"destructive"});return}const V=Ve(s,"users",R.uid),q=new Date,H=Math.ceil((q.getDate()-1+new Date(q.getFullYear(),q.getMonth(),1).getDay())/7),Y=`${q.getFullYear()}-W${H}`;await rn(V,{weeklyCheckin:{answers:E,lastSubmitted:md(),weekIdentifier:Y}},{merge:!0}),nn("complete_weekly_questions",{questionCount:v.length,weekIdentifier:Y}),r({title:"Weekly Check-in Complete!",description:"Your responses have been saved. Check your dashboard for insights.",variant:"default"}),h(!0),n&&n()}catch(R){console.error("Error submitting weekly questions:",R),r({title:"Submission Error",description:"There was a problem saving your responses. Please try again.",variant:"destructive"})}finally{u(!1)}},T=(R,V)=>{A(q=>({...q,[R]:V}))},I=()=>{var R;p<b?(g(p+1),nn("weekly_question_progress",{currentStep:p,totalSteps:b,questionId:(R=v[p-1])==null?void 0:R.id})):C()},P=()=>{p>1&&g(p-1)},M=()=>{var V,q;if(v.length===0||p>v.length)return null;const R=v[p-1];switch(R.type){case"slider":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx(ys,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:R.text}),R.description&&a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:R.description})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:R.minLabel||R.min}),a.jsx("span",{children:R.maxLabel||R.max})]}),a.jsx("input",{type:"range",min:R.min||0,max:R.max||10,step:R.step||1,value:E[R.id]||0,onChange:H=>T(R.id,parseInt(H.target.value)),className:"w-full accent-safebite-teal"}),a.jsx("div",{className:"text-center text-lg font-medium text-safebite-teal",children:E[R.id]||0})]})]});case"radio":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx(ys,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:R.text}),R.description&&a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:R.description})]})]}),a.jsx("div",{className:"space-y-2",children:(V=R.options)==null?void 0:V.map((H,Y)=>a.jsx("div",{className:`p-3 rounded-md border cursor-pointer transition-all ${E[R.id]===H?"border-safebite-teal bg-safebite-teal/10 text-safebite-text":"border-safebite-card-bg-alt bg-safebite-card-bg-alt/50 text-safebite-text-secondary hover:bg-safebite-card-bg-alt"}`,onClick:()=>T(R.id,H),children:H},Y))})]});case"checkbox":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx(ys,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:R.text}),R.description&&a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:R.description})]})]}),a.jsx("div",{className:"space-y-2",children:(q=R.options)==null?void 0:q.map((H,Y)=>{const K=Array.isArray(E[R.id])&&E[R.id].includes(H);return a.jsx("div",{className:`p-3 rounded-md border cursor-pointer transition-all ${K?"border-safebite-teal bg-safebite-teal/10 text-safebite-text":"border-safebite-card-bg-alt bg-safebite-card-bg-alt/50 text-safebite-text-secondary hover:bg-safebite-card-bg-alt"}`,onClick:()=>{const Z=Array.isArray(E[R.id])?[...E[R.id]]:[],U=K?Z.filter(W=>W!==H):[...Z,H];T(R.id,U)},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-5 h-5 rounded border mr-2 flex items-center justify-center ${K?"bg-safebite-teal border-safebite-teal":"border-safebite-text-secondary"}`,children:K&&a.jsx(cd,{className:"h-4 w-4 text-white"})}),H]})},Y)})})]});default:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx(ys,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:R.text}),R.description&&a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:R.description})]})]}),a.jsx("input",{type:"text",value:E[R.id]||"",onChange:H=>T(R.id,H.target.value),placeholder:"Type your answer here...",className:"w-full p-3 rounded-md border border-safebite-card-bg-alt bg-safebite-card-bg-alt/50 text-safebite-text focus:border-safebite-teal focus:ring-1 focus:ring-safebite-teal"})]})}},L=()=>a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"bg-green-500/10 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(cd,{className:"h-8 w-8 text-green-500"})}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Weekly Check-in Complete"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"You've already completed your weekly health check-in. Check back next week for new questions."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Visit your dashboard to see insights based on your responses."}),a.jsx(ee,{onClick:e,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]}),D=()=>a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"bg-green-500/10 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(cd,{className:"h-8 w-8 text-green-500"})}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Thank You!"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Your weekly health check-in has been submitted successfully."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"We'll use this information to provide personalized insights on your dashboard."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:a.jsx(ee,{onClick:e,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"View Dashboard Insights"})}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Your responses have been saved and will be used to generate personalized health charts and recommendations."})]});return a.jsx($l,{open:t,onOpenChange:e,children:a.jsxs(Vo,{className:"sci-fi-card max-w-2xl",children:[a.jsxs(af,{children:[a.jsxs(of,{className:"text-2xl font-bold flex items-center",children:[a.jsx(z1,{className:"mr-2 h-6 w-6 text-safebite-teal"}),"Weekly Health Check-in"]}),a.jsx(lf,{children:"Answer a few questions to help us personalize your health insights"})]}),o?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(_n,{className:"h-8 w-8 text-safebite-teal animate-spin mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Loading your weekly questions..."})]}):N?L():f?D():a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mt-2 mb-6",children:[a.jsxs("div",{className:"text-sm text-safebite-text-secondary",children:["Question ",p," of ",b]}),a.jsx("div",{className:"w-full max-w-xs",children:a.jsx(Hd,{value:p/b*100,className:"h-2 bg-safebite-card-bg-alt"})})]}),M(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(ee,{variant:"outline",onClick:P,disabled:p===1||c,className:"border-safebite-card-bg-alt",children:"Previous"}),a.jsx(ee,{onClick:I,disabled:c,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:c?a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):p===b?a.jsxs(a.Fragment,{children:["Submit",a.jsx(cd,{className:"ml-2 h-4 w-4"})]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})})]})]})]})})},Qqe=({weeklyData:t})=>{if(!t||!t.answers)return a.jsx(Ee,{className:"sci-fi-card",children:a.jsx(Fe,{className:"p-6 text-center",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No weekly data available. Complete your weekly check-in to see insights."})})});const e=t.answers,n=[{name:"Exercise (min)",value:e.exercise_minutes||0},{name:"Home Meals",value:e.home_cooked_meals||0},{name:"Water (cups)",value:e.water_intake||0},{name:"Sleep (hrs)",value:e.sleep_hours||0}],r=[{name:"Fruits & Veggies",value:e.fruit_vegetable_servings||0},{name:"Junk Food",value:e.junk_food_consumption||0}],i=[{name:"Exercise",value:e.exercise_minutes?Math.min(100,e.exercise_minutes/3):10},{name:"Nutrition",value:e.fruit_vegetable_servings?Math.min(100,e.fruit_vegetable_servings*15):20},{name:"Sleep",value:e.sleep_hours?Math.min(100,e.sleep_hours*12):30},{name:"Stress",value:100-(e.stress_level?Math.min(100,e.stress_level*20):40)}],s=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-lg font-semibold text-safebite-text",children:"Weekly Activity Summary"})}),a.jsx(Fe,{children:a.jsx("div",{className:"h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(k1,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Id,{strokeDasharray:"3 3",stroke:"#1e293b"}),a.jsx(Ea,{dataKey:"name",stroke:"#94a3b8"}),a.jsx(Ta,{stroke:"#94a3b8"}),a.jsx(Dr,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",color:"#e2e8f0"}}),a.jsx(Wi,{}),a.jsx(Lo,{dataKey:"value",fill:"#10b981",name:"Value"})]})})})})]}),a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-lg font-semibold text-safebite-text",children:"Nutrition Habits"})}),a.jsx(Fe,{children:a.jsx("div",{className:"h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(k1,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Id,{strokeDasharray:"3 3",stroke:"#1e293b"}),a.jsx(Ea,{dataKey:"name",stroke:"#94a3b8"}),a.jsx(Ta,{stroke:"#94a3b8"}),a.jsx(Dr,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",color:"#e2e8f0"}}),a.jsx(Wi,{}),a.jsx(Lo,{dataKey:"value",fill:"#8884d8",name:"Servings"})]})})})})]}),a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-lg font-semibold text-safebite-text",children:"Health Balance"})}),a.jsx(Fe,{children:a.jsx("div",{className:"h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(jI,{children:[a.jsx(Ba,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:o,percent:l})=>`${o}: ${(l*100).toFixed(0)}%`,children:i.map((o,l)=>a.jsx(Sm,{fill:s[l%s.length]},`cell-${l}`))}),a.jsx(Dr,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",color:"#e2e8f0"}}),a.jsx(Wi,{})]})})})})]}),a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-lg font-semibold text-safebite-text",children:"Health Recommendations"})}),a.jsx(Fe,{children:a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[e.exercise_minutes<150&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:""}),a.jsx("span",{children:"Try to get at least 150 minutes of moderate exercise per week."})]}),e.water_intake<8&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:""}),a.jsx("span",{children:"Aim for 8 cups of water daily for proper hydration."})]}),e.sleep_hours<7&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:""}),a.jsx("span",{children:"Most adults need 7-9 hours of sleep for optimal health."})]}),e.fruit_vegetable_servings<5&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:""}),a.jsx("span",{children:"Try to eat at least 5 servings of fruits and vegetables daily."})]}),e.junk_food_consumption>3&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:""}),a.jsx("span",{children:"Consider reducing junk food consumption for better health."})]}),e.stress_level>7&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:""}),a.jsx("span",{children:"Your stress levels are high. Consider stress-reduction activities like meditation or yoga."})]}),e.exercise_minutes>=150&&e.water_intake>=8&&e.sleep_hours>=7&&e.fruit_vegetable_servings>=5&&e.junk_food_consumption<=3&&e.stress_level<=7&&a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:""}),a.jsx("span",{children:"Great job! You're maintaining healthy habits. Keep it up!"})]})]})})]})]})},Jqe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState(null),{toast:o}=Tt(),l=async()=>{r(!0);try{const c=[{title:"New Study Links Mediterranean Diet to Longer Lifespan",description:"Researchers found that people who closely follow a Mediterranean diet have a 25% lower risk of mortality.",url:"https://www.healthline.com/nutrition/mediterranean-diet-benefits",source:"Healthline",category:"Nutrition",publishedAt:new Date().toISOString()},{title:"Exercise in Morning May Offer Most Weight Loss Benefits",description:"A new study suggests that morning exercise might be more effective for weight management than working out later in the day.",url:"https://www.webmd.com/fitness-exercise/news/20230405/morning-exercise-may-offer-the-most-weight-loss-benefits",source:"WebMD",category:"Fitness",publishedAt:new Date().toISOString()},{title:"Eating More Protein May Help Seniors Maintain Muscle Mass",description:"Research indicates that higher protein intake can help older adults preserve muscle mass and strength as they age.",url:"https://www.nih.gov/news-events/nih-research-matters/protein-intake-linked-muscle-health-older-adults",source:"NIH",category:"Nutrition",publishedAt:new Date().toISOString()}];e(c),s(new Date),o({title:"News Updated",description:"Latest health news has been loaded.",variant:"default"})}catch(c){console.error("Error fetching health news:",c),o({title:"Failed to Load News",description:"Could not retrieve the latest health news. Please try again later.",variant:"destructive"})}finally{r(!1)}};return w.useEffect(()=>{l();const c=setInterval(()=>{l()},30*60*1e3);return()=>clearInterval(c)},[]),a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(cle,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Health & Nutrition News"]}),a.jsxs(ee,{variant:"ghost",size:"sm",onClick:l,disabled:n,className:"h-8 w-8 p-0",children:[n?a.jsx(_n,{className:"h-4 w-4 animate-spin"}):a.jsx(wl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Refresh"})]})]}),a.jsxs(Fe,{children:[n?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(_n,{className:"h-8 w-8 animate-spin text-safebite-teal"})}):t.length>0?a.jsx("div",{className:"space-y-4",children:t.map((c,u)=>a.jsxs("div",{className:"border-b border-safebite-card-bg-alt pb-4 last:border-0 last:pb-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:c.title}),a.jsx(Se,{variant:"outline",className:"ml-2 flex-shrink-0",children:c.category})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1 mb-2",children:c.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("span",{className:"text-safebite-text-secondary",children:["Source: ",c.source]}),a.jsxs("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-safebite-teal hover:text-safebite-teal/80",children:["Read More ",a.jsx(Yr,{className:"h-3 w-3 ml-1"})]})]})]},u))}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No health news available at the moment."})}),i&&a.jsxs("div",{className:"text-xs text-safebite-text-secondary mt-4 text-right",children:["Last updated: ",i.toLocaleTimeString()]})]})]})},Zqe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(0),[i,s]=w.useState(!0),{isGuest:o}=Vn();w.useEffect(()=>{(async()=>{s(!0);try{const g=lt(Oe).currentUser;if(!g||o){const S=c();e(S);const N=S.filter(k=>k.unlocked).reduce((k,E)=>k+E.xp,0);r(N);return}const v=$t(Oe),y=Ve(v,"users",g.uid),b=await Mt(y);if(b.exists()){const N=b.data().achievements||[],E=l().map(C=>{const T=N.find(I=>I.id===C.id);return T?{...C,unlocked:T.unlocked||C.unlocked,progress:T.progress||C.progress,dateUnlocked:T.dateUnlocked?new Date(T.dateUnlocked):void 0}:C});e(E);const A=E.filter(C=>C.unlocked).reduce((C,T)=>C+T.xp,0);r(A)}else{const S=c();e(S);const N=S.filter(k=>k.unlocked).reduce((k,E)=>k+E.xp,0);r(N)}}catch(p){console.error("Error loading achievements:",p);const g=c();e(g);const v=g.filter(y=>y.unlocked).reduce((y,b)=>y+b.xp,0);r(v)}finally{s(!1)}})()},[o]);const l=()=>[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",icon:a.jsx(cd,{className:"h-6 w-6 text-green-500"}),unlocked:!0,progress:1,maxProgress:1,xp:10,category:"general",dateUnlocked:new Date},{id:"complete_profile",name:"Identity Established",description:"Complete your user profile",icon:a.jsx(Ra,{className:"h-6 w-6 text-blue-500"}),unlocked:!0,progress:1,maxProgress:1,xp:20,category:"general"},{id:"first_search",name:"Curious Mind",description:"Perform your first food search",icon:a.jsx(In,{className:"h-6 w-6 text-purple-500"}),unlocked:!0,progress:1,maxProgress:1,xp:15,category:"nutrition"},{id:"weekly_checkin",name:"Health Tracker",description:"Complete your first weekly health check-in",icon:a.jsx(z1,{className:"h-6 w-6 text-teal-500"}),unlocked:!1,progress:0,maxProgress:1,xp:25,category:"general"},{id:"search_streak",name:"Consistent Researcher",description:"Search for food items 5 days in a row",icon:a.jsx(Fr,{className:"h-6 w-6 text-yellow-500"}),unlocked:!1,progress:2,maxProgress:5,xp:30,category:"streak"},{id:"nutrition_expert",name:"Nutrition Expert",description:"View detailed nutrition information for 20 different foods",icon:a.jsx(gr,{className:"h-6 w-6 text-orange-500"}),unlocked:!1,progress:8,maxProgress:20,xp:40,category:"nutrition"},{id:"fitness_enthusiast",name:"Fitness Enthusiast",description:"Log exercise activity for 10 days",icon:a.jsx(L0,{className:"h-6 w-6 text-red-500"}),unlocked:!1,progress:3,maxProgress:10,xp:35,category:"fitness"},{id:"hydration_master",name:"Hydration Master",description:"Log drinking 8+ cups of water daily for a week",icon:a.jsx(v7,{className:"h-6 w-6 text-blue-400"}),unlocked:!1,progress:4,maxProgress:7,xp:30,category:"general"},{id:"sleep_champion",name:"Sleep Champion",description:"Log 7+ hours of sleep for 5 consecutive days",icon:a.jsx(dn,{className:"h-6 w-6 text-indigo-500"}),unlocked:!1,progress:2,maxProgress:5,xp:25,category:"general"},{id:"meal_planner",name:"Meal Planner",description:"Create your first meal plan",icon:a.jsx(Yc,{className:"h-6 w-6 text-green-600"}),unlocked:!1,progress:0,maxProgress:1,xp:20,category:"nutrition"}],c=()=>l().map((p,g)=>({...p,unlocked:g<3,progress:g<3?p.maxProgress:Math.floor(p.maxProgress*.3)})),u=h=>Math.floor(h/100)+1,f=h=>{const p=u(h),g=(p-1)*100,v=p*100;return(h-g)/(v-g)*100};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Ad,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Achievements & XP"]})}),a.jsxs(Fe,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kc,{className:"h-6 w-6 text-yellow-500 mr-2"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:["Level ",u(n)]})]}),a.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:[n," XP"]})]}),a.jsx(Hd,{value:f(n),className:"h-2"}),a.jsxs("p",{className:"text-xs text-safebite-text-secondary mt-1 text-right",children:[100-n%100," XP to Level ",u(n)+1]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:t.map(h=>a.jsxs("div",{className:`relative flex flex-col items-center justify-center p-3 rounded-lg border ${h.unlocked?"border-yellow-500/50 bg-yellow-500/10":"border-gray-700 bg-gray-800/30"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 ${h.unlocked?"bg-yellow-500/20":"bg-gray-800"}`,children:h.unlocked?h.icon:a.jsx(bl,{className:"h-5 w-5 text-gray-500"})}),a.jsx("h3",{className:`text-xs font-medium text-center mb-1 ${h.unlocked?"text-safebite-text":"text-gray-500"}`,children:h.name}),!h.unlocked&&h.progress>0&&a.jsxs("div",{className:"w-full mt-1",children:[a.jsx("div",{className:"h-1 w-full bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gray-500 rounded-full",style:{width:`${h.progress/h.maxProgress*100}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:[h.progress,"/",h.maxProgress]})]}),h.unlocked&&a.jsxs(Se,{variant:"outline",className:"text-[10px] mt-1 border-yellow-500/50 text-yellow-500",children:["+",h.xp," XP"]})]},h.id))})]})]})},eHe=()=>{var pe,ne,ae;const t=$n(),{isGuest:e}=Vn(),[n,r]=w.useState(!1),[i,s]=w.useState(""),{toast:o}=Tt(),l=lt(Oe),c=$t(Oe),u=l.currentUser,[f,h]=w.useState(null),[p,g]=w.useState(!0),v=w.useRef(null),[y,b]=w.useState([]),[S,N]=w.useState(""),[k,E]=w.useState([]),[A,C]=w.useState(!1),[T,I]=w.useState(!1),[P,M]=w.useState(!1),[L,D]=w.useState(!1),[R,V]=w.useState(!1),[q,H]=w.useState(!1),[Y,K]=w.useState(null);w.useEffect(()=>{console.log("Dashboard component - Guest mode status:",{isGuest:e,userType:localStorage.getItem("userType"),emergencyGuestMode:sessionStorage.getItem("safebite-guest-mode"),user:u?"Logged in":"Not logged in"})},[e,u]),w.useEffect(()=>{(async()=>{if(!e&&u)try{const ce=await Lc.getUserActivity(u.uid);b(ce)}catch(ce){console.error("Error loading user activity:",ce)}})()},[e,u]),w.useEffect(()=>{localStorage.getItem("safebite-first-visit")!=="false"&&!e&&(I(!0),localStorage.setItem("safebite-first-visit","false"));const ce=async()=>{if(!(e||!u))try{const le=bo(c,"notifications"),Ne=Ve(c,"users",u.uid),$e=await Mt(Ne);($e.exists()?$e.data():{}).foodDeliveryNotificationSent||(await rn(Ve(le),{userId:u.uid,title:"Food Delivery Now Live!",message:"Our food delivery integration is now live! Search and order from multiple platforms directly from SafeBite.",type:"success",category:"food",timestamp:new Date,read:!1,icon:"food",link:"/food-delivery"}),await rn(Ne,{foodDeliveryNotificationSent:!0},{merge:!0}),o({title:"Food Delivery Now Live!",description:"Check out our new food delivery integration!"}))}catch(le){console.error("Error adding food delivery notification:",le)}},ge=async()=>{var le;if(!(e||!u))try{const Ne=Ve(c,"users",u.uid),$e=await Mt(Ne);if($e.exists()){const ot=$e.data();if((le=ot.weeklyCheckin)!=null&&le.lastSubmitted){const Ae=ot.weeklyCheckin.lastSubmitted.toDate(),Ke=new Date,Nt=ht=>{const mt=new Date(ht.getFullYear(),0,1),It=(ht.getTime()-mt.getTime())/864e5;return Math.ceil((It+mt.getDay()+1)/7)},Ce=Nt(Ae),Je=Nt(Ke);(Ce!==Je||Ae.getFullYear()!==Ke.getFullYear())&&setTimeout(()=>{M(!0)},5e3)}else setTimeout(()=>{M(!0)},5e3)}}catch(Ne){console.error("Error checking weekly questions status:",Ne)}};ce(),ge()},[e,u,c,o]),w.useEffect(()=>{(async()=>{if(e){g(!1);return}try{if(!u){g(!1);return}const ce=Ve(c,"users",u.uid),ge=await Mt(ce);ge.exists()?h(ge.data()):console.log("No user profile found!");const le=await Lc.getRecentActivities(10);E(le)}catch(ce){console.error("Error loading user profile:",ce),N("Failed to load your profile data. Please try again later.")}finally{g(!1)}})()},[e,u,c]);const Z=()=>{var ie;if((ie=f==null?void 0:f.weeklyCheckin)!=null&&ie.answers){const ce=f.weeklyCheckin.answers;return[{name:"Sleep Quality",value:Math.min(100,(ce.sleep_hours||6)*12),icon:a.jsx(dn,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:Math.min(100,(ce.exercise_minutes||30)/3),icon:a.jsx(Kr,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:Math.min(100,(ce.fruit_vegetable_servings||2)*10+(ce.home_cooked_meals||3)*8-(ce.junk_food_consumption||2)*10),icon:a.jsx(dn,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:Math.max(0,100-(ce.stress_level||5)*10),icon:a.jsx(wl,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]}return[{name:"Sleep Quality",value:72,icon:a.jsx(dn,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:65,icon:a.jsx(Kr,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:78,icon:a.jsx(dn,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:60,icon:a.jsx(wl,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]},U=()=>{if(y&&Array.isArray(y)&&y.length>0){const ie=y.filter(ce=>ce.type==="food_search"||ce.type==="recipe_view").map(ce=>{var ge,le;return((ge=ce.details)==null?void 0:ge.foodName)||((le=ce.details)==null?void 0:le.recipeName)||""}).filter(Boolean);if(ie.length>0){const ce=[];return ie.some(ge=>ge.toLowerCase().includes("chicken")||ge.toLowerCase().includes("poultry"))&&ce.push({title:"Poultry Safety Alert",description:"Always cook chicken to an internal temperature of 165F (74C) to kill harmful bacteria.",severity:"medium"}),ie.some(ge=>ge.toLowerCase().includes("fish")||ge.toLowerCase().includes("seafood"))&&ce.push({title:"Seafood Storage",description:"Keep seafood refrigerated and consume within 1-2 days for optimal safety and freshness.",severity:"medium"}),ie.some(ge=>ge.toLowerCase().includes("rice"))&&ce.push({title:"Rice Storage Warning",description:"Refrigerate cooked rice within 1 hour to prevent Bacillus cereus bacteria growth.",severity:"high"}),ie.some(ge=>ge.toLowerCase().includes("egg"))&&ce.push({title:"Egg Safety",description:"Cook eggs until whites and yolks are firm to reduce risk of Salmonella infection.",severity:"medium"}),ce.length<2&&(ce.push({title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"}),ce.push({title:"Refrigeration Reminder",description:"Keep your refrigerator below 40F (4C) to slow bacterial growth in foods.",severity:"low"})),ce}}return[{title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"},{title:"Refrigeration Reminder",description:"Keep your refrigerator below 40F (4C) to slow bacterial growth in foods.",severity:"low"},{title:"Leftovers Safety",description:"Consume refrigerated leftovers within 3-4 days to ensure food safety.",severity:"medium"}]},W=()=>{C(!0)};if(w.useEffect(()=>{console.log("Dashboard - Detailed guest mode check:",{isGuest:e,userType:localStorage.getItem("userType"),guestMode:sessionStorage.getItem("safebite-guest-mode"),guestName:sessionStorage.getItem("guestUserName")||localStorage.getItem("guestUserName"),guestSessionExpires:localStorage.getItem("guestSessionExpires")})},[e]),e)return console.log("Rendering GuestDashboard component"),a.jsx(QVe,{});if(p)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-safebite-dark-blue",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text",children:"Loading your dashboard..."})]})});const Q=ie=>{switch(ie){case"Sleep Quality":return"bg-blue-500";case"Physical Activity":return"bg-green-500";case"Nutrition Balance":return"bg-amber-500";case"Stress Level":return"bg-purple-500";default:return"bg-safebite-teal"}},B=Z(),se=U(),ue=f==null?void 0:f.healthCheckData;return a.jsxs("div",{className:"relative",style:{zIndex:1},children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-20 text-xs font-medium",children:[a.jsx(Rn,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v3.0 - Production Ready"}),a.jsx(Rn,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx(Gqe,{isOpen:L,onClose:()=>D(!1)}),R&&a.jsx("div",{className:"fixed bottom-20 right-6 z-40",children:a.jsx(Wqe,{onClose:()=>V(!1),isExpanded:q,onToggleExpand:()=>H(!q)})}),T&&a.jsx(cZ,{onComplete:()=>I(!1),userName:(f==null?void 0:f.displayName)||(u==null?void 0:u.displayName)||(f==null?void 0:f.name)||((pe=u==null?void 0:u.email)==null?void 0:pe.split("@")[0])||"there"}),a.jsx(Xqe,{isOpen:P,onClose:()=>M(!1),onComplete:()=>{if(u){const ie=Ve(c,"users",u.uid);Mt(ie).then(ce=>{ce.exists()&&(h(ce.data()),o({title:"Dashboard Updated",description:"Your dashboard has been updated with your latest check-in data."}))})}}}),a.jsx(Ha,{userProfile:f,onProfileClick:W,onNotificationsClick:()=>D(!0),onChatClick:()=>V(!0),isLoadingProfile:p}),a.jsx(KX,{isOpen:A,onClose:()=>C(!1),userProfile:f}),a.jsx("div",{ref:v,style:{zIndex:100},children:a.jsx(av,{currentPage:"dashboard",userData:{profile:f,recentActivity:y},autoOpen:!1,initialMessage:"Welcome back! How can I help with your health goals today?"})}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8 pb-16",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-5 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:["Welcome back, ",e?localStorage.getItem("guestUserName")||sessionStorage.getItem("guestUserName")||"Guest":(f==null?void 0:f.displayName)||(u==null?void 0:u.displayName)||(f==null?void 0:f.name)||((ne=u==null?void 0:u.email)==null?void 0:ne.split("@")[0])||"Friend"]})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(uu,{className:"h-5 w-5 mr-2.5 text-safebite-teal/70"}),"Your dashboard is ready. Check out your health insights and recommendations."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2.5 sm:justify-end",children:[a.jsx(lZ,{currentPage:"dashboard"}),a.jsxs(ee,{variant:"outline",className:"border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text h-10",onClick:W,children:[a.jsx(Ra,{className:"mr-2 h-4 w-4 text-safebite-teal"}),"Profile"]}),a.jsxs(ee,{variant:"outline",className:"border-purple-400/30 hover:border-purple-400/60 text-safebite-text h-10",onClick:()=>M(!0),children:[a.jsx(z1,{className:"mr-2 h-4 w-4 text-purple-400"}),"Weekly Check-in"]}),a.jsxs(ee,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600 transition-all duration-300 h-10",onClick:()=>t("/food-delivery"),children:[a.jsx(Cx,{className:"mr-2 h-4 w-4"})," Food Delivery",a.jsx("span",{className:"ml-2 text-xs bg-white/20 px-1.5 py-0.5 rounded-full",children:"Live"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:B.map((ie,ce)=>a.jsx(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 h-full",children:a.jsxs(Fe,{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:ie.name}),ie.icon]}),a.jsxs("div",{className:"space-y-2 mt-auto w-full",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Score"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:[ie.value,"%"]})]}),a.jsx("div",{className:"w-full h-2.5 bg-safebite-card-bg rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${Q(ie.name)}`,style:{width:`${ie.value}%`}})})]})]})},ce))}),a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-8",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Wt,{className:"mr-2.5 h-5 w-5 text-amber-500"})," Food Safety Insights"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-4",children:"Potential issues based on profile & activity:"}),se.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:se.map((ie,ce)=>a.jsx("div",{className:"p-4 bg-safebite-card-bg-alt rounded-lg border border-safebite-card-bg-alt hover:border-safebite-teal/30 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`rounded-full p-1.5 mr-3 flex-shrink-0 ${ie.severity==="high"?"bg-red-500/20 text-red-500":ie.severity==="medium"?"bg-amber-500/20 text-amber-500":"bg-blue-500/20 text-blue-500"}`,children:a.jsx(Wt,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1.5",children:ie.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary leading-relaxed",children:ie.description})]})]})},ce))}):a.jsx("p",{className:"text-safebite-text-secondary text-sm text-center py-4",children:"No food safety issues detected based on your recent activity."})]})]}),ue&&a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-lg font-semibold text-safebite-text",children:"Recent Health Check"})}),a.jsxs(Fe,{children:[a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Food Query: ",a.jsx("span",{className:"text-safebite-text",children:ue.foodQuery||"N/A"})]}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Processed Food Frequency: ",a.jsx("span",{className:"text-safebite-text",children:ue.processedFoodFrequency||"N/A"})]}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Diet Quality: ",a.jsx("span",{className:"text-safebite-text",children:ue.dietQuality||"N/A"})]})]})]}),((ae=f==null?void 0:f.weeklyCheckin)==null?void 0:ae.answers)&&a.jsx("div",{className:"mb-6",children:a.jsx(Qqe,{weeklyData:f.weeklyCheckin})}),!e&&a.jsx("div",{className:"mb-6",children:Y?a.jsx(mH,{userProfile:f,errorMessage:Y,onRetry:()=>K(null)}):a.jsx(H2,{fallback:a.jsx(mH,{userProfile:f,errorMessage:"Could not load health data charts. Please try again later.",onRetry:()=>K(null)}),onError:ie=>{console.error("Health data charts error:",ie),K("Could not load health data charts. Please try again later.")},children:a.jsx(yre,{userId:(u==null?void 0:u.uid)||"default-user",initialTab:"weight"})})}),a.jsx("div",{className:"mb-6",children:a.jsx(Jqe,{})}),a.jsx("div",{className:"mb-6",children:a.jsx(Zqe,{})}),!e&&k&&Array.isArray(k)&&k.length>0&&a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(j7,{className:"mr-2 h-5 w-5 text-safebite-teal"})," Recent Activity"]})}),a.jsx(Fe,{children:a.jsx("ul",{className:"space-y-3",children:k.map(ie=>a.jsxs("li",{className:"flex items-center justify-between p-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[tHe(ie.type),a.jsx("span",{className:"text-sm text-safebite-text ml-3",children:nHe(ie)})]}),a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:ie.timestamp instanceof Date?new Date(ie.timestamp.getTime()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(ie.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ie.timestamp.toString()))})})]}),!e&&(!k||!Array.isArray(k)||k.length===0)&&!p&&a.jsx(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 mb-6",children:a.jsx(Fe,{className:"p-4 text-center text-safebite-text-secondary text-sm",children:"No recent activity recorded yet. Start exploring SafeBite!"})})]})]}),a.jsx(tp,{})]})},tHe=t=>{switch(t){case"food_search":return a.jsx(In,{size:18,className:"text-blue-400 flex-shrink-0"});case"recipe_view":return a.jsx(tf,{size:18,className:"text-orange-400 flex-shrink-0"});case"product_view":return a.jsx(du,{size:18,className:"text-green-400 flex-shrink-0"});case"health_check":return a.jsx(Vc,{size:18,className:"text-red-400 flex-shrink-0"});case"login":return a.jsx(uu,{size:18,className:"text-purple-400 flex-shrink-0"});default:return a.jsx(Kr,{size:18,className:"text-gray-400 flex-shrink-0"})}},nHe=t=>{var e,n,r;switch(t.type){case"food_search":return`Searched for: ${((e=t.details)==null?void 0:e.query)||"food"}`;case"recipe_view":return`Viewed recipe: ${((n=t.details)==null?void 0:n.recipeName)||"a recipe"}`;case"product_view":return`Viewed product: ${((r=t.details)==null?void 0:r.productName)||"a product"}`;case"health_check":return"Completed Health Check";case"login":return"Logged in";default:return`Performed action: ${t.type}`}},rHe=()=>{const[t,e]=w.useState("chat"),[n,r]=w.useState([]),[i,s]=w.useState(""),[o,l]=w.useState([]),[c,u]=w.useState(!1),f=w.useRef(null),{toast:h}=Tt(),{isGuest:p}=Vn(),g=lt(Oe),v=$t(Oe),y=g.currentUser;w.useEffect(()=>{let C;return(async()=>{const I=bo(v,"community","general","messages"),P=ky(I,Ay("timestamp","asc"),gw(50));C=WX(P,M=>{const L=M.docs.map(D=>{var V;const R=D.data();return{id:D.id,username:R.username||"Anonymous",avatar:R.avatar||"",text:R.text||"",timestamp:((V=R.timestamp)==null?void 0:V.toDate())||new Date,isCurrentUser:y?R.userId===y.uid:!1,linkedProduct:R.linkedProduct}});r(L)})})(),()=>{C&&C()}},[v,y]),w.useEffect(()=>{var C;(C=f.current)==null||C.scrollIntoView({behavior:"smooth"})},[n]);const b=async()=>{if(!i.trim())return;if(p||!y){h({title:"Login Required",description:"Please log in or sign up to send messages in the community chat.",variant:"default"});return}const C={userId:y.uid,username:y.displayName||y.email||"Anonymous",text:i,timestamp:md(),avatar:y.photoURL||""};try{const T=bo(v,"community","general","messages");await P0(T,C),s("")}catch(T){h({title:"Error sending message",description:T.message,variant:"destructive"}),console.error("Error sending message to Firestore: ",T)}},S=C=>{l(T=>T.map(I=>I.id===C?{...I,likes:I.likes+1}:I)),h({title:"Post liked",description:"Your engagement helps the community!"})},N=C=>{h({title:"Share link copied!",description:"You can now paste the link to share this post."})},k=()=>{u(!c),h({title:c?"Unsubscribed from notifications":"Subscribed to notifications",description:c?"You'll no longer receive community updates":"You'll receive notifications for new posts and replies"})},E=C=>C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),A=C=>C.toLocaleDateString("en-US",{month:"short",day:"numeric"});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(Ha,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Live Community Chat Beta"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect with other users, share food discoveries, and get advice"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(ee,{variant:c?"default":"outline",className:c?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"sci-fi-button",onClick:k,children:[a.jsx(Ia,{className:"mr-2 h-4 w-4"}),c?"Subscribed":"Subscribe to Updates"]})})]}),a.jsxs(pi,{defaultValue:"chat",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(Qr,{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ft,{value:"chat",className:t==="chat"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(kd,{className:"mr-2 h-4 w-4"}),"Live Chat"]}),a.jsxs(ft,{value:"forum",className:t==="forum"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Na,{className:"mr-2 h-4 w-4"}),"Forum Discussions"]})]})}),a.jsx(St,{value:"chat",className:"mt-0",children:a.jsxs(Ee,{className:"sci-fi-card min-h-[600px] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(kd,{className:"mr-2 h-5 w-5"}),"Live Community Chat Beta",a.jsxs(Se,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[n.length," messages"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[n.map(C=>a.jsx("div",{className:`flex ${C.isCurrentUser?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] ${C.isCurrentUser?"bg-safebite-teal text-safebite-dark-blue rounded-tl-lg rounded-tr-none":"bg-safebite-card-bg-alt text-safebite-text rounded-tr-lg rounded-tl-none"} rounded-bl-lg rounded-br-lg p-3`,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(A1,{className:"h-6 w-6 mr-2",children:a.jsx(C1,{className:C.isCurrentUser?"bg-safebite-dark-blue text-safebite-teal":"",children:C.username.charAt(0)})}),a.jsx("span",{className:"font-medium text-sm",children:C.username}),a.jsx("span",{className:"text-xs ml-2 opacity-70",children:E(C.timestamp)})]}),a.jsx("p",{children:C.text}),C.linkedProduct&&a.jsxs("div",{className:"mt-2 p-2 bg-safebite-card-bg rounded-md flex items-center",children:[a.jsx("img",{src:C.linkedProduct.image,alt:C.linkedProduct.name,className:"h-10 w-10 rounded-md object-cover mr-2"}),a.jsx("span",{className:"text-sm",children:C.linkedProduct.name})]})]})},C.id)),a.jsx("div",{ref:f})]})}),a.jsx("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(bt,{placeholder:"Type your message...",className:"sci-fi-input",value:i,onChange:C=>s(C.target.value),onKeyPress:C=>C.key==="Enter"&&b()}),a.jsx(ee,{onClick:b,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:a.jsx(YI,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",children:a.jsx(go,{className:"h-4 w-4"})})]})})]})}),a.jsx(St,{value:"forum",className:"mt-0",children:a.jsx("div",{className:"grid gap-6",children:o.map(C=>a.jsx(Ee,{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(A1,{className:"h-10 w-10 mr-3",children:a.jsx(C1,{children:C.username.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-safebite-text",children:C.username}),a.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Posted on ",A(C.timestamp)]})]})]}),C.username==="DietSpecialist"&&a.jsxs(Se,{className:"bg-safebite-purple",children:[a.jsx(Kc,{className:"h-3 w-3 mr-1"})," Expert"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:C.title}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:C.content}),C.linkedProduct&&a.jsxs("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md flex items-center",children:[a.jsx("img",{src:C.linkedProduct.image,alt:C.linkedProduct.name,className:"h-12 w-12 rounded-md object-cover mr-3"}),a.jsx("span",{children:C.linkedProduct.name})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>S(C.id),children:[a.jsx(T7,{className:"h-4 w-4 mr-1"}),C.likes]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(kd,{className:"h-4 w-4 mr-1"}),C.replies," Replies"]})]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>N(C.id),children:[a.jsx($0,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})},C.id))})})]}),a.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})},A2=({data:t,title:e,dataKey:n="value",color:r="#00ffcc",height:i=300})=>a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:e}),a.jsx("div",{style:{width:"100%",height:i},children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(YVe,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`color${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:r,stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:r,stopOpacity:0})]})}),a.jsx(Id,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),a.jsx(Ea,{dataKey:"date",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(Ta,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(Dr,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),a.jsx(_u,{type:"monotone",dataKey:n,stroke:r,fillOpacity:1,fill:`url(#color${n})`})]})})})]}),Qie=[{id:"food_explorer",name:"Food Explorer",description:"Scan 10 different food products",icon:"",level:"bronze",achieved:!1,progress:2,progressMax:10},{id:"water_tracker",name:"Hydration Hero",description:"Track your water intake for 7 consecutive days",icon:"",level:"silver",achieved:!1,progress:3,progressMax:7},{id:"recipe_master",name:"Recipe Master",description:"Save and try 5 healthy recipes",icon:"",level:"gold",achieved:!1,progress:1,progressMax:5},{id:"community_helper",name:"Community Guide",description:"Help 3 users by answering their questions in the community",icon:"",level:"bronze",achieved:!1,progress:0,progressMax:3},{id:"health_analyst",name:"Health Analyst",description:"Complete all health calculators in the HealthBox",icon:"",level:"silver",achieved:!0}],Jie=[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",completed:!0,date:new Date(Date.now()-864e5*3),reward:{points:100}},{id:"complete_profile",name:"Getting to Know You",description:"Complete your user profile with all health data",completed:!0,date:new Date(Date.now()-864e5*2),reward:{points:150}},{id:"first_scan",name:"Food Detective",description:"Scan your first food product",completed:!0,date:new Date(Date.now()-864e5),reward:{points:50,badges:[{id:"first_scan_badge",name:"Scanner Novice",description:"First food product scanned",icon:"",level:"bronze",achieved:!0}]}},{id:"first_week",name:"One Week Strong",description:"Use SafeBite for 7 consecutive days",completed:!1,reward:{points:200}},{id:"health_guru",name:"Health Guru",description:"Achieve all health goals for one week",completed:!1,reward:{points:500,badges:[{id:"health_guru_badge",name:"Health Master",description:"Achieved all health goals for a week",icon:"",level:"gold",achieved:!1}]}}];Qie.filter(t=>t.achieved),Jie.filter(t=>t.completed);const iHe=()=>Qie,sHe=()=>Jie,aHe=()=>{const[t,e]=w.useState("healthReport"),[n,r]=w.useState(null),[i,s]=w.useState(!0),[o,l]=w.useState(""),[c,u]=w.useState(null),{toast:f}=Tt(),{isGuest:h}=Vn(),p=lt(Oe),g=$t(Oe),v=iHe(),y=sHe();w.useEffect(()=>{(async()=>{if(h){s(!1);return}try{const q=p.currentUser;if(!q){s(!1);return}const H=Ve(g,"users",q.uid),Y=await Mt(H);if(Y.exists()){const K=Y.data();u(K),console.log("User profile loaded for reports:",K)}else console.log("No user profile found!")}catch(q){console.error("Error fetching user profile:",q),l(q.message)}finally{s(!1)}})()},[h,p,g]);const b=()=>{var V,q,H;if((V=c==null?void 0:c.weeklyCheckin)!=null&&V.answers){const Y=c.weeklyCheckin.answers,K=((q=c.profile)==null?void 0:q.health_goals)==="Weight Loss"?1600:((H=c.profile)==null?void 0:H.health_goals)==="Muscle Gain"?2200:1800,Z=Y.exercise>300?1.2:Y.exercise>150?1.1:1,U=Y.home_cooked>15?.9:Y.home_cooked>10?.95:1,W=Y.junk_food>10?1.2:Y.junk_food>5?1.1:1,Q=K*Z*U*W;return{calorieData:[{date:"Mon",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Tue",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Wed",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Thu",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Fri",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Sat",value:Math.round(Q*(.9+Math.random()*.2))},{date:"Sun",value:Math.round(Q*(.9+Math.random()*.2))}],waterData:[{date:"Mon",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.8)):6},{date:"Tue",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):5},{date:"Wed",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.1)):8},{date:"Thu",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1)):7},{date:"Fri",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.7)):4},{date:"Sat",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.2)):9},{date:"Sun",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):6}],nutrientData:[{date:"Mon",value:Y.junk_food>5?70:85},{date:"Tue",value:Y.junk_food>5?65:78},{date:"Wed",value:Y.junk_food>5?75:92},{date:"Thu",value:Y.junk_food>5?68:76},{date:"Fri",value:Y.junk_food>5?72:82},{date:"Sat",value:Y.junk_food>5?74:89},{date:"Sun",value:Y.junk_food>5?71:86}]}}return{calorieData:[{date:"Mon",value:1800},{date:"Tue",value:1600},{date:"Wed",value:2100},{date:"Thu",value:1500},{date:"Fri",value:1900},{date:"Sat",value:2200},{date:"Sun",value:1700}],waterData:[{date:"Mon",value:6},{date:"Tue",value:5},{date:"Wed",value:8},{date:"Thu",value:7},{date:"Fri",value:4},{date:"Sat",value:9},{date:"Sun",value:6}],nutrientData:[{date:"Mon",value:85},{date:"Tue",value:78},{date:"Wed",value:92},{date:"Thu",value:76},{date:"Fri",value:82},{date:"Sat",value:89},{date:"Sun",value:86}]}},{calorieData:S,waterData:N,nutrientData:k}=b(),A=(()=>{var V;if(c!=null&&c.profile){const q=c.profile,H=(V=c.weeklyCheckin)==null?void 0:V.answers;let Y=q.health_goals==="Weight Loss"?1600:q.health_goals==="Muscle Gain"?2200:1800,K=q.health_goals==="Muscle Gain"?120:q.health_goals==="Weight Loss"?100:80,Z=q.health_goals==="Weight Loss"?150:q.health_goals==="Muscle Gain"?250:200,U=q.health_goals==="Weight Loss"?50:q.health_goals==="Muscle Gain"?70:60;H&&(H.exercise>300?Y+=200:H.exercise>150&&(Y+=100),H.exercise>300?K+=20:H.exercise>150&&(K+=10));const W=Math.round(Y*.9),Q=H!=null&&H.water_intake?(H.water_intake*.25).toFixed(1):"6.5",B=Math.round(K*.9),se=Math.round(Z*.92),ue=Math.round(U*.97),pe=(H==null?void 0:H.junk_food)>5?32:22,ne=H!=null&&H.exercise?Math.round(H.exercise/7):35;return[{name:"Daily Calories",value:W.toLocaleString(),target:Y.toLocaleString(),unit:"kcal",progress:Math.round(W/Y*100)},{name:"Water Intake",value:Q,target:"8",unit:"cups",progress:Math.round(parseFloat(Q)/8*100)},{name:"Protein",value:B.toString(),target:K.toString(),unit:"g",progress:Math.round(B/K*100)},{name:"Carbs",value:se.toString(),target:Z.toString(),unit:"g",progress:Math.round(se/Z*100)},{name:"Fat",value:ue.toString(),target:U.toString(),unit:"g",progress:Math.round(ue/U*100)},{name:"Sugar",value:pe.toString(),target:"25",unit:"g",progress:Math.round(pe/25*100)},{name:"Exercise",value:ne.toString(),target:"30",unit:"min",progress:Math.round(ne/30*100)}]}return[{name:"Daily Calories",value:"1,750",target:"2,000",unit:"kcal",progress:87},{name:"Water Intake",value:"6.5",target:"8",unit:"cups",progress:81},{name:"Protein",value:"72",target:"80",unit:"g",progress:90},{name:"Carbs",value:"230",target:"250",unit:"g",progress:92},{name:"Fat",value:"58",target:"60",unit:"g",progress:97},{name:"Sugar",value:"32",target:"25",unit:"g",progress:128},{name:"Exercise",value:"35",target:"30",unit:"min",progress:117}]})(),T=(()=>{var q,H,Y,K,Z,U,W,Q;const V=[{name:"High Sodium Foods",count:((q=c==null?void 0:c.profile)==null?void 0:q.health_conditions)==="Hypertension"?7:4,recommendation:"Try to reduce your sodium intake by choosing low-sodium alternatives."},{name:"Artificial Additives",count:((Y=(H=c==null?void 0:c.weeklyCheckin)==null?void 0:H.answers)==null?void 0:Y.junk_food)>5?10:7,recommendation:"Consider choosing more natural food options with fewer additives."},{name:"Added Sugar",count:((K=c==null?void 0:c.profile)==null?void 0:K.health_conditions)==="Diabetes"?8:5,recommendation:"Look for sugar-free or reduced sugar alternatives."}];return((Z=c==null?void 0:c.profile)==null?void 0:Z.health_conditions)==="Diabetes"&&V.push({name:"High Glycemic Index Foods",count:6,recommendation:"Choose low glycemic index foods to help manage blood sugar levels."}),((U=c==null?void 0:c.profile)==null?void 0:U.health_conditions)==="Heart Issues"&&V.push({name:"Trans Fats",count:3,recommendation:"Avoid foods with trans fats as they can increase risk of heart disease."}),(((W=c==null?void 0:c.profile)==null?void 0:W.dietary_preferences)==="Vegan"||((Q=c==null?void 0:c.profile)==null?void 0:Q.dietary_preferences)==="Vegetarian")&&V.push({name:"Hidden Animal Products",count:2,recommendation:"Watch for hidden animal-derived ingredients in processed foods."}),V})(),I=()=>{f({title:"Report Downloaded",description:"Your health report has been downloaded successfully."})},P=V=>{r(n===V?null:V)},M=(V,q)=>{f({title:"Shared successfully",description:`Your achievement has been shared to ${V}.`}),r(null)},L=b().calorieData,D=b().waterData,R=b().nutrientData;return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(Ha,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i&&a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(_n,{className:"h-8 w-8 text-safebite-teal animate-spin"}),a.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading your reports..."})]}),!i&&o&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(kl,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Error Loading Reports"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:o}),a.jsx(ee,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Try Again"})]}),!i&&!o&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Reports & Achievements"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your health progress and earn badges for healthy habits"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(ee,{onClick:I,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(x7,{className:"mr-2 h-4 w-4"}),"Download Report"]})})]}),a.jsxs(pi,{defaultValue:"healthReport",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(Qr,{className:"grid grid-cols-3 gap-2",children:[a.jsxs(ft,{value:"healthReport",className:t==="healthReport"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Health Report"]}),a.jsxs(ft,{value:"badges",className:t==="badges"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Badges"]}),a.jsxs(ft,{value:"achievements",className:t==="achievements"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Ad,{className:"mr-2 h-4 w-4"}),"Achievements"]})]})}),a.jsxs(St,{value:"healthReport",className:"mt-0",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(dn,{className:"mr-2 h-5 w-5"}),"Weekly Overview"]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Health Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Your weekly health rating"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-3xl font-bold text-safebite-teal",children:"78"}),a.jsxs("div",{className:"ml-2 text-green-400 flex items-center text-sm",children:[a.jsx($oe,{className:"h-4 w-4 mr-1"}),"+12%"]})]})]}),a.jsx("div",{className:"space-y-4",children:A.map(V=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-safebite-text",children:V.name}),a.jsxs("span",{className:"text-safebite-text-secondary",children:[V.value," / ",V.target," ",V.unit]})]}),a.jsx(Hd,{value:V.progress,className:`h-2 ${V.progress>100?V.name==="Exercise"?"bg-green-600":"bg-amber-600":""}`})]},V.name))})]})]}),a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Food Safety Analysis"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Safety Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Based on scanned products"})]}),a.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center text-safebite-dark-blue text-2xl font-bold",children:"6.5"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"Food safety issues found in your scanned products this week:"}),T.map((V,q)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:V.name}),a.jsxs(Se,{className:"bg-amber-500 text-safebite-dark-blue",children:[V.count," items"]})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:V.recommendation})]},q))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(A2,{title:"Calorie Intake",data:L,color:"#00ffcc"}),a.jsx(A2,{title:"Water Intake (cups)",data:D,color:"#3b82f6"}),a.jsx(A2,{title:"Nutrient Score",data:R,color:"#a855f7"})]})]}),a.jsx(St,{value:"badges",className:"mt-0",children:a.jsx(Ee,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Kc,{className:"mr-2 h-5 w-5"}),"Your Badges"]})}),a.jsx("div",{className:"p-6",children:i?a.jsx("div",{className:"flex justify-center",children:a.jsx(_n,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading badges. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:v&&v.map((V,q)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"mb-2 text-sm text-safebite-text-secondary",children:V.category}),a.jsx(Se,{className:"mb-2 bg-amber-500 text-safebite-dark-blue",children:"Badge"}),a.jsx(mr,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:V.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:V.description}),a.jsx(ee,{onClick:()=>P("badge-"+q),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),n==="badge-"+q&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(ee,{onClick:()=>M("facebook"),variant:"ghost",size:"icon",children:a.jsx(_L,{className:"h-5 w-5"})}),a.jsx(ee,{onClick:()=>M("twitter"),variant:"ghost",size:"icon",children:a.jsx(M2,{className:"h-5 w-5"})}),a.jsx(ee,{onClick:()=>M("instagram"),variant:"ghost",size:"icon",children:a.jsx($0,{className:"h-5 w-5"})})]})]},q))})})]})})}),a.jsx(St,{value:"achievements",className:"mt-0",children:a.jsx(Ee,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Ad,{className:"mr-2 h-5 w-5"}),"Achievements"]})}),a.jsx("div",{className:"p-6",children:i?a.jsx("div",{className:"flex justify-center",children:a.jsx(_n,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading achievements. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:y&&y.map((V,q)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx(Ad,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:V.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:V.description}),a.jsxs("p",{className:"text-safebite-text-secondary text-center mb-2",children:["Progress: ",V.progress,"%"]}),a.jsx(Hd,{value:V.progress,className:"w-full mb-2"}),a.jsx(ee,{onClick:()=>P("achievement-"+q),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),n==="achievement-"+q&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(ee,{onClick:()=>M("facebook"),variant:"ghost",size:"icon",children:a.jsx(_L,{className:"h-5 w-5"})}),a.jsx(ee,{onClick:()=>M("twitter"),variant:"ghost",size:"icon",children:a.jsx(M2,{className:"h-5 w-5"})}),a.jsx(ee,{onClick:()=>M("instagram"),variant:"ghost",size:"icon",children:a.jsx($0,{className:"h-5 w-5"})})]})]},q))})})]})})})]})]})})]})},MS="https://safebite-backend.onrender.com/api";console.log("Using API URL:",MS);const oHe=15e3,Zie=t=>{let e=t.nutritionScore||"yellow";return t.nutritionScore||(t.nutrients.protein>15&&(t.nutrients.fiber||0)>3&&(t.nutrients.sugar||0)<10?e="green":(t.nutrients.fat>20||(t.nutrients.sugar||0)>15)&&(e="red")),{id:`mongodb-${t._id}`,name:t.name,brand:t.brand,calories:t.calories,nutritionScore:e,image:t.image||`https://source.unsplash.com/random/100x100/?${encodeURIComponent(t.name)}`,nutrients:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,fiber:t.nutrients.fiber,sugar:t.nutrients.sugar},details:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,sodium:t.nutrients.sodium||0,sugar:t.nutrients.sugar||0,calories:t.calories,ingredients:t.ingredients||[],allergens:t.allergens||[],additives:t.additives||[]},source:"MongoDB"}},yH=async t=>{const e=await Promise.allSettled([lHe(t),cHe(t)]);for(const n of e)if(n.status==="fulfilled"&&n.value.length>0)return n.value;return console.warn("All MongoDB search methods failed or returned no results"),[]},lHe=async t=>{try{const e=`${MS}/products/search?query=${encodeURIComponent(t)}`;console.log("Searching MongoDB via API:",e);const n=new AbortController,r=setTimeout(()=>n.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:n.signal});if(console.log("API response status:",i.status),clearTimeout(r),!i.ok)throw console.warn(`API error: ${i.status} - ${i.statusText}`),new Error(`API error: ${i.status} - ${i.statusText}`);const s=await i.json();return console.log(`Found ${s.length} products from MongoDB via API`),Array.isArray(s)?s.map(o=>Zie(o)):(console.warn("API did not return an array:",s),[])}catch(e){return console.error("Error searching MongoDB via API:",e),[]}},cHe=async t=>{try{console.log("Trying direct Render backend...");const e=`https://safebite-backend.onrender.com/api/products/search?query=${encodeURIComponent(t)}`,n=new AbortController,r=setTimeout(()=>n.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:n.signal});if(clearTimeout(r),!i.ok)throw new Error(`Render API error: ${i.status}`);const s=await i.json();return console.log(`Found ${s.length} products from MongoDB via Render backend`),Array.isArray(s)?s.map(o=>Zie(o)):(console.warn("Render API did not return an array:",s),[])}catch(e){return console.error("Render backend search failed:",e),[]}},uHe=async()=>{try{const t=new AbortController,e=setTimeout(()=>t.abort(),5e3),n=await fetch(`${MS}/status`,{signal:t.signal});return clearTimeout(e),n.ok}catch(t){return console.error("API status check failed:",t),!1}},ese=async(t,e={},n=oHe)=>{const r=new AbortController,{signal:i}=r,s=setTimeout(()=>{r.abort()},n);try{const o=t.startsWith("http")?t:`${MS}${t.startsWith("/")?t:`/${t}`}`;console.log(`Fetching from: ${o} (timeout: ${n}ms)`);const l=await fetch(o,{...e,signal:i,headers:{"Content-Type":"application/json",Accept:"application/json",Origin:window.location.origin,...e.headers},mode:"cors",credentials:"omit"});if(clearTimeout(s),!l.ok)throw new Error(`API error: ${l.status} - ${l.statusText}`);return await l.json()}catch(o){throw clearTimeout(s),o.name==="AbortError"?new Error(`Request timed out after ${n}ms. The server might be down or experiencing high load.`):o}},dHe=(t,e,n)=>{const r=(i,s)=>{const o=i.charAt(0).toUpperCase()+i.slice(1).toLowerCase(),l={apple:[`Organic ${o}s`,`${o} Juice`,`Dried ${o} Slices`,`${o} Cider`,`Green ${o}s`],banana:[`Organic ${o}s`,`${o} Chips`,`Frozen ${o}s`,`${o} Bread`,`Ripe ${o}s`],milk:[`Organic Whole ${o}`,`Skimmed ${o}`,`Almond ${o}`,`Soy ${o}`,`Oat ${o}`],bread:[`Whole Wheat ${o}`,`Multigrain ${o}`,`Sourdough ${o}`,`Gluten-Free ${o}`,`Rye ${o}`],rice:[`Basmati ${o}`,`Brown ${o}`,`Jasmine ${o}`,`Wild ${o}`,`Organic ${o}`],chicken:[`Free-Range ${o}`,`${o} Breast`,`${o} Thighs`,`Organic ${o}`,`${o} Drumsticks`],pasta:[`Whole Wheat ${o}`,`Gluten-Free ${o}`,`Spinach ${o}`,`Organic ${o}`,`Tricolor ${o}`],cheese:[`Cheddar ${o}`,`Mozzarella ${o}`,`Gouda ${o}`,`Feta ${o}`,`Parmesan ${o}`],yogurt:[`Greek ${o}`,`Low-Fat ${o}`,`Fruit ${o}`,`Organic ${o}`,`Probiotic ${o}`],chocolate:[`Dark ${o}`,`Milk ${o}`,`White ${o}`,`Organic ${o}`,`${o} Truffles`],coffee:[`Arabica ${o} Beans`,`${o} Pods`,`Instant ${o}`,`Decaf ${o}`,`Organic ${o}`],tea:[`Green ${o}`,`Black ${o}`,`Herbal ${o}`,`Organic ${o}`,`${o} Bags`],water:[`Spring ${o}`,`Mineral ${o}`,`Sparkling ${o}`,`Alkaline ${o}`,`Purified ${o}`],juice:[`Orange ${o}`,`Apple ${o}`,`Mixed Fruit ${o}`,`Fresh ${o}`,`Organic ${o}`],cereal:[`Whole Grain ${o}`,`Granola ${o}`,`Bran ${o}`,`Organic ${o}`,`Gluten-Free ${o}`],snack:[`Protein ${o}s`,`Organic ${o}s`,`Gluten-Free ${o}s`,`Vegan ${o}s`,`Low-Carb ${o}s`],fruit:[`Organic ${o}s`,`Fresh ${o}s`,`Frozen ${o}s`,`Dried ${o}s`,`Exotic ${o}s`],vegetable:[`Organic ${o}s`,`Fresh ${o}s`,`Frozen ${o}s`,`Local ${o}s`,`Seasonal ${o}s`],meat:[`Grass-Fed ${o}`,`Organic ${o}`,`Free-Range ${o}`,`Lean ${o}`,`Premium ${o}`],fish:[`Wild-Caught ${o}`,`Fresh ${o}`,`Frozen ${o} Fillets`,`Organic ${o}`,`Smoked ${o}`],oil:[`Extra Virgin Olive ${o}`,`Coconut ${o}`,`Avocado ${o}`,`Organic ${o}`,`Sesame ${o}`],spice:[`Organic ${o}s`,`Ground ${o}s`,`Whole ${o}s`,`Mixed ${o}s`,`Premium ${o}s`],nuts:[`Roasted ${o}`,`Raw ${o}`,`Organic ${o}`,`Mixed ${o}`,`Salted ${o}`],beans:[`Black ${o}`,`Kidney ${o}`,`Pinto ${o}`,`Organic ${o}`,`Canned ${o}`],soup:[`Tomato ${o}`,`Chicken ${o}`,`Vegetable ${o}`,`Organic ${o}`,`Creamy ${o}`],sauce:[`Tomato ${o}`,`Pasta ${o}`,`Hot ${o}`,`Organic ${o}`,`Creamy ${o}`],dessert:[`Chocolate ${o}`,`Fruit ${o}`,`Ice Cream ${o}`,`Organic ${o}`,`Low-Sugar ${o}`]};for(const u in l)if(i.toLowerCase().includes(u))return l[u];const c={Fruits:[`Organic ${o}`,`Fresh ${o}`,`Premium ${o}`,`Seasonal ${o}`,`Exotic ${o}`],Vegetables:[`Organic ${o}`,`Fresh ${o}`,`Local ${o}`,`Seasonal ${o}`,`Farm-Fresh ${o}`],Dairy:[`Organic ${o}`,`Low-Fat ${o}`,`Premium ${o}`,`Artisanal ${o}`,`Plant-Based ${o}`],Bakery:[`Whole Grain ${o}`,`Artisanal ${o}`,`Gluten-Free ${o}`,`Fresh-Baked ${o}`,`Organic ${o}`],Snacks:[`Protein ${o}`,`Organic ${o}`,`Low-Carb ${o}`,`Gluten-Free ${o}`,`Vegan ${o}`],default:[`Organic ${o}`,`Premium ${o}`,`Natural ${o}`,`Artisanal ${o}`,`Gourmet ${o}`]};return c[s]||c.default};{const i=["Fruits","Vegetables","Dairy","Bakery","Snacks"],s=["Nature's Best","Organic Valley","Whole Foods","Fresh Farms","Green Earth","Healthy Harvest","Pure Organics","Farm Fresh","Eco Friendly","Natural Choice"];return Array.from({length:10},(o,l)=>{const c=i[l%i.length],u=r(e,c),f=u[l%u.length],h=["Blinkit","Zepto","BigBasket","Grofers","Amazon Fresh"][l%5];let p="";const g=encodeURIComponent(f.toLowerCase());encodeURIComponent(e.toLowerCase());const v=Math.floor(1e6+Math.random()*9e6),y=f.toLowerCase().replace(/[^a-z0-9]+/g,"-"),b=s[l%s.length].toLowerCase().replace(/[^a-z0-9]+/g,"-"),S=`https://www.google.com/search?q=${g}+${b}+buy+online&tbm=shop`;switch(p=S,h){case"Blinkit":p=`https://blinkit.com/pn/${y}/${v}`;break;case"Zepto":p=`https://www.zeptonow.com/product/${y}/${v}`;break;case"BigBasket":p=`https://www.bigbasket.com/pd/${v}/${y}`;break;case"Grofers":p=`https://blinkit.com/pn/${y}/${v}`;break;case"Amazon Fresh":p=`https://www.amazon.in/dp/B0${v}?th=1&psc=1`;break;default:p=S}return{_id:`fallback-${l}-${Date.now()}`,name:f,brand:s[l%s.length],category:c,description:`High-quality ${e.toLowerCase()} product with natural ingredients. Perfect for health-conscious consumers looking for premium quality.`,price:Math.floor(Math.random()*50)+10,sale_price:Math.floor(Math.random()*40)+5,market_price:Math.floor(Math.random()*60)+15,image_url:`https://source.unsplash.com/random/300x300/?${encodeURIComponent(f.toLowerCase())},food`,source:h,platform:h,redirect:p,nutritional_info:{calories:Math.floor(Math.random()*500),protein:Math.floor(Math.random()*30),carbs:Math.floor(Math.random()*50),fat:Math.floor(Math.random()*20),fiber:Math.floor(Math.random()*10)},rating:Math.random()*3+2,reviews_count:Math.floor(Math.random()*1e3),in_stock:Math.random()>.2,_collection:"grocery"}})}},fHe=async t=>{try{console.log("Searching recipes from MongoDB:",t);const e=`${t} recipe`,n=await yH(e);let r=[...n];if(t.toLowerCase().indexOf("recipe")===-1){const o=await yH(t);r=[...n,...o]}return r.filter(o=>{var l,c,u,f;return((l=o.details)==null?void 0:l.ingredients)&&o.details.ingredients.length>0||((c=o.category)==null?void 0:c.toLowerCase().includes("recipe"))||((u=o.name)==null?void 0:u.toLowerCase().includes("recipe"))||t.toLowerCase().includes("recipe")&&((f=o.details)==null?void 0:f.ingredients)}).filter((o,l,c)=>l===c.findIndex(u=>u.id===o.id)).map(o=>{var c,u,f,h,p,g,v,y;let l=((c=o.details)==null?void 0:c.instructions)||[];return l.length===0&&((u=o.details)!=null&&u.ingredients)&&o.details.ingredients.length>0&&(l=WD(o.name,o.details.ingredients)),{id:o.id,title:o.name,image:o.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(o.name+" food")}`,calories:o.calories||0,servings:o.servings||4,cookTime:o.cookTime||o.cook_time||30,prepTime:o.prepTime||o.prep_time||15,healthLabels:hHe(o),source:o.source||"MongoDB",ingredients:((f=o.details)==null?void 0:f.ingredients)||[],instructions:l,nutrients:{protein:((h=o.nutrients)==null?void 0:h.protein)||0,carbs:((p=o.nutrients)==null?void 0:p.carbs)||0,fat:((g=o.nutrients)==null?void 0:g.fat)||0,fiber:((v=o.nutrients)==null?void 0:v.fiber)||0,sodium:((y=o.details)==null?void 0:y.sodium)||0}}})}catch(e){return console.error("Error searching recipes from MongoDB:",e),[]}},hHe=t=>{var n,r,i,s;const e=[];if(t.nutritionScore==="green"?e.push("Healthy"):t.nutritionScore==="red"?e.push("High-Calorie"):e.push("Balanced"),((n=t.nutrients)==null?void 0:n.protein)>15&&e.push("High-Protein"),((r=t.nutrients)==null?void 0:r.fiber)>5&&e.push("High-Fiber"),((i=t.nutrients)==null?void 0:i.fat)<5&&e.push("Low-Fat"),(s=t.details)!=null&&s.ingredients){const o=t.details.ingredients.join(" ").toLowerCase(),l=["meat","chicken","beef","pork","fish","seafood","lamb"],c=["milk","cheese","yogurt","cream","butter"];l.some(u=>o.includes(u))||(e.push("Vegetarian"),c.some(u=>o.includes(u))||e.push("Vegan"))}return e},mHe="a522a439",pHe="636a3e9b2dd910c9b39f42bfdcbcf61a",gHe="07d50733",yHe="80fcb49b500737827a9a23f7049653b9",no=async t=>{try{console.log("Getting recipes for query:",t);try{const e=await xH(t);if(console.log(`Edamam returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("Edamam search failed:",e)}try{const e=await fHe(t);if(console.log(`MongoDB returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("MongoDB search failed:",e)}if(t.includes(" ")){const e=t.split(" ")[0];console.log(`Trying simplified query: ${e}`);try{const n=await xH(e);if(console.log(`Simplified query returned ${n.length} recipes`),n.length>0)return n}catch(n){console.error("Simplified query search failed:",n)}}return console.log("No recipes found for query:",t),[]}catch(e){return console.error("Error getting recipes:",e),[]}},xH=async t=>{try{console.log("Searching recipes from Edamam:",t);const e=await Promise.allSettled([xHe(t),vHe(t)]);let n=[];for(const r of e)r.status==="fulfilled"&&r.value.length>0&&(n=[...n,...r.value]);return n}catch(e){return console.error("Error searching recipes from Edamam:",e),[]}},xHe=async t=>{try{console.log("Searching Edamam Recipe API:",t);const e=`https://api.edamam.com/api/recipes/v2?type=public&q=${encodeURIComponent(t)}&app_id=${mHe}&app_key=${pHe}`;console.log("Edamam Recipe API URL:",e);const n=await fetch(e);if(!n.ok)throw console.error(`Edamam Recipe API error: ${n.status}`),new Error(`Edamam Recipe API error: ${n.status}`);const r=await n.json();return!r.hits||r.hits.length===0?[]:r.hits.map(i=>{var o,l,c,u,f,h,p,g,v,y;const s=i.recipe;return{id:`edamam-${s.uri.split("#recipe_")[1]}`,title:s.label,image:s.image,calories:Math.round(s.calories/s.yield),servings:s.yield,cookTime:s.totalTime>0?s.totalTime:30,prepTime:Math.round(s.totalTime/3)||10,healthLabels:s.healthLabels||[],source:"Edamam",ingredients:s.ingredientLines||[],instructions:WD(s.label,s.ingredientLines||[]),nutrients:{protein:Math.round(((l=(o=s.totalNutrients)==null?void 0:o.PROCNT)==null?void 0:l.quantity)/s.yield)||0,carbs:Math.round(((u=(c=s.totalNutrients)==null?void 0:c.CHOCDF)==null?void 0:u.quantity)/s.yield)||0,fat:Math.round(((h=(f=s.totalNutrients)==null?void 0:f.FAT)==null?void 0:h.quantity)/s.yield)||0,fiber:Math.round(((g=(p=s.totalNutrients)==null?void 0:p.FIBTG)==null?void 0:g.quantity)/s.yield)||0,sodium:Math.round(((y=(v=s.totalNutrients)==null?void 0:v.NA)==null?void 0:y.quantity)/s.yield)||0}}})}catch(e){return console.error("Error searching Edamam Recipe API:",e),[]}},vHe=async t=>{try{console.log("Searching Edamam Food API for recipes:",t);const e=`https://api.edamam.com/api/food-database/v2/parser?app_id=${gHe}&app_key=${yHe}&ingr=${encodeURIComponent(t)}`;console.log("Edamam Food API URL:",e);const n=await fetch(e);if(!n.ok)throw console.error(`Edamam Food API error: ${n.status}`),new Error(`Edamam Food API error: ${n.status}`);const r=await n.json();return!r.hints||r.hints.length===0?[]:r.hints.filter(i=>{const s=i.food;return s.category==="Generic meals"||s.category==="Generic dishes"||s.foodContentsLabel}).map(i=>{const s=i.food,o=i.measures,l=o.find(u=>u.label==="Serving")||o[0],c=s.foodContentsLabel?s.foodContentsLabel.split(";").map(u=>u.trim()):[s.label];return{id:`edamam-food-${s.foodId}`,title:s.label,image:s.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(s.label+" food")}`,calories:Math.round(s.nutrients.ENERC_KCAL)||0,servings:4,cookTime:30,prepTime:15,healthLabels:s.healthLabels||[],source:"Edamam Food",ingredients:c,instructions:WD(s.label,c),nutrients:{protein:Math.round(s.nutrients.PROCNT)||0,carbs:Math.round(s.nutrients.CHOCDF)||0,fat:Math.round(s.nutrients.FAT)||0,fiber:Math.round(s.nutrients.FIBTG)||0,sodium:Math.round(s.nutrients.NA)||0}}})}catch(e){return console.error("Error searching Edamam Food API for recipes:",e),[]}},WD=(t,e)=>{const n=[`Prepare all ingredients for ${t}.`,"Wash and chop all vegetables and herbs as needed."],r=e.some(l=>/chicken|beef|pork|turkey|lamb|meat|fish|seafood|shrimp/i.test(l)),i=e.some(l=>/vegetable|carrot|onion|pepper|tomato|potato|broccoli|spinach|lettuce|kale|cabbage/i.test(l)),s=e.some(l=>/milk|cheese|cream|yogurt|butter/i.test(l)),o=e.some(l=>/rice|pasta|noodle|bread|flour|grain|wheat|oat|barley|quinoa/i.test(l));return r&&n.push("Season the meat with salt and pepper.","Cook the meat until it reaches the appropriate internal temperature."),i&&n.push("Saut the vegetables until tender."),o&&n.push("Cook the grains according to package instructions."),r&&i&&n.push("Combine the cooked meat and vegetables."),s&&n.push("Add dairy ingredients and stir until well incorporated."),n.push("Adjust seasoning to taste.",`Serve ${t} hot and enjoy!`),n},bHe=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState([]),[o,l]=w.useState("all"),[c,u]=w.useState(null),[f,h]=w.useState([]),[p,g]=w.useState(null),[v,y]=w.useState(!1),{toast:b}=Tt(),S=lt(Oe),N=$t(Oe),[k,E]=w.useState(null),[A,C]=w.useState([]);w.useEffect(()=>{(async()=>{if(S.currentUser)try{const R=Ve(N,"users",S.currentUser.uid),V=await Mt(R);V.exists()&&E(V.data());const q=Ve(N,"user_activities",S.currentUser.uid),H=await Mt(q);if(H.exists()){const Y=H.data();C(Y.activities||[])}}catch(R){console.error("Error loading user data:",R)}})()},[S.currentUser,N]),w.useEffect(()=>{(async()=>{r(!0),u(null);try{const R=S.currentUser;if(R)try{const q=Ve(N,"users",R.uid),H=await Mt(q);H.exists()&&H.data().favoriteRecipes&&h(H.data().favoriteRecipes)}catch(q){console.error("Error loading favorite recipes:",q)}const V=await no("");if(s(V),V.length===0){const q=await no("popular");s(q)}}catch(R){console.error("Error loading initial recipes:",R),s([]),u("Unable to load recipes. Please try again later.")}finally{r(!1)}})()},[S,N]);const T=async()=>{if(t.trim()){r(!0),u(null);try{console.log("Searching for recipes with query:",t);const D=await no(t);s(D),t$(t,D);const R=S.currentUser;if(R)try{const V=Ve(N,"users",R.uid);await rn(V,{recipeSearches:{recent:t,timestamp:new Date().toISOString(),resultCount:D.length}},{merge:!0})}catch(V){console.error("Error saving recipe search:",V)}if(D.length>0)b({title:`Found ${D.length} recipes`,description:"Here are your recipe results"});else{console.log("No results found, trying with a more generic search term");const V=t.split(" ")[0];if(V&&V!==t)try{const q=await no(V);if(q.length>0){s(q),b({title:`Found ${q.length} recipes`,description:`Showing results for "${V}" instead`});return}}catch(q){console.error("Error with generic search:",q)}b({title:"No recipes found",description:"Try a different search term or check our popular recipes",variant:"default"});try{console.log("Trying popular recipes as fallback");const q=await no("popular");q.length>0?(s(q),b({title:"Showing popular recipes instead",description:"We couldn't find recipes matching your search"})):u("No recipes found. Please try a different search term.")}catch(q){console.error("Error getting fallback recipes:",q),u("Unable to load recipes. Please try again later.")}}}catch(D){console.error("Error searching recipes:",D),s([]),u("Unable to fetch recipes. Please try again later."),b({title:"Search Error",description:"Unable to fetch recipes. Please try again later.",variant:"destructive"})}finally{r(!1)}}},I=async D=>{l(D),r(!0),u(null);try{if(D==="all"){const R=await no("popular");s(R)}else if(D==="favorites")if(f.length>0)try{const V=(await no("popular")).filter(q=>f.includes(q.id));V.length>0?s(V):(s([]),u("Your favorite recipes could not be loaded. Please try again later."))}catch(R){console.error("Error loading favorite recipes:",R),s([]),u("Your favorite recipes could not be loaded. Please try again later.")}else s([]),u("You have no favorite recipes yet. Click the star icon to add recipes to your favorites.");else if(D==="edamam"){const R=await no("popular");s(R.filter(V=>V.source.includes("Edamam")))}else if(D==="edamam-food"){const R=await no("popular");s(R.filter(V=>V.source.includes("Edamam Food")))}else{const R=await no("popular");s(R)}i.length===0&&D!=="favorites"&&u("No recipes found. Please try searching for specific recipes.")}catch(R){console.error("Error changing tab:",R),s([]),u("Unable to load recipes. Please try again later."),b({title:"Error",description:"Unable to load recipes. Please try again later.",variant:"destructive"})}finally{r(!1)}},P=async D=>{const R=S.currentUser;if(!R){b({title:"Sign in required",description:"Please sign in to save favorite recipes",variant:"default"});return}try{let V;f.includes(D)?(V=f.filter(H=>H!==D),b({title:"Removed from favorites",description:"Recipe removed from your favorites"})):(V=[...f,D],b({title:"Added to favorites",description:"Recipe added to your favorites"})),h(V);const q=Ve(N,"users",R.uid);await rn(q,{favoriteRecipes:V},{merge:!0})}catch(V){console.error("Error toggling favorite recipe:",V),b({title:"Error",description:"Unable to update favorites. Please try again.",variant:"destructive"})}},M=D=>{b({title:"Recipe saved",description:"Recipe added to your favorites"})},L=D=>{g(D),y(!0);try{t$("view_details",[D])}catch(R){console.error("Error tracking recipe view:",R)}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(Ha,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Healthy Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Discover nutritious and delicious Indian recipes tailored to your health goals"})]}),a.jsx("div",{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(bt,{placeholder:"Search for recipes (e.g., vegetarian curry, low-calorie)",className:"sci-fi-input pl-10",value:t,onChange:D=>e(D.target.value),onKeyDown:D=>D.key==="Enter"&&T()})]})}),a.jsxs(ee,{onClick:T,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),"Search"]}),a.jsxs(ee,{variant:"outline",className:"sci-fi-button",children:[a.jsx(GI,{className:"mr-2 h-4 w-4"}),"Filters"]})]})}),a.jsxs(pi,{defaultValue:"all",className:"mb-6",children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(Qr,{className:"grid grid-cols-3 gap-2",children:[a.jsxs(ft,{value:"all",onClick:()=>I("all"),className:o==="all"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx($g,{className:"mr-2 h-4 w-4"}),"All Recipes"]}),a.jsxs(ft,{value:"favorites",onClick:()=>I("favorites"),className:o==="favorites"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(mr,{className:"mr-2 h-4 w-4 text-yellow-400"}),"Favorites"]}),a.jsxs(ft,{value:"edamam",onClick:()=>I("edamam"),className:o==="edamam"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(gr,{className:"mr-2 h-4 w-4"}),"Edamam Recipes"]})]})}),a.jsx(St,{value:"all",className:"mt-0",children:n?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(pl,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(D=>a.jsxs(Ee,{className:"sci-fi-card overflow-hidden hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image||"https://via.placeholder.com/300x200?text=No+Image",alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Se,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2 line-clamp-1",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ho,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories||"N/A"," kcal"]}),a.jsx(dn,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.cookTime||"30"," min"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels&&D.healthLabels.slice(0,2).map((R,V)=>a.jsx(Se,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:R},V))}),a.jsxs(ee,{variant:"outline",className:"w-full sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>L(D),children:[a.jsx(Yr,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]},D.id))})}),a.jsx(St,{value:"mongodb",className:"mt-0",children:n?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(pl,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(D=>D.source==="MongoDB").map(D=>a.jsxs(Ee,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Se,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ho,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(dn,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx(Na,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((R,V)=>a.jsx(Se,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:R},V))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>M(D.id),children:a.jsx(Ih,{className:"h-4 w-4"})})]})]})]},D.id))})}),a.jsx(St,{value:"edamam",className:"mt-0",children:n?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(pl,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(D=>D.source==="Edamam").map(D=>a.jsxs(Ee,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Se,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ho,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(dn,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx(Na,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((R,V)=>a.jsx(Se,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:R},V))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>M(D.id),children:a.jsx(Ih,{className:"h-4 w-4"})})]})]})]},D.id))})}),a.jsx(St,{value:"fatsecret",className:"mt-0",children:n?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(pl,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(D=>D.source==="FatSecret").map(D=>a.jsxs(Ee,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Se,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ho,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(dn,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx(Na,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((R,V)=>a.jsx(Se,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:R},V))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>M(D.id),children:a.jsx(Ih,{className:"h-4 w-4"})})]})]})]},D.id))})})]})]}),a.jsx($l,{open:v,onOpenChange:D=>{y(D),D||g(null)},children:a.jsx(Vo,{className:"sci-fi-card max-w-4xl",children:p&&a.jsxs(a.Fragment,{children:[a.jsxs(af,{children:[a.jsxs(of,{className:"text-2xl flex items-center",children:[a.jsx($g,{className:"h-6 w-6 text-safebite-teal mr-3"}),p.title]}),a.jsxs(lf,{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs(Se,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(Na,{className:"h-3 w-3 mr-1"}),p.servings||"4"," servings"]}),a.jsxs(Se,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),p.cookTime||"30"," min"]}),a.jsx(Se,{className:"bg-safebite-card-bg-alt",children:p.source})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-safebite-teal/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),p.ingredients?a.jsx("ul",{className:"space-y-3 text-safebite-text-secondary",children:p.ingredients.map((D,R)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-safebite-teal/20 text-safebite-teal text-xs font-medium mr-3",children:R+1}),D]},R))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Ingredient information not available"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-purple-500/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),p.instructions?a.jsx("div",{className:"text-safebite-text-secondary",children:p.instructions.map((D,R)=>a.jsxs("div",{className:"mb-4 flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-purple-500/20 text-purple-500 text-sm font-medium mr-3",children:R+1}),a.jsx("p",{children:D})]},R))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Instruction information not available"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("div",{className:"flex space-x-2",children:a.jsxs(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>P(p.id),children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"Add to Favorites"]})}),a.jsx(xve,{asChild:!0,children:a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Close"})})]})]})})}),a.jsx(av,{currentPage:"recipes",userData:{profile:k,recentActivity:A},autoOpen:!0,initialMessage:"Looking for recipe ideas? I can suggest recipes based on dietary preferences, ingredients you have, or health goals. What kind of recipes are you interested in?"})]})]})},wHe=({isOpen:t,onClose:e,toolId:n,toolName:r,toolData:i})=>{const[s,o]=w.useState(!0),[l,c]=w.useState(!1),{toast:u}=Tt(),f=lt(Oe),h=$t(Oe),{isGuest:p}=Vn();if(!t)return null;const g=async()=>{if(p){u({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}c(!0);try{const v=f.currentUser;if(!v)throw new Error("User not authenticated");const y=Ve(h,"users",v.uid),b=await Mt(y),S=b.exists()?b.data():{};await rn(y,{healthboxResults:{...S.healthboxResults,[n]:{name:r,data:i,timestamp:Date.now(),showOnDashboard:s}}},{merge:!0}),u({title:"Results saved",description:s?"Your results have been saved and will be displayed on your dashboard.":"Your results have been saved.",icon:a.jsx(lo,{className:"h-4 w-4 text-green-500"})}),e()}catch(v){console.error("Error saving results:",v),u({title:"Error",description:"Failed to save results. Please try again.",variant:"destructive",icon:a.jsx(Wt,{className:"h-4 w-4 text-red-500"})})}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Ee,{className:"w-full max-w-md mx-4 bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(Xe,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(or,{className:"h-5 w-5"})}),a.jsx(Qe,{className:"text-xl font-bold text-safebite-text",children:"Save Results"})]}),a.jsxs(Fe,{className:"pt-6",children:[a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["Save your ",r," results to access them later. You can also choose to display these results on your dashboard."]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg mb-6",children:[a.jsx(et,{htmlFor:"show-on-dashboard",className:"text-safebite-text cursor-pointer",children:"Show on dashboard"}),a.jsx(fo,{id:"show-on-dashboard",checked:s,onCheckedChange:o})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(ee,{variant:"outline",onClick:e,disabled:l,children:"Cancel"}),a.jsx(ee,{onClick:g,disabled:l,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:l?a.jsx(a.Fragment,{children:a.jsx("span",{className:"animate-pulse",children:"Saving..."})}):a.jsxs(a.Fragment,{children:[a.jsx(Vg,{className:"mr-2 h-4 w-4"}),"Save Results"]})})]})]})]})})},jHe=({onSaveResults:t})=>{const[e,n]=w.useState(170),[r,i]=w.useState(70),[s,o]=w.useState(null),[l,c]=w.useState(""),u=()=>{if(e&&r){const f=e/100,h=r/(f*f),p=Math.round(h*10)/10;let g="";h<18.5?g="Underweight":h>=18.5&&h<25?g="Normal weight":h>=25&&h<30?g="Overweight":g="Obesity",o(p),c(g),Us("bmi","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(F0,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"BMI Calculator"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(bt,{id:"height",type:"number",value:e,onChange:f=>n(Number(f.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(bt,{id:"weight",type:"number",value:r,onChange:f=>i(Number(f.target.value)),className:"sci-fi-input"})]}),a.jsx(ee,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate BMI"}),s!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Your BMI:"}),a.jsx("span",{className:"text-safebite-text font-semibold",children:s})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:l})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx(Se,{className:`
                  ${l==="Underweight"?"bg-blue-500":""}
                  ${l==="Normal weight"?"bg-green-500":""}
                  ${l==="Overweight"?"bg-orange-500":""}
                  ${l==="Obesity"?"bg-red-500":""}
                  text-white
                `,children:l}),t&&a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t("bmi-calculator","BMI Calculator",{bmi:s,category:l,height:e,weight:r,date:new Date().toISOString()}),children:[a.jsx(Vg,{className:"mr-2 h-4 w-4"}),"Save to Dashboard"]})]})]})]})})]})},SHe=()=>{const[t,e]=w.useState(30),[n,r]=w.useState("male"),[i,s]=w.useState(70),[o,l]=w.useState(170),[c,u]=w.useState("moderate"),[f,h]=w.useState(null),p=()=>{if(t&&i&&o){let g=0;n==="male"?g=88.362+13.397*i+4.799*o-5.677*t:g=447.593+9.247*i+3.098*o-4.33*t;let v=1.2;switch(c){case"sedentary":v=1.2;break;case"light":v=1.375;break;case"moderate":v=1.55;break;case"active":v=1.725;break;case"very_active":v=1.9;break}const y=Math.round(g*v);h(y),Us("calories","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(ho,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Calorie Calculator"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(bt,{id:"age",type:"number",value:t,onChange:g=>e(Number(g.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(Oo,{value:n,onValueChange:r,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select gender"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"male",children:"Male"}),a.jsx(Ht,{value:"female",children:"Female"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(bt,{id:"weight",type:"number",value:i,onChange:g=>s(Number(g.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(bt,{id:"height",type:"number",value:o,onChange:g=>l(Number(g.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(Oo,{value:c,onValueChange:u,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select activity level"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Ht,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Ht,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Ht,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Ht,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsx(ee,{onClick:p,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Calories"}),f!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Calories:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[f," kcal"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Weight Loss: ",f-500," kcal"]}),a.jsxs("p",{children:["Weight Gain: ",f+500," kcal"]})]})]})]})})]})},NHe=()=>{const[t,e]=w.useState(70),[n,r]=w.useState("moderate"),[i,s]=w.useState("moderate"),[o,l]=w.useState(null),c=()=>{if(t){let u=t*30,f=1;switch(n){case"sedentary":f=1;break;case"light":f=1.1;break;case"moderate":f=1.2;break;case"active":f=1.3;break;case"very_active":f=1.4;break}let h=1;switch(i){case"cold":h=.9;break;case"moderate":h=1;break;case"hot":h=1.1;break;case"very_hot":h=1.2;break}const p=u*f*h,g=Math.round(p/100)/10;l(g),Us("water","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(v7,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Water Intake Calculator"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(bt,{id:"weight",type:"number",value:t,onChange:u=>e(Number(u.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(Oo,{value:n,onValueChange:r,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select activity level"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Ht,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Ht,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Ht,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Ht,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"climate",className:"text-safebite-text-secondary",children:"Climate"}),a.jsxs(Oo,{value:i,onValueChange:s,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select climate"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"cold",children:"Cold"}),a.jsx(Ht,{value:"moderate",children:"Moderate"}),a.jsx(Ht,{value:"hot",children:"Hot"}),a.jsx(Ht,{value:"very_hot",children:"Very Hot"})]})]})]}),a.jsx(ee,{onClick:c,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Water Intake"}),o!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Water Intake:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," liters"]})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsxs("p",{children:["That's approximately ",Math.round(o*4)," glasses of water (250ml each)"]})})]})]})})]})},_He=()=>{const[t,e]=w.useState(2e3),[n,r]=w.useState("maintain"),[i,s]=w.useState(null),[o,l]=w.useState(null),[c,u]=w.useState(null),f=()=>{if(t){let h=.3,p=.3,g=.4;switch(n){case"lose":h=.4,p=.3,g=.3;break;case"maintain":h=.3,p=.3,g=.4;break;case"gain":h=.25,p=.25,g=.5;break}const v=t*h,y=t*p,b=t*g,S=Math.round(v/4),N=Math.round(y/9),k=Math.round(b/4);l(S),u(N),s(k),Us("macros","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(qI,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Macro Calculator"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"calories",className:"text-safebite-text-secondary",children:"Daily Calories"}),a.jsx(bt,{id:"calories",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"goal",className:"text-safebite-text-secondary",children:"Goal"}),a.jsxs(Oo,{value:n,onValueChange:r,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select goal"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"lose",children:"Lose Weight"}),a.jsx(Ht,{value:"maintain",children:"Maintain Weight"}),a.jsx(Ht,{value:"gain",children:"Gain Weight"})]})]})]}),a.jsx(ee,{onClick:f,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Macros"}),i!==null&&o!==null&&c!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Protein:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Carbs:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[i,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Fat:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[c,"g"]})]})]}),a.jsx("div",{className:"mt-3 h-4 bg-safebite-card-bg rounded-full overflow-hidden",children:a.jsxs("div",{className:"flex h-full",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${o*4/t*100}%`}}),a.jsx("div",{className:"bg-blue-500",style:{width:`${i*4/t*100}%`}}),a.jsx("div",{className:"bg-red-500",style:{width:`${c*9/t*100}%`}})]})}),a.jsxs("div",{className:"flex justify-between text-xs mt-1 text-safebite-text-secondary",children:[a.jsx("span",{children:"Protein"}),a.jsx("span",{children:"Carbs"}),a.jsx("span",{children:"Fat"})]})]})]})})]})},kHe=()=>{const[t,e]=w.useState(15),[n,r]=w.useState(5),[i,s]=w.useState(10),[o,l]=w.useState(3),[c,u]=w.useState(400),[f,h]=w.useState(null),[p,g]=w.useState(""),[v,y]=w.useState(""),b=()=>{let N=0,k=0;t<=1.6?N+=0:t<=3.2?N+=1:t<=4.8?N+=2:t<=6.4?N+=3:t<=8?N+=4:N+=5,n<=.9?N+=0:n<=1.9?N+=1:n<=2.8?N+=2:n<=3.7?N+=3:n<=4.7?N+=4:N+=5,i<=4.5?k+=0:i<=9?k+=1:i<=13.5?k+=2:i<=18?k+=3:i<=22.5?k+=4:k+=5,o<=1?k+=0:o<=2?k+=1:o<=3?k+=2:o<=4?k+=3:o<=5?k+=4:k+=5,c<=90?k+=0:c<=180?k+=1:c<=270?k+=2:c<=360?k+=3:c<=450?k+=4:k+=5;const E=N-k;h(E),E>=4?(g("A"),y("green")):E>=2?(g("B"),y("light-green")):E>=0?(g("C"),y("yellow")):E>=-2?(g("D"),y("orange")):(g("E"),y("red")),Us("nutrition_score","calculate")},S=()=>{switch(v){case"green":return"bg-green-500";case"light-green":return"bg-green-400";case"yellow":return"bg-yellow-400";case"orange":return"bg-orange-400";case"red":return"bg-red-500";default:return"bg-gray-400"}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(gr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Score"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"protein",className:"text-safebite-text-secondary",children:"Protein (g)"}),a.jsx(bt,{id:"protein",type:"number",value:t,onChange:N=>e(Number(N.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"fiber",className:"text-safebite-text-secondary",children:"Fiber (g)"}),a.jsx(bt,{id:"fiber",type:"number",value:n,onChange:N=>r(Number(N.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"sugar",className:"text-safebite-text-secondary",children:"Sugar (g)"}),a.jsx(bt,{id:"sugar",type:"number",value:i,onChange:N=>s(Number(N.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"saturatedFat",className:"text-safebite-text-secondary",children:"Sat. Fat (g)"}),a.jsx(bt,{id:"saturatedFat",type:"number",value:o,onChange:N=>l(Number(N.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"sodium",className:"text-safebite-text-secondary",children:"Sodium (mg)"}),a.jsx(bt,{id:"sodium",type:"number",value:c,onChange:N=>u(Number(N.target.value)),className:"sci-fi-input"})]})]}),a.jsx(ee,{onClick:b,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Score"}),f!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Nutrition Score:"}),a.jsx("div",{className:`w-10 h-10 rounded-full ${S()} flex items-center justify-center text-white font-bold`,children:p})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsx("p",{children:"A = Excellent nutritional quality"}),a.jsx("p",{children:"E = Poor nutritional quality"})]})]})]})})]})},AHe=()=>{const[t,e]=w.useState(170),[n,r]=w.useState("male"),[i,s]=w.useState("medium"),[o,l]=w.useState(null),[c,u]=w.useState(null),f=()=>{if(t){let h=0;n==="male"?h=50+2.3*((t-152.4)/2.54):h=45.5+2.3*((t-152.4)/2.54);let p=0;n==="male"?p=48+2.7*((t-152.4)/2.54):p=45.5+2.2*((t-152.4)/2.54);let g=0;n==="male"?g=56.2+1.41*((t-152.4)/2.54):g=53.1+1.36*((t-152.4)/2.54);const v=Math.round((h+p+g)/3);let y=1;switch(i){case"small":y=.9;break;case"medium":y=1;break;case"large":y=1.1;break}const b=Math.round(v*y);l(b);const S=Math.round(b*.9),N=Math.round(b*1.1);u({min:S,max:N}),Us("ideal_weight","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(F0,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Ideal Weight Calculator"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(bt,{id:"height",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(Oo,{value:n,onValueChange:r,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select gender"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"male",children:"Male"}),a.jsx(Ht,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"bodyFrame",className:"text-safebite-text-secondary",children:"Body Frame"}),a.jsxs(Oo,{value:i,onValueChange:s,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select body frame"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"small",children:"Small"}),a.jsx(Ht,{value:"medium",children:"Medium"}),a.jsx(Ht,{value:"large",children:"Large"})]})]})]})]}),a.jsx(ee,{onClick:f,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Ideal Weight"}),o!==null&&c!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Ideal Weight:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," kg"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Healthy weight range: ",c.min," - ",c.max," kg"]}),a.jsx("p",{className:"mt-1",children:"Based on multiple medical formulas and adjusted for your body frame."})]})]})]})})]})},CHe=()=>{const[t,e]=w.useState(70),[n,r]=w.useState(170),[i,s]=w.useState(30),[o,l]=w.useState("male"),[c,u]=w.useState(80),[f,h]=w.useState(36),[p,g]=w.useState(90),[v,y]=w.useState(null),[b,S]=w.useState(""),N=()=>{if(t&&n&&i&&c&&f){let k=0;if(o==="male")k=495/(1.0324-.19077*Math.log10(c-f)+.15456*Math.log10(n))-450;else{if(!p)return;k=495/(1.29579-.35004*Math.log10(c+p-f)+.221*Math.log10(n))-450}const E=Math.round(k*10)/10;y(E),o==="male"?E<6?S("Essential Fat"):E<14?S("Athletic"):E<18?S("Fitness"):E<25?S("Average"):S("Obese"):E<14?S("Essential Fat"):E<21?S("Athletic"):E<25?S("Fitness"):E<32?S("Average"):S("Obese"),Us("body_fat","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(y0,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Body Fat Calculator"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(Oo,{value:o,onValueChange:l,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select gender"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"male",children:"Male"}),a.jsx(Ht,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(bt,{id:"age",type:"number",value:i,onChange:k=>s(Number(k.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(bt,{id:"height",type:"number",value:n,onChange:k=>r(Number(k.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(bt,{id:"weight",type:"number",value:t,onChange:k=>e(Number(k.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"neck",className:"text-safebite-text-secondary",children:"Neck (cm)"}),a.jsx(bt,{id:"neck",type:"number",value:f,onChange:k=>h(Number(k.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"waist",className:"text-safebite-text-secondary",children:"Waist (cm)"}),a.jsx(bt,{id:"waist",type:"number",value:c,onChange:k=>u(Number(k.target.value)),className:"sci-fi-input"})]}),o==="female"&&a.jsxs("div",{children:[a.jsx(et,{htmlFor:"hip",className:"text-safebite-text-secondary",children:"Hip (cm)"}),a.jsx(bt,{id:"hip",type:"number",value:p,onChange:k=>g(Number(k.target.value)),className:"sci-fi-input"})]})]}),a.jsx(ee,{onClick:N,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Body Fat"}),v!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Body Fat Percentage:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[v,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:b})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Based on U.S. Navy Method"})})]})]})})]})},EHe=()=>{const[t,e]=w.useState(30),[n,r]=w.useState(70),[i,s]=w.useState("average"),[o,l]=w.useState(null),[c,u]=w.useState(null),f=()=>{if(t){const h=220-t,p=208-.7*t,g=207-.7*t,v=Math.round((h+p+g)/3);let y=0;switch(i){case"sedentary":y=-5;break;case"average":y=0;break;case"active":y=5;break;case"athlete":y=10;break}const b=v+y;l(b);const S=b-n,N={Recovery:{min:Math.round(n+S*.5),max:Math.round(n+S*.6)},"Fat Burning":{min:Math.round(n+S*.6),max:Math.round(n+S*.7)},Aerobic:{min:Math.round(n+S*.7),max:Math.round(n+S*.8)},Anaerobic:{min:Math.round(n+S*.8),max:Math.round(n+S*.9)},Maximum:{min:Math.round(n+S*.9),max:b}};u(N),Us("heart_rate","calculate")}};return a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[a.jsx(Zn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Heart Rate Zones"]})}),a.jsx(Fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(bt,{id:"age",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"restingHeartRate",className:"text-safebite-text-secondary",children:"Resting HR (bpm)"}),a.jsx(bt,{id:"restingHeartRate",type:"number",value:n,onChange:h=>r(Number(h.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"fitnessLevel",className:"text-safebite-text-secondary",children:"Fitness Level"}),a.jsxs(Oo,{value:i,onValueChange:s,children:[a.jsx(Fa,{className:"sci-fi-input",children:a.jsx(Mo,{placeholder:"Select fitness level"})}),a.jsxs($a,{children:[a.jsx(Ht,{value:"sedentary",children:"Sedentary"}),a.jsx(Ht,{value:"average",children:"Average"}),a.jsx(Ht,{value:"active",children:"Active"}),a.jsx(Ht,{value:"athlete",children:"Athlete"})]})]})]}),a.jsx(ee,{onClick:f,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Heart Rate Zones"}),o!==null&&c!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Max Heart Rate:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," bpm"]})]}),a.jsx("div",{className:"text-safebite-text-secondary text-sm font-medium mt-3 mb-1",children:"Training Zones:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(c).map(([h,{min:p,max:g}])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("span",{className:"text-safebite-text-secondary",children:[h,":"]}),a.jsxs("span",{className:"text-safebite-text",children:[p," - ",g," bpm"]})]},h))})]})]})})]})},mh=({title:t,icon:e,description:n})=>a.jsxs(Ee,{className:"sci-fi-card border-t-2 border-t-safebite-teal/50 shadow-md",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[e||a.jsx(Kr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),t||"Health Tool"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:n||"This health tool is currently under development and will be available soon."}),a.jsx("div",{className:"text-center p-4 bg-safebite-card-bg-alt rounded-md border border-safebite-teal/20",children:a.jsxs("p",{className:"text-safebite-teal flex items-center justify-center",children:[a.jsx(dn,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})})]})]}),THe=()=>{const[t,e]=w.useState("fitness"),[n,r]=w.useState([]),[i,s]=w.useState(""),[o,l]=w.useState([]),{toast:c}=Tt(),[u,f]=w.useState(!1),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[y,b]=w.useState({id:"",name:"",data:null}),{isGuest:S}=Vn(),[N,k]=w.useState(null),[E,A]=w.useState([]),C=lt(Oe),T=$t(Oe);w.useEffect(()=>{L()},[]),w.useEffect(()=>{(async()=>{if(!S&&C.currentUser)try{const W=Ve(T,"users",C.currentUser.uid),Q=await Mt(W);Q.exists()&&k(Q.data());const B=Ve(T,"user_activities",C.currentUser.uid),se=await Mt(B);if(se.exists()){const ue=se.data();A(ue.activities||[])}}catch(W){console.error("Error loading user data:",W)}})()},[S]);const I=U=>{e(U),Us("tab",U),Lc.trackActivity("healthbox","change-tab",{tab:U})},P=U=>{const W=n.includes(U);r(W?n.filter(Q=>Q!==U):[...n,U]),Us("tool",U),Lc.trackActivity("healthbox",W?"close-tool":"open-tool",{tool:U})},M=(U,W)=>{try{const Q=o.some(se=>se.id===U);let B;Q?B=o.filter(se=>se.id!==U):B=[...o,{id:U,category:W,addedAt:Date.now()}],l(B),D(B),Us("favorite",U),Lc.trackActivity("healthbox",Q?"remove-favorite":"add-favorite",{tool:U}),c({title:Q?"Removed from favorites":"Added to favorites",description:`${U} has been ${Q?"removed from":"added to"} your favorites.`,variant:"default"})}catch(Q){console.error("Error toggling favorite:",Q),c({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},L=async()=>{try{const W=lt(Oe).currentUser;if(W){const Q=$t(Oe),B=Ve(Q,"userPreferences",W.uid),se=await Mt(B);se.exists()&&se.data().favoriteHealthTools&&l(se.data().favoriteHealthTools)}}catch(U){console.error("Error loading favorite tools:",U)}},D=async U=>{try{const Q=lt(Oe).currentUser;if(Q){const B=$t(Oe),se=Ve(B,"userPreferences",Q.uid);await rn(se,{favoriteHealthTools:U},{merge:!0})}}catch(W){console.error("Error saving favorite tools:",W)}},R=(U,W,Q)=>{if(S){c({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}b({id:U,name:W,data:Q}),v(!0),Us("save_results",U),Lc.trackActivity("healthbox","save-results",{tool:U})},V={fitness:[{id:"bmi-calculator",title:"BMI Calculator",icon:a.jsx(F0,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(jHe,{onSaveResults:R})},{id:"calorie-calculator",title:"Calorie Calculator",icon:a.jsx(ho,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(SHe,{})},{id:"water-intake-calculator",title:"Water Intake Calculator",icon:a.jsx(Koe,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(NHe,{})},{id:"macro-calculator",title:"Macro Calculator",icon:a.jsx(qI,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(_He,{})},{id:"ideal-weight-calculator",title:"Ideal Weight Calculator",icon:a.jsx(F0,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(AHe,{})},{id:"body-fat-calculator",title:"Body Fat Calculator",icon:a.jsx(L0,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(CHe,{})}],nutrition:[{id:"nutrition-score-calculator",title:"Nutrition Score Calculator",icon:a.jsx(mr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(kHe,{})},{id:"sleep-calculator",title:"Sleep Calculator",icon:a.jsx(dn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mh,{title:"Sleep Calculator",icon:a.jsx(dn,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],medical:[{id:"heart-rate-calculator",title:"Heart Rate Calculator",icon:a.jsx(Zn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(EHe,{})},{id:"blood-pressure-analyzer",title:"Blood Pressure Analyzer",icon:a.jsx(Kr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mh,{title:"Blood Pressure Analyzer",icon:a.jsx(Kr,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"stress-analyzer",title:"Stress Analyzer",icon:a.jsx(Co,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mh,{title:"Stress Analyzer",icon:a.jsx(Co,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],safety:[{id:"food-safety-checker",title:"Food Safety Checker",icon:a.jsx(b_,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mh,{title:"Food Safety Checker",icon:a.jsx(b_,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"medication-reminder",title:"Medication Reminder",icon:a.jsx(kL,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mh,{title:"Medication Reminder",icon:a.jsx(kL,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"disease-risk-assessment",title:"Disease Risk Assessment",icon:a.jsx(Vc,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mh,{title:"Disease Risk Assessment",icon:a.jsx(Vc,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}]},q=U=>{let W=U;return i&&(W=U.filter(Q=>Q.title.toLowerCase().includes(i.toLowerCase()))),u&&(W=W.filter(Q=>o.some(B=>B.id===Q.id))),W},H=V[t]||[],Y=q(H),K=Object.values(V).flat(),Z=K.filter(U=>o.some(W=>W.id===U.id));return a.jsxs("div",{className:"flex min-h-screen bg-safebite-bg",children:[a.jsx(Ha,{}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs("h1",{className:"text-3xl font-bold text-safebite-text mb-6",children:[a.jsx(Rn,{className:"inline-block mr-2 h-6 w-6 text-safebite-teal"}),"Healthbox"]}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Explore our collection of health tools to monitor and improve your wellbeing."}),a.jsxs("div",{className:"mb-8 p-4 bg-safebite-card-bg rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(In,{className:"absolute left-2 top-2.5 h-4 w-4 text-safebite-text-secondary"}),a.jsx(bt,{placeholder:"Search health tools...",className:"pl-8 bg-safebite-card-bg border-safebite-card-bg-alt",value:i,onChange:U=>s(U.target.value)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fo,{id:"favorites-only",checked:u,onCheckedChange:f}),a.jsx(et,{htmlFor:"favorites-only",className:"text-safebite-text",children:"Show favorites only"})]})]}),a.jsxs(pi,{defaultValue:t,onValueChange:I,className:"w-full",children:[a.jsxs(Qr,{className:"grid grid-cols-5 mb-8 bg-safebite-card-bg rounded-lg overflow-hidden",children:[a.jsxs(ft,{value:"fitness",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(L0,{className:"mr-2 h-4 w-4"}),"Fitness"]}),a.jsxs(ft,{value:"nutrition",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(gr,{className:"mr-2 h-4 w-4"}),"Nutrition"]}),a.jsxs(ft,{value:"medical",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Medical"]}),a.jsxs(ft,{value:"safety",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(b_,{className:"mr-2 h-4 w-4"}),"Safety"]}),a.jsxs(ft,{value:"favorites",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ih,{className:"mr-2 h-4 w-4"}),"Favorites"]})]}),n.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Active Tools"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map(U=>{const W=K.find(Q=>Q.id===U);return W?a.jsxs(Ee,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[W.icon,W.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>M(W.id,t),className:"h-8 w-8",children:o.some(Q=>Q.id===W.id)?a.jsx(mr,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(mr,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>P(W.id),className:"h-8 w-8",children:a.jsx(Hoe,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(Fe,{children:W.component})]},W.id):null})})]}),a.jsxs(St,{value:t,className:"mt-0",children:[Y.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wt,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No tools found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:u?"You don't have any favorite tools in this category yet.":"No tools match your search criteria."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:Y.map(U=>n.includes(U.id)?null:a.jsxs(Ee,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[U.icon,U.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>M(U.id,t),className:"h-8 w-8",children:o.some(Q=>Q.id===U.id)?a.jsx(mr,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(mr,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>P(U.id),className:"h-8 w-8",children:a.jsx(Ng,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(Fe,{children:a.jsxs(ee,{onClick:()=>P(U.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(Ng,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},U.id))})]}),a.jsx(St,{value:"favorites",className:"mt-0",children:Z.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ih,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No favorites yet"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Star your favorite tools to access them quickly from this tab."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:Z.map(U=>n.includes(U.id)?null:a.jsxs(Ee,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Qe,{className:"flex items-center text-safebite-text",children:[U.icon,U.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>M(U.id,"favorites"),className:"h-8 w-8",children:a.jsx(mr,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>P(U.id),className:"h-8 w-8",children:a.jsx(Ng,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(Fe,{children:a.jsxs(ee,{onClick:()=>P(U.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(Ng,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},U.id))})})]})]})}),a.jsx(wHe,{isOpen:g,onClose:()=>v(!1),toolId:y.id,toolName:y.name,toolData:y.data}),a.jsx(av,{currentPage:"healthbox",userData:{profile:N,recentActivity:E},autoOpen:!0,initialMessage:"Welcome to Healthbox! I can help you find the right health tools for your needs. What health aspect would you like to focus on today?"})]})},PHe=({isOpen:t,onClose:e,feature:n="this feature"})=>{const r=$n(),[i,s]=w.useState(!1);if(!t)return null;const o=[{icon:a.jsx(lo,{className:"h-5 w-5 text-green-500"}),title:"Personalized Experience",description:"Get recommendations tailored to your health profile and preferences."},{icon:a.jsx(tm,{className:"h-5 w-5 text-blue-500"}),title:"Save Your Data",description:"Track your progress over time with saved health metrics and food logs."},{icon:a.jsx(Voe,{className:"h-5 w-5 text-purple-500"}),title:"Detailed Analytics",description:"Access comprehensive charts and insights about your health journey."},{icon:a.jsx(Ws,{className:"h-5 w-5 text-orange-500"}),title:"Secure Storage",description:"Your data is securely stored and protected with Firebase Authentication."}];return a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:a.jsxs(Ee,{className:"sci-fi-card max-w-md w-full relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-safebite-teal/20 to-safebite-purple/20 rounded-lg blur-sm"}),a.jsxs("div",{className:"relative",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:a.jsx(or,{className:"h-5 w-5"})}),a.jsx(Xe,{children:a.jsx(Qe,{className:"text-xl font-bold text-center",children:i?"Benefits of Creating an Account":"Login Required"})}),a.jsx(Fe,{children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4 mb-6",children:o.map((l,c)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-3 mt-0.5",children:l.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:l.title}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:l.description})]})]},c))}),a.jsx(ee,{onClick:()=>s(!1),variant:"link",className:"text-safebite-text-secondary",children:"Back to login options"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx(bl,{className:"h-8 w-8 text-safebite-teal"})})}),a.jsxs("p",{className:"text-center text-safebite-text mb-6",children:["You need to be logged in to use ",n,"."]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(ee,{onClick:()=>r("/auth/login"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(Md,{className:"mr-2 h-4 w-4"}),"Log In"]}),a.jsxs(ee,{onClick:()=>r("/auth/signup"),variant:"outline",className:"border-safebite-purple text-safebite-purple hover:bg-safebite-purple/10",children:[a.jsx(P7,{className:"mr-2 h-4 w-4"}),"Create Account"]}),a.jsx(ee,{variant:"link",className:"text-safebite-text-secondary",onClick:()=>s(!0),children:"Why should I create an account?"})]})]})}),a.jsx(El,{className:"flex justify-center border-t border-safebite-card-bg-alt pt-4",children:a.jsx(ee,{variant:"ghost",className:"text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:"Continue in Guest Mode"})})]})]})})},IHe=(t,e,n)=>new Promise(r=>{setTimeout(()=>{const i=[{name:"Chia Seeds",description:"Nutrient-dense seeds high in omega-3 fatty acids, fiber, and protein.",benefits:"Supports heart health, digestion, and provides sustained energy.",category:"superfoods"},{name:"Turmeric",description:"Powerful anti-inflammatory spice with curcumin as the active ingredient.",benefits:"Reduces inflammation, supports joint health, and has antioxidant properties.",category:"spices"},{name:"Kefir",description:"Fermented dairy drink rich in probiotics and protein.",benefits:"Supports gut health, immune function, and provides calcium.",category:"dairy"}],s={vegan:[{name:"Nutritional Yeast",description:"Deactivated yeast with a cheesy flavor, rich in B vitamins.",benefits:"Provides vitamin B12, protein, and adds savory flavor to dishes.",category:"vegan"},{name:"Tempeh",description:"Fermented soybean cake with a firm texture and nutty flavor.",benefits:"High in protein, probiotics, and contains all essential amino acids.",category:"vegan"}],vegetarian:[{name:"Greek Yogurt",description:"Strained yogurt with higher protein content than regular yogurt.",benefits:"Rich in protein, probiotics, and calcium for gut and bone health.",category:"dairy"},{name:"Cottage Cheese",description:"Fresh cheese curd product with a mild flavor.",benefits:"High in protein, low in calories, and contains casein protein for slow digestion.",category:"dairy"}],keto:[{name:"MCT Oil",description:"Medium-chain triglyceride oil derived from coconut oil.",benefits:"Quickly converted to ketones, provides energy, and supports ketosis.",category:"oils"},{name:"Macadamia Nuts",description:"High-fat, low-carb nuts with a buttery flavor.",benefits:"Rich in monounsaturated fats, low in carbs, and supports heart health.",category:"nuts"}],paleo:[{name:"Grass-Fed Beef",description:"Beef from cattle fed primarily grass instead of grain.",benefits:"Higher in omega-3s, CLA, and vitamins compared to conventional beef.",category:"meats"},{name:"Coconut Flour",description:"Grain-free flour alternative made from dried coconut meat.",benefits:"High in fiber, low in carbs, and suitable for grain-free baking.",category:"flours"}]},o={"weight loss":[{name:"Green Tea Extract",description:"Concentrated form of green tea rich in catechins.",benefits:"May boost metabolism, increase fat oxidation, and provide antioxidants.",category:"supplements"},{name:"Konjac Noodles",description:"Low-calorie, high-fiber noodles made from konjac yam.",benefits:"Very low in calories, high in glucomannan fiber, and promotes fullness.",category:"pasta alternatives"}],"muscle gain":[{name:"Whey Protein Isolate",description:"Highly filtered whey protein with minimal fat and lactose.",benefits:"Fast-absorbing protein source, rich in BCAAs for muscle recovery and growth.",category:"supplements"},{name:"Tart Cherry Juice",description:"Juice from tart cherries with anti-inflammatory properties.",benefits:"May reduce exercise-induced muscle soreness and improve recovery.",category:"beverages"}],"general health":[{name:"Fermented Foods Variety Pack",description:"Assortment of kimchi, sauerkraut, and pickled vegetables.",benefits:"Rich in probiotics, supports gut health, and enhances immune function.",category:"fermented foods"},{name:"Mixed Berry Blend",description:"Frozen blend of strawberries, blueberries, raspberries, and blackberries.",benefits:"High in antioxidants, fiber, and vitamin C for overall health.",category:"fruits"}]};let l=[...i],c="These products are generally beneficial for most dietary patterns and health goals.";if(e&&s[e.toLowerCase()]&&(l=[...s[e.toLowerCase()],...l].slice(0,5),c=`Products selected specifically for ${e} dietary pattern, focusing on essential nutrients that may be needed.`),n){const u=Object.keys(o).find(f=>n.toLowerCase().includes(f));u&&o[u]&&(l=[...o[u],...l].slice(0,5),c+=` Also included products that support your ${n} goal.`)}t.length>0&&(c+=` Considered your preferences for ${t.join(", ")}.`),r({products:l.slice(0,5),explanation:c})},1500)}),RHe=({userPreferences:t,dietaryInfo:e,healthGoals:n,isGuest:r=!1})=>{const[i,s]=w.useState(null),[o,l]=w.useState(!1),[c,u]=w.useState(null),{toast:f}=Tt();return w.useEffect(()=>{(async()=>{if(!(!t.length&&!e&&!n)){l(!0),u(null);try{nn("gemini_product_recommendations",{userPreferences:t,dietaryInfo:e,healthGoals:n,isGuest:r});const p=await IHe(t,e,n);s(p)}catch(p){console.error("Error getting AI recommendations:",p),u("Failed to generate AI recommendations. Please try again later."),f({title:"AI Recommendation Error",description:"Could not generate personalized recommendations.",variant:"destructive"})}finally{l(!1)}}})()},[t,e,n,f,r]),o?a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsxs(Xe,{children:[a.jsxs(Qe,{className:"flex items-center",children:[a.jsx(Rn,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(hy,{children:"Generating personalized recommendations..."})]}),a.jsx(Fe,{className:"flex justify-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(_n,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Our AI is analyzing your preferences and health goals"})]})})]}):c?a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"flex items-center",children:[a.jsx(kl,{className:"h-5 w-5 mr-2 text-red-500"}),"AI Recommendations Unavailable"]})}),a.jsx(Fe,{children:a.jsx("p",{className:"text-safebite-text-secondary",children:c})}),a.jsx(El,{children:a.jsx(ee,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})})]}):i?a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsxs(Xe,{children:[a.jsxs(Qe,{className:"flex items-center",children:[a.jsx(Rn,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(hy,{children:"Personalized suggestions based on your profile"})]}),a.jsxs(Fe,{children:[a.jsx("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt",children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary italic",children:['"',i.explanation,'"']})}),a.jsx("div",{className:"space-y-3",children:i.products.map((h,p)=>a.jsx("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 mt-1",children:a.jsx(du,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:h.name}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:h.description}),a.jsx("p",{className:"text-xs text-safebite-teal",children:h.benefits})]})]})},p))})]}),a.jsx(El,{children:a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Powered by AI - Recommendations based on your profile data"})})})]}):null},vl="https://safebite-backend.onrender.com",vH="https://safebite-api.onrender.com",bH=[{_id:"fallback1",name:"Organic Whole Grain Bread",brand:"Nature's Best",category:"Bakery",description:"Nutritious whole grain bread made with organic ingredients.",ingredients:["Whole wheat flour","Water","Yeast","Salt","Honey"],nutritionalInfo:{calories:80,protein:4,carbs:15,fat:1,fiber:3,sugar:1},allergens:["Wheat","Gluten"],dietaryInfo:["Vegetarian"],healthScore:8,imageUrl:"https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:3.99,tags:["Organic","Whole Grain","Bread"]},{_id:"fallback2",name:"Greek Yogurt",brand:"Healthy Dairy",category:"Dairy",description:"Creamy Greek yogurt high in protein and probiotics.",ingredients:["Milk","Live active cultures"],nutritionalInfo:{calories:120,protein:15,carbs:7,fat:5,fiber:0,sugar:5},allergens:["Milk"],dietaryInfo:["Vegetarian","Gluten-Free"],healthScore:9,imageUrl:"https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:2.49,tags:["Protein","Probiotic","Dairy"]},{_id:"fallback3",name:"Quinoa Salad",brand:"Fresh Meals",category:"Prepared Foods",description:"Ready-to-eat quinoa salad with vegetables and herbs.",ingredients:["Quinoa","Bell peppers","Cucumber","Olive oil","Lemon juice","Herbs"],nutritionalInfo:{calories:220,protein:8,carbs:35,fat:7,fiber:6,sugar:2},allergens:[],dietaryInfo:["Vegan","Gluten-Free"],healthScore:10,imageUrl:"https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:5.99,tags:["Vegan","Protein","Ready-to-eat"]},{_id:"fallback4",name:"Almond Butter",brand:"Nut Heaven",category:"Spreads",description:"Creamy almond butter made from roasted almonds.",ingredients:["Roasted almonds"],nutritionalInfo:{calories:190,protein:7,carbs:6,fat:17,fiber:3,sugar:1},allergens:["Tree nuts"],dietaryInfo:["Vegan","Gluten-Free"],healthScore:7,imageUrl:"https://images.unsplash.com/photo-1501012259-39cd25f18b8d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:7.99,tags:["Nut butter","Protein","Natural"]}],GD=async()=>await wH(vl)?(console.log("Main API is available"),{isAvailable:!0,activeUrl:vl}):(console.log("Main API is down, trying backup API..."),await wH(vH)?(console.log("Backup API is available"),{isAvailable:!0,activeUrl:vH}):(console.warn("Both main and backup APIs are down"),{isAvailable:!1,activeUrl:vl}));async function wH(t){try{const e=new AbortController,n=setTimeout(()=>e.abort(),5e3);let r;try{r=await fetch(`${t}/status`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch{console.log(`Error fetching ${t}/status, trying root endpoint`);try{r=await fetch(`${t}/`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch(o){return console.error(`Error fetching ${t}/: ${o}`),clearTimeout(n),!1}}if(clearTimeout(n),!r.ok)return console.warn(`API status check failed with status: ${r.status}`),!1;const i=await r.json();return i&&i.status==="API is running"?(console.log("API is available:",i),!0):(console.warn("API status check returned unexpected data:",i),!1)}catch(e){return console.error("Error checking API status:",e),!1}}const OHe=async(t="products",e=1,n=20,r="",i={products:[],total:0,page:1,totalPages:1})=>{try{const{isAvailable:s,activeUrl:o}=await GD();if(!s)return console.warn("API is not available, returning fallback data"),i;const l=new AbortController,c=setTimeout(()=>l.abort(),15e3),u=async f=>{if(!f.ok)throw new Error(`API returned status ${f.status}`);const h=await f.json();if(h&&h.products&&Array.isArray(h.products))return console.log(`Successfully fetched ${h.products.length} ${t} from API`),{products:h.products,total:h.total||h.products.length,page:h.page||e,totalPages:h.totalPages||Math.ceil((h.total||h.products.length)/n)};if(h&&Array.isArray(h))return console.log(`Successfully fetched ${h.length} ${t} from API (array format)`),{products:h,total:h.length,page:e,totalPages:Math.ceil(h.length/n)};throw console.warn(`Unexpected API response format for ${t}:`,h),new Error("Unexpected API response format")};try{const f=`${o}/api/${t}?page=${e}&limit=${n}${r?`&search=${encodeURIComponent(r)}`:""}`;console.log(`Fetching from new endpoint: ${f}`);const h=await fetch(f,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),p=await u(h);return clearTimeout(c),p}catch(f){console.warn(`Error fetching from new endpoint: ${f}`);try{const h=t==="products"?`${o}/products`:`${o}/grocery-products`;console.log(`Falling back to legacy endpoint: ${h}`);const p=await fetch(h,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),g=await u(p);return clearTimeout(c),g}catch(h){return console.error(`Error fetching from legacy endpoint: ${h}`),clearTimeout(c),console.warn("All fetch attempts failed, returning fallback data"),i}}}catch(s){return console.error(`Error fetching ${t}:`,s),console.warn("Error during fetch process, returning fallback data"),i}},MHe=async(t,e)=>{try{const{isAvailable:n,activeUrl:r}=await GD();if(!n)return console.warn("API is not available, returning mock restaurant data"),jH(t);const i=new AbortController,s=setTimeout(()=>i.abort(),15e3),o=`${r}/api/scrape/restaurants`;console.log(`Fetching restaurant data from: ${o}`);const l=await fetch(o,{signal:i.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({foodItem:t,city:e})});if(clearTimeout(s),!l.ok)throw new Error(`API returned status ${l.status}`);const c=await l.json();if(Array.isArray(c))return console.log(`Successfully fetched ${c.length} restaurants from API`),c;throw console.warn("Unexpected API response format for restaurants:",c),new Error("Unexpected API response format")}catch(n){return console.error("Error fetching restaurant data:",n),jH(t)}},jH=t=>[{name:`Hyderabad ${t} House`,restaurant:`Hyderabad ${t} House`,rating:"4.2",delivery_time:"30-35 min",price_range:"",cuisine:"Various",address:"Road No. 12, Hyderabad Central",popular_dishes:[`${t} Special`,`Spicy ${t}`],source:"Swiggy",redirect:"https://www.swiggy.com",image_url:"https://source.unsplash.com/random/300x200/?restaurant,indian",dish_details:[{name:`${t} Special`,price:"250",description:`Delicious ${t.toLowerCase()} prepared in a special way`,is_veg:!0,rating:"4.5",image_url:`https://source.unsplash.com/random/300x200/?${t.toLowerCase()},food`}]},{name:`Royal ${t}`,restaurant:`Royal ${t}`,rating:"4.3",delivery_time:"35-40 min",price_range:"",cuisine:"Various",address:"Banjara Hills, Hyderabad",popular_dishes:[`Spicy ${t}`,`Classic ${t}`],source:"Zomato",redirect:"https://www.zomato.com",image_url:"https://source.unsplash.com/random/300x200/?restaurant,fancy",dish_details:[{name:`Classic ${t}`,price:"280",description:`Traditional ${t.toLowerCase()} with authentic flavors`,is_veg:!0,rating:"4.4",image_url:`https://source.unsplash.com/random/300x200/?${t.toLowerCase()},dish`}]},{name:`The ${t} Factory`,restaurant:`The ${t} Factory`,rating:"4",delivery_time:"25-30 min",price_range:"",cuisine:"Various",address:"Jubilee Hills, Hyderabad",popular_dishes:[`${t} Special`,`Kadai ${t}`],source:"Swiggy",redirect:"https://www.swiggy.com",image_url:"https://source.unsplash.com/random/300x200/?restaurant,modern",dish_details:[{name:`Kadai ${t}`,price:"270",description:`Spicy ${t.toLowerCase()} with bell peppers and kadai masala`,is_veg:!0,rating:"4.2",image_url:`https://source.unsplash.com/random/300x200/?${t.toLowerCase()},spicy`}]},{name:`Hyderabad ${t} Center`,restaurant:`Hyderabad ${t} Center`,rating:"4.1",delivery_time:"30-35 min",price_range:"",cuisine:"Various",address:"Madhapur, Hyderabad",popular_dishes:[`${t} Special`,"Butter Naan"],source:"Zomato",redirect:"https://www.zomato.com",image_url:"https://source.unsplash.com/random/300x200/?restaurant,traditional",dish_details:[{name:"Butter Naan",price:"50",description:"Soft buttery naan bread",is_veg:!0,rating:"4.3",image_url:"https://source.unsplash.com/random/300x200/?naan,bread"}]}],DHe=({className:t="",onStatusChange:e})=>{const[n,r]=w.useState(null),[i,s]=w.useState(vl),[o,l]=w.useState(!1),[c,u]=w.useState(null),{toast:f}=Tt(),h=async()=>{l(!0);try{const{isAvailable:p,activeUrl:g}=await GD();r(p),s(g),u(new Date),e&&e(p,g),f({title:p?"API is online":"API is offline",description:p?`Connected to the SafeBite API (${g===vl?"Primary":"Backup"})`:"Unable to connect to any API server",variant:p?"default":"destructive"})}catch(p){console.error("Error checking API status:",p),r(!1),e&&e(!1,vl)}finally{l(!1)}};return w.useEffect(()=>{h();const p=setInterval(()=>{h()},5*60*1e3);return()=>clearInterval(p)},[]),a.jsxs("div",{className:`flex items-center gap-1 ${t}`,children:[a.jsx(Mh,{children:a.jsxs(Bg,{children:[a.jsx(Ug,{asChild:!0,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${n===null?"bg-gray-400 animate-pulse":n?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"ml-1 text-xs text-safebite-text-secondary",children:["API ",n===null?"...":n?"Live":"Offline"]})]})}),a.jsx(Dh,{side:"bottom",children:a.jsxs("div",{className:"text-xs",children:[a.jsxs("p",{className:"font-medium",children:["API Status: ",n?"Online":"Offline"]}),n&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Using ",i===vl?"Primary":"Backup"," Server"]}),c&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Last checked: ",c.toLocaleTimeString()]})]})})]})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:h,disabled:o,children:a.jsx(wl,{className:`h-3 w-3 ${o?"animate-spin":""}`})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6",asChild:!0,children:a.jsx("a",{href:`${i}/status`,target:"_blank",rel:"noopener noreferrer",children:a.jsx(Yr,{className:"h-3 w-3"})})})]})},tse=({currentPage:t,totalPages:e,onPageChange:n,totalItems:r,itemsPerPage:i})=>{if(e<=1)return null;const s=()=>{const c=[];if(e<=5)for(let u=1;u<=e;u++)c.push(u);else{c.push(1);let u=Math.max(2,t-1),f=Math.min(e-1,t+1);t<=3&&(f=Math.min(e-1,4)),t>=e-2&&(u=Math.max(2,e-3)),u>2&&c.push("...");for(let h=u;h<=f;h++)c.push(h);f<e-1&&c.push("..."),c.push(e)}return c},o=l=>{l!==t&&l>=1&&l<=e&&n(l)};return a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(1),disabled:t===1,children:a.jsx(zoe,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t-1),disabled:t===1,children:a.jsx(Uoe,{className:"h-4 w-4"})}),s().map((l,c)=>l==="..."?a.jsx("span",{className:"px-2 text-safebite-text-secondary",children:"..."},`ellipsis-${c}`):a.jsx(ee,{variant:t===l?"default":"outline",size:"icon",className:`h-8 w-8 ${t===l?"bg-safebite-teal text-safebite-dark-blue":""}`,onClick:()=>o(l),children:l},`page-${l}`)),a.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t+1),disabled:t===e,children:a.jsx(g7,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(e),disabled:t===e,children:a.jsx(qoe,{className:"h-4 w-4"})})]}),r!==void 0&&i!==void 0&&a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Showing ",Math.min((t-1)*i+1,r)," - ",Math.min(t*i,r)," of ",r," items"]})]})},LHe=()=>{$n();const{toast:t}=Tt(),e=lt(Oe),n=$t(Oe),{isGuest:r}=Vn(),[i,s]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState(!0),[f,h]=w.useState(""),[p,g]=w.useState("all"),[v,y]=w.useState("healthScore"),[b,S]=w.useState(1),[N,k]=w.useState(1),[E,A]=w.useState(0),C=20,[T,I]=w.useState([]),[P,M]=w.useState(!0),[L,D]=w.useState(""),[R,V]=w.useState("all"),[q,H]=w.useState(1),[Y,K]=w.useState(1),[Z,U]=w.useState(0),[W,Q]=w.useState([]),[B,se]=w.useState(!1),[ue,pe]=w.useState(""),[ne,ae]=w.useState([]),[ie,ce]=w.useState("products"),ge=[{id:"all",name:"All Products"},{id:"snacks",name:"Snacks"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"grains",name:"Grains & Cereals"},{id:"protein",name:"Protein Foods"},{id:"fruits",name:"Fruits & Vegetables"}],le=w.useCallback(Ce=>r?(pe(Ce),se(!0),!0):!1,[r,pe,se]);w.useEffect(()=>{(async()=>{if(e.currentUser&&!r)try{const Je=await Mt(Ve(n,"users",e.currentUser.uid));if(Je.exists()){const ht=Je.data(),mt=ht.dietary_preferences||ht.dietaryPreferences||[],It=ht.health_goals||ht.healthGoals||"",lr=ht.allergens||[],vr=[...Array.isArray(mt)?mt:[mt],It,...lr].filter(Boolean);Q(vr);const he=ht.favoriteProducts||[];ae(he)}}catch(Je){console.error("Error fetching user preferences:",Je)}})()},[e,n,r]);const[Ne,$e]=w.useState(null),ot=async(Ce=1,Je="")=>{M(!0);try{nn("grocery_page_view",{isGuest:r,page:Ce,search:Je});const ht={products:bH.slice(0,4),total:4,page:Ce,totalPages:1};try{console.log(`Directly fetching from dataset: ${vl}/dataset/groceryProducts`);const mt=new AbortController,It=setTimeout(()=>mt.abort(),15e3);let lr=`${vl}/dataset/groceryProducts?page=${Ce}&limit=${C}`;Je&&(lr+=`&search=${encodeURIComponent(Je)}`);const vr=await fetch(lr,{signal:mt.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout(It),!vr.ok)throw new Error(`API returned status ${vr.status}`);const he=await vr.json();console.log("Grocery API response:",he);let je;if(Array.isArray(he))je={products:he,total:he.length,page:Ce,totalPages:Math.ceil(he.length/C)};else if(he.products&&Array.isArray(he.products))je={products:he.products,total:he.total||he.products.length,page:he.page||Ce,totalPages:he.totalPages||Math.ceil((he.total||he.products.length)/C)};else throw new Error("Invalid response format from API");return I(je.products),H(je.page),K(je.totalPages),U(je.total),$e(!0),console.log("Successfully loaded grocery products from API"),je}catch(mt){console.error("Direct grocery API call failed:",mt),console.log("Falling back to utility function with status check");const It=await OHe("groceryProducts",Ce,C,Je,ht);return I(It.products),H(It.page),K(It.totalPages),U(It.total),It}}catch(ht){console.error("Error fetching grocery products:",ht);const mt=bH.slice(0,4);return I(mt),H(1),K(1),U(4),{products:mt,total:4,page:1,totalPages:1}}finally{M(!1)}};w.useEffect(()=>{ot(1,L)},[]),w.useEffect(()=>{ie==="grocery"&&ot(1,L)},[ie,L]);const Ae=Ce=>{$e(Ce)},Ke=()=>{ot(1,L)};w.useEffect(()=>{if(p==="all")l(i);else{const Ce=i.filter(Je=>Je.category.toLowerCase()===p.toLowerCase());l(Ce)}},[p,i,l]),w.useEffect(()=>{let Ce=[...o];Ce.sort((Je,ht)=>{switch(v){case"healthScore":return ht.healthScore-Je.healthScore;case"price":return Je.price?ht.price?ht.price-Je.price:-1:1;case"name":return Je.name.localeCompare(ht.name);default:return 0}}),l(Ce)},[v,o,l]);const Nt=async Ce=>{if(!le("favorites"))try{const Je=ne.includes(Ce)?ne.filter(ht=>ht!==Ce):[...ne,Ce];ae(Je),e.currentUser&&await au(Ve(n,"users",e.currentUser.uid),{favoriteProducts:Je})}catch(Je){console.error("Error toggling favorite:",Je),t({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"flex min-h-screen bg-safebite-dark-blue",children:[a.jsx(Ha,{}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[c?a.jsx(_n,{className:"animate-spin h-8 w-8 text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(DHe,{apiAvailable:Ne,onApiStatusChange:Ae}),a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(bt,{placeholder:"Search products...",value:f,onChange:Ce=>h(Ce.target.value),className:"w-full"}),a.jsx(ee,{onClick:handleProductSearch,className:"absolute top-1/2 right-2 -translate-y-1/2",children:a.jsx(In,{className:"h-4 w-4"})})]})]}),a.jsxs(pi,{defaultValue:"grocery",className:"mb-8",children:[a.jsxs(Qr,{className:"grid grid-cols-2 mb-4",children:[a.jsxs(ft,{value:"grocery",className:"flex items-center",children:[a.jsx(BI,{className:"h-4 w-4 mr-2"})," Grocery Products"]}),a.jsxs(ft,{value:"recipes",className:"flex items-center",children:[a.jsx(gr,{className:"h-4 w-4 mr-2"})," Recipes"]})]}),a.jsx(St,{value:"recipes",children:a.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:a.jsx(RHe,{userPreferences:W})})}),a.jsxs(St,{value:"grocery",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("select",{value:R,onChange:Ce=>V(Ce.target.value),className:"w-full p-2 mb-4 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md text-safebite-text",children:ge.map(Ce=>a.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(bt,{type:"text",placeholder:"Search grocery products...",value:L,onChange:Ce=>D(Ce.target.value),className:"sci-fi-input w-full"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ee,{onClick:Ke,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex-shrink-0",disabled:P,children:[P?a.jsx(_n,{className:"h-4 w-4 animate-spin mr-1"}):a.jsx(In,{className:"h-4 w-4 mr-1"}),"Search"]})})]})]}),P?a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx(_n,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text",children:"Loading grocery products..."})]}):T.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.map(Ce=>{var Je,ht;return a.jsxs(Ee,{className:"sci-fi-card overflow-hidden flex flex-col h-full hover:shadow-neon-teal transition-all duration-300",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-safebite-card-bg-alt",children:[a.jsx("img",{src:Ce.imageUrl||`https://source.unsplash.com/random/400x300/?${encodeURIComponent(Ce.name||"food")},food`,alt:Ce.name,className:"object-cover w-full h-full",onError:mt=>{const It=Ce.name||"Food Product";mt.target.src=`https://via.placeholder.com/400x300?text=${encodeURIComponent(It)}`}}),a.jsx(ee,{onClick:mt=>{mt.stopPropagation(),Nt(Ce._id)},variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/30 backdrop-blur-sm hover:bg-black/50 text-white",children:a.jsx(Zn,{className:`h-4 w-4 ${ne.includes(Ce._id)?"fill-safebite-teal text-safebite-teal":""}`})}),a.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded backdrop-blur-sm",children:Ce.category})]}),a.jsxs(Fe,{className:"flex-grow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:Ce.name}),a.jsxs("div",{className:"flex items-center bg-safebite-teal/10 text-safebite-teal px-1.5 py-0.5 rounded text-xs",children:[a.jsx(mr,{className:"h-3 w-3 mr-0.5 fill-safebite-teal"}),a.jsx("span",{children:((Je=Ce.healthScore)==null?void 0:Je.toFixed(1))||"5.0"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:Ce.brand}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(ht=Ce.tags)==null?void 0:ht.slice(0,3).map((mt,It)=>a.jsx(Se,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:mt},It))})]}),a.jsx(El,{className:"p-4 pt-0",children:a.jsx(ee,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>{nn("view_grocery_details",{productId:Ce._id,productName:Ce.name})},children:"View Details"})})]},Ce._id)})}):a.jsx(Ee,{className:"sci-fi-card mb-4",children:a.jsxs(Fe,{className:"p-6 text-center",children:[a.jsx(Wt,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No Grocery Products Found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No grocery products match your search criteria. Try adjusting your filters or search terms."}),a.jsx(ee,{onClick:()=>{D(""),V("all")},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"})]})}),Y>1&&a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(tse,{currentPage:q,totalPages:Y,onPageChange:Ce=>{H(Ce),ot(Ce,L)}})})]})]})]}),B&&a.jsx(PHe,{isOpen:B,onClose:()=>se(!1),feature:ue})]})]})},FHe="modulepreload",$He=function(t){return"/SafeBite-V1/"+t},SH={},nse=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=$He(c),c in SH)return;SH[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":FHe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},RI=async t=>{try{if(!t||t.trim()==="")return[];if(!await uHe())throw console.warn("Grocery API is not available, using fallback data"),new Error("API not available");const n=await ese(`/api/grocery/mongodb-search?q=${encodeURIComponent(t)}`);return n&&Array.isArray(n.results)&&n.results.length>0?n.results.map(r=>({_id:r._id||`${r.name||r.product}-${Date.now()}`,name:r.name||r.product||"Unknown Product",brand:r.brand||"",category:r.category||"",description:r.description||"",price:r.price||0,sale_price:r.sale_price||r.price,market_price:r.market_price||r.price,image_url:r.image_url||`https://source.unsplash.com/random/300x300/?${encodeURIComponent(t)},grocery`,source:"MongoDB",platform:"",redirect:r.redirect||"",nutritional_info:r.nutritional_info||{},offers:r.offers||[],rating:r.rating||0,reviews_count:r.reviews_count||0,in_stock:r.in_stock!==void 0?r.in_stock:!0,delivery_time:r.delivery_time||"",_collection:"grocery"})):[]}catch(e){return console.error("Error searching MongoDB products:",e),[]}},M1=async t=>{try{if(!t||t.trim()==="")return[];console.log("Searching for grocery products using web scraping:",t);const e=[`https://safebite-backend.onrender.com/api/grocery/scrape?q=${encodeURIComponent(t)}`,`http://localhost:5001/api/grocery/scrape?q=${encodeURIComponent(t)}`,`/api/grocery/scrape?q=${encodeURIComponent(t)}`,`/api/grocery/search?q=${encodeURIComponent(t)}`];let n=null,r=null;for(const i of e)try{if(console.log("Trying endpoint:",i),n=await ese(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}},2e4),n&&Array.isArray(n.results)&&n.results.length>0){console.log(`Found ${n.results.length} products from ${i}`);break}}catch(s){console.warn(`Endpoint ${i} failed:`,s),r=s}return n&&Array.isArray(n.results)&&n.results.length>0?n.results.map(i=>({_id:i._id||`${i.name||i.product}-${Date.now()}`,name:i.name||i.product||"Unknown Product",brand:i.brand||"",category:i.category||"",description:i.description||"",price:i.price||0,sale_price:i.sale_price||i.price,market_price:i.market_price||i.price,image_url:i.image_url||`https://source.unsplash.com/random/300x300/?${encodeURIComponent(t)},grocery`,source:i.source||"Scraping",platform:i.platform||i.source||"",redirect:i.redirect||"",nutritional_info:i.nutritional_info||{},offers:i.offers||[],rating:i.rating||4,reviews_count:i.reviews_count||0,in_stock:i.in_stock!==void 0?i.in_stock:!0,delivery_time:i.delivery_time||"",_collection:"grocery",weight:i.weight||""})):(console.warn("No results from scraping API, using fallback data"),wa(t,"Scraping"))}catch(e){return console.error("Error searching scraped products:",e),wa(t,"Scraping")}},wa=(t,e="MongoDB")=>(nn("using_mock_grocery_data",{query:t,source:e,reason:"API failure"}),dHe("grocery",t).map(r=>({...r,source:e==="Scraping"?r.platform||"Scraping":"MongoDB",platform:e==="Scraping"?r.platform:""}))),OI=async(t,e=!1)=>{try{const n=e?await M1(t):await RI(t);if(n.length>0)return n;const r=e?await RI(t):await M1(t);return r.length>0?r:wa(t,e?"Scraping":"MongoDB")}catch(n){return console.error("Error in unified grocery search:",n),wa(t,e?"Scraping":"MongoDB")}},VHe=Object.freeze(Object.defineProperty({__proto__:null,generateMockProducts:wa,searchMongoDBProducts:RI,searchScrapedProducts:M1,unifiedGrocerySearch:OI},Symbol.toStringTag,{value:"Module"})),wx="https://safebite-backend.onrender.com",NH="https://safebite-backend.onrender.com",BHe=async()=>{try{console.log("Checking API status at:",wx);const t=await fetch(`${wx}/`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(t.ok){const e=await t.json();if(console.log("API status check response:",e),e&&(e.status==="API is running"||e.status==="running"||e.api_status==="running"))return!0}console.warn(`Main API check failed with status ${t.status}, trying backup...`)}catch(t){console.warn("Error checking main API status:",t)}try{console.log("Checking backup API status at:",NH);const t=await fetch(`${NH}/`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(t.ok){const e=await t.json();return console.log("Backup API status check response:",e),e&&(e.status==="API is running"||e.status==="running"||e.api_status==="running")}return console.error(`Backup API check failed with status ${t.status}`),!1}catch(t){return console.error("Error checking backup API status:",t),!1}},UHe=async(t=1,e=20,n="",r="")=>{try{const{unifiedGrocerySearch:i,generateMockProducts:s}=await nse(async()=>{const{unifiedGrocerySearch:p,generateMockProducts:g}=await Promise.resolve().then(()=>VHe);return{unifiedGrocerySearch:p,generateMockProducts:g}},void 0);if(!await BHe()){console.warn("API is not available, using unified grocery service as fallback");try{const g=await i(n||"grocery",!1);if(g&&g.length>0){console.log("Successfully retrieved products from unified grocery service:",g.length);const v=(t-1)*e,y=v+e;return{products:g.slice(v,y).map(N=>({_id:N._id,name:N.name,brand:N.brand,category:N.category,description:N.description,price:N.price,sale_price:N.sale_price,market_price:N.market_price,imageUrl:N.image_url,rating:N.rating,_collection:"grocery",nutritionalInfo:N.nutritional_info,tags:N.offers,platform:N.platform,source:N.source})),total:g.length,page:t,totalPages:Math.ceil(g.length/e)}}}catch(g){console.error("Unified grocery service fallback failed:",g)}const p=s(n||"grocery","MongoDB");return{products:p.map(g=>({_id:g._id,name:g.name,brand:g.brand,category:g.category,description:g.description,price:g.price,sale_price:g.sale_price,market_price:g.market_price,imageUrl:g.image_url,rating:g.rating,_collection:"grocery",nutritionalInfo:g.nutritional_info,tags:g.offers,platform:g.platform,source:g.source})),total:p.length,page:1,totalPages:1}}const l=["/grocery","/grocery-products","/api/grocery","/api/grocery-products","/dataset/grocery","/dataset/groceryProducts"];let c=null,u="",f=!1;for(const p of l){u=`${wx}${p}?page=${t}&limit=${e}`,n&&(u+=`&search=${encodeURIComponent(n)}`),r&&r.toLowerCase()!=="all"&&(u+=`&category=${encodeURIComponent(r)}`),console.log("Trying grocery endpoint:",u);try{const g=new AbortController,v=setTimeout(()=>g.abort(),5e3);if(c=await fetch(u,{method:"GET",headers:{Accept:"application/json"},signal:g.signal}),clearTimeout(v),c.ok){f=!0,console.log("Found working grocery endpoint:",u);break}}catch(g){console.warn(`Grocery endpoint ${p} failed:`,g)}}if(!f||!c){console.warn("All grocery endpoints failed, trying search endpoint as fallback");try{const p=`${wx}/search?q=${encodeURIComponent(n||"food")}&collection=grocery&limit=${e}`;console.log("Trying search fallback:",p);const g=new AbortController,v=setTimeout(()=>g.abort(),5e3);c=await fetch(p,{method:"GET",headers:{Accept:"application/json"},signal:g.signal}),clearTimeout(v),c.ok&&(console.log("Search fallback successful"),f=!0)}catch(p){console.error("Search fallback also failed:",p)}}if(!f||!c){console.warn("All MongoDB endpoints failed, trying web scraping service");try{if(n){const p=await M1(n);if(p&&p.length>0){console.log("Using scraped grocery products:",p.length);const g=p.map(S=>({_id:S._id||`scraped_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:S.name,brand:S.brand,category:S.category,description:S.description,sale_price:S.sale_price,market_price:S.market_price,price:S.price,imageUrl:S.image_url,rating:S.rating,_collection:"grocery",nutritionalInfo:S.nutritional_info,tags:S.offers})),v=(t-1)*e,y=v+e;return{products:g.slice(v,y),total:g.length,page:t,totalPages:Math.ceil(g.length/e)}}}}catch(p){console.error("Error using web scraping service:",p)}return console.error("All data retrieval methods failed"),{products:[],total:0,page:1,totalPages:1}}const h=await c.json();if(console.log("Grocery products API response:",h),h.products&&Array.isArray(h.products))return{products:h.products.map(p=>(!p.name&&p.product&&(p.name=p.product),p._collection||(p._collection="grocery"),p)),total:h.total||0,page:h.page||t,totalPages:h.totalPages||1};if(h.results&&Array.isArray(h.results)){const p=h.results.filter(g=>g._collection==="grocery"||g.product||g.category==="Grocery");return{products:p.map(g=>(!g.name&&g.product&&(g.name=g.product),g._collection||(g._collection="grocery"),g)),total:p.length,page:t,totalPages:Math.ceil(p.length/e)}}else return Array.isArray(h)?{products:h.map(p=>(!p.name&&p.product&&(p.name=p.product),p._collection||(p._collection="grocery"),p)),total:h.length,page:t,totalPages:Math.ceil(h.length/e)}:(console.warn("Unexpected API response format:",h),{products:[],total:0,page:t,totalPages:1})}catch(i){return console.error("Error fetching grocery products:",i),{products:[],total:0,page:1,totalPages:1}}},zHe=({product:t,onClose:e})=>{const{toast:n}=Tt(),{isGuest:r}=Vn(),[i,s]=w.useState(!1),o=t.name||t.product||"Unknown Product",l=t.brand||t.Brand||"Generic Brand",c=t.category||t.Category||"Grocery",u=t.description||"",f=t.price||t.sale_price||0,h=t.market_price||f*1.2,p=t.rating||t.healthScore||4,g=t.image_url||t.imageUrl||`https://source.unsplash.com/random/300x300/?${encodeURIComponent(o)},grocery`,v=t.offers||t.tags||[],y=t.source||"Grocery Store",b=t.redirect||"",S=t.delivery_time||"30-60 min",N=t.in_stock!==!1,k=h&&f?Math.round((h-f)/h*100):0,E=()=>{s(!i),nn("toggle_favorite_grocery",{isGuest:r,productName:o,productId:t._id,isFavorite:!i}),n({title:i?"Removed from favorites":"Added to favorites",description:i?`${o} has been removed from your favorites.`:`${o} has been added to your favorites.`,variant:i?"destructive":"default"})},A=()=>{nn("buy_grocery_product",{isGuest:r,productName:o,productId:t._id,source:y});const C=`https://www.google.com/search?q=${encodeURIComponent(o)}+${encodeURIComponent(l)}+buy+online&tbm=shop`;try{b?(window.open(b,"_blank","noopener,noreferrer"),n({title:"Opening store website",description:`Taking you to ${y} to purchase ${o}.`})):(window.open(C,"_blank","noopener,noreferrer"),n({title:"Searching for product",description:`Searching online stores for ${o}.`}))}catch(T){console.error("Error opening redirect URL:",T),window.open(C,"_blank","noopener,noreferrer"),n({title:"Using alternative search",description:`Searching online stores for ${o}.`})}};return a.jsxs(Ee,{className:"max-w-3xl mx-auto bg-safebite-card-bg border-safebite-teal/30 overflow-auto max-h-[90vh]",children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(Qe,{className:"text-xl font-bold text-safebite-text",children:o}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:E,children:a.jsx(Zn,{className:`h-5 w-5 ${i?"fill-red-500 text-red-500":"text-safebite-text-secondary"}`})})]}),a.jsxs("div",{className:"flex items-center text-sm text-safebite-text-secondary",children:[a.jsx("span",{children:l}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("span",{children:c}),a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(mr,{className:"h-3.5 w-3.5 mr-1 fill-yellow-500 text-yellow-500"}),p]})]})]})]}),a.jsxs(Fe,{className:"pt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"rounded-lg overflow-hidden bg-safebite-card-bg-alt h-64 flex items-center justify-center",children:a.jsx("img",{src:g,alt:o,className:"w-full h-full object-contain",onError:C=>{C.currentTarget.src=`https://source.unsplash.com/random/300x300/?${encodeURIComponent(o)},grocery`}})}),a.jsxs("div",{className:"flex flex-col justify-between",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-baseline",children:[a.jsxs("span",{className:"text-2xl font-bold text-safebite-text",children:["",f]}),h&&h>f&&a.jsxs("span",{className:"ml-2 text-sm line-through text-safebite-text-secondary",children:["",h]}),k>0&&a.jsxs(Se,{className:"ml-2 bg-green-500/20 text-green-500 border-green-500",children:[k,"% OFF"]})]}),a.jsxs("div",{className:"flex items-center mt-2 text-sm text-safebite-text-secondary",children:[a.jsx(dn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:S}),a.jsx("span",{className:"mx-2",children:""}),a.jsx(Cx,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Free Delivery"})]}),a.jsxs("div",{className:"mt-2",children:[N?a.jsx(Se,{className:"bg-green-500/20 text-green-500 border-green-500",children:"In Stock"}):a.jsx(Se,{className:"bg-red-500/20 text-red-500 border-red-500",children:"Out of Stock"}),a.jsx(Se,{className:"ml-2 bg-safebite-card-bg-alt text-safebite-text-secondary",children:y})]})]}),v&&v.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(go,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Available Offers"]}),a.jsx("ul",{className:"space-y-1.5",children:v.map((C,T)=>a.jsxs("li",{className:"text-xs text-safebite-text-secondary flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-1.5",children:""}),C]},T))})]}),u&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-safebite-text mb-1 flex items-center",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Description"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:u})]}),a.jsxs("div",{className:"flex gap-3 mt-auto",children:[a.jsx(ee,{variant:"outline",className:"flex-1",onClick:e,children:"Close"}),a.jsxs(ee,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:A,disabled:!b||!N,children:[a.jsx(du,{className:"mr-2 h-4 w-4"}),"Buy Now"]})]})]})]}),!t.nutritional_info&&a.jsxs("div",{className:"mt-6 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:[a.jsx("p",{className:"font-medium mb-1",children:"Nutritional information not available"}),a.jsx("p",{children:"We recommend checking the product packaging for detailed nutritional information."})]})]}),a.jsxs("div",{className:"mt-6 text-xs text-safebite-text-secondary flex justify-between items-center",children:[a.jsxs("span",{children:["Data source: ",y]}),b&&a.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-safebite-teal hover:underline",children:["View on ",y," ",a.jsx(Yr,{className:"h-3 w-3 ml-1"})]})]})]})]})},D1={blinkit:{primary:"#F9D923",secondary:"#F9D923",badge:"bg-yellow-500/80 text-black font-medium",card:"hover:border-yellow-400/70 hover:shadow-[0_0_15px_rgba(249,217,35,0.3)]",icon:a.jsx("div",{className:"h-4 w-4 mr-2 bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(co,{className:"h-2.5 w-2.5 text-black"})})},zepto:{primary:"#8C52FF",secondary:"#8C52FF",badge:"bg-purple-600/80 text-white font-medium",card:"hover:border-purple-400/70 hover:shadow-[0_0_15px_rgba(140,82,255,0.3)]",icon:a.jsx("div",{className:"h-4 w-4 mr-2 bg-purple-600 rounded-full flex items-center justify-center",children:a.jsx(co,{className:"h-2.5 w-2.5 text-white"})})},instamart:{primary:"#FC8019",secondary:"#FC8019",badge:"bg-orange-500/80 text-white font-medium",card:"hover:border-orange-400/70 hover:shadow-[0_0_15px_rgba(252,128,25,0.3)]",icon:a.jsx("div",{className:"h-4 w-4 mr-2 bg-orange-500 rounded-full flex items-center justify-center",children:a.jsx(co,{className:"h-2.5 w-2.5 text-white"})})},bigbasket:{primary:"#84C225",secondary:"#84C225",badge:"bg-green-600/80 text-white font-medium",card:"hover:border-green-400/70 hover:shadow-[0_0_15px_rgba(132,194,37,0.3)]",icon:a.jsx("div",{className:"h-4 w-4 mr-2 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(co,{className:"h-2.5 w-2.5 text-white"})})},all:{primary:"#10B981",secondary:"#10B981",badge:"bg-black/50 text-white",card:"hover:border-safebite-teal/50 hover:shadow-neon-teal",icon:a.jsx(co,{className:"h-4 w-4 mr-2 text-safebite-teal"})}},L1=({platform:t,size:e="md"})=>{const[n,r]=w.useState(!1),i=t.toLowerCase(),s=D1[i]||D1.all,o={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return w.useEffect(()=>{const l=new Image;l.src=`/images/${t.toLowerCase()}-logo.png`,l.onload=()=>r(!0),l.onerror=()=>r(!1)},[t]),n?a.jsx("img",{src:`/images/${t.toLowerCase()}-logo.png`,alt:t,className:`${o[e]} mr-2 object-contain`,onError:()=>r(!1)}):s.icon},rse=({searchQuery:t="",category:e="",maxOffers:n=4})=>{const{toast:r}=Tt(),{isGuest:i}=Vn(),[s,o]=w.useState(!0),[l,c]=w.useState([]),[u,f]=w.useState(null);w.useEffect(()=>{(async()=>{o(!0),f(null);try{const v=lt(Oe),y=$t(Oe);if(i||!t){c(p(e,n)),o(!1);return}if(!v.currentUser){c(p(e,n)),o(!1);return}const b=bo(y,"offers");let S;e?S=ky(b,Yg("category","==",e),Yg("active","==",!0),Ay("createdAt","desc"),gw(n)):S=ky(b,Yg("active","==",!0),Ay("createdAt","desc"),gw(n));const N=await AO(S);if(N.empty)c(p(e,n));else{const k=[];N.forEach(E=>{var C;const A=E.data();k.push({id:E.id,title:A.title,description:A.description,code:A.code,expiryDate:(C=A.expiryDate)==null?void 0:C.toDate(),platform:A.platform,url:A.url,discount:A.discount,minPurchase:A.minPurchase,category:A.category,isNew:A.isNew})}),c(k)}}catch(v){console.error("Error fetching offers:",v),f("Failed to fetch offers. Please try again later."),c(p(e,n))}finally{o(!1)}})()},[t,e,n,i]);const h=g=>{nn("use_offer",{offerId:g.id,offerTitle:g.title,platform:g.platform}),g.code&&navigator.clipboard.writeText(g.code).then(()=>{r({title:"Promo Code Copied!",description:`${g.code} has been copied to your clipboard.`,variant:"default"})}).catch(()=>{r({title:"Could not copy code",description:`Please manually copy this code: ${g.code}`,variant:"destructive"})}),g.url&&window.open(g.url,"_blank","noopener,noreferrer")},p=(g,v)=>{const y=["Blinkit","Zepto","Instamart","BigBasket","Swiggy","Zomato"],b=[];if(g==="grocery"?b.push({id:"grocery-1",title:"First Order 50% OFF",description:"Get 50% off on your first order up to 100",code:"FIRST50",platform:"Blinkit",url:"https://blinkit.com",discount:"50%",minPurchase:"200",category:"grocery",isNew:!0},{id:"grocery-2",title:"100 OFF on Fruits & Vegetables",description:"Use code FRESH100 for 100 off on fruits and vegetables",code:"FRESH100",platform:"BigBasket",url:"https://bigbasket.com",discount:"100",minPurchase:"500",category:"grocery"},{id:"grocery-3",title:"Free Delivery on Orders Above 300",description:"No code needed. Free delivery automatically applied at checkout",platform:"Zepto",url:"https://zepto.com",minPurchase:"300",category:"grocery"},{id:"grocery-4",title:"Buy 1 Get 1 Free on Selected Items",description:"Limited time offer on selected products",code:"BOGO",platform:"Instamart",url:"https://instamart.com",category:"grocery",isNew:!0}):g==="food"?b.push({id:"food-1",title:"60% OFF up to 150",description:"Use code MEAL60 for 60% off up to 150 on your order",code:"MEAL60",platform:"Swiggy",url:"https://swiggy.com",discount:"60%",minPurchase:"250",category:"food",isNew:!0},{id:"food-2",title:"Free Delivery on First 3 Orders",description:"No minimum order value required",code:"FREEDEL",platform:"Zomato",url:"https://zomato.com",category:"food"},{id:"food-3",title:"75 OFF on Orders Above 300",description:"Limited time offer for all users",code:"SAVE75",platform:"Swiggy",url:"https://swiggy.com",discount:"75",minPurchase:"300",category:"food"},{id:"food-4",title:"20% OFF on Healthy Food",description:"Special discount on restaurants with healthy food options",code:"HEALTH20",platform:"Zomato",url:"https://zomato.com",discount:"20%",category:"food",isNew:!0}):b.push({id:"generic-1",title:"100 OFF on First Order",description:"Get 100 off on your first order",code:"WELCOME100",platform:y[Math.floor(Math.random()*y.length)],discount:"100",category:"general",isNew:!0},{id:"generic-2",title:"Free Delivery",description:"Free delivery on all orders above 200",platform:y[Math.floor(Math.random()*y.length)],minPurchase:"200",category:"general"},{id:"generic-3",title:"15% OFF for New Users",description:"Use code NEW15 for 15% off on your first order",code:"NEW15",platform:y[Math.floor(Math.random()*y.length)],discount:"15%",category:"general"},{id:"generic-4",title:"Special Weekend Offer",description:"Get 10% off on all orders this weekend",code:"WEEKEND10",platform:y[Math.floor(Math.random()*y.length)],discount:"10%",category:"general",isNew:!0}),t){const S=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();t.toLowerCase().split(" ");const N=[{id:`search-blinkit-${Date.now()}`,title:`${S} Special on Blinkit`,description:`Get up to 40% off on ${t.toLowerCase()} and related products with instant delivery`,code:`BLINK${t.toUpperCase().substring(0,3)}40`,platform:"Blinkit",url:`https://blinkit.com/search?q=${encodeURIComponent(t)}`,discount:"40%",minPurchase:"250",category:g||"grocery",isNew:!0},{id:`search-zepto-${Date.now()}`,title:`Zepto ${S} Deals`,description:`Buy ${t.toLowerCase()} and get free delivery plus 20% cashback`,code:`ZEPTO${t.toUpperCase().substring(0,3)}`,platform:"Zepto",url:`https://www.zeptonow.com/search?q=${encodeURIComponent(t)}`,discount:"20% Cashback",category:g||"grocery",isNew:Math.random()>.5},{id:`search-bigbasket-${Date.now()}`,title:`BigBasket ${S} Combo Offer`,description:`Buy ${t.toLowerCase()} and related items together to save 25%`,code:`BB${t.toUpperCase().substring(0,4)}25`,platform:"BigBasket",url:`https://www.bigbasket.com/ps/?q=${encodeURIComponent(t)}`,discount:"25%",minPurchase:"500",category:g||"grocery"},{id:`search-instamart-${Date.now()}`,title:`Instamart ${S} Flash Sale`,description:`Limited time offer: Get ${t.toLowerCase()} at 30% off for the next 2 hours`,platform:"Instamart",url:`https://www.swiggy.com/instamart/search?query=${encodeURIComponent(t)}`,discount:"30%",category:g||"grocery",isNew:!0}];b.unshift(...N),b.unshift({id:`search-generic-${Date.now()}`,title:`Special Offer on ${S}`,description:`Get special discounts on ${t.toLowerCase()} and related products across all platforms`,code:`${t.toUpperCase().substring(0,4)}25`,platform:y[Math.floor(Math.random()*y.length)],discount:"25%",category:g||"general",isNew:!0})}return b.slice(0,v)};return s?a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(y0,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Related Offers"]})}),a.jsx(Fe,{className:"pt-2",children:a.jsxs("div",{className:"flex justify-center items-center py-8",children:[a.jsx(_n,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading offers..."})]})})]}):u?a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(y0,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Related Offers"]})}),a.jsx(Fe,{className:"pt-2",children:a.jsxs("div",{className:"flex items-center justify-center py-6",children:[a.jsx(Wt,{className:"h-5 w-5 text-yellow-500 mr-2"}),a.jsx("span",{className:"text-safebite-text-secondary",children:u})]})})]}):l.length===0?null:a.jsxs(Ee,{className:"sci-fi-card",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(y0,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Related Offers",t&&a.jsx(Se,{className:"ml-2 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/30",children:"Based on your search"})]})}),a.jsx(Fe,{className:"pt-2",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(g=>{var b;const v=g.platform.toLowerCase(),y=((b=D1[v])==null?void 0:b.primary)||D1.all.primary;return a.jsxs("div",{className:"border rounded-lg overflow-hidden transition-all duration-300 hover:shadow-lg relative",style:{borderColor:`${y}40`},children:[g.isNew&&a.jsxs("div",{className:"absolute top-0 right-0 bg-green-500 text-white text-xs px-2 py-0.5 rounded-bl-lg",children:[a.jsx(Rn,{className:"h-3 w-3 inline mr-1"}),"NEW"]}),a.jsxs("div",{className:"px-3 py-1.5 flex items-center",style:{backgroundColor:`${y}20`},children:[a.jsx(L1,{platform:g.platform,size:"sm"}),a.jsx("span",{className:"text-sm font-medium",children:g.platform}),g.discount&&a.jsx(Se,{className:"ml-auto bg-green-500/90 text-white border-0",children:g.discount})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("h3",{className:"font-medium text-safebite-text mb-1",children:g.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:g.description}),a.jsxs("div",{className:"space-y-1 mb-3",children:[g.code&&a.jsxs("div",{className:"flex items-center text-xs",children:[a.jsx(go,{className:"h-3 w-3 text-safebite-teal mr-1"}),a.jsx("span",{className:"font-medium",children:"Code: "}),a.jsx("code",{className:"ml-1 px-1.5 py-0.5 bg-safebite-card-bg-alt rounded",children:g.code})]}),g.minPurchase&&a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(co,{className:"h-3 w-3 mr-1"}),a.jsxs("span",{children:["Min. purchase: ",g.minPurchase]})]}),g.expiryDate&&a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),a.jsxs("span",{children:["Expires: ",g.expiryDate.toLocaleDateString()]})]})]}),a.jsxs(ee,{className:"w-full text-sm",style:{backgroundColor:y,color:y==="#F9D923"?"black":"white"},onClick:()=>h(g),children:[g.code?"Use Code":"View Offer",a.jsx(Yr,{className:"h-3.5 w-3.5 ml-1"})]})]})]},g.id)})})})]})},qHe=async t=>{nn("ai_grocery_insights",{productName:t.name,productCategory:t.category,productBrand:t.brand}),await new Promise(i=>setTimeout(i,1200));const e=t.name||"Unknown Product",n=t.category||"";t.brand;let r={nutritionalAnalysis:"",healthBenefits:[],potentialConcerns:[],healthyAlternatives:[],dietaryConsiderations:"",sustainabilityInfo:"",preparationTips:[],pairingSuggestions:[]};return n.toLowerCase().includes("fruit")||e.toLowerCase().includes("fruit")?r=HHe(e):n.toLowerCase().includes("vegetable")||e.toLowerCase().includes("vegetable")?r=WHe(e):n.toLowerCase().includes("dairy")||e.toLowerCase().includes("milk")||e.toLowerCase().includes("cheese")||e.toLowerCase().includes("yogurt")?r=GHe(e):n.toLowerCase().includes("bakery")||e.toLowerCase().includes("bread")||e.toLowerCase().includes("cake")?r=KHe(e):n.toLowerCase().includes("snack")||e.toLowerCase().includes("chips")||e.toLowerCase().includes("cookie")?r=YHe(e):n.toLowerCase().includes("meat")||e.toLowerCase().includes("chicken")||e.toLowerCase().includes("beef")||e.toLowerCase().includes("pork")?r=XHe(e):n.toLowerCase().includes("beverage")||e.toLowerCase().includes("drink")||e.toLowerCase().includes("juice")||e.toLowerCase().includes("water")?r=QHe(e):r=JHe(e),r},HHe=t=>({nutritionalAnalysis:`${t} is an excellent source of vitamins, antioxidants, and dietary fiber. It is naturally low in calories and fat, making it a healthy choice for most diets.`,healthBenefits:["Rich in essential vitamins and minerals","Contains natural antioxidants that help fight free radicals","Good source of dietary fiber for digestive health","Supports immune system function","Provides natural energy without added sugars"],potentialConcerns:["May contain natural sugars, monitor intake if you have diabetes","Some individuals may have specific fruit allergies","Pesticide residue may be present if not organic"],healthyAlternatives:["Try different varieties of the same fruit for nutrient diversity","Frozen versions retain most nutrients and have longer shelf life","Dried versions (without added sugar) for on-the-go snacking"],dietaryConsiderations:"Suitable for most diets including vegan, vegetarian, paleo, and whole food diets. Generally gluten-free and dairy-free.",sustainabilityInfo:"Look for locally grown and seasonal options to reduce carbon footprint. Organic varieties avoid pesticides that can harm beneficial insects.",preparationTips:["Wash thoroughly before consuming","Enjoy fresh for maximum nutrient retention","Add to smoothies for a nutritional boost","Freeze ripe pieces for later use in smoothies or desserts"],pairingSuggestions:["Pairs well with yogurt for a balanced breakfast","Add to salads for extra flavor and nutrition","Combine with nuts for a satisfying snack with protein and healthy fats"]}),WHe=t=>({nutritionalAnalysis:`${t} is a nutrient-dense food low in calories but high in vitamins, minerals, and fiber. It is an excellent addition to a balanced diet.`,healthBenefits:["Excellent source of essential vitamins and minerals","High in dietary fiber for digestive health","Contains phytonutrients with anti-inflammatory properties","Supports healthy immune function","Low calorie density helps with weight management"],potentialConcerns:["Some vegetables may interact with certain medications","Raw varieties may be difficult to digest for some people","Pesticide residue may be present if not organic"],healthyAlternatives:["Different colored vegetables offer varied nutrient profiles","Frozen vegetables retain nutrients and are convenient","Fermented versions for probiotic benefits"],dietaryConsiderations:"Suitable for most diets including vegan, vegetarian, paleo, keto, and whole food diets. Generally gluten-free and dairy-free.",sustainabilityInfo:"Locally grown, seasonal vegetables have a lower carbon footprint. Organic farming practices support soil health and biodiversity.",preparationTips:["Light steaming preserves more nutrients than boiling","Roasting brings out natural sweetness","Add healthy fats like olive oil to increase absorption of fat-soluble vitamins","Use the entire vegetable including stems and leaves when possible to reduce waste"],pairingSuggestions:["Pair with whole grains for a complete meal","Combine with lean proteins for balanced nutrition","Add herbs and spices instead of salt for flavor"]}),GHe=t=>({nutritionalAnalysis:`${t} is a good source of calcium, protein, and vitamin D. It provides essential nutrients for bone health and muscle function.`,healthBenefits:["Excellent source of calcium for bone health","Contains complete proteins with all essential amino acids","Provides vitamin D (if fortified) for calcium absorption","Contains probiotics (in fermented dairy) for gut health","Good source of B vitamins, especially B12"],potentialConcerns:["Contains lactose which may cause digestive issues for some people","Full-fat versions are higher in saturated fat","May contain added sugars in flavored varieties","Potential allergen for those with milk allergies"],healthyAlternatives:["Lactose-free versions for those with lactose intolerance","Plant-based alternatives like almond, soy, or oat milk products","Greek yogurt for higher protein content","Reduced-fat options for lower calorie intake"],dietaryConsiderations:"Not suitable for vegan diets. May be included in vegetarian, pescatarian, and omnivorous diets. Not suitable for dairy-free or paleo diets.",sustainabilityInfo:"Dairy production has a significant environmental footprint. Look for products from farms with sustainable practices and animal welfare certifications.",preparationTips:["Store properly in refrigerator to maintain freshness","Use as a base for smoothies or overnight oats","Make homemade yogurt or cheese for fewer additives","Freeze yogurt for a refreshing frozen treat"],pairingSuggestions:["Pair with fresh fruit for a balanced snack","Use as a protein-rich addition to whole grain cereals","Combine with herbs for savory dips and spreads"]}),KHe=t=>({nutritionalAnalysis:`${t} provides carbohydrates for energy but varies widely in nutritional value depending on ingredients. Whole grain versions offer more fiber and nutrients.`,healthBenefits:["Provides carbohydrates for energy","Whole grain versions contain fiber for digestive health","Can be fortified with vitamins and minerals","May contain seeds or nuts that provide healthy fats","Sourdough varieties may be easier to digest"],potentialConcerns:["Often high in refined carbohydrates","May contain added sugars","Can be high in sodium","Contains gluten (except gluten-free varieties)","Some commercial products contain preservatives and additives"],healthyAlternatives:["Whole grain versions for more fiber and nutrients","Sprouted grain products for increased nutrient availability","Gluten-free options for those with celiac disease or gluten sensitivity","Sourdough for potential probiotic benefits"],dietaryConsiderations:"Traditional bakery products contain gluten and are not suitable for gluten-free diets. May contain eggs or dairy. Look for specialized products for specific dietary needs.",sustainabilityInfo:"Local bakeries may have a lower carbon footprint than mass-produced products. Consider packaging waste when purchasing.",preparationTips:["Toast to enhance flavor and texture","Freeze fresh bakery items to extend shelf life","Make open-faced sandwiches to reduce carbohydrate intake","Use as a base for healthy toppings like avocado or hummus"],pairingSuggestions:["Pair with protein sources like eggs or nut butters for balanced nutrition","Top with vegetables for added nutrients","Serve with healthy fats like avocado or olive oil"]}),YHe=t=>({nutritionalAnalysis:`${t} is a convenient snack option but nutritional value varies widely. Look for versions with minimal processing, lower sodium, and no artificial additives.`,healthBenefits:["Convenient source of energy between meals","Some varieties contain whole grains or nuts for added nutrition","Can help maintain blood sugar levels between meals","Portion-controlled packages can aid in portion management","Some contain beneficial ingredients like seeds or dried fruit"],potentialConcerns:["Often high in sodium and added sugars","May contain unhealthy fats like trans fats","Usually energy-dense but nutrient-poor","Many contain artificial flavors, colors, and preservatives","Easy to overconsume due to high palatability"],healthyAlternatives:["Fresh fruit or vegetables with hummus or nut butter","Plain nuts or seeds without added salt or sugar","Air-popped popcorn without butter","Greek yogurt with berries","Homemade versions with controlled ingredients"],dietaryConsiderations:"Check ingredients carefully for allergens like nuts, dairy, or gluten. Many processed snacks contain multiple allergens and are not suitable for specialized diets.",sustainabilityInfo:"Packaged snacks often create significant packaging waste. Look for products with minimal or recyclable packaging.",preparationTips:["Portion out into smaller containers to avoid overeating","Combine with protein or healthy fats to increase satiety","Make your own trail mix with nuts, seeds, and dried fruit","Read labels carefully to avoid unhealthy additives"],pairingSuggestions:["Pair with protein sources like cheese or nuts for better blood sugar control","Balance salty snacks with fresh fruit or vegetables","Serve with water instead of sugary beverages"]}),XHe=t=>({nutritionalAnalysis:`${t} is a complete protein source containing all essential amino acids. It also provides important nutrients like iron, zinc, and B vitamins.`,healthBenefits:["Excellent source of complete protein","Rich in heme iron, which is more easily absorbed than plant iron","Good source of zinc for immune function","Contains vitamin B12, which is not found in plant foods","Provides essential amino acids for muscle maintenance and growth"],potentialConcerns:["Can be high in saturated fat depending on the cut","Processed varieties may contain sodium, nitrates, and preservatives","High consumption linked to increased risk of certain health conditions","May contain antibiotics or hormones if not organic","Environmental and ethical considerations with production"],healthyAlternatives:["Leaner cuts for lower fat content","Organic or grass-fed options to avoid additives","Plant-based meat alternatives","Fish and seafood for omega-3 fatty acids","Legumes and tofu for plant-based protein"],dietaryConsiderations:"Not suitable for vegetarian or vegan diets. Fits into omnivorous, paleo, and keto diets. Generally gluten-free and dairy-free unless processed with additives.",sustainabilityInfo:"Meat production has a significant environmental impact. Consider reducing consumption and choosing sustainably raised options when possible.",preparationTips:["Trim visible fat before cooking","Use cooking methods like grilling, baking, or steaming instead of frying","Marinate with herbs and spices instead of high-sodium marinades","Control portion sizes (recommended serving is about 3-4 oz)"],pairingSuggestions:["Serve with plenty of vegetables for a balanced meal","Pair with whole grains for complete nutrition","Add herbs and spices for flavor without excess sodium"]}),QHe=t=>({nutritionalAnalysis:`The nutritional value of ${t} varies widely depending on ingredients. Water, unsweetened tea, and black coffee are healthiest, while sugary drinks should be limited.`,healthBenefits:["Contributes to daily hydration needs","Some beverages contain beneficial antioxidants","Can provide vitamins and minerals depending on ingredients","Certain herbal teas may have specific health benefits","Some provide electrolytes for hydration balance"],potentialConcerns:["Many beverages contain added sugars","Some contain caffeine which may affect sleep or cause jitters","Acidic drinks may affect dental health","Some contain artificial sweeteners, colors, or flavors","Calories from beverages do not provide the same satiety as food"],healthyAlternatives:["Water is the healthiest beverage choice","Unsweetened tea or coffee","Infused water with fruit or herbs","Sparkling water without added sweeteners","Homemade smoothies with whole fruits and vegetables"],dietaryConsiderations:"Check ingredients for allergens, added sugars, and artificial additives. Many beverages contain hidden ingredients that may not align with specific dietary needs.",sustainabilityInfo:"Consider packaging waste and transportation impact. Tap water in a reusable bottle has the lowest environmental footprint.",preparationTips:["Make your own infused water with fresh fruits and herbs","Brew tea or coffee at home to control additives","Dilute fruit juices with water to reduce sugar content","Use frozen fruit instead of ice for naturally flavored cold drinks"],pairingSuggestions:["Pair water with meals to aid digestion","Serve herbal teas with evening meals for better sleep","Balance caffeinated beverages with adequate water intake"]}),JHe=t=>({nutritionalAnalysis:`The nutritional profile of ${t} depends on its ingredients and processing methods. Check the nutrition facts panel for specific information.`,healthBenefits:["May provide essential nutrients depending on ingredients","Can be part of a balanced diet when consumed appropriately","Convenience may help maintain regular eating patterns","Fortified products may provide additional vitamins and minerals","Can help meet specific dietary needs when chosen carefully"],potentialConcerns:["Processed foods often contain added sodium, sugars, and preservatives","May be high in calories but low in essential nutrients","Some contain artificial ingredients or allergens","Packaging may contain BPA or other chemicals of concern","Ultra-processed foods linked to various health concerns"],healthyAlternatives:["Look for versions with shorter ingredient lists","Choose products with minimal processing","Consider whole food alternatives when possible","Make homemade versions to control ingredients","Select organic options to avoid certain pesticides and additives"],dietaryConsiderations:"Check ingredient lists carefully for allergens and additives that may not align with specific dietary needs or restrictions.",sustainabilityInfo:"Consider packaging waste and the environmental impact of ingredients. Look for sustainably sourced and locally produced options when possible.",preparationTips:["Read labels carefully before purchasing","Store according to package instructions for maximum freshness","Consider portion sizes to avoid overconsumption","Combine with fresh, whole foods for a more balanced meal"],pairingSuggestions:["Pair with fresh fruits or vegetables to increase nutrient density","Balance processed foods with whole food options","Add herbs and spices to enhance flavor without additional sodium"]}),ZHe=({product:t,onClose:e,onToggleFavorite:n,isFavorite:r=!1})=>{const{toast:i}=Tt(),{isGuest:s}=Vn(),[o,l]=w.useState("overview"),[c,u]=w.useState(null),[f,h]=w.useState(!1),[p,g]=w.useState(null),v=t.name||"Unknown Product",y=t.brand||"Generic Brand",b=t.category||"Grocery",S=t.description||"",N=t.price||t.sale_price||0,k=t.market_price||N*1.2,E=t.rating||4,A=t.image_url||`https://source.unsplash.com/random/300x300/?${encodeURIComponent(v)},grocery`,C=t.offers||[],T=t.source||"Grocery Store",I=t.platform||"",P=t.redirect||"",M=t.delivery_time||"30-60 min",L=t.in_stock!==!1,D=k&&N?Math.round((k-N)/k*100):0;w.useEffect(()=>{(async()=>{h(!0),g(null);try{const H=await qHe(t);u(H)}catch(H){console.error("Error fetching product insights:",H),g("Failed to load AI insights for this product.")}finally{h(!1)}})()},[t]);const R=()=>{n?n(t._id):(nn("toggle_favorite_grocery",{isGuest:s,productName:v,productId:t._id,action:r?"remove":"add"}),i({title:r?"Removed from favorites":"Added to favorites",description:r?`${v} removed from your favorites.`:`${v} added to your favorites.`}))},V=()=>{nn("buy_grocery_product",{isGuest:s,productName:v,productId:t._id,source:T});const q=`https://www.google.com/search?q=${encodeURIComponent(v)}+${encodeURIComponent(y)}+buy+online&tbm=shop`;try{P?(window.open(P,"_blank","noopener,noreferrer"),i({title:"Opening store website",description:`Taking you to ${T} to purchase ${v}.`})):(window.open(q,"_blank","noopener,noreferrer"),i({title:"Searching for product",description:`Searching online stores for ${v}.`}))}catch(H){console.error("Error opening redirect URL:",H),window.open(q,"_blank","noopener,noreferrer"),i({title:"Using alternative search",description:`Searching online stores for ${v}.`})}};return a.jsxs(Ee,{className:"max-w-4xl mx-auto bg-safebite-card-bg border-safebite-teal/30 overflow-auto max-h-[90vh]",children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(Qe,{className:"text-xl font-bold text-safebite-text",children:v}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:R,children:a.jsx(Zn,{className:`h-5 w-5 ${r?"fill-red-500 text-red-500":"text-safebite-text-secondary"}`})})]}),a.jsxs("div",{className:"flex items-center text-sm text-safebite-text-secondary",children:[a.jsx("span",{children:y}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("span",{children:b}),a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(mr,{className:"h-3.5 w-3.5 mr-1 fill-yellow-500 text-yellow-500"}),E]})]})]})]}),a.jsx(Fe,{className:"pt-4",children:a.jsxs(pi,{defaultValue:"overview",value:o,onValueChange:l,className:"w-full",children:[a.jsxs(Qr,{className:"grid grid-cols-3 mb-4",children:[a.jsx(ft,{value:"overview",children:"Overview"}),a.jsxs(ft,{value:"ai-insights",children:[a.jsx(Rn,{className:"h-3.5 w-3.5 mr-1.5"}),"AI Insights"]}),a.jsx(ft,{value:"nutrition",children:"Nutrition"})]}),a.jsx(St,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"rounded-lg overflow-hidden bg-safebite-card-bg-alt h-64 flex items-center justify-center",children:a.jsx("img",{src:A,alt:v,className:"w-full h-full object-contain",onError:q=>{q.currentTarget.src=`https://source.unsplash.com/random/300x300/?${encodeURIComponent(v)},grocery`}})}),a.jsxs("div",{className:"flex flex-col justify-between",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-baseline",children:[a.jsxs("span",{className:"text-2xl font-bold text-safebite-text",children:["",N]}),k&&k>N&&a.jsxs("span",{className:"ml-2 text-sm line-through text-safebite-text-secondary",children:["",k]}),D>0&&a.jsxs(Se,{className:"ml-2 bg-green-500/20 text-green-500 border-green-500",children:[D,"% OFF"]})]}),a.jsxs("div",{className:"flex items-center mt-2 text-sm text-safebite-text-secondary",children:[a.jsx(dn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:M}),a.jsx("span",{className:"mx-2",children:""}),a.jsx(Cx,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Free Delivery"})]}),a.jsxs("div",{className:"mt-2",children:[L?a.jsx(Se,{className:"bg-green-500/20 text-green-500 border-green-500",children:"In Stock"}):a.jsx(Se,{className:"bg-red-500/20 text-red-500 border-red-500",children:"Out of Stock"}),I&&a.jsxs(Se,{className:"ml-2 bg-safebite-card-bg-alt text-safebite-text-secondary flex items-center",children:[L1({platform:I,size:"xs"}),a.jsx("span",{className:"ml-1",children:I})]}),!I&&T&&a.jsx(Se,{className:"ml-2 bg-safebite-card-bg-alt text-safebite-text-secondary",children:T})]})]}),C&&C.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(go,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Available Offers"]}),a.jsx("div",{className:"space-y-2",children:C.slice(0,3).map((q,H)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx(go,{className:"h-3.5 w-3.5 mr-1.5 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:q})]},H))})]}),S&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-safebite-text mb-1 flex items-center",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Description"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:S})]}),a.jsxs("div",{className:"flex gap-3 mt-auto",children:[a.jsx(ee,{variant:"outline",className:"flex-1",onClick:e,children:"Close"}),a.jsxs(ee,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:V,disabled:!P||!L,children:[a.jsx(du,{className:"mr-2 h-4 w-4"}),"Buy Now"]})]})]})]})}),a.jsx(St,{value:"ai-insights",className:"space-y-4",children:f?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(_n,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing product with AI..."})]}):p?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Wt,{className:"h-8 w-8 text-amber-500 mx-auto mb-2"}),a.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-1",children:"Analysis Unavailable"}),a.jsx("p",{className:"text-safebite-text-secondary",children:p})]}):c?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ee,{className:"border-safebite-teal/20 bg-safebite-card-bg-alt/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-md font-medium text-safebite-text flex items-center",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2 text-safebite-teal"}),"AI Nutritional Analysis"]})}),a.jsx(Fe,{children:a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:c.nutritionalAnalysis})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-md font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(nm,{className:"h-4 w-4 mr-2 text-green-500"}),"Health Benefits"]}),a.jsx("ul",{className:"space-y-1.5",children:c.healthBenefits.map((q,H)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:""}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:q})]},H))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-md font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(Wt,{className:"h-4 w-4 mr-2 text-amber-500"}),"Potential Concerns"]}),a.jsx("ul",{className:"space-y-1.5",children:c.potentialConcerns.map((q,H)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amber-500 mr-2",children:""}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:q})]},H))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-md font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(BI,{className:"h-4 w-4 mr-2 text-safebite-teal"}),"Healthy Alternatives"]}),a.jsx("ul",{className:"space-y-1.5",children:c.healthyAlternatives.map((q,H)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:q})]},H))})]}),c.preparationTips&&c.preparationTips.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-md font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(gr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Preparation Tips"]}),a.jsx("ul",{className:"space-y-1.5",children:c.preparationTips.map((q,H)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-500 mr-2",children:""}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:q})]},H))})]}),a.jsx(Ee,{className:"border-safebite-teal/20 bg-safebite-card-bg-alt/30",children:a.jsxs(Fe,{className:"pt-4",children:[a.jsxs("h3",{className:"text-md font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2 text-safebite-teal"}),"Dietary Considerations"]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:c.dietaryConsiderations})]})}),a.jsx("div",{className:"text-xs text-safebite-text-secondary italic text-center pt-2",children:"AI-generated insights are for informational purposes only. Always check product labels for accurate information."})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Wt,{className:"h-8 w-8 text-amber-500 mx-auto mb-2"}),a.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-1",children:"No Insights Available"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't generate insights for this product."})]})}),a.jsx(St,{value:"nutrition",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(Ee,{className:"border-safebite-teal/20",children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-md font-medium text-safebite-text",children:"Nutrition Facts"})}),a.jsx(Fe,{children:t.nutritional_info?a.jsx("div",{className:"space-y-2",children:Object.entries(t.nutritional_info).map(([q,H])=>a.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-safebite-card-bg-alt",children:[a.jsx("span",{className:"text-sm capitalize text-safebite-text",children:q}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:typeof H=="number"?q==="calories"?`${H} kcal`:`${H}g`:H})]},q))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Jn,{className:"h-6 w-6 text-safebite-text-secondary mx-auto mb-2"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Detailed nutrition information not available."})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ee,{className:"border-safebite-teal/20",children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-md font-medium text-safebite-text",children:"Health Rating"})}),a.jsxs(Fe,{children:[a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center text-2xl font-bold ${E>=4?"bg-green-500/20 text-green-500":E>=3?"bg-amber-500/20 text-amber-500":"bg-red-500/20 text-red-500"}`,children:E.toFixed(1)})}),a.jsx("p",{className:"text-center text-sm text-safebite-text-secondary mt-2",children:E>=4?"Excellent choice for health-conscious consumers.":E>=3?"Good option in moderation.":"Consider healthier alternatives when possible."})]})]}),P&&a.jsxs(ee,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:V,children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),"View on ",I||T]})]})]})})]})})]})},e7e=({initialQuery:t=""})=>{const{toast:e}=Tt(),{isGuest:n}=Vn(),[r,i]=w.useState(!1),[s,o]=w.useState(t),[l,c]=w.useState([]),[u,f]=w.useState([]),[h,p]=w.useState(!1),[g,v]=w.useState([]),[y,b]=w.useState(null),[S,N]=w.useState(null),[k,E]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const M=lt(Oe);if(M.currentUser&&!n){const L=$t(Oe),D=Ve(L,"users",M.currentUser.uid),R=await Mt(D);if(R.exists()){const V=R.data();f(V.favoriteProducts||[])}}}catch(M){console.error("Error loading favorites:",M)}})()},[n]);const A=async()=>{if(!s.trim()){e({title:"Search query required",description:"Please enter a product to search for.",variant:"destructive"});return}i(!0),b(null);try{nn("grocery_search",{isGuest:n,query:s,searchType:h?"scraping":"mongodb"});const P=[OI(s,h),s.split(" ").length>1?OI(s.split(" ")[0],h):Promise.resolve([])],[M,L]=await Promise.all(P),D=[...M];if(L.length>0){const R=new Set(M.map(V=>V._id));L.forEach(V=>{R.has(V._id)||D.push(V)})}if(D.length>0){const R=D.sort((V,q)=>{const H=V.name.toLowerCase().includes(s.toLowerCase()),Y=q.name.toLowerCase().includes(s.toLowerCase());return H&&!Y?-1:!H&&Y?1:(V.price||999)-(q.price||999)});c(R),C(R),e({title:"Products found",description:`Found ${R.length} products matching "${s}".`,variant:"default"})}else{const V=[...wa(s,h?"Scraping":"MongoDB"),...wa(s+" premium",h?"Scraping":"MongoDB"),...wa(s+" organic",h?"Scraping":"MongoDB")],q=Array.from(new Map(V.map(H=>[H._id,H])).values());c(q),C(q),e({title:"Using sample data",description:`Showing sample products for "${s}".`,variant:"default"})}}catch(P){console.error("Error searching products:",P),b("Failed to retrieve grocery products. The API may be experiencing issues. Showing sample data instead.");const L=[...wa(s,h?"Scraping":"MongoDB"),...wa(s+" fresh",h?"Scraping":"MongoDB"),...wa(s+" best",h?"Scraping":"MongoDB")],D=Array.from(new Map(L.map(R=>[R._id,R])).values());c(D),C(D),e({title:"Using sample data",description:"Showing sample products due to API connection issues.",variant:"default"})}finally{i(!1)}},C=P=>{const M=[...new Set(P.map(V=>V.category).filter(Boolean))],L=[...new Set(P.map(V=>V.brand).filter(Boolean))],D=[...new Set(P.map(V=>V.platform||V.source).filter(Boolean))],R=[{title:`Special Deals on ${s}`,description:`Limited time offers on ${s} products with free delivery`,discount:"15% OFF",code:`${s.toUpperCase().substring(0,4)}15`,expiresIn:"2 days",platform:D[0]||"All Platforms"}];if(M.length>0&&R.push({title:`${M[0]} Sale`,description:`Save big on all ${M[0]} products with additional cashback`,discount:"10% OFF + 5% Cashback",code:`${M[0].toUpperCase().substring(0,4)}10`,expiresIn:"3 days",platform:D.length>1?D[1]:D[0]||"All Platforms"}),L.length>0&&R.push({title:`${L[0]} Special`,description:`Exclusive deals on ${L[0]} products with combo offers`,discount:"Buy 1 Get 1 Free",code:`${L[0].toUpperCase().substring(0,4)}BOGO`,expiresIn:"5 days",platform:D.length>2?D[2]:D[0]||"All Platforms"}),D.length>0){const q=["Blinkit","Zepto","BigBasket","Instamart"].filter(H=>D.some(Y=>Y.toLowerCase().includes(H.toLowerCase())));q.length>0&&q.forEach(H=>{R.push({title:`${H} ${s} Flash Sale`,description:`Next 3 hours only: Get ${s} products at special prices on ${H}`,discount:"30% OFF up to 150",code:`${H.toUpperCase().substring(0,3)}${s.toUpperCase().substring(0,3)}30`,expiresIn:"3 hours",platform:H,isFlashSale:!0})})}v(R)},T=async P=>{try{const M=lt(Oe);if(!M.currentUser||n){e({title:"Authentication required",description:"Please log in to save favorites.",variant:"destructive"});return}const L=$t(Oe),D=Ve(L,"users",M.currentUser.uid),R=u.includes(P);R?(await rn(D,{favoriteProducts:Qwe(P)},{merge:!0}),f(u.filter(V=>V!==P)),e({title:"Removed from favorites",description:"Product removed from your favorites.",variant:"default"})):(await rn(D,{favoriteProducts:Ij(P)},{merge:!0}),f([...u,P]),e({title:"Added to favorites",description:"Product added to your favorites.",variant:"default"})),nn("toggle_favorite",{isGuest:n,productId:P,action:R?"remove":"add"})}catch(M){console.error("Error toggling favorite:",M),e({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},I=P=>{nn("buy_grocery_product",{isGuest:n,productName:P.name,productSource:P.source});const M=`https://www.google.com/search?q=${encodeURIComponent(P.name)}+${encodeURIComponent(P.brand||"")}+buy+online&tbm=shop`;try{P.redirect?(window.open(P.redirect,"_blank","noopener,noreferrer"),e({title:"Opening Store",description:`Taking you to ${P.source} to purchase ${P.name}.`})):(window.open(M,"_blank","noopener,noreferrer"),e({title:"Searching for product",description:`Searching online stores for ${P.name}.`}))}catch(L){console.error("Error opening redirect URL:",L),window.open(M,"_blank","noopener,noreferrer"),e({title:"Using alternative search",description:`Searching online stores for ${P.name}.`})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ee,{className:"sci-fi-card border-safebite-teal/30",children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsxs(Qe,{className:"text-xl font-bold text-safebite-text flex items-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Grocery Product Search",a.jsx(Se,{className:"ml-3 bg-safebite-teal text-safebite-dark-blue",children:"Enhanced"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Search for grocery products using our database or live sources"})]}),a.jsxs(Fe,{className:"pt-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tm,{className:`h-5 w-5 ${h?"text-safebite-text-secondary":"text-safebite-teal"}`}),a.jsx(fo,{checked:h,onCheckedChange:p,id:"search-mode"}),a.jsx(Joe,{className:`h-5 w-5 ${h?"text-safebite-teal":"text-safebite-text-secondary"}`})]}),a.jsx(et,{htmlFor:"search-mode",className:"text-sm text-safebite-text-secondary",children:h?"Live Scraping":"MongoDB Search"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx(bt,{type:"text",placeholder:"Search grocery products...",value:s,onChange:P=>o(P.target.value),className:"sci-fi-input w-full",onKeyDown:P=>{P.key==="Enter"&&A()}})}),a.jsxs(ee,{onClick:A,className:h?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700",disabled:r,children:[r?a.jsx(_n,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(In,{className:"h-4 w-4 mr-2"}),"Search"]})]})]}),y&&a.jsx("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"API Connection Issue"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mt-1",children:y})]})]})}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:["All Products","Bakery & Dairy","Beverages","Snacks","Fruits & Vegetables"].map((P,M)=>a.jsx(ee,{variant:M===0?"default":"outline",size:"sm",className:M===0?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{M>0&&(o(P),A())},children:P},P))})]})]}),r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-center items-center mb-4",children:[a.jsx(_n,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text",children:"Searching products..."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((P,M)=>a.jsxs(Ee,{className:"sci-fi-card border-safebite-teal/30 flex flex-col h-full shadow-lg animate-pulse",children:[a.jsx("div",{className:"h-48 bg-safebite-card-bg-alt/50 rounded-t-lg"}),a.jsxs(Fe,{className:"flex-1 flex flex-col p-4 space-y-3",children:[a.jsx("div",{className:"h-5 bg-safebite-card-bg-alt/50 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-safebite-card-bg-alt/50 rounded w-1/2"}),a.jsx("div",{className:"h-6 bg-safebite-card-bg-alt/50 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-safebite-card-bg-alt/50 rounded w-full"}),a.jsx("div",{className:"h-4 bg-safebite-card-bg-alt/50 rounded w-5/6"}),a.jsxs("div",{className:"mt-auto pt-2 flex gap-2",children:[a.jsx("div",{className:"h-9 bg-safebite-card-bg-alt/50 rounded flex-1"}),a.jsx("div",{className:"h-9 bg-safebite-card-bg-alt/50 rounded flex-1"})]})]})]},M))})]}):l.length>0?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((P,M)=>a.jsxs(Ee,{className:"sci-fi-card hover:border-safebite-teal/50 transition-all duration-300 flex flex-col h-full shadow-lg hover:shadow-xl",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[a.jsx("img",{src:P.image_url,alt:P.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:L=>{L.target.src=`https://via.placeholder.com/300x300?text=${encodeURIComponent(P.name)}`}}),a.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/50 backdrop-blur-sm hover:bg-black/70 text-white rounded-full p-1.5",onClick:L=>{L.stopPropagation(),T(P._id)},children:a.jsx(Zn,{className:`h-5 w-5 ${u.includes(P._id)?"fill-red-500 text-red-500":"text-white"}`})}),a.jsxs("div",{className:"absolute bottom-2 left-2 bg-safebite-teal/80 text-safebite-dark-blue text-xs px-2 py-1 rounded backdrop-blur-sm flex items-center",children:[h?a.jsx(L1,{platform:P.platform||P.source,size:"sm"}):a.jsx(tm,{className:"h-3 w-3 mr-1"}),P.platform||P.source]}),P.price>0&&a.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded backdrop-blur-sm",children:["",P.sale_price||P.price]})]}),a.jsxs(Fe,{className:"flex-1 flex flex-col p-4",children:[a.jsx("h3",{className:"font-semibold text-safebite-text line-clamp-2 mb-1",children:P.name}),P.brand&&a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:P.brand}),P.category&&a.jsxs(Se,{variant:"outline",className:"self-start mb-2",children:[a.jsx(go,{className:"h-3 w-3 mr-1"}),P.category]}),P.offers&&P.offers.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1 mb-2",children:P.offers.slice(0,2).map((L,D)=>a.jsxs(Se,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-teal",children:[a.jsx(go,{className:"h-3 w-3 mr-1"}),L]},D))}),P.description&&a.jsx("p",{className:"text-safebite-text-secondary text-sm line-clamp-2 mb-2",children:P.description}),a.jsxs("div",{className:"mt-auto pt-2 flex gap-2",children:[a.jsxs(ee,{variant:"outline",className:"flex-1 border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text",onClick:()=>{N(P),E(!0),nn("view_product_details",{productName:P.name,productId:P._id,source:P.source,isGuest:n})},children:[a.jsx(Jn,{className:"mr-2 h-4 w-4 text-safebite-teal"}),"Details"]}),a.jsxs(ee,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>I(P),children:[a.jsx(co,{className:"mr-2 h-4 w-4"}),"Buy Now"]})]})]})]},`${P._id}-${M}`))}),g.length>0&&a.jsxs(Ee,{className:"sci-fi-card border-orange-500/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-bold text-safebite-text flex items-center",children:[a.jsx(go,{className:"mr-2 h-5 w-5 text-orange-500"}),"Related Offers",a.jsx(Se,{className:"ml-2 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/30",children:"Based on your search"})]})}),a.jsx(Fe,{className:"pt-2",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.map((P,M)=>{const L=(P.platform||"").toLowerCase(),D=L.includes("blinkit")?"#F9D923":L.includes("zepto")?"#8C52FF":L.includes("bigbasket")?"#84C225":L.includes("instamart")?"#FC8019":"#FF6B6B";return a.jsxs(Ee,{className:"bg-safebite-card-bg-alt/30 hover:shadow-lg transition-all overflow-hidden",style:{borderColor:`${D}40`},children:[a.jsxs("div",{className:"px-3 py-1.5 flex items-center",style:{backgroundColor:`${D}20`},children:[P.platform&&a.jsx(L1,{platform:P.platform,size:"sm"}),a.jsx("span",{className:"text-sm font-medium",children:P.platform||"All Platforms"}),P.isFlashSale&&a.jsx(Se,{className:"ml-auto bg-red-500/90 text-white border-0 animate-pulse",children:"Flash Sale"})]}),a.jsxs(Fe,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-safebite-text mb-1",children:P.title}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:P.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Se,{className:"bg-green-500/90 text-white border-0",children:P.discount}),a.jsxs("span",{className:"text-xs text-safebite-text-secondary flex items-center",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),"Expires in ",P.expiresIn]})]}),P.code&&a.jsxs("div",{className:"mt-3 p-2 bg-safebite-card-bg rounded border border-safebite-border",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xs text-safebite-text-secondary mr-2",children:"Code:"}),a.jsx("code",{className:"px-2 py-1 bg-black/20 rounded text-xs font-bold",children:P.code}),a.jsx(ee,{variant:"ghost",size:"sm",className:"ml-auto text-xs h-7 px-2",onClick:()=>{navigator.clipboard.writeText(P.code),e({title:"Code Copied",description:`${P.code} copied to clipboard`,variant:"default"})},children:"Copy"})]}),a.jsxs(ee,{className:"w-full mt-2 text-sm",style:{backgroundColor:D,color:D==="#F9D923"?"black":"white"},onClick:()=>{navigator.clipboard.writeText(P.code),window.open(`https://www.google.com/search?q=${encodeURIComponent(P.platform+" "+s)}`,"_blank"),e({title:"Code Copied",description:`${P.code} copied and opening ${P.platform}`,variant:"default"})},children:["Use Offer",a.jsx(Yr,{className:"h-3.5 w-3.5 ml-1"})]})]})]})]},M)})})})]})]}):a.jsx("div",{className:"text-center py-12 border border-dashed border-safebite-card-bg-alt rounded-lg bg-safebite-card-bg-alt/10",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Wt,{className:"h-12 w-12 mx-auto text-amber-500 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"No Products Found"}),a.jsxs("p",{className:"text-safebite-text-secondary max-w-md mx-auto mb-4",children:['No products matching "',s,'" found. Try a different search term or switch search method.']}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-md mx-auto",children:["apple","milk","bread","rice","chicken"].map(P=>a.jsxs(ee,{variant:"outline",size:"sm",className:"border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text",onClick:()=>{o(P),A()},children:['Try "',P,'"']},P))})]}):a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"h-12 w-12 mx-auto text-safebite-teal mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ready to Search"}),a.jsx("p",{className:"text-safebite-text-secondary max-w-md mx-auto mb-4",children:"Enter a search term above to find grocery products. You can search for specific items, brands, or categories."}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-md mx-auto",children:["apple","milk","bread","rice","chicken"].map(P=>a.jsxs(ee,{variant:"outline",size:"sm",className:"border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text",onClick:()=>{o(P),A()},children:['Try "',P,'"']},P))})]})}),a.jsx($l,{open:k,onOpenChange:E,children:a.jsx(Vo,{className:"max-w-4xl p-0 bg-transparent border-none",children:S&&a.jsx(ZHe,{product:S,onClose:()=>E(!1),onToggleFavorite:T,isFavorite:u.includes(S._id)})})})]})},t7e=()=>{$n();const{toast:t}=Tt(),e=lt(Oe),n=$t(Oe),{isGuest:r}=Vn(),[i,s]=w.useState([]),[o,l]=w.useState(null),[c,u]=w.useState(!1),[f,h]=w.useState(!0),[p,g]=w.useState(""),[v,y]=w.useState("all"),[b,S]=w.useState(1),[N,k]=w.useState(1),[E,A]=w.useState(0),C=20,[T,I]=w.useState([]);w.useEffect(()=>{(async()=>{if(e.currentUser&&!r)try{const D=await Mt(Ve(n,"users",e.currentUser.uid));if(D.exists()){const V=D.data().favoriteProducts||[];I(V)}}catch(D){console.error("Error fetching user favorites:",D)}})()},[e,n,r]);const P=async(L=1,D="",R="all")=>{h(!0);try{nn("grocery_page_view",{isGuest:r,page:L,search:D,category:R});const q=await UHe(L,C,D,R!=="all"?R:""),H=q.products.map(Y=>(!Y.name&&Y.product&&(Y.name=Y.product),Y._collection||(Y._collection="grocery"),Y));s(H),S(q.page),k(q.totalPages),A(q.total),H.length===0?t(D?{title:"No products found",description:`No grocery products match "${D}". Try a different search term.`,variant:"destructive"}:R!=="all"?{title:"No products in category",description:`No grocery products found in the "${R}" category.`,variant:"default"}:{title:"API Connection Issue",description:"Could not retrieve grocery products from the database. The API may be experiencing issues.",variant:"destructive"}):D&&t({title:"Search Results",description:`Found ${H.length} grocery products matching "${D}".`,variant:"default"})}catch(V){console.error("Error fetching grocery products:",V),t({title:"Backend API Error",description:"Could not connect to the grocery products database. The backend API may be down or experiencing issues.",variant:"destructive"})}finally{h(!1)}};w.useEffect(()=>{P(1,p)},[]),w.useEffect(()=>{P(1,p,v)},[v]);const M=async L=>{if(r){t({title:"Guest Mode",description:"Please log in to save favorites.",variant:"default"});return}try{const D=T.includes(L)?T.filter(R=>R!==L):[...T,L];I(D),e.currentUser&&await au(Ve(n,"users",e.currentUser.uid),{favoriteProducts:D})}catch(D){console.error("Error toggling favorite:",D),t({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Ha,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text",children:"Grocery Products"}),a.jsx(Se,{variant:"outline",className:"text-safebite-teal border-safebite-teal",children:"MongoDB"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for grocery items and get detailed nutritional information"})]}),a.jsx(e7e,{initialQuery:p}),f?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(_n,{className:"h-10 w-10 animate-spin text-safebite-teal mb-3"}),a.jsx("span",{className:"text-safebite-text",children:"Loading grocery products..."})]})}):i.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-5",children:[a.jsxs("div",{className:"text-safebite-text",children:[a.jsx("span",{className:"font-medium",children:E})," grocery products found"]}),a.jsxs(ee,{variant:"outline",className:"text-safebite-text-secondary border-safebite-card-bg-alt h-9",onClick:()=>{g(""),y("all"),P(1,"")},children:[a.jsx(GI,{className:"h-4 w-4 mr-2"})," Clear Filters"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 mb-10",children:i.map(L=>{var W;const D=L.name||L.product||"Unknown Product",R=L.brand||L.Brand||"Generic Brand",V=L.category||L.sub_category||L.Category||"Grocery",q=L.type||L.Type||"",H=L.rating||L.healthScore||4,Y=L.price||L.sale_price||null,K=L.market_price||null,Z=encodeURIComponent(D.replace("Unknown Product","food")),U=L.imageUrl||`https://source.unsplash.com/random/400x300/?${Z},food`;return a.jsxs(Ee,{className:"sci-fi-card hover:border-safebite-teal/50 transition-all duration-300 flex flex-col h-full shadow-lg hover:shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"relative h-52 overflow-hidden bg-safebite-card-bg-alt",children:[a.jsx("img",{src:U,alt:D,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:Q=>{Q.target.src=`https://via.placeholder.com/400x300?text=${encodeURIComponent(D)}`}}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:"flex items-center bg-safebite-teal/90 text-safebite-dark-blue px-2.5 py-1 rounded-full backdrop-blur-sm text-xs font-medium shadow-md",children:[a.jsx(mr,{className:"h-3.5 w-3.5 mr-1 fill-safebite-dark-blue"}),a.jsx("span",{children:typeof H=="number"?H.toFixed(1):"4.0"})]})}),a.jsx(ee,{onClick:()=>M(L._id),variant:"ghost",size:"icon",className:"absolute top-3 left-3 bg-black/40 backdrop-blur-sm hover:bg-black/60 text-white rounded-full h-9 w-9 p-1.5 shadow-md",children:a.jsx(Zn,{className:`h-4.5 w-4.5 ${T.includes(L._id)?"fill-safebite-teal text-safebite-teal":""}`})}),a.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 text-white text-xs px-2.5 py-1 rounded-md backdrop-blur-sm shadow-md",children:V})]}),a.jsxs(Fe,{className:"flex-grow p-5",children:[a.jsx("h3",{className:"font-medium text-safebite-text mb-1.5 line-clamp-2 text-base",children:D}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-3",children:R}),Y&&a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("span",{className:"text-safebite-teal font-medium text-base",children:["",Y]}),K&&K>Y&&a.jsxs("span",{className:"text-safebite-text-secondary line-through text-xs",children:["",K]})]}),L.description&&a.jsx("p",{className:"text-safebite-text-secondary text-xs mt-2 line-clamp-2 leading-relaxed",children:L.description}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-3",children:[(W=L.tags)==null?void 0:W.slice(0,2).map((Q,B)=>a.jsx(Se,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt/50 px-2 py-0.5",children:Q},B)),q&&a.jsx(Se,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt/50 px-2 py-0.5",children:q})]})]}),a.jsx(El,{className:"p-5 pt-0",children:a.jsxs(ee,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex items-center justify-center gap-2 h-10",onClick:()=>{nn("view_grocery_details",{productId:L._id,productName:D,productCategory:V}),l(L),u(!0)},children:[a.jsx(Jn,{className:"h-4 w-4"}),"View Details"]})})]},L._id)})}),N>1&&a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx(tse,{currentPage:b,totalPages:N,onPageChange:L=>{S(L),P(L,p),window.scrollTo({top:0,behavior:"smooth"})}})})]}):a.jsx(Ee,{className:"sci-fi-card mb-8 border-amber-500/20",children:a.jsxs(Fe,{className:"p-8 text-center",children:[a.jsx("div",{className:"bg-amber-500/10 rounded-full p-4 w-20 h-20 mx-auto mb-5 flex items-center justify-center",children:a.jsx(Wt,{className:"h-10 w-10 text-amber-500"})}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"No Grocery Products Found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-5 max-w-md mx-auto",children:"No grocery products match your search criteria. Try adjusting your filters or search terms."}),a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-5 max-w-md mx-auto bg-black/20 p-3 rounded-lg",children:"Note: The backend API may be experiencing issues. Please try again later or contact support if the problem persists."}),a.jsxs(ee,{onClick:()=>{g(""),y("all"),P(1,"")},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 h-10 px-6",children:[a.jsx(wl,{className:"h-4 w-4 mr-2"}),"Clear Search & Reload"]}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-black/20 px-3 py-1.5 rounded-full text-xs",children:[a.jsx(tm,{className:"h-3 w-3 text-safebite-teal"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"MongoDB Atlas Collection: Grocery Products"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black/20 px-3 py-1.5 rounded-full text-xs",children:[a.jsx(hle,{className:"h-3 w-3 text-safebite-teal"}),a.jsxs("span",{className:"text-safebite-text-secondary",children:["API Status: ",f?"Checking...":"Connection Failed"]})]})]}),a.jsxs("p",{className:"mt-4 text-xs text-safebite-text-secondary",children:["Backend URL: ",wx]})]})}),p&&a.jsx("div",{className:"mt-10 mb-10",children:a.jsx(rse,{searchQuery:p,category:"grocery",maxOffers:4})})]}),a.jsx(tp,{}),a.jsx($l,{open:c,onOpenChange:u,children:a.jsx(Vo,{className:"max-w-4xl bg-safebite-dark-blue border-safebite-teal/30 p-0",children:o&&a.jsx(zHe,{product:o,onClose:()=>u(!1)})})})]})]})},n7e=({name:t,image:e,calories:n,nutritionScore:r,nutrients:i={},onClick:s,className:o})=>{const l={green:{bg:"bg-green-500",text:"text-green-500",icon:a.jsx(nm,{className:"h-4 w-4 text-green-500"})},yellow:{bg:"bg-yellow-500",text:"text-yellow-500",icon:a.jsx(ho,{className:"h-4 w-4 text-yellow-500"})},red:{bg:"bg-red-500",text:"text-red-500",icon:a.jsx(Wt,{className:"h-4 w-4 text-red-500"})}},c={green:"Healthy",yellow:"Moderate",red:"High Calorie"};return a.jsx("div",{className:st("sci-fi-card p-4 cursor-pointer hover:border-safebite-teal/50 transition-all duration-300",o),onClick:s,children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 rounded-md overflow-hidden mr-4 border border-safebite-card-bg-alt",children:[e?a.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx("span",{className:"text-safebite-text-secondary text-xs",children:"No image"})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${l[r].bg} h-2`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-safebite-text font-semibold mb-1 line-clamp-1",children:t}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ho,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:[n," calories"]})]}),a.jsx("div",{className:"flex items-center mb-2",children:a.jsxs("div",{className:"flex items-center mr-3",children:[l[r].icon,a.jsx("span",{className:`text-xs ml-1 ${l[r].text}`,children:c[r]})]})}),i&&(i.protein||i.carbs||i.fat)&&a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2 text-xs text-safebite-text-secondary",children:[i.protein!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Protein:"})," ",i.protein,"g"]}),i.carbs!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Carbs:"})," ",i.carbs,"g"]}),i.fat!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fat:"})," ",i.fat,"g"]})]})]})]})})},C2=async t=>{console.log("Gemini AI prompt:",t),await new Promise(r=>setTimeout(r,1e3));const e=t.match(/analyze\s+(.+?)(\s+for|$)/i),n=e?e[1]:"food item";return t.includes("analyze")||t.includes("nutrition")?`
Nutritional Analysis for ${n}:

1. Nutritional Value:
${n} is generally considered a ${Math.random()>.5?"healthy":"moderate"} food choice. It provides essential nutrients including vitamins, minerals, and macronutrients that contribute to overall health.

2. Health Benefits:
- Good source of vitamins and minerals
- Contains essential nutrients for body function
- Can be part of a balanced diet when consumed in appropriate portions

3. Potential Concerns:
- May be high in calories if consumed in large portions
- Some preparations may add unhealthy fats or sodium
- May contain allergens for some individuals

4. Recommendations:
- Consume in moderate portions as part of a balanced diet
- Pair with vegetables and whole grains for a more complete meal
- Choose whole food versions when possible to maximize nutritional benefits
- Consider your personal dietary needs and restrictions
`:t.includes("alternative")||t.includes("substitute")?`
Healthier Alternatives for ${n}:

1. Nutritious Substitutes:
- ${n} can be replaced with healthier versions that maintain similar taste profiles
- Look for options with less processing, lower sodium, and fewer additives
- Consider plant-based alternatives that provide similar textures and flavors

2. Specific Recommendations:
- Instead of regular ${n}, try the whole grain or low-sodium version
- Replace with homemade versions where you control the ingredients
- Consider naturally flavored alternatives without artificial additives

3. Benefits of Switching:
- Reduced calorie intake while maintaining satisfaction
- Increased fiber and nutrient content
- Better alignment with health goals
- Potential improvement in energy levels and digestion
`:`
Food Information for ${n}:

${n} is a food item that can vary in nutritional content depending on preparation methods, ingredients, and portion sizes. For more specific information, try asking about nutrition, alternatives, or recipes.

To make the most informed choices:
- Read ingredient labels carefully
- Consider portion sizes
- Look for minimally processed options
- Balance your overall diet with a variety of foods
`},r7e={analyzeFood:async t=>{try{const e=`Analyze ${t} for nutritional value, health benefits, and potential concerns.`;return await C2(e)}catch(e){throw console.error("Error analyzing food with Gemini:",e),e}},getHealthyAlternatives:async t=>{try{const e=`Suggest healthier alternatives or substitutes for ${t}.`;return await C2(e)}catch(e){throw console.error("Error getting alternatives with Gemini:",e),e}},askFoodQuestion:async t=>{try{return await C2(t)}catch(e){throw console.error("Error asking food question with Gemini:",e),e}}},i7e=({foodItem:t,onClose:e})=>{const{toast:n}=Tt(),[r,i]=w.useState(null),[s,o]=w.useState(!1),[l,c]=w.useState(null);w.useEffect(()=>{(async()=>{if(t){o(!0),c(null);try{const h=t.name||t.food_name||"Unknown food",p=await r7e.analyzeFood(h);i(p)}catch(h){console.error("Error fetching food analysis:",h),c("Failed to analyze food. Please try again."),n({title:"Analysis Error",description:"Could not analyze this food item.",variant:"destructive"})}finally{o(!1)}}})()},[t,n]);const u=f=>{const h=f.split(/(\d\.\s+|\n\n|\n(?=[A-Z][a-z]+:))/g);return a.jsx("div",{className:"space-y-4",children:h.map((p,g)=>p.trim()?/^\d\.\s+/.test(p)||/^[A-Z][a-z]+:/.test(p)?a.jsx("h3",{className:"text-safebite-teal font-medium mt-4",children:p},g):a.jsx("p",{className:"text-safebite-text-secondary",children:p},g):null)})};return l?a.jsx(Ee,{className:"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800",children:a.jsx(Fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:"Analysis Failed"}),a.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:l}),a.jsx(ee,{variant:"outline",size:"sm",className:"mt-4 text-red-600 border-red-300",onClick:e,children:"Close"})]})]})})}):a.jsxs(Ee,{className:"border-safebite-teal/30 bg-safebite-card-bg",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-bold text-safebite-text flex items-center",children:[a.jsx(Co,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Nutrition Insights",a.jsx(Se,{className:"ml-3 bg-safebite-teal text-safebite-dark-blue",children:"Gemini AI"})]})}),a.jsx(Fe,{className:"pt-4",children:s?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(_n,{className:"h-8 w-8 text-safebite-teal animate-spin mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing nutrition data with AI..."})]}):r?a.jsx("div",{className:"bg-safebite-card-bg-alt/30 p-4 rounded-lg",children:u(r)}):a.jsxs("div",{className:"text-center p-8 text-safebite-text-secondary",children:[a.jsx(Wt,{className:"h-8 w-8 mx-auto mb-4 text-yellow-500"}),a.jsx("p",{children:"No analysis available for this food item."})]})}),a.jsxs(El,{className:"flex justify-between pt-2 pb-4",children:[a.jsxs("div",{className:"text-xs text-safebite-text-secondary flex items-center",children:[a.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Powered by Google Gemini AI"]}),e&&a.jsx(ee,{variant:"outline",size:"sm",onClick:e,children:"Close"})]})]})},s7e=({food:t,onBack:e,onClose:n,onAddToTracker:r=()=>{},onAddTag:i=()=>{},onToggleFavorite:s=()=>{},isFavorite:o=!1,tags:l=[],aiAnalysis:c="",isAnalysisLoading:u=!1})=>{const f=e||n||(()=>{}),[h,p]=w.useState(""),[g,v]=w.useState(!1),{name:y,calories:b,nutritionScore:S,details:N,brand:k,apiSource:E,source:A}=t;t.nutrients;const C=()=>{h.trim()&&(i(t.id,h.trim()),p(""),v(!1))};return a.jsxs("div",{className:"sci-fi-card p-6 max-w-5xl mx-auto bg-safebite-card-bg border-2 border-safebite-teal/30 rounded-xl shadow-lg overflow-auto max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs(ee,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary -ml-2",onClick:f,children:[a.jsx(UI,{className:"mr-1 h-4 w-4"}),"Back"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>s(t.id),children:a.jsx(mr,{className:`h-4 w-4 ${o?"text-yellow-500 fill-yellow-500":""}`})}),a.jsx(ee,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>v(!g),children:a.jsx(go,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",children:a.jsx($0,{className:"h-4 w-4"})})]})]}),g&&a.jsxs("div",{className:"mb-4 flex",children:[a.jsx("input",{type:"text",value:h,onChange:T=>p(T.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:T=>{T.key==="Enter"&&C()}}),a.jsx(ee,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:C,children:"Add"})]}),l.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:l.map(T=>a.jsx(Se,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:T},T))}),a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-3xl font-bold text-safebite-text mb-2",children:t.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Se,{className:`px-3 py-1 ${S==="green"?"bg-green-500/20 text-green-500 border-green-500":S==="yellow"?"bg-yellow-500/20 text-yellow-500 border-yellow-500":"bg-red-500/20 text-red-500 border-red-500"}`,children:S==="green"?"Healthy Choice":S==="yellow"?"Moderate":"Use Caution"}),(N==null?void 0:N.servingSize)&&a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:["Serving size: ",N.servingSize]})]})]}),t.image&&a.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-safebite-card-bg-alt flex-shrink-0",children:a.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})})]}),a.jsxs(pi,{defaultValue:"nutrition",className:"w-full mb-6",children:[a.jsxs(Qr,{className:"grid grid-cols-4 mb-4",children:[a.jsx(ft,{value:"nutrition",children:"Nutrition"}),a.jsx(ft,{value:"ingredients",children:"Ingredients"}),a.jsx(ft,{value:"health",children:"Health"}),a.jsx(ft,{value:"ai-analysis",children:"AI Analysis"})]}),a.jsxs(St,{value:"nutrition",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Calories"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.calories)||b," kcal"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Protein"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.protein)||(t.nutrients&&typeof t.nutrients.protein=="number"?t.nutrients.protein:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Carbs"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.carbs)||(t.nutrients&&typeof t.nutrients.carbs=="number"?t.nutrients.carbs:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fat"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.fat)||(t.nutrients&&typeof t.nutrients.fat=="number"?t.nutrients.fat:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sodium"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.sodium)||(t.nutrients&&typeof t.nutrients.sodium=="number"?t.nutrients.sodium:0),"mg"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sugar"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.sugar)||(t.nutrients&&typeof t.nutrients.sugar=="number"?t.nutrients.sugar:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fiber"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(N==null?void 0:N.fiber)||(t.nutrients&&typeof t.nutrients.fiber=="number"?t.nutrients.fiber:0),"g"]})]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt/50 rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm mb-1",children:"Nutrition Score"}),a.jsx("div",{className:"h-2 bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${S==="green"?"bg-green-500":S==="yellow"?"bg-yellow-500":"bg-red-500"}`,style:{width:S==="green"?"90%":S==="yellow"?"50%":"20%"}})}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary mt-1",children:[a.jsx("span",{children:"Poor"}),a.jsx("span",{children:"Moderate"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary text-right",children:["Data source: ",E||A||"Unknown"]})]}),a.jsxs(St,{value:"ingredients",className:"space-y-4",children:[N!=null&&N.ingredients&&N.ingredients.length>0?a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ingredients List"}),a.jsx("p",{className:"text-safebite-text-secondary",children:N.ingredients.join(", ")})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No ingredient information available"})}),(N==null?void 0:N.additives)&&N.additives.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Additives"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.additives.map(T=>a.jsx(Se,{variant:"outline",className:"border-red-500 text-red-500",children:T},T))})]})]}),a.jsxs(St,{value:"health",className:"space-y-4",children:[(N==null?void 0:N.allergens)&&N.allergens.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Allergens"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.allergens.map(T=>a.jsxs(Se,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[a.jsx(Wt,{className:"mr-1 h-3 w-3"})," ",T]},T))})]}),S==="red"&&a.jsx(Ee,{className:"bg-red-500/10 border-red-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-red-400 mb-1",children:"Health Concern"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product contains high levels of sugar and artificial additives which may impact your health goals."})]})]})}),S==="green"&&a.jsx(Ee,{className:"bg-green-500/10 border-green-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(lo,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-green-400 mb-1",children:"Healthy Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is a great fit for your health goals. It contains nutritious ingredients and minimal processing."})]})]})}),S==="yellow"&&a.jsx(Ee,{className:"bg-yellow-500/10 border-yellow-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Wt,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-yellow-500 mb-1",children:"Moderate Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is acceptable in moderation. Be mindful of portion sizes and frequency of consumption."})]})]})})]}),a.jsx(St,{value:"ai-analysis",className:"space-y-4",children:a.jsx(i7e,{foodItem:t})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs(Ee,{className:"p-4 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(Fr,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-orange-500",children:"Zomato + Swiggy"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Find this food on delivery apps"})]})]}),a.jsxs(ee,{className:"w-full mt-3 bg-orange-500 text-white hover:bg-orange-600",onClick:()=>window.open("/food-delivery","_blank"),children:[a.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Now Live"]})]}),a.jsxs(Ee,{className:"p-4 border border-safebite-teal/30 bg-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-safebite-teal to-blue-500 flex items-center justify-center mr-3",children:a.jsx(Ih,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-safebite-teal",children:"Add to Tracker"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Track your daily nutrition"})]})]}),a.jsxs(ee,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:[a.jsx(Ng,{className:"mr-2 h-4 w-4"}),"Add to Tracker"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",className:"sci-fi-button",onClick:f,children:"Back to Results"}),a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:"Add to Tracker"})]})]})},a7e=({onScan:t,onUpload:e,onClose:n})=>{const[r,i]=w.useState("scanner"),[s,o]=w.useState(!1),[l,c]=w.useState(null),[u,f]=w.useState(!1),h=w.useRef(null),p=w.useRef(null),g=w.useRef(null),v=async()=>{try{c(null);const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current&&(h.current.srcObject=E,o(!0))}catch(E){console.error("Error accessing camera:",E),c("Could not access camera. Please check permissions."),o(!1)}},y=()=>{h.current&&h.current.srcObject&&(h.current.srcObject.getTracks().forEach(C=>C.stop()),h.current.srcObject=null,o(!1))},b=()=>{if(h.current&&p.current){const E=h.current,A=p.current,C=A.getContext("2d");if(C){A.width=E.videoWidth,A.height=E.videoHeight,C.drawImage(E,0,0,A.width,A.height);const T=A.toDataURL("image/jpeg");y(),t(T)}}},S=E=>{E.target.files&&E.target.files[0]&&e(E.target.files[0])},N=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?f(!0):E.type==="dragleave"&&f(!1)},k=E=>{E.preventDefault(),E.stopPropagation(),f(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&e(E.dataTransfer.files[0])};return X.useEffect(()=>()=>{y()},[]),a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:r==="scanner"?"Scan Food Barcode":"Upload Food Image"}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:n,className:"text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(or,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex space-x-2 mb-4",children:[a.jsxs(ee,{variant:r==="scanner"?"default":"outline",className:r==="scanner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("scanner"),y()},children:[a.jsx(E7,{className:"mr-2 h-4 w-4"}),"Scanner"]}),a.jsxs(ee,{variant:r==="upload"?"default":"outline",className:r==="upload"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("upload"),y()},children:[a.jsx(Zoe,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),r==="scanner"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:s?a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 border-2 border-safebite-teal/50 pointer-events-none",children:a.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-safebite-teal/50"})})]}):a.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l?a.jsxs("div",{className:"text-center p-4",children:[a.jsx(Se,{variant:"outline",className:"bg-red-500/10 text-red-500 mb-2",children:"Error"}),a.jsx("p",{className:"text-safebite-text-secondary",children:l})]}):a.jsxs(ee,{onClick:v,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(zI,{className:"mr-2 h-4 w-4"}),"Start Camera"]})})}),a.jsx("canvas",{ref:p,className:"hidden"}),s&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",onClick:y,children:"Cancel"}),a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:b,children:"Scan Barcode"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:"Position the barcode within the frame and hold steady"})]}),r==="upload"&&a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${u?"border-safebite-teal bg-safebite-teal/5":"border-safebite-card-bg-alt"}`,onDragEnter:N,onDragOver:N,onDragLeave:N,onDrop:k,children:[a.jsx(D2,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text mb-2",children:"Drag and drop a food image here"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"or click to select a file"}),a.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:S,className:"hidden"}),a.jsx(ee,{variant:"outline",onClick:()=>{var E;return(E=g.current)==null?void 0:E.click()},children:"Select Image"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPG, PNG, WEBP"})]})]})]})})},o7e=["64b66d05","83bf3c12","a742d2c9"];console.log("Edamam API Key loaded:","Available");console.log("CalorieNinjas API Key loaded:","Available");console.log("Backup API Keys available:",o7e.length);const ph=(t,e)=>{try{const n=localStorage.getItem("userFoodInteractions"),r=n?JSON.parse(n):[];r.push({type:t,details:e,timestamp:Date.now()});const i=r.slice(-100);localStorage.setItem("userFoodInteractions",JSON.stringify(i)),console.log(`Tracked user interaction: ${t}`,e)}catch(n){console.error("Error tracking user interaction:",n)}},l7e="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",c7e="https://api.calorieninjas.com/v1";let h0={calorieNinjas:{name:"CalorieNinjas",isAvailable:!0,lastChecked:new Date},fatSecret:{name:"FatSecret",isAvailable:!0,lastChecked:new Date}};const u7e=async t=>{try{const e=await fetch(`${c7e}/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":l7e,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const n=await e.json();return h0.calorieNinjas.isAvailable=!0,h0.calorieNinjas.lastChecked=new Date,n.items.map((r,i)=>({id:`cn-${i}-${Date.now()}`,name:r.name,calories:r.calories,serving_size:`${r.serving_size_g}g`,nutrients:{protein:r.protein_g,carbs:r.carbohydrates_total_g,fat:r.fat_total_g,fiber:r.fiber_g,sugar:r.sugar_g,sodium:r.sodium_mg},source:"CalorieNinjas"}))}catch(e){return console.error("Error searching CalorieNinjas:",e),h0.calorieNinjas.isAvailable=!1,h0.calorieNinjas.lastChecked=new Date,[]}},KD="https://safebite-backend.onrender.com/api",d7e=async t=>{try{if(!t||t.trim()==="")return{error:"Search query is required"};const e=await fetch(`${KD}/search?q=${encodeURIComponent(t)}`);if(!e.ok){if(e.status===404)return{products:[],message:"No products found matching your search"};throw new Error(`API error: ${e.status}`)}return{products:await e.json(),success:!0}}catch(e){return console.error("Error searching MongoDB products:",e),{error:"Failed to search products. Please try again later.",details:e instanceof Error?e.message:String(e)}}},f7e=async t=>{try{const e=await fetch(`${KD}/product/${t}`);if(!e.ok){if(e.status===404)return{error:"Product not found"};throw new Error(`API error: ${e.status}`)}return{product:await e.json(),success:!0}}catch(e){return console.error("Error fetching MongoDB product:",e),{error:"Failed to fetch product details. Please try again later.",details:e instanceof Error?e.message:String(e)}}},ise=async()=>{try{const t=await fetch(`${KD}/status`);if(!t.ok)throw new Error(`API error: ${t.status}`);return{status:await t.json(),success:!0}}catch(t){return console.error("Error checking MongoDB API status:",t),{error:"Failed to check API status. Please try again later.",details:t instanceof Error?t.message:String(t)}}},h7e={searchProducts:d7e,getProductById:f7e,checkApiStatus:ise},m7e=({userProfile:t})=>{$n();const{toast:e}=Tt(),{isGuest:n}=Vn(),[r,i]=w.useState("food"),[s,o]=w.useState(""),[l,c]=w.useState(!1),[u,f]=w.useState([]),[h,p]=w.useState([]),[g,v]=w.useState(null),[y,b]=w.useState(null),[S,N]=w.useState(null),[k,E]=w.useState(!1),[A,C]=w.useState(!1),[T,I]=w.useState(!1),[P,M]=w.useState(()=>{if(!n)try{const ne=localStorage.getItem("foodSearchHistory");if(ne){const ae=JSON.parse(ne);if(Array.isArray(ae))return ae.length>0&&typeof ae[0]=="object"&&ae[0].query?ae.map(ie=>ie.query):ae}}catch(ne){console.error("Error parsing search history:",ne)}return[]}),[L,D]=w.useState(null),[R,V]=w.useState([]),q=lt(Oe),H=$t(Oe);w.useEffect(()=>{(async()=>{if(!n&&q.currentUser)try{const ae=Ve(H,"users",q.currentUser.uid),ie=await Mt(ae);ie.exists()&&D(ie.data());const ce=Ve(H,"user_activities",q.currentUser.uid),ge=await Mt(ce);if(ge.exists()){const le=ge.data();V(le.activities||[])}}catch(ae){console.error("Error loading user data:",ae)}})()},[n,q.currentUser,H]),w.useEffect(()=>{(async()=>{try{const ae=await ise();N(ae)}catch(ae){console.error("Error checking API status:",ae),N({error:"Failed to check API status."})}})()},[]);const Y=async()=>{if(!s.trim()){e({title:"Empty Search",description:"Please enter a food item to search",variant:"destructive"});return}c(!0),v(null),E(!1);try{ph("search",{query:s});const ne=await h7e.searchProducts(s);if(ne.success&&ne.products&&ne.products.length>0){const ie=ne.products.map(ge=>{let le="yellow";const Ne=ge.nutritionalInfo||{},$e=(Ne==null?void 0:Ne.protein)||0,ot=(Ne==null?void 0:Ne.fiber)||0,Ae=(Ne==null?void 0:Ne.sugar)||0,Ke=(Ne==null?void 0:Ne.fat)||0;$e>15&&ot>3&&Ae<10?le="green":(Ke>20||Ae>15)&&(le="red");const Nt=ge.imageUrl||"https://source.unsplash.com/featured/?encodeURIComponent(item.name)},food";return{id:ge._id||`mongo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:ge.name,calories:Ne.calories||0,nutritionScore:le,nutrients:{protein:Ne.protein||0,carbs:Ne.carbs||0,fat:Ne.fat||0,fiber:Ne.fiber||0,sugar:Ne.sugar||0,sodium:Ne.sodium||0},source:"MongoDB",image:Nt,details:{protein:Ne.protein||0,carbs:Ne.carbs||0,fat:Ne.fat||0,sodium:Ne.sodium||0,sugar:Ne.sugar||0,calories:ge.calories||0,ingredients:ge.ingredients||[],allergens:ge.allergens||[],additives:ge.additives||[],servingSize:ge.servingSize||"100g",nutritionScore:le,brand:ge.brand,category:ge.category}}});f(ie),E(!1);const ce=[...P];if(!ce.includes(s)&&(ce.unshift(s),ce.length>5&&ce.pop(),M(ce),!n))try{localStorage.setItem("foodSearchHistory",JSON.stringify(ce))}catch(ge){console.error("Error saving search history:",ge)}e({title:"Search Complete",description:`Found ${ie.length} results from MongoDB for "${s}"`});return}const ae=await u7e(s);if(ae&&ae.length>0){const ie=ae.map(ge=>{let le="yellow";const Ne=ge.nutrients||{},$e=(Ne==null?void 0:Ne.protein)||0,ot=(Ne==null?void 0:Ne.fiber)||0,Ae=(Ne==null?void 0:Ne.sugar)||0,Ke=(Ne==null?void 0:Ne.fat)||0;return $e>15&&ot>3&&Ae<10?le="green":(Ke>20||Ae>15)&&(le="red"),{id:ge.id||`food-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:ge.name,calories:ge.calories,nutritionScore:le,nutrients:{protein:Ne.protein||0,carbs:Ne.carbs||0,fat:Ne.fat||0,fiber:Ne.fiber||0,sugar:Ne.sugar||0,sodium:Ne.sodium||0},source:"CalorieNinjas",image:"https://source.unsplash.com/featured/?encodeURIComponent(item.name)},food",details:{protein:Ne.protein||0,carbs:Ne.carbs||0,fat:Ne.fat||0,sodium:Ne.sodium||0,sugar:Ne.sugar||0,calories:ge.calories,ingredients:[],allergens:[],additives:[],servingSize:ge.serving_size||"100g",nutritionScore:le}}}),ce=[...P];if(!ce.includes(s)&&(ce.unshift(s),ce.length>5&&ce.pop(),M(ce),!n))try{localStorage.setItem("foodSearchHistory",JSON.stringify(ce))}catch(ge){console.error("Error saving search history:",ge)}f(ie),E(!1),e({title:"Search Complete",description:`Found ${ae.length} results for "${s}"`})}else f([]),E(!0),e({title:"No Results",description:`No results found for "${s}". Try a different search term.`,variant:"default"})}catch(ne){console.error("Search error:",ne),f([]),E(!0),e({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"})}finally{c(!1)}},K=async()=>{if(!s.trim()){e({title:"Empty Search",description:"Please enter a recipe to search",variant:"destructive"});return}c(!0),E(!1);try{ph("recipe_search",{query:s});const ne=[{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Pasta`,ingredients:"2 cups pasta|1 tbsp olive oil|1 onion, chopped|2 cloves garlic, minced|1 can diced tomatoes|1/2 tsp salt|1/4 tsp black pepper|Fresh basil leaves",servings:"4 Servings",instructions:"1. Cook pasta according to package directions. 2. Heat oil in a large skillet over medium heat. 3. Add onion and garlic, cook until softened. 4. Add tomatoes, salt, and pepper. Simmer for 10 minutes. 5. Drain pasta and toss with sauce. 6. Garnish with fresh basil."},{title:`Healthy ${s.charAt(0).toUpperCase()+s.slice(1)} Bowl`,ingredients:"1 cup quinoa|2 cups vegetable broth|1 cup chickpeas, drained and rinsed|1 avocado, sliced|1 cup cherry tomatoes, halved|1/4 cup red onion, diced|2 tbsp lemon juice|2 tbsp olive oil|Salt and pepper to taste",servings:"2 Servings",instructions:"1. Rinse quinoa under cold water. 2. In a medium saucepan, bring vegetable broth to a boil. 3. Add quinoa, chickpeas, avocado, tomatoes, and red onion. 4. Fluff with a fork and let cool slightly. 5. In a large bowl, combine quinoa, chickpeas, avocado, tomatoes, and red onion. 6. Whisk together lemon juice, olive oil, salt, and pepper. 7. Pour dressing over quinoa mixture and toss to combine."},{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Stir Fry`,ingredients:"2 tbsp vegetable oil|1 lb chicken breast, cut into strips|2 cups mixed vegetables (bell peppers, broccoli, carrots)|3 cloves garlic, minced|1 tbsp ginger, grated|3 tbsp soy sauce|1 tbsp honey|1 tsp sesame oil|2 green onions, sliced|Sesame seeds for garnish",servings:"3 Servings",instructions:"1. Heat oil in a large wok or skillet over high heat. 2. Add chicken and cook until no longer pink, about 5-6 minutes. 3. Add vegetables, garlic, and ginger. Stir-fry for 3-4 minutes until vegetables are crisp-tender. 4. In a small bowl, whisk together soy sauce, honey, and sesame oil. 5. Pour sauce over chicken and vegetables. Cook for 1-2 minutes until sauce thickens slightly. 6. Garnish with green onions and sesame seeds."}];try{const ae=await CQ(s);if(ae&&Array.isArray(ae)&&ae.length>0){p(ae),E(!1),e({title:"Recipe Search Complete",description:`Found ${ae.length} recipes for "${s}"`});return}}catch(ae){console.error("API recipe search error:",ae)}p(ne),E(!1),e({title:"Recipe Search Complete",description:`Found ${ne.length} recipes for "${s}"`})}catch(ne){console.error("Recipe search error:",ne),p([]),E(!0),e({title:"Recipe Search Error",description:"There was a problem with your recipe search. Please try again.",variant:"destructive"})}finally{c(!1)}},Z=()=>{r==="food"?Y():r==="recipes"&&K()},U=ne=>{v(ne),ph("view_food_details",{foodId:ne.id,foodName:ne.name})},W=ne=>{b(ne),I(!0),ph("view_recipe_details",{recipeName:ne.title})},Q=()=>{C(!0)},B=async ne=>{c(!0),v(null),C(!1),e({title:"Processing Image",description:"Analyzing the scanned image..."});try{ph("scan_barcode",{}),setTimeout(()=>{e({title:"Scan Complete",description:"This feature is coming soon!"}),c(!1)},2e3)}catch(ae){console.error("Scan error:",ae),e({title:"Scan Error",description:"There was a problem scanning the barcode. Please try again.",variant:"destructive"}),c(!1)}},se=async ne=>{c(!0),v(null),C(!1),e({title:"Processing Image",description:"Analyzing the uploaded image..."});try{ph("upload_image",{fileName:ne.name}),setTimeout(()=>{e({title:"Upload Complete",description:"This feature is coming soon!"}),c(!1)},2e3)}catch(ae){console.error("Upload error:",ae),e({title:"Upload Error",description:"There was a problem analyzing the image. Please try again.",variant:"destructive"}),c(!1)}},ue=()=>l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(pl,{size:"lg"})}):k?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kl,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,s,'"']}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>E(!1),children:"Try a Different Search"})]}):u.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.map(ne=>a.jsx(n7e,{name:ne.name,calories:ne.calories,nutritionScore:ne.nutritionScore,nutrients:ne.nutrients,image:ne.image,onClick:()=>U(ne)},ne.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gr,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Search for Food"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Enter a food item to get detailed nutrition information"})]}),pe=()=>l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(pl,{size:"lg"})}):k?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/10 animate-pulse opacity-75"}),a.jsx(kl,{className:"h-16 w-16 text-red-500 mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Recipes Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:[`We couldn't find any recipes matching "`,s,'". Try a different search term or check out these suggestions.']}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-6",children:[a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),K()},children:'Try "pasta"'}),a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),K()},children:'Try "curry"'}),a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),K()},children:'Try "chicken"'}),a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),K()},children:'Try "vegetarian"'})]}),a.jsx(ee,{variant:"outline",className:"sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>E(!1),children:"Try a Different Search"})]}):h.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:h.map((ne,ae)=>{const ie=ne.ingredients.split("|"),ce=ie.slice(0,3),ge=ie.length-3,le=ne.instructions.split(".").slice(0,2).join(".")+"...";return a.jsx(Ee,{className:"sci-fi-card overflow-hidden border-2 border-safebite-teal/30 hover:border-safebite-teal/70 hover:shadow-lg transition-all duration-300 bg-safebite-card-bg/90 h-full flex flex-col",children:a.jsxs(Fe,{className:"p-6 relative z-10 flex-grow flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx($g,{className:"h-5 w-5 text-safebite-teal"})}),a.jsx("h3",{className:"text-xl font-bold text-safebite-text",children:ne.title})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs(Se,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(Na,{className:"h-3 w-3 mr-1"}),ne.servings]}),a.jsxs(Se,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-safebite-teal mr-2 flex-shrink-0"}),"Ingredients"]}),a.jsxs("ul",{className:"text-safebite-text-secondary text-sm space-y-1",children:[ce.map((Ne,$e)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Ne.trim()})]},$e)),ge>0&&a.jsxs("li",{className:"text-xs text-safebite-text-secondary italic mt-1",children:["+",ge," more ingredients"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-purple-500 mr-2 flex-shrink-0"}),"Instructions"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm line-clamp-2",children:le})]}),a.jsx("div",{className:"mt-auto pt-4 flex justify-end",children:a.jsxs(ee,{className:"sci-fi-button bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",onClick:()=>W(ne),children:[a.jsx(Yr,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})},ae)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/10 animate-ping opacity-75"}),a.jsx(tf,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Discover Delicious Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:"Enter a dish name, ingredient, or cuisine type to find amazing recipes tailored to your search"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-4",children:[a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),i("recipes"),K()},children:'Try "pasta"'}),a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),i("recipes"),K()},children:'Try "curry"'}),a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),i("recipes"),K()},children:'Try "chicken"'}),a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),i("recipes"),K()},children:'Try "vegetarian"'})]})]});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Ha,{userProfile:t}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-6",children:"Nutrition Search"}),a.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(In,{className:"h-5 w-5 text-safebite-text-secondary"})}),a.jsx(bt,{type:"text",placeholder:r==="food"?"Search for food...":"Search for recipes...",className:"pl-10 bg-safebite-card-bg border-safebite-card-bg-alt focus:border-safebite-teal",value:s,onChange:ne=>o(ne.target.value),onKeyDown:ne=>ne.key==="Enter"&&Z()})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ee,{onClick:Z,className:"bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",children:"Search"}),a.jsxs(ee,{variant:"outline",className:"border-safebite-teal text-safebite-teal hover:bg-safebite-teal/20",onClick:Q,children:[a.jsx(zI,{className:"h-4 w-4 mr-2"}),"Scan"]})]})]}),a.jsxs(pi,{defaultValue:r,onValueChange:i,className:"w-full",children:[a.jsxs(Qr,{className:"grid grid-cols-2 mb-8 bg-safebite-card-bg rounded-lg overflow-hidden",children:[a.jsxs(ft,{value:"food",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(gr,{className:"mr-2 h-4 w-4"}),"Food Search"]}),a.jsxs(ft,{value:"recipes",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx($g,{className:"mr-2 h-4 w-4"}),"Recipes"]})]}),a.jsx(St,{value:"food",className:"mt-0",children:g?a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(s7e,{food:g,onClose:()=>v(null)})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:ue()}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(Ee,{className:"sci-fi-card h-full",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-safebite-text",children:"Food Details"})}),a.jsx(Fe,{className:"text-center py-12",children:a.jsxs("div",{className:"text-safebite-text-secondary",children:[a.jsx(WI,{className:"h-16 w-16 mx-auto mb-4 text-safebite-text-secondary opacity-50"}),a.jsx("p",{children:"Select a food item to view detailed nutrition information"})]})})]})})]})}),a.jsx(St,{value:"recipes",className:"mt-0",children:pe()})]}),S&&a.jsx("div",{className:"mt-8 p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-center",children:[S.success?a.jsx(_a,{className:"h-5 w-5 text-green-500 mr-2"}):a.jsx(Wt,{className:"h-5 w-5 text-yellow-500 mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:S.success?"MongoDB API is connected and working properly":"MongoDB API is currently unavailable. Using backup data sources."})]})})]})}),A&&a.jsx(a7e,{onScan:B,onUpload:se,onClose:()=>C(!1)}),a.jsx($l,{open:T,onOpenChange:ne=>{I(ne),ne||b(null)},children:y&&a.jsxs(Vo,{className:"max-w-4xl bg-safebite-card-bg border-safebite-teal/30",children:[a.jsx(af,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-4",children:a.jsx($g,{className:"h-6 w-6 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx(of,{className:"text-2xl font-bold text-safebite-text",children:y.title}),a.jsxs(lf,{className:"text-safebite-text-secondary flex flex-wrap gap-2 mt-2",children:[a.jsxs(Se,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(Na,{className:"h-3 w-3 mr-1"}),y.servings]}),a.jsxs(Se,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]})]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),a.jsx("ul",{className:"space-y-2",children:y.ingredients.split("|").map((ne,ae)=>a.jsxs("li",{className:"flex items-start text-safebite-text",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2"}),ne.trim()]},ae))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),a.jsx("div",{className:"text-safebite-text space-y-2",children:y.instructions.split(".").filter(ne=>ne.trim()).map((ne,ae)=>a.jsxs("p",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-purple-500/20 text-purple-500 text-xs font-medium mr-2 mt-0.5",children:ae+1}),ne.trim(),"."]},ae))})]})]}),a.jsx("div",{className:"p-4 flex justify-end border-t border-safebite-card-bg-alt",children:a.jsx(ee,{onClick:()=>I(!1),className:"bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",children:"Close"})})]})})]})},p7e=()=>{const t=Ua();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safebite-dark-blue px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),a.jsxs("div",{className:"mb-8 inline-block p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:[a.jsx("p",{className:"text-xl text-safebite-text mb-4",children:"Page not found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",asChild:!0,children:a.jsxs(un,{to:"/",children:[a.jsx(S7,{className:"mr-2 h-4 w-4"}),"Return to Home"]})})]})})},g7e=()=>{const t=$n(),{toast:e}=Tt(),n=lt(Oe),r=$t(Oe),i=new ja,[s,o]=w.useState(!1),[l,c]=w.useState(""),u=async()=>{o(!0),c("");try{const h=(await SR(n,i)).user;(await Mt(Ve(r,"adminUsers",h.email))).exists()?(localStorage.setItem("isAdmin","true"),t("/admin/panel")):(e({title:"Access Denied",description:"You are not authorized to access the admin panel.",variant:"destructive"}),c("Access Denied: You are not an admin."),await n.signOut())}catch(f){console.error("Admin login error:",f),e({title:"Login Failed",description:f.message,variant:"destructive"}),c(f.message)}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(Ee,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Login"}),l&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(kl,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:l})]}),a.jsx("div",{children:a.jsxs(ee,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:u,disabled:s,children:[s?a.jsx(pl,{size:"sm",className:"mr-2"}):null,"Sign In with Google"]})})]})})},y7e=()=>{const t=$n(),{toast:e}=Tt(),n=lt(Oe),r=$t(Oe),[i,s]=w.useState([]);w.useEffect(()=>{(async()=>{const c=bo(r,"users"),f=(await AO(c)).docs.map(h=>({id:h.id,...h.data()}));s(f)})()},[r]);const o=()=>{n.signOut().then(()=>{t("/auth/login")}).catch(l=>{e({title:"Error signing out",description:l.message,variant:"destructive"})})};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs(Ee,{className:"sci-fi-card max-w-4xl w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Panel"}),a.jsx("p",{className:"text-safebite-text-secondary text-center mb-6",children:"Welcome, Admin1! Here you can manage users and their data."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"User ID"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Email"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Profile Data"})]})}),a.jsx("tbody",{children:i.map(l=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.id}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.email}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:JSON.stringify(l.profile)})]},l.id))})]})}),a.jsx(ee,{className:"mt-6 w-full bg-red-500 text-white hover:bg-red-600",onClick:o,children:"Sign Out"})]})})})},Rd=()=>{const t=window.location.pathname;return t==="/"||t==="/SafeBite-V1/"||["/auth/login","/auth/signup","/auth/forgot-password","/about","/help","/changelog"].some(n=>t.includes(n))},MI=()=>{const t=window.location.pathname;return["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/grocery-products","/community","/healthbox","/reports","/recipes","/settings","/tools","/questionnaire","/health-check"].some(n=>t.toLowerCase().includes(n.toLowerCase()))},x7e=()=>{if(!Rd()){const t=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"",e=encodeURIComponent(window.location.pathname);window.location.href=`${t}/auth/login?returnUrl=${e}`}},sse=()=>{const e=!!lt(Oe).currentUser,n=_i.isGuestUser(),r=ui.isAuthenticated();return console.log("Auth check:",{hasFirebaseAuth:e,isGuest:n,isSessionValid:r}),e||n&&r},_H=()=>{lt(Oe).currentUser&&!ui.getSessionInfo()&&(ui.refreshSession("logged-in"),console.log("Fixed auth state: Created new session for Firebase user")),_i.isGuestUser()&&!ui.isAuthenticated()&&(ui.refreshSession("guest"),console.log("Fixed auth state: Refreshed guest session")),MI()&&!sse()&&!Rd()&&(console.log("Fixed auth state: Redirecting to login from protected page"),x7e())},ase=({hideAuthButtons:t})=>{const[e,n]=w.useState(!1),r=$n(),i=Ua(),s=lt(Oe),[o,l]=w.useState(!1),{toast:c}=Tt(),u=i.pathname.includes("/food-delivery");w.useEffect(()=>{const g=s.onAuthStateChanged(v=>{l(!!v)});return()=>g()},[s]);const f=()=>{n(!e)},h=(g,v=!0)=>{if(!v||sse()){r(g),n(!1);return}c({title:"Authentication Required",description:"Please log in or continue as guest to access this page.",variant:"destructive"});const y=encodeURIComponent(g);r(`/auth/login?returnUrl=${y}`),n(!1)},p=t||u&&o;return a.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-safebite-dark-blue/90 backdrop-blur-md border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(un,{to:"/",className:"flex items-center",children:[a.jsx("span",{className:"text-2xl font-bold gradient-text",children:"SafeBite"}),a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-2 py-0.5 rounded-full",children:"v3.0"})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(un,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),a.jsx(un,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),a.jsx(ee,{variant:"link",className:"text-safebite-text hover:text-safebite-teal transition-colors p-0 h-auto font-normal",onClick:()=>h("/food-delivery"),children:"Food Delivery"}),a.jsx(ee,{variant:"link",className:"text-safebite-text hover:text-safebite-teal transition-colors p-0 h-auto font-normal",onClick:()=>h("/nutrition"),children:"Nutrition"}),a.jsx(ee,{variant:"link",className:"text-safebite-text hover:text-safebite-teal transition-colors p-0 h-auto font-normal",onClick:()=>h("/recipes"),children:"Recipes"}),a.jsx(un,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"}),!p&&a.jsxs(a.Fragment,{children:[a.jsxs(ee,{variant:"outline",className:"sci-fi-button",onClick:()=>r("/auth/login"),children:[a.jsx(Md,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r("/auth/signup"),children:[a.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:f,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:e?a.jsx(or,{size:24}):a.jsx(KI,{size:24})})})]})}),e&&a.jsx("div",{className:"md:hidden bg-safebite-card-bg border-b border-safebite-card-bg-alt transition-all duration-300 ease-in-out transform origin-top",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[a.jsx(un,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>n(!1),children:"Home"}),a.jsx(un,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>n(!1),children:"Features"}),a.jsx(ee,{variant:"ghost",className:"block w-full text-left px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>h("/nutrition"),children:"Nutrition"}),a.jsx(ee,{variant:"ghost",className:"block w-full text-left px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>h("/recipes"),children:"Recipes"}),a.jsx(ee,{variant:"ghost",className:"block w-full text-left px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>h("/food-delivery"),children:"Food Delivery"}),a.jsx(un,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>n(!1),children:"About"}),!p&&a.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[a.jsxs(ee,{variant:"outline",className:"sci-fi-button w-full justify-center",onClick:()=>{r("/auth/login"),n(!1)},children:[a.jsx(Md,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full justify-center",onClick:()=>{r("/auth/signup"),n(!1)},children:[a.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})})]})},v7e=()=>a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(ase,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"About SafeBite"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"A special project focused on helping people make informed food choices for better health"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Our Mission"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"SafeBite was created with a simple mission: to help people understand what's in their food and make healthier choices. In a world where processed foods dominate and nutrition labels can be confusing, we wanted to build a tool that makes food transparency accessible to everyone."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Our platform combines food data from multiple sources, personalized recommendations based on your health profile, and an intuitive interface to make healthy eating easier than ever."}),a.jsx("p",{className:"text-safebite-text-secondary",children:"This project is part of a special engineering project at IFHE Hyderabad, focused on applying technology to solve real-world health challenges."})]}),a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg p-6 border border-safebite-card-bg-alt",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Project Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Developer"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Aditya Shenvi"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Institution"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"IFHE Hyderabad"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Project Type"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Special Engineering Project"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Technologies Used"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Recharts"})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Meet the Developer"}),a.jsx(Ee,{className:"sci-fi-card max-w-2xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center p-6",children:[a.jsx(nw,{size:"xl",className:"mb-4 md:mb-0 md:mr-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-1",children:"Aditya Shenvi"}),a.jsx("p",{className:"text-safebite-teal text-sm mb-3",children:" Developer | Tech Enthusiast"}),a.jsx("p",{className:"text-safebite-text-secondary mb-3",children:"Engineering Student at IFHE Hyderabad with a passion for creating technology that improves people's lives. SafeBite represents the intersection of my interests in health, nutrition, and software development."}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[a.jsx("span",{className:"text-safebite-teal",children:" Passionate about:"})," Frontend, Backend, DevOps, UI/UX, Cybersecurity, Open Source, Digital Marketing"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(w7,{className:"mr-2 h-4 w-4"}),"GitHub"]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(ele,{className:"mr-2 h-4 w-4"}),"LinkedIn"]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(rm,{className:"mr-2 h-4 w-4"}),"Contact"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"About This Project"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"SafeBite is a special engineering project developed as part of my coursework at IFHE Hyderabad. It combines my interest in health technology with modern web development practices to create a platform that helps users make informed food choices."})]})]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Data Sources & Acknowledgements"}),a.jsx("p",{className:"text-safebite-text-secondary max-w-3xl mx-auto mb-6",children:"SafeBite uses publicly available data from multiple food databases and APIs. All data is used for educational purposes only under fair use principles."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:[a.jsxs("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Edamam API",a.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://www.calorieninjas.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["CalorieNinjas API",a.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://platform.fatsecret.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["FatSecret API",a.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://world.openfoodfacts.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Open Food Facts",a.jsx(Yr,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(un,{to:"/features",children:a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore SafeBite Features"})})})]}),a.jsx(tp,{})]}),b7e=()=>{const t=[{title:"Food Search & Analysis",description:"Search for any food item across multiple databases to get comprehensive nutritional information. Scan barcodes for instant product details.",icon:a.jsx(In,{className:"h-10 w-10 text-safebite-teal"}),color:"bg-safebite-teal/10",border:"border-safebite-teal/30"},{title:"Personalized Health Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals and dietary preferences.",icon:a.jsx(uy,{className:"h-10 w-10 text-purple-500"}),color:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations based on your habits.",icon:a.jsx(Zn,{className:"h-10 w-10 text-red-500"}),color:"bg-red-500/10",border:"border-red-500/30"},{title:"Food Safety Alerts",description:"Get warnings about ingredients that may affect your health goals or conflict with dietary restrictions and allergies.",icon:a.jsx(Ws,{className:"h-10 w-10 text-yellow-500"}),color:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Barcode Scanner",description:"Quickly scan product barcodes to get instant nutritional information and safety alerts for packaged foods.",icon:a.jsx(fle,{className:"h-10 w-10 text-blue-500"}),color:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Recipe Recommendations",description:"Discover healthy recipes tailored to your dietary preferences, restrictions, and health goals.",icon:a.jsx(tf,{className:"h-10 w-10 text-green-500"}),color:"bg-green-500/10",border:"border-green-500/30"},{title:"Community Support",description:"Connect with others on similar health journeys, share experiences, and get motivation from the SafeBite community.",icon:a.jsx(Na,{className:"h-10 w-10 text-indigo-500"}),color:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"Smart Notifications",description:"Receive timely reminders for health check-ins, meal planning suggestions, and personalized health tips.",icon:a.jsx(Ia,{className:"h-10 w-10 text-pink-500"}),color:"bg-pink-500/10",border:"border-pink-500/30"},{title:"Health Achievements",description:"Earn badges and track achievements as you make progress toward your health and nutrition goals.",icon:a.jsx(Kc,{className:"h-10 w-10 text-amber-500"}),color:"bg-amber-500/10",border:"border-amber-500/30"},{title:"AI-Powered Recommendations",description:"Get intelligent food and activity suggestions based on your profile, preferences, and progress data.",icon:a.jsx(Rn,{className:"h-10 w-10 text-cyan-500"}),color:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"Comprehensive Reports",description:"Access detailed reports on your nutrition, activity, and progress over time with visual charts and insights.",icon:a.jsx(uy,{className:"h-10 w-10 text-emerald-500"}),color:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Energy Tracking",description:"Monitor your energy levels in relation to your diet and activity to optimize your daily routine.",icon:a.jsx(Fr,{className:"h-10 w-10 text-orange-500"}),color:"bg-orange-500/10",border:"border-orange-500/30"}];return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(iK,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"SafeBite Features"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Discover all the powerful tools and features that make SafeBite your ultimate companion for healthier food choices"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:t.map((e,n)=>a.jsxs(Ee,{className:`sci-fi-card border ${e.border} hover:shadow-lg transition-shadow`,children:[a.jsx(Xe,{className:`${e.color} rounded-t-lg`,children:a.jsxs("div",{className:"flex items-center",children:[e.icon,a.jsx(Qe,{className:"ml-3 text-xl",children:e.title})]})}),a.jsx(Fe,{className:"pt-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:e.description})})]},n))}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-8 mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:"Special Project Information"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"SafeBite is a special engineering project developed by Aditya Shenvi at IFHE Hyderabad"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Project Goals"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Create an intuitive platform for food nutrition analysis"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Provide personalized health recommendations based on user data"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Integrate multiple food databases for comprehensive information"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Develop a user-friendly interface with modern design principles"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Technical Implementation"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"React & TypeScript frontend with Tailwind CSS for styling"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Firebase authentication and Firestore database"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Integration with multiple food nutrition APIs"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:""}),a.jsx("span",{children:"Data visualization using Recharts library"})]})]})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Ready to experience all these features and start your journey to healthier eating?"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(un,{to:"/auth/signup",children:a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto",children:"Sign Up Now"})}),a.jsx(un,{to:"/about",children:a.jsx(ee,{variant:"outline",className:"sci-fi-button w-full sm:w-auto",children:"Learn About the Project"})})]})]})]}),a.jsx(tp,{})]})},w7e=60*60*1e3;class j7e{constructor(){Dn(this,"db",$t(Oe));Dn(this,"auth",lt(Oe))}async searchRestaurants(e,n){try{const r=`restaurant_search_${e}_${n}`,i=this.getCachedData(r);if(i)return console.log("Using cached restaurant data"),i;const s=await this.getFirestoreData(e,n);if(s&&s.length>0)return console.log("Using Firestore restaurant data"),this.setCachedData(r,s),s;console.log("Fetching fresh restaurant data from API");const l=(await MHe(e,n)).map(c=>{var f;const u=c.name||c.restaurant||"Unknown Restaurant";return{restaurant:u,rating:((f=c.rating)==null?void 0:f.toString())||"4.0",delivery_time:c.delivery_time||"30-40 min",price_range:c.price_range||"",cuisine:c.cuisine||"Various",address:c.address||"Location not available",popular_dishes:c.popular_dishes||[],image_url:c.image_url||`https://source.unsplash.com/random/300x200/?restaurant,${encodeURIComponent(u)}`,source:c.source||"Swiggy",redirect:c.redirect||"",dish_details:(c.dish_details||[]).map(h=>({...h,image_url:h.image_url||`https://source.unsplash.com/random/300x200/?food,${encodeURIComponent(h.name||"")}`}))}});return await this.saveToFirestore(e,n,l),this.setCachedData(r,l),l}catch(r){return console.error("Error searching restaurants:",r),this.getMockRestaurantData(e)}}getCachedData(e){try{const n=localStorage.getItem(e);if(!n)return null;const{data:r,timestamp:i}=JSON.parse(n);return Date.now()-i>w7e?(localStorage.removeItem(e),null):r}catch(n){return console.error("Error getting cached data:",n),null}}setCachedData(e,n){try{const r={data:n,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(r))}catch(r){console.error("Error setting cached data:",r)}}async saveToFirestore(e,n,r){try{const i=Ve(this.db,"restaurant_searches",`${e}_${n}`);await rn(i,{foodItem:e,city:n,results:r,timestamp:new Date,searchCount:1},{merge:!0})}catch(i){console.error("Error saving to Firestore:",i)}}async getFirestoreData(e,n){try{const r=Ve(this.db,"restaurant_searches",`${e}_${n}`),i=await Mt(r);if(i.exists()){const s=i.data();return await rn(r,{searchCount:(s.searchCount||0)+1,lastSearched:new Date},{merge:!0}),s.results}return null}catch(r){return console.error("Error getting data from Firestore:",r),null}}async getFavoriteRestaurants(){try{const e=this.auth.currentUser;if(!e)return[];const n=Ve(this.db,"users",e.uid),r=await Mt(n);return r.exists()?r.data().favoriteRestaurants||[]:[]}catch(e){return console.error("Error getting favorite restaurants:",e),[]}}getMockRestaurantData(e){const n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return[{restaurant:`Hyderabad ${n} House`,rating:"4.2",delivery_time:"30-35 min",price_range:"",cuisine:"Various",address:"Road No. 12, Hyderabad Central",popular_dishes:[`${n} Special`,`Spicy ${n}`],source:"Swiggy",redirect:`https://www.swiggy.com/search?query=${encodeURIComponent(e)}`,image_url:"https://source.unsplash.com/random/300x200/?restaurant,indian",dish_details:[{name:`${n} Special`,price:"250",description:`Delicious ${e.toLowerCase()} prepared in a special way`,is_veg:!0,rating:"4.5",image_url:`https://source.unsplash.com/random/300x200/?${encodeURIComponent(e)},food`}]},{restaurant:`Royal ${n}`,rating:"4.3",delivery_time:"35-40 min",price_range:"",cuisine:"Various",address:"Banjara Hills, Hyderabad",popular_dishes:[`Spicy ${n}`,`Classic ${n}`],source:"Zomato",redirect:`https://www.zomato.com/search?q=${encodeURIComponent(e)}`,image_url:"https://source.unsplash.com/random/300x200/?restaurant,fancy",dish_details:[{name:`Classic ${n}`,price:"280",description:`Traditional ${e.toLowerCase()} with authentic flavors`,is_veg:!0,rating:"4.4",image_url:`https://source.unsplash.com/random/300x200/?${encodeURIComponent(e)},dish`}]},{restaurant:`The ${n} Factory`,rating:"4",delivery_time:"25-30 min",price_range:"",cuisine:"Various",address:"Jubilee Hills, Hyderabad",popular_dishes:[`${n} Special`,`Kadai ${n}`],source:"Swiggy",redirect:`https://www.swiggy.com/search?query=${encodeURIComponent(e)}`,image_url:"https://source.unsplash.com/random/300x200/?restaurant,modern",dish_details:[{name:`Kadai ${n}`,price:"270",description:`Spicy ${e.toLowerCase()} with bell peppers and kadai masala`,is_veg:!0,rating:"4.2",image_url:`https://source.unsplash.com/random/300x200/?${encodeURIComponent(e)},spicy`}]},{restaurant:`Hyderabad ${n} Center`,rating:"4.1",delivery_time:"30-35 min",price_range:"",cuisine:"Various",address:"Madhapur, Hyderabad",popular_dishes:[`${n} Special`,"Butter Naan"],source:"Zomato",redirect:`https://www.zomato.com/search?q=${encodeURIComponent(e)}`,image_url:"https://source.unsplash.com/random/300x200/?restaurant,traditional",dish_details:[{name:"Butter Naan",price:"50",description:"Soft buttery naan bread",is_veg:!0,rating:"4.3",image_url:"https://source.unsplash.com/random/300x200/?naan,bread"}]}]}}const S7e=new j7e,N7e=({isOpen:t,onClose:e,currentPage:n="",userData:r=null,searchResults:i=[]})=>{const s=$n(),{toast:o}=Tt(),l=lt(Oe),c=$t(Oe),{isGuest:u}=Vn(),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[v,y]=w.useState("restaurants"),[b,S]=w.useState([]),[N,k]=w.useState([]),[E,A]=w.useState(""),[C,T]=w.useState(!1),[I,P]=w.useState(""),[M,L]=w.useState("Hyderabad"),[D,R]=w.useState(!1),[V,q]=w.useState(null);w.useEffect(()=>{t&&l.currentUser&&!u&&(async()=>{try{const se=await Mt(Ve(c,"users",l.currentUser.uid));if(se.exists()){const ue=se.data();S(ue.favoriteRestaurants||[])}}catch(se){console.error("Error fetching favorites:",se)}})()},[t,l,c,u]),w.useEffect(()=>{if(console.log("Search results received:",i),i&&Array.isArray(i)&&i.length>0){const B=i.map(se=>({...se,is_favorite:b.includes(se.restaurant)}));console.log("Updated results with favorites:",B),k(B),y("restaurants")}else console.log("No search results or empty array received"),k([])},[i,b]);const H=async()=>{if(!I.trim()){o({title:"Search query required",description:"Please enter a food item to search for.",variant:"destructive"});return}g(!0),q(null),R(!1);try{const se=(await S7e.searchRestaurants(I,M)).map(ue=>({...ue,is_favorite:b.includes(ue.restaurant)}));if(k(se),R(se.length===0),l.currentUser&&!u){const ue=Ve(c,"users",l.currentUser.uid),pe=await Mt(ue),ne=pe.exists()?pe.data():{};await rn(ue,{searchHistory:[...ne.searchHistory||[],{type:"food_delivery",query:I,location:M,timestamp:new Date,results:se.length}].slice(-20)},{merge:!0})}}catch(B){console.error("Error searching restaurants:",B),q("Failed to search restaurants. Please try again.")}finally{g(!1)}},Y=async B=>{if(u){o({title:"Sign in required",description:"Please sign in to save favorites.",variant:"destructive"});return}try{const se=l.currentUser;if(!se)return;const ue=b.includes(B),pe=ue?b.filter(ne=>ne!==B):[...b,B];S(pe),await au(Ve(c,"users",se.uid),{favoriteRestaurants:pe}),await rn(Ve(c,"user_actions",`${se.uid}_${Date.now()}`),{userId:se.uid,action:ue?"remove_favorite_restaurant":"add_favorite_restaurant",restaurant:B,timestamp:new Date}),o({title:ue?"Removed from favorites":"Added to favorites",description:`${B} has been ${ue?"removed from":"added to"} your favorites.`})}catch(se){console.error("Error toggling favorite:",se),o({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},K=B=>{A(B),T(!0)};if(!t)return null;const U=(()=>{switch(n){case"dashboard":return{title:"Food Delivery Integration",subtitle:r?`Personalized for ${r.displayName||"you"}`:"Now Live",description:"Get nutritional insights for your food delivery orders and make healthier choices based on your health profile."};case"nutrition":return{title:"Nutrition-Aware Food Delivery",subtitle:"Now Live",description:"Track nutrition from your food delivery orders and stay on top of your health goals."};case"recipes":return{title:"Order Instead of Cooking",subtitle:"Now Live",description:"Don't have time to cook? Order similar healthy options from your favorite restaurants."};default:return{title:"Food Delivery Integration",subtitle:"Now Live",description:"Get nutritional insights for your food delivery orders and make healthier choices."}}})(),W=B=>B>=80?"#10b981":B>=60?"#22c55e":B>=40?"#eab308":B>=20?"#f97316":"#ef4444",Q=async()=>{if(u){o({title:"Sign in required",description:"Please sign in to get notified when this feature is available.",variant:"destructive"});return}g(!0);try{const B=l.currentUser;if(B){const se=Ve(c,"users",B.uid),ue=await Mt(se),pe=ue.exists()?ue.data():{};await rn(se,{notifications:{...pe.notifications,foodDeliveryUpdates:!0}},{merge:!0}),h(!0),o({title:"Notification enabled",description:"You'll receive updates about new food delivery features."})}}catch(B){console.error("Error updating notification preferences:",B),o({title:"Error",description:"Failed to enable notifications. Please try again.",variant:"destructive"})}finally{g(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Ee,{className:"w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(Xe,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(or,{className:"h-5 w-5"})}),a.jsxs(Qe,{className:"text-2xl font-bold text-safebite-text flex items-center",children:[a.jsx(co,{className:"mr-2 h-6 w-6 text-orange-500"}),U.title,a.jsx(Se,{className:"ml-3 bg-orange-500 text-white",children:U.subtitle})]})]}),a.jsxs(Fe,{className:"pt-6",children:[a.jsxs("div",{className:"mb-6 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"food-search",className:"text-xs text-safebite-text-secondary mb-1 block",children:"Food Item"}),a.jsx("div",{className:"relative",children:a.jsx("input",{id:"food-search",type:"text",placeholder:"Search for paneer butter masala, pizza, etc.",className:"w-full bg-safebite-dark-blue border border-safebite-card-bg-alt rounded-md px-3 py-2 text-safebite-text placeholder:text-safebite-text-secondary/50 focus:outline-none focus:ring-1 focus:ring-safebite-teal",value:I,onChange:B=>P(B.target.value),onKeyDown:B=>B.key==="Enter"&&H()})})]}),a.jsxs("div",{className:"md:w-1/3",children:[a.jsx("label",{htmlFor:"location-search",className:"text-xs text-safebite-text-secondary mb-1 block",children:"Location"}),a.jsx("div",{className:"relative",children:a.jsx("input",{id:"location-search",type:"text",placeholder:"City name",className:"w-full bg-safebite-dark-blue border border-safebite-card-bg-alt rounded-md px-3 py-2 text-safebite-text placeholder:text-safebite-text-secondary/50 focus:outline-none focus:ring-1 focus:ring-safebite-teal",value:M,onChange:B=>L(B.target.value),onKeyDown:B=>B.key==="Enter"&&H()})})]}),a.jsx("div",{className:"md:w-auto flex items-end",children:a.jsxs(ee,{className:"w-full md:w-auto bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue",onClick:H,disabled:p,children:[p?a.jsx(_n,{className:"h-4 w-4 animate-spin mr-2"}):null,"Search"]})})]}),V&&a.jsxs("div",{className:"mt-3 text-red-500 text-sm",children:[a.jsx(Wt,{className:"h-4 w-4 inline-block mr-1"}),V]})]}),a.jsxs(pi,{defaultValue:"restaurants",className:"mb-6",onValueChange:B=>y(B),children:[a.jsxs(Qr,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsx(ft,{value:"restaurants",children:"Restaurants"}),a.jsx(ft,{value:"dishes",children:"Dishes"})]}),a.jsx(St,{value:"restaurants",children:N.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:N.map((B,se)=>a.jsxs("div",{className:"bg-safebite-card-bg p-4 rounded-xl border border-safebite-teal/30 shadow-md hover:shadow-lg hover:border-safebite-teal/60 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text truncate",title:B.restaurant,children:B.restaurant||"Restaurant Name Unavailable"}),a.jsxs("div",{className:"flex items-center gap-2",children:[B.source&&a.jsx(Se,{className:B.source.toLowerCase()==="swiggy"?"bg-orange-500/20 text-orange-500 border-orange-500":"bg-red-500/20 text-red-500 border-red-500",children:B.source}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7 p-0",onClick:()=>Y(B.restaurant),children:a.jsx(Zn,{className:`h-4 w-4 ${B.is_favorite?"fill-red-500 text-red-500":"text-safebite-text-secondary"}`})})]})]}),B.image_url&&a.jsx("div",{className:"mb-3 rounded-md overflow-hidden h-40 bg-safebite-card-bg-alt",children:a.jsx("img",{src:B.image_url,alt:B.restaurant,className:"w-full h-full object-cover",onError:ue=>{ue.currentTarget.src=`https://source.unsplash.com/random/300x200/?restaurant,${encodeURIComponent(B.restaurant)}`}})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[B.rating&&a.jsxs(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(mr,{className:"h-3 w-3 mr-1 fill-yellow-500 text-yellow-500"}),typeof B.rating=="number"?B.rating.toFixed(1):B.rating]}),B.delivery_time&&a.jsxs(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),B.delivery_time]}),B.distance_km!==void 0&&a.jsxs(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(A7,{className:"h-3 w-3 mr-1 text-blue-400"}),B.distance_km," km"]}),B.restaurant_type&&a.jsx(Se,{variant:"outline",className:`${B.restaurant_type==="veg"?"bg-green-500/10 text-green-500":B.restaurant_type==="non-veg"?"bg-red-500/10 text-red-500":"bg-safebite-card-bg-alt text-safebite-text-secondary"}`,children:B.restaurant_type==="veg"?" Veg":B.restaurant_type==="non-veg"?" Non-veg":" Both"}),B.price_range&&a.jsx(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:B.price_range}),B.cuisine&&a.jsxs(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(gr,{className:"h-3 w-3 mr-1"}),B.cuisine]})]}),B.address&&a.jsxs("p",{className:"text-xs text-safebite-text-secondary mb-2 flex items-start",children:[a.jsx(N7,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),B.address,B.distance_km!==void 0&&a.jsxs("span",{className:"ml-1 text-blue-400",children:["(",B.distance_km," km away)"]})]}),B.offers&&B.offers.length>0&&a.jsx("div",{className:"mb-2",children:B.offers.map((ue,pe)=>a.jsxs("div",{className:"text-xs flex items-center text-green-500 mb-1",children:[a.jsx("span",{className:"bg-green-500/10 p-0.5 rounded mr-1",children:"%"}),ue]},pe))}),a.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-safebite-text-secondary mb-2",children:[B.min_order&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(co,{className:"h-3 w-3 mr-1"}),"Min: ",B.min_order]}),B.delivery_fee&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Truck,{className:"h-3 w-3 mr-1"}),"Delivery: ",B.delivery_fee==="0"?"FREE":B.delivery_fee]}),B.estimated_delivery_time&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),"ETA: ",B.estimated_delivery_time]})]}),B.popular_dishes&&B.popular_dishes.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:"Popular dishes:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:B.popular_dishes.map((ue,pe)=>a.jsx(Se,{variant:"secondary",className:"text-xs bg-safebite-teal/10 text-safebite-teal",children:ue},pe))})]}),B.health_score!==void 0&&a.jsxs("div",{className:"mt-2 mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(nm,{className:"h-3.5 w-3.5 text-green-500 mr-1"}),a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"Health Score"})]}),a.jsxs("span",{className:"text-xs font-medium",children:[B.health_score,"/100"]})]}),a.jsx(Hd,{value:B.health_score,className:"h-1.5",style:{background:"rgba(255,255,255,0.1)","--progress-background":W(B.health_score||0)}})]}),B.health_tags&&B.health_tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:B.health_tags.map((ue,pe)=>a.jsxs(Se,{variant:"outline",className:"bg-green-500/10 text-green-400 border-green-500/30 text-xs",children:[a.jsx(Kc,{className:"h-3 w-3 mr-1"}),ue]},pe))}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[B.redirect&&a.jsx(ee,{className:"flex-1 bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue text-sm h-8",onClick:()=>K(B.redirect),children:"View Menu"}),B.redirect&&a.jsxs(ee,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-sm h-8",onClick:()=>{nn("order_food",{restaurant:B.restaurant,source:B.source,healthScore:B.health_score,distance_km:B.distance_km}),window.open(B.redirect,"_blank","noopener,noreferrer"),o({title:"Opening Restaurant",description:`Taking you to ${B.source} to order from ${B.restaurant}${B.distance_km?` (${B.distance_km} km away)`:""}.`})},children:["Order Now ",a.jsx(Pi,{className:"h-3.5 w-3.5 ml-1"})]})]})]},se))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Wt,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4 opacity-70"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"No restaurants found for your search."}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Try a different food item or city?"})]})}),a.jsx(St,{value:"dishes",children:N.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:N.flatMap(B=>(B.dish_details||[]).map((se,ue)=>a.jsxs("div",{className:"bg-safebite-card-bg p-4 rounded-xl border border-safebite-teal/30 shadow-md hover:shadow-lg hover:border-safebite-teal/60 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text truncate",title:se.name,children:se.name}),se.is_veg!==void 0&&a.jsx(Se,{className:se.is_veg?"bg-green-500/20 text-green-500 border-green-500":"bg-red-500/20 text-red-500 border-red-500",children:se.is_veg?"Veg":"Non-Veg"})]}),se.image_url&&a.jsx("div",{className:"mb-3 rounded-md overflow-hidden h-32 bg-safebite-card-bg-alt",children:a.jsx("img",{src:se.image_url,alt:se.name,className:"w-full h-full object-cover"})}),se.description&&a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:se.description}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[se.price&&a.jsx(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:se.price}),se.rating&&a.jsxs(Se,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(mr,{className:"h-3 w-3 mr-1 fill-yellow-500 text-yellow-500"}),se.rating]})]}),a.jsxs("div",{className:"mt-3 text-xs text-safebite-text-secondary",children:["From: ",a.jsx("span",{className:"font-medium text-safebite-text",children:B.restaurant}),B.source&&a.jsx(Se,{className:"ml-2 text-xs",variant:"outline",children:B.source})]}),B.redirect&&a.jsxs("a",{href:B.redirect,className:"text-sm mt-3 inline-block bg-orange-500 hover:bg-orange-600 px-3 py-1.5 rounded text-white font-medium transition-colors duration-200 w-full text-center",target:"_blank",rel:"noopener noreferrer",children:["Order Now ",a.jsx(Pi,{className:"inline-block h-3.5 w-3.5 ml-1"})]})]},`${B.restaurant}-${ue}`)))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Wt,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4 opacity-70"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"No dishes found for your search."}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Try a different food item or city?"})]})})]}),C&&a.jsxs("div",{className:"mb-6 border border-safebite-card-bg-alt rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between bg-safebite-card-bg p-2",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:"Restaurant Menu"}),a.jsx(ee,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>T(!1),children:a.jsx(or,{className:"h-4 w-4"})})]}),a.jsx("iframe",{src:E,className:"w-full h-[400px] border-0",title:"Restaurant Menu"})]}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx(Jn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Food Delivery Features"]}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Search for restaurants on Swiggy and Zomato in one place"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"View popular dishes and cuisine information"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Save your favorite restaurants for quick access"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Get nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:""}),a.jsx("span",{children:"Personalized recommendations based on your health profile"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsx(ee,{variant:"outline",className:"w-full sm:w-auto",onClick:e,children:"Close"}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsxs(ee,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>s("/food-delivery"),children:["Learn More",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]}),a.jsxs(ee,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:Q,disabled:f||p,children:[p?a.jsx(_n,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Ia,{className:"mr-2 h-4 w-4"}),f?"Notifications On":"Get Offers"]})]})]})]})]})})},m0={dietaryRestrictions:[],calorieRange:[300,800],preferHealthy:!0,excludeIngredients:[],preferredCuisines:[]},kH=[{id:"vegetarian",label:"Vegetarian",icon:a.jsx(nm,{className:"h-4 w-4 text-green-500"})},{id:"vegan",label:"Vegan",icon:a.jsx(C7,{className:"h-4 w-4 text-green-600"})},{id:"gluten-free",label:"Gluten Free",icon:a.jsx(vle,{className:"h-4 w-4 text-amber-600"})},{id:"dairy-free",label:"Dairy Free",icon:a.jsx(ole,{className:"h-4 w-4 text-blue-400"})},{id:"nut-free",label:"Nut Free",icon:a.jsx(ule,{className:"h-4 w-4 text-amber-800"})},{id:"low-carb",label:"Low Carb",icon:a.jsx(ho,{className:"h-4 w-4 text-orange-500"})}],_7e=["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American","Korean","Lebanese"],k7e=({onPreferencesChange:t,initialPreferences:e,isCollapsible:n=!0})=>{const{toast:r}=Tt(),{isGuest:i}=Vn(),[s,o]=w.useState(n),[l,c]=w.useState({...m0,...e}),[u,f]=w.useState("");w.useEffect(()=>{(async()=>{try{const E=lt(Oe);if(i||!E.currentUser)return;const A=$t(Oe),C=Ve(A,"users",E.currentUser.uid),T=await Mt(C);if(T.exists()){const I=T.data();if(I.healthPreferences){const P={...m0,...I.healthPreferences};c(P),t(P)}}}catch(E){console.error("Error loading health preferences:",E)}})()},[i,t]);const h=async()=>{try{const k=lt(Oe);if(i||!k.currentUser){r({title:"Guest Mode",description:"Preferences are temporary in guest mode. Sign in to save them permanently.",variant:"default"});return}const E=$t(Oe),A=Ve(E,"users",k.currentUser.uid);await rn(A,{healthPreferences:l},{merge:!0}),r({title:"Preferences Saved",description:"Your health preferences have been saved.",variant:"default"}),nn("save_health_preferences",{dietaryRestrictions:l.dietaryRestrictions,preferHealthy:l.preferHealthy})}catch(k){console.error("Error saving health preferences:",k),r({title:"Error",description:"Failed to save preferences. Please try again.",variant:"destructive"})}},p=(k,E)=>{c(A=>{const C=E?[...A.dietaryRestrictions,k]:A.dietaryRestrictions.filter(I=>I!==k),T={...A,dietaryRestrictions:C};return t(T),T})},g=k=>{c(E=>{const A={...E,calorieRange:[k[0],k[1]]};return t(A),A})},v=k=>{c(E=>{const A={...E,preferHealthy:k};return t(A),A})},y=()=>{u.trim()&&c(k=>{const E=u.trim().toLowerCase();if(k.excludeIngredients.includes(E))return f(""),k;const A={...k,excludeIngredients:[...k.excludeIngredients,E]};return t(A),f(""),A})},b=k=>{c(E=>{const A={...E,excludeIngredients:E.excludeIngredients.filter(C=>C!==k)};return t(A),A})},S=(k,E)=>{c(A=>{const C=E?[...A.preferredCuisines,k]:A.preferredCuisines.filter(I=>I!==k),T={...A,preferredCuisines:C};return t(T),T})},N=()=>{c(m0),t(m0),f(""),r({title:"Preferences Reset",description:"Health preferences have been reset to default.",variant:"default"})};return a.jsxs(Ee,{className:"sci-fi-card border-safebite-teal/30",children:[a.jsxs(Xe,{className:"pb-2 flex flex-row items-center justify-between",children:[a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Zn,{className:"h-5 w-5 mr-2 text-red-500"}),"Health Preferences"]}),n&&a.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>o(!s),className:"h-8 w-8 p-0",children:[s?a.jsx(GI,{className:"h-4 w-4"}):a.jsx(or,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:s?"Expand":"Collapse"})]})]}),!s&&a.jsxs(Fe,{className:"pt-2",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-sm font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(gr,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Dietary Restrictions"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:kH.map(k=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yw,{id:`diet-${k.id}`,checked:l.dietaryRestrictions.includes(k.id),onCheckedChange:E=>p(k.id,E)}),a.jsxs("label",{htmlFor:`diet-${k.id}`,className:"text-sm text-safebite-text-secondary flex items-center cursor-pointer",children:[k.icon,a.jsx("span",{className:"ml-1",children:k.label})]})]},k.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-sm font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx(ho,{className:"h-4 w-4 mr-1 text-orange-500"}),"Calorie Range (per meal)"]}),a.jsxs("div",{className:"px-2",children:[a.jsx(ul,{defaultValue:l.calorieRange,min:100,max:1500,step:50,onValueChange:g,className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsxs("span",{children:[l.calorieRange[0]," cal"]}),a.jsxs("span",{children:[l.calorieRange[1]," cal"]})]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yw,{id:"prefer-healthy",checked:l.preferHealthy,onCheckedChange:k=>v(k)}),a.jsxs("label",{htmlFor:"prefer-healthy",className:"text-sm font-medium text-safebite-text flex items-center cursor-pointer",children:[a.jsx(nm,{className:"h-4 w-4 mr-1 text-green-500"}),"Prefer Healthier Options"]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text mb-2",children:"Exclude Ingredients"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:u,onChange:k=>f(k.target.value),placeholder:"e.g., mushrooms",className:"flex-1 bg-safebite-card-bg-alt/50 border border-safebite-card-bg-alt rounded-md px-3 py-1 text-sm text-safebite-text focus:outline-none focus:ring-1 focus:ring-safebite-teal focus:border-safebite-teal",onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),y())}}),a.jsx(ee,{variant:"outline",size:"sm",onClick:y,className:"border-safebite-teal/50 text-safebite-teal",children:"Add"})]}),l.excludeIngredients.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:l.excludeIngredients.map(k=>a.jsxs(Se,{variant:"outline",className:"bg-red-500/10 text-red-400 border-red-500/30 flex items-center",children:[k,a.jsx(or,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>b(k)})]},k))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text mb-2",children:"Preferred Cuisines"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_7e.map(k=>{const E=l.preferredCuisines.includes(k);return a.jsx(Se,{variant:E?"default":"outline",className:`cursor-pointer ${E?"bg-safebite-teal text-safebite-dark-blue":"bg-transparent text-safebite-text-secondary hover:bg-safebite-teal/10"}`,onClick:()=>S(k,!E),children:k},k)})})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ee,{variant:"outline",size:"sm",onClick:N,className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:"Reset"}),a.jsx(ee,{size:"sm",onClick:h,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Save Preferences"})]})]}),s&&a.jsx(Fe,{className:"pt-2",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.dietaryRestrictions.map(k=>{const E=kH.find(A=>A.id===k);return a.jsxs(Se,{variant:"outline",className:"bg-safebite-card-bg-alt/50",children:[E==null?void 0:E.icon,a.jsx("span",{className:"ml-1",children:(E==null?void 0:E.label)||k})]},k)}),l.preferHealthy&&a.jsxs(Se,{variant:"outline",className:"bg-green-500/10 text-green-400 border-green-500/30",children:[a.jsx(nm,{className:"h-3 w-3 mr-1"}),"Healthier Options"]}),l.preferredCuisines.length>0&&a.jsxs(Se,{variant:"outline",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[a.jsx(gr,{className:"h-3 w-3 mr-1"}),l.preferredCuisines.length," Cuisines"]}),l.excludeIngredients.length>0&&a.jsxs(Se,{variant:"outline",className:"bg-red-500/10 text-red-400 border-red-500/30",children:[a.jsx(or,{className:"h-3 w-3 mr-1"}),l.excludeIngredients.length," Excluded"]}),l.dietaryRestrictions.length===0&&!l.preferHealthy&&l.preferredCuisines.length===0&&l.excludeIngredients.length===0&&a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"No preferences set. Click to customize."})]})})]})},AH=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(n=>{const{latitude:r,longitude:i}=n.coords;t({latitude:r,longitude:i,timestamp:Date.now()})},n=>{e(n)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),CH=async(t,e)=>{try{const r=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&zoom=10`)).json();return r.address&&(r.address.city||r.address.town||r.address.village||r.address.suburb)||"Unknown"}catch(n){return console.error("Error getting city from coordinates:",n),"Unknown"}},EH=async(t,e)=>{try{const r=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&zoom=18`)).json();return r.display_name?r.display_name:"Unknown address"}catch(n){return console.error("Error getting address from coordinates:",n),"Unknown address"}},A7e=()=>{const{toast:t}=Tt(),{isGuest:e}=Vn(),n=lt(Oe),r=$t(Oe),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(null),[f,h]=w.useState(!1),[p,g]=w.useState([]),[v,y]=w.useState(!1),[b,S]=w.useState(null),[N,k]=w.useState(null),[E,A]=w.useState(null),[C,T]=w.useState(null),[I,P]=w.useState(!1),[M,L]=w.useState(""),D=["Pizza","Biryani","Burger","Sushi","Pasta","Curry","Tacos","Noodles"],R=["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad"];w.useEffect(()=>{(async()=>{try{const Q=n.currentUser;if(Q&&!e){const B=await Mt(Ve(r,"users",Q.uid));B.exists()&&k(B.data())}}catch(Q){console.error("Error fetching user data:",Q)}})()},[n,r,e]),w.useEffect(()=>{const W=localStorage.getItem("userCity");W&&l(W),(async()=>{P(!0);try{const B=await AH();T(B);const se=await CH(B.latitude,B.longitude);se&&se!=="Unknown"&&(l(se),localStorage.setItem("userCity",se));const ue=await EH(B.latitude,B.longitude);L(ue)}catch(B){console.error("Error getting user location:",B),t({title:"Location Error",description:"Could not get your precise location. Please enter your city manually.",variant:"default"})}finally{P(!1)}})()},[t]);const V=async W=>{if(W.preventDefault(),i.trim()&&o.trim()){y(!0),S(null),u({food:i.trim(),city:o.trim()});try{localStorage.setItem("userCity",o.trim()),nn("food_delivery_search",{food:i.trim(),city:o.trim(),hasExactLocation:!!C,healthPreferences:E?{dietaryRestrictions:E.dietaryRestrictions,preferHealthy:E.preferHealthy,cuisines:E.preferredCuisines}:null}),await q(i.trim(),o.trim())}catch{S("Failed to fetch restaurant data. Please try again."),t({title:"Search Error",description:"There was a problem finding restaurants. Please try again.",variant:"destructive"})}finally{y(!1)}}},q=async(W,Q)=>{const{fetchNearbyRestaurants:B}=await nse(async()=>{const{fetchNearbyRestaurants:ue}=await import("./foodDeliveryService-Bu5bbnJy.js");return{fetchNearbyRestaurants:ue}},[]),se=Q.split(" ").map(ue=>ue.charAt(0).toUpperCase()+ue.slice(1).toLowerCase()).join(" ");console.log(`Searching for ${W} in ${se}`);try{let ue=await B(W,se,C||void 0);console.log("Search results received:",ue),ue&&ue.length>0?(E&&(ue=H(ue,E),console.log("Results after health preferences filtering:",ue)),g(ue),h(!0)):(console.log("No results found"),t({title:"No restaurants found",description:`We couldn't find any restaurants for "${W}" in "${Q}". Try a different search.`,variant:"destructive"}))}catch(ue){console.error("Error fetching food delivery results:",ue),t({title:"Error fetching results",description:"There was a problem finding restaurants. Please try again.",variant:"destructive"})}},H=(W,Q)=>Q?W.filter(B=>{var se;return!(Q.dietaryRestrictions.includes("vegetarian")&&((se=B.cuisine)!=null&&se.toLowerCase().includes("non-veg"))||Q.preferredCuisines.length>0&&!Q.preferredCuisines.some(pe=>{var ne;return(ne=B.cuisine)==null?void 0:ne.toLowerCase().includes(pe.toLowerCase())})||Q.excludeIngredients.length>0&&Q.excludeIngredients.some(pe=>{var ne;return(ne=B.popular_dishes)==null?void 0:ne.some(ae=>ae.toLowerCase().includes(pe.toLowerCase()))}))}).map(B=>Q.preferHealthy?{...B,health_score:Y(B),health_tags:K(B)}:B).sort((B,se)=>Q.preferHealthy?(se.health_score||0)-(B.health_score||0):0):W,Y=(W,Q)=>{let B=50;const se=["salad","healthy","vegan","vegetarian","organic","mediterranean"];W.cuisine&&se.some(ae=>{var ie;return(ie=W.cuisine)==null?void 0:ie.toLowerCase().includes(ae)})&&(B+=20);const ue=["fast food","fried","pizza","burger"];W.cuisine&&ue.some(ae=>{var ie;return(ie=W.cuisine)==null?void 0:ie.toLowerCase().includes(ae)})&&(B-=15);const pe=["salad","grilled","steamed","baked","roasted","boiled"],ne=["fried","cheesy","creamy","buttery","sweet"];return W.popular_dishes&&W.popular_dishes.forEach(ae=>{const ie=ae.toLowerCase();pe.some(ce=>ie.includes(ce))&&(B+=5),ne.some(ce=>ie.includes(ce))&&(B-=5)}),Math.max(0,Math.min(100,B))},K=(W,Q)=>{const B=[];if(W.cuisine){const ue=W.cuisine.toLowerCase();(ue.includes("vegetarian")||ue.includes("vegan"))&&B.push("Plant-Based"),ue.includes("organic")&&B.push("Organic"),ue.includes("gluten-free")&&B.push("Gluten-Free")}const se=W.health_score||0;return se>=80?B.push("Very Healthy"):se>=60?B.push("Healthy Option"):se<=30&&B.push("Indulgent"),B},Z=W=>{s(W)},U=W=>{l(W)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(Ha,{userProfile:N||{}}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Find Food Delivery"}),a.jsx("p",{className:"text-safebite-text-secondary mb-8",children:"Search for your favorite food and find delivery options from Swiggy and Zomato"}),a.jsx("div",{className:"mb-6",children:a.jsx(k7e,{onPreferencesChange:A,isCollapsible:!0})}),a.jsx(Ee,{className:"p-6 bg-safebite-card-bg border-safebite-card-bg-alt mb-8",children:a.jsxs("form",{onSubmit:V,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"foodQuery",className:"text-safebite-text mb-2 block",children:"What are you craving?"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(In,{className:"h-5 w-5 text-safebite-text-secondary"})}),a.jsx(bt,{id:"foodQuery",type:"text",value:i,onChange:W=>s(W.target.value),placeholder:"e.g., Paneer Butter Masala, Pizza",className:"pl-10 bg-safebite-card-bg-alt border-safebite-card-bg-alt focus:border-safebite-teal text-safebite-text",required:!0})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:D.slice(0,4).map(W=>a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>Z(W),children:W},W))})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"cityQuery",className:"text-safebite-text mb-2 block",children:"Enter your city"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(N7,{className:"h-5 w-5 text-safebite-text-secondary"})}),a.jsx(bt,{id:"cityQuery",type:"text",value:o,onChange:W=>l(W.target.value),placeholder:"e.g., Hyderabad, Mumbai",className:"pl-10 bg-safebite-card-bg-alt border-safebite-card-bg-alt focus:border-safebite-teal text-safebite-text",required:!0}),a.jsx(ee,{type:"button",variant:"outline",size:"icon",className:"absolute right-1 top-1 h-8 w-8 bg-safebite-card-bg-alt border-safebite-card-bg-alt hover:bg-safebite-teal/20",onClick:async()=>{P(!0);try{const W=await AH();T(W);const Q=await CH(W.latitude,W.longitude);Q&&Q!=="Unknown"&&(l(Q),localStorage.setItem("userCity",Q));const B=await EH(W.latitude,W.longitude);L(B),t({title:"Location Updated",description:"Using your current location for better results.",variant:"default"})}catch(W){console.error("Error getting location:",W),t({title:"Location Error",description:"Could not get your location. Please enter your city manually.",variant:"destructive"})}finally{P(!1)}},disabled:I,children:I?a.jsx(dn,{className:"h-4 w-4 animate-spin"}):a.jsx(tle,{className:"h-4 w-4"})})]}),M&&a.jsxs("div",{className:"mt-1 text-xs text-safebite-teal flex items-center",children:[a.jsx(A7,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"truncate",children:M})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:R.slice(0,4).map(W=>a.jsx(Se,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>U(W),children:W},W))})]})]}),a.jsx(ee,{type:"submit",className:"w-full bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",disabled:!i.trim()||!o.trim()||v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(dn,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):"Search Restaurants"})]})}),c&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:['Results for "',c.food,'" in "',c.city,'"']}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Click on a restaurant to view delivery options"})]}),b&&a.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/30 text-center mb-6",children:[a.jsx(Wt,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-safebite-text",children:b})]}),c&&a.jsx("div",{className:"mb-6",children:a.jsx(rse,{searchQuery:c.food,category:"food",maxOffers:4})}),a.jsx(N7e,{isOpen:f,onClose:()=>h(!1),searchResults:p,userData:N,currentPage:"food-delivery"})]})})]})};var YD="Collapsible",[C7e,ose]=Xi(YD),[E7e,XD]=C7e(YD),lse=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[c=!1,u]=Yi({prop:r,defaultProp:i,onChange:o});return a.jsx(E7e,{scope:n,disabled:s,contentId:ka(),open:c,onOpenToggle:w.useCallback(()=>u(f=>!f),[u]),children:a.jsx(Ge.div,{"data-state":JD(c),"data-disabled":s?"":void 0,...l,ref:e})})});lse.displayName=YD;var cse="CollapsibleTrigger",use=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=XD(cse,n);return a.jsx(Ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":JD(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Be(t.onClick,i.onOpenToggle)})});use.displayName=cse;var QD="CollapsibleContent",dse=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=XD(QD,t.__scopeCollapsible);return a.jsx(Qi,{present:n||i.open,children:({present:s})=>a.jsx(T7e,{...r,ref:e,present:s})})});dse.displayName=QD;var T7e=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=XD(QD,n),[l,c]=w.useState(r),u=w.useRef(null),f=Et(e,u),h=w.useRef(0),p=h.current,g=w.useRef(0),v=g.current,y=o.open||l,b=w.useRef(y),S=w.useRef();return w.useEffect(()=>{const N=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(N)},[]),xr(()=>{const N=u.current;if(N){S.current=S.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const k=N.getBoundingClientRect();h.current=k.height,g.current=k.width,b.current||(N.style.transitionDuration=S.current.transitionDuration,N.style.animationName=S.current.animationName),c(r)}},[o.open,r]),a.jsx(Ge.div,{"data-state":JD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&i})});function JD(t){return t?"open":"closed"}var P7e=lse,I7e=use,R7e=dse,Hl="Accordion",O7e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ZD,M7e,D7e]=Nx(Hl),[DS,vWe]=Xi(Hl,[D7e,ose]),e4=ose(),fse=X.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return a.jsx(ZD.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?a.jsx(V7e,{...s,ref:e}):a.jsx($7e,{...i,ref:e})})});fse.displayName=Hl;var[hse,L7e]=DS(Hl),[mse,F7e]=DS(Hl,{collapsible:!1}),$7e=X.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[l,c]=Yi({prop:n,defaultProp:r,onChange:i});return a.jsx(hse,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:X.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(mse,{scope:t.__scopeAccordion,collapsible:s,children:a.jsx(pse,{...o,ref:e})})})}),V7e=X.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],l]=Yi({prop:n,defaultProp:r,onChange:i}),c=X.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=X.useCallback(f=>l((h=[])=>h.filter(p=>p!==f)),[l]);return a.jsx(hse,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(mse,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(pse,{...s,ref:e})})})}),[B7e,LS]=DS(Hl),pse=X.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,l=X.useRef(null),c=Et(l,e),u=M7e(n),h=cf(i)==="ltr",p=Be(t.onKeyDown,g=>{var I;if(!O7e.includes(g.key))return;const v=g.target,y=u().filter(P=>{var M;return!((M=P.ref.current)!=null&&M.disabled)}),b=y.findIndex(P=>P.ref.current===v),S=y.length;if(b===-1)return;g.preventDefault();let N=b;const k=0,E=S-1,A=()=>{N=b+1,N>E&&(N=k)},C=()=>{N=b-1,N<k&&(N=E)};switch(g.key){case"Home":N=k;break;case"End":N=E;break;case"ArrowRight":s==="horizontal"&&(h?A():C());break;case"ArrowDown":s==="vertical"&&A();break;case"ArrowLeft":s==="horizontal"&&(h?C():A());break;case"ArrowUp":s==="vertical"&&C();break}const T=N%S;(I=y[T].ref.current)==null||I.focus()});return a.jsx(B7e,{scope:n,disabled:r,direction:i,orientation:s,children:a.jsx(ZD.Slot,{scope:n,children:a.jsx(Ge.div,{...o,"data-orientation":s,ref:c,onKeyDown:r?void 0:p})})})}),F1="AccordionItem",[U7e,t4]=DS(F1),gse=X.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=LS(F1,n),o=L7e(F1,n),l=e4(n),c=ka(),u=r&&o.value.includes(r)||!1,f=s.disabled||t.disabled;return a.jsx(U7e,{scope:n,open:u,disabled:f,triggerId:c,children:a.jsx(P7e,{"data-orientation":s.orientation,"data-state":jse(u),...l,...i,ref:e,disabled:f,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});gse.displayName=F1;var yse="AccordionHeader",xse=X.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=LS(Hl,n),s=t4(yse,n);return a.jsx(Ge.h3,{"data-orientation":i.orientation,"data-state":jse(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});xse.displayName=yse;var DI="AccordionTrigger",vse=X.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=LS(Hl,n),s=t4(DI,n),o=F7e(DI,n),l=e4(n);return a.jsx(ZD.ItemSlot,{scope:n,children:a.jsx(I7e,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...r,ref:e})})});vse.displayName=DI;var bse="AccordionContent",wse=X.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=LS(Hl,n),s=t4(bse,n),o=e4(n);return a.jsx(R7e,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});wse.displayName=bse;function jse(t){return t?"open":"closed"}var z7e=fse,q7e=gse,H7e=xse,Sse=vse,Nse=wse;const W7e=z7e,_se=w.forwardRef(({className:t,...e},n)=>a.jsx(q7e,{ref:n,className:st("border-b",t),...e}));_se.displayName="AccordionItem";const kse=w.forwardRef(({className:t,children:e,...n},r)=>a.jsx(H7e,{className:"flex",children:a.jsxs(Sse,{ref:r,className:st("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,a.jsx(HI,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));kse.displayName=Sse.displayName;const Ase=w.forwardRef(({className:t,children:e,...n},r)=>a.jsx(Nse,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:st("pb-4 pt-0",t),children:e})}));Ase.displayName=Nse.displayName;const G7e=()=>{$n();const[t,e]=w.useState("");Vn(),lt(Oe).currentUser;const r=[{id:"general",name:"General",icon:a.jsx(ys,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What is SafeBite?",answer:"SafeBite is a comprehensive food safety and nutrition platform designed to help you make informed decisions about the food you consume. It provides nutritional information, recipe suggestions, food safety alerts, and personalized health insights."},{question:"Is SafeBite free to use?",answer:"Yes, SafeBite offers a free tier with access to basic features. Premium features may require a subscription in future updates, but all current functionality is available for free."},{question:"How do I create an account?",answer:`Click on the "Sign Up" button in the top navigation bar, fill in your details, and follow the verification process. You can also use the guest mode to explore the platform without creating an account, but your data won't be saved.`},{question:"What's the difference between guest mode and a registered account?",answer:"Guest mode allows you to explore SafeBite without creating an account, but your data won't be saved between sessions and some features have usage limits. A registered account gives you full access to all features, saves your preferences, and provides personalized recommendations."},{question:"How does SafeBite handle my data?",answer:"SafeBite takes your privacy seriously. We only collect data necessary to provide our services and improve your experience. Your personal information is never sold to third parties. You can review our full privacy policy in the Settings page."}]},{id:"features",name:"Features",icon:a.jsx(Rn,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What features does SafeBite offer?",answer:"SafeBite offers food search with nutritional information, recipe suggestions, food safety alerts, health tools, community features, personalized dashboard, weekly health check-ins, and an AI assistant to help with nutrition and health questions."},{question:"How do I use the AI assistant?",answer:"The AI assistant is available through the chat icon in the bottom right corner of the screen. Click on it to start a conversation. You can ask questions about nutrition, food safety, recipes, or navigate to different parts of the application."},{question:"What are Health Tools?",answer:"Health Tools is a collection of calculators and analyzers to help you track and understand various aspects of your health, including BMI calculator, calorie needs estimator, sleep quality analyzer, stress level assessment, and more."},{question:"How do I search for food information?",answer:"Navigate to the Nutrition tab in the sidebar, then use the search bar to look up any food item. You can search by name, scan barcodes (on mobile), or upload product images for analysis."},{question:"How accurate is the nutritional information?",answer:"SafeBite uses data from multiple reliable sources including government databases and verified third-party APIs. While we strive for accuracy, nutritional content can vary based on preparation methods and specific brands."}]},{id:"account",name:"Account",icon:a.jsx(Ra,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"How do I update my profile information?",answer:"Click on your profile picture in the sidebar to open the profile popup. From there, you can update your display name, email, password, and preferences."},{question:"Can I delete my account?",answer:"Yes, you can delete your account from the Settings page. Please note that this action is irreversible and all your data will be permanently deleted."},{question:"How do I change my password?",answer:"Click on your profile picture in the sidebar, go to the Account tab, and use the password update section to set a new password."},{question:"What happens if I forget my password?",answer:'On the login page, click "Forgot Password" and follow the instructions to reset your password via email.'},{question:"How do I switch between guest mode and my account?",answer:"If you're in guest mode, you can sign up or log in through the login page. If you're logged in, you can sign out using the button in the sidebar."}]},{id:"technical",name:"Technical",icon:a.jsx(Ax,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"Which browsers are supported?",answer:"SafeBite works best on modern browsers like Chrome, Firefox, Safari, and Edge. We recommend keeping your browser updated to the latest version for optimal performance."},{question:"Is SafeBite available as a mobile app?",answer:"Currently, SafeBite is a web application optimized for both desktop and mobile browsers. A dedicated mobile app is planned for future releases."},{question:"Why am I experiencing slow performance?",answer:"Performance issues can be caused by slow internet connection, browser cache, or device limitations. Try clearing your browser cache, closing unnecessary tabs, and ensuring you have a stable internet connection."},{question:"How do I report a bug?",answer:"You can report bugs through the feedback form in the Settings page or by contacting our support team directly at support@safebite.example.com."},{question:"Does SafeBite work offline?",answer:"Some basic features may work offline if you've previously loaded them, but most functionality requires an internet connection to access our databases and APIs."}]}],i=[{id:"getting-started",title:"Getting Started with SafeBite",description:"Learn the basics of using SafeBite to improve your nutrition and food safety.",icon:a.jsx(v_,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/getting-started"},{id:"food-search",title:"How to Search for Food Information",description:"Master the food search feature to get detailed nutritional information.",icon:a.jsx(In,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/food-search"},{id:"recipes",title:"Finding and Saving Recipes",description:"Discover healthy recipes and save your favorites for quick access.",icon:a.jsx(tf,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/recipes"},{id:"health-tools",title:"Using Health Tools",description:"Get the most out of the health calculators and analyzers.",icon:a.jsx(Vc,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/health-tools"},{id:"weekly-check",title:"Weekly Health Check-ins",description:"Track your progress and get personalized insights with weekly check-ins.",icon:a.jsx(Zn,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/weekly-check"},{id:"ai-assistant",title:"Chatting with the AI Assistant",description:"Learn how to effectively use the AI assistant for nutrition advice.",icon:a.jsx(Eb,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/ai-assistant"}],s=t.trim()===""?r:r.map(c=>({...c,faqs:c.faqs.filter(u=>u.question.toLowerCase().includes(t.toLowerCase())||u.answer.toLowerCase().includes(t.toLowerCase()))})).filter(c=>c.faqs.length>0),o=t.trim()===""?i:i.filter(c=>c.title.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())),l=c=>{alert(`The "${c.title}" guide is coming soon!`)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(Rn,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(Rn,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx(Ha,{}),a.jsx(av,{currentPage:"help",initialMessage:"Hi! I can help you find answers to your questions about SafeBite. What would you like to know?"}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"Help Center"})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(ys,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Find answers to your questions and learn how to use SafeBite effectively."]})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-safebite-text-secondary h-5 w-5"}),a.jsx(bt,{type:"text",placeholder:"Search for help topics...",className:"pl-10 bg-safebite-card-bg/70 border-safebite-teal/20 focus:border-safebite-teal/60 text-safebite-text",value:t,onChange:c=>e(c.target.value)})]})}),a.jsxs(pi,{defaultValue:"faqs",className:"w-full",children:[a.jsxs(Qr,{className:"grid grid-cols-3 mb-6 bg-safebite-card-bg/70 border border-safebite-teal/20",children:[a.jsxs(ft,{value:"faqs",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(ys,{className:"h-4 w-4 mr-2"}),"FAQs"]}),a.jsxs(ft,{value:"guides",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(v_,{className:"h-4 w-4 mr-2"}),"Guides"]}),a.jsxs(ft,{value:"contact",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(Eb,{className:"h-4 w-4 mr-2"}),"Contact Us"]})]}),a.jsxs(St,{value:"faqs",className:"space-y-6",children:[t.trim()!==""&&s.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ys,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No results found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any FAQs matching your search. Try different keywords or contact us for help."})]}),s.map(c=>a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[c.icon,a.jsx("span",{className:"ml-2",children:c.name})]})}),a.jsx(Fe,{children:a.jsx(W7e,{type:"single",collapsible:!0,className:"w-full",children:c.faqs.map((u,f)=>a.jsxs(_se,{value:`item-${f}`,className:"border-safebite-teal/20",children:[a.jsx(kse,{className:"text-safebite-text hover:text-safebite-teal",children:u.question}),a.jsx(Ase,{className:"text-safebite-text-secondary",children:u.answer})]},f))})})]},c.id))]}),a.jsxs(St,{value:"guides",className:"space-y-6",children:[t.trim()!==""&&o.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(v_,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No guides found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any guides matching your search. Try different keywords or check the FAQs section."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(c=>a.jsx(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 cursor-pointer",onClick:()=>l(c),children:a.jsx(Fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"rounded-full p-2 bg-safebite-teal/10 mr-4",children:c.icon}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium mb-2 flex items-center",children:[c.title,a.jsx(Se,{className:"ml-2 bg-safebite-teal/20 text-safebite-teal text-[10px]",children:"Coming Soon"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-3",children:c.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-teal",children:[a.jsx("span",{children:"Read guide"}),a.jsx(g7,{className:"h-3 w-3 ml-1"})]})]})]})})},c.id))})]}),a.jsx(St,{value:"contact",className:"space-y-6",children:a.jsxs(Ee,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(Xe,{children:a.jsxs(Qe,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Eb,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Contact Us"]})}),a.jsxs(Fe,{className:"space-y-6",children:[a.jsxs("div",{className:"bg-safebite-teal/10 border border-safebite-teal/30 rounded-md p-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Need help with SafeBite?"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Our support team is here to help you with any questions or issues you may have."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(Eb,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Chat Support"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Use our AI assistant in the bottom right corner for immediate help."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(O2,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Documentation"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Check our comprehensive guides and FAQs for detailed information."})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Email:"}),a.jsxs("a",{href:"mailto:support@safebite.example.com",className:"text-safebite-teal hover:underline flex items-center",children:["support@safebite.example.com",a.jsx(Yr,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Twitter:"}),a.jsxs("a",{href:"https://twitter.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["@safebite",a.jsx(Yr,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"GitHub:"}),a.jsxs("a",{href:"https://github.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["github.com/safebite",a.jsx(Yr,{className:"h-3 w-3 ml-1"})]})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Feedback"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're constantly improving SafeBite based on your feedback. Let us know what you think!"}),a.jsx(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Send Feedback"})]})]})]})})]})]})]})]})},K7e=[{version:"3.0",date:"2023-07-15",title:"Major Update: Enhanced User Experience",description:"This release focuses on improving the overall user experience with location-based food delivery, enhanced AI chatbot, and a unified notification system.",changes:[{type:"feature",title:"Location-Based Food Delivery",description:"Added location-based restaurant recommendations with distance information in kilometers.",icon:a.jsx(rle,{className:"h-4 w-4 text-blue-400"})},{type:"feature",title:"Enhanced AI Chatbot",description:"Completely redesigned chatbot with context awareness, typing indicators, voice input/output, and personalized suggestions.",icon:a.jsx(kd,{className:"h-4 w-4 text-green-400"})},{type:"feature",title:"Unified Notification System",description:"New notification center with categorized notifications, filtering, and batch actions.",icon:a.jsx(Ia,{className:"h-4 w-4 text-amber-400"})},{type:"feature",title:"Achievement Badges",description:"Added achievement badges system to track user progress and engagement.",icon:a.jsx(Kc,{className:"h-4 w-4 text-purple-400"})},{type:"improvement",title:"Improved Authentication Persistence",description:"Fixed issues with users getting logged out when refreshing the page.",icon:a.jsx(Ws,{className:"h-4 w-4 text-teal-400"})},{type:"improvement",title:"Responsive Design Enhancements",description:"Improved mobile responsiveness across all pages and components.",icon:a.jsx(Fr,{className:"h-4 w-4 text-pink-400"})},{type:"fix",title:"UI Bug Fixes",description:"Fixed overlapping notifications, icon positioning, and other minor UI issues.",icon:a.jsx(p7,{className:"h-4 w-4 text-red-400"})},{type:"improvement",title:"Performance Optimizations",description:"Improved loading times and overall application performance.",icon:a.jsx(dle,{className:"h-4 w-4 text-orange-400"})}]},{version:"2.5",date:"2023-06-01",title:"Weekly Health Check-in & Dashboard Improvements",description:"This release introduces weekly health check-ins and improved dashboard visualizations.",changes:[{type:"feature",title:"Weekly Health Check-in",description:"Added weekly questionnaire to track health progress and provide personalized recommendations.",icon:a.jsx(z1,{className:"h-4 w-4 text-green-400"})},{type:"feature",title:"Enhanced Dashboard Charts",description:"Improved dashboard with interactive charts and visualizations for health data.",icon:a.jsx(uy,{className:"h-4 w-4 text-blue-400"})},{type:"feature",title:"Health Data Visualization",description:"Added detailed visualizations for weight, activity, and nutrition data.",icon:a.jsx(Kr,{className:"h-4 w-4 text-purple-400"})},{type:"improvement",title:"AI Chatbot with Gemini",description:"Upgraded AI chatbot to use Google Gemini for more accurate and helpful responses.",icon:a.jsx(Fg,{className:"h-4 w-4 text-teal-400"})},{type:"improvement",title:"User Activity Tracking",description:"Enhanced user activity tracking for better personalization.",icon:a.jsx(j7,{className:"h-4 w-4 text-amber-400"})},{type:"fix",title:"Firebase Security",description:"Improved Firebase security rules and authentication flow.",icon:a.jsx(Ws,{className:"h-4 w-4 text-red-400"})}]},{version:"2.0",date:"2023-04-15",title:"Food Delivery Integration & UI Refresh",description:"This release introduces food delivery integration and a refreshed user interface.",changes:[{type:"feature",title:"Food Delivery Integration",description:"Added integration with food delivery services to search and order food.",icon:a.jsx(Cx,{className:"h-4 w-4 text-orange-400"})},{type:"feature",title:"UI Refresh",description:"Completely redesigned user interface with a modern sci-fi aesthetic.",icon:a.jsx(Rn,{className:"h-4 w-4 text-pink-400"})},{type:"feature",title:"Nutrition Search",description:"Enhanced nutrition search with detailed information and recommendations.",icon:a.jsx(In,{className:"h-4 w-4 text-green-400"})},{type:"improvement",title:"Recipe Recommendations",description:"Improved recipe recommendations based on user preferences and health goals.",icon:a.jsx(gr,{className:"h-4 w-4 text-blue-400"})},{type:"improvement",title:"User Settings",description:"Added more user settings for customization and personalization.",icon:a.jsx(Ax,{className:"h-4 w-4 text-purple-400"})},{type:"fix",title:"Performance Improvements",description:"Fixed performance issues and improved loading times.",icon:a.jsx(Fr,{className:"h-4 w-4 text-amber-400"})}]}],Y7e=()=>a.jsxs("div",{className:"min-h-screen flex flex-col bg-safebite-dark-blue",children:[a.jsx(ase,{}),a.jsxs("main",{className:"flex-1 py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Changelog"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"A detailed history of updates and improvements to SafeBite"})]}),a.jsx(ee,{variant:"outline",className:"sci-fi-button",asChild:!0,children:a.jsxs(un,{to:"/",children:[a.jsx(UI,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]}),a.jsx("div",{className:"space-y-12",children:K7e.map((t,e)=>a.jsxs("div",{className:"sci-fi-card p-6 bg-safebite-card-bg border border-safebite-teal/20 rounded-lg",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2 sm:mb-0",children:[a.jsx("div",{className:"bg-safebite-teal/10 text-safebite-teal p-2 rounded-full mr-3",children:a.jsx(go,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-safebite-text",children:["Version ",t.version]}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(dn,{className:"h-3 w-3 mr-1"}),t.date]})]})]}),a.jsx(Se,{className:"bg-safebite-teal text-safebite-dark-blue",children:e===0?"Latest":"Previous"})]}),a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-2",children:t.title}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:t.description}),a.jsx(fd,{className:"mb-6 bg-safebite-card-bg-alt"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.changes.map((n,r)=>a.jsx("div",{className:`p-4 rounded-lg border ${n.type==="feature"?"border-green-500/20 bg-green-500/5":n.type==="improvement"?"border-blue-500/20 bg-blue-500/5":n.type==="fix"?"border-amber-500/20 bg-amber-500/5":"border-red-500/20 bg-red-500/5"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`p-2 rounded-full mr-3 flex-shrink-0 ${n.type==="feature"?"bg-green-500/20":n.type==="improvement"?"bg-blue-500/20":n.type==="fix"?"bg-amber-500/20":"bg-red-500/20"}`,children:n.icon||(n.type==="feature"?a.jsx(Rn,{className:"h-4 w-4 text-green-400"}):n.type==="improvement"?a.jsx(Fr,{className:"h-4 w-4 text-blue-400"}):n.type==="fix"?a.jsx(p7,{className:"h-4 w-4 text-amber-400"}):a.jsx(Ws,{className:"h-4 w-4 text-red-400"}))}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h4",{className:"font-medium text-safebite-text",children:n.title}),a.jsx(Se,{variant:"outline",className:`ml-2 ${n.type==="feature"?"border-green-500/30 text-green-400":n.type==="improvement"?"border-blue-500/30 text-blue-400":n.type==="fix"?"border-amber-500/30 text-amber-400":"border-red-500/30 text-red-400"}`,children:n.type})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:n.description})]})]})},r))})]},t.version))}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Have suggestions for future updates? We'd love to hear from you!"}),a.jsxs(ee,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(kd,{className:"mr-2 h-4 w-4"}),"Send Feedback"]})]})]}),a.jsx(tp,{})]});class X7e{constructor(){Dn(this,"auth",lt(Oe));Dn(this,"isInitialized",!1);Dn(this,"handleWindowClose",e=>{this.auth.currentUser?(console.log("Window closing, logging out user"),ui.clearSession()):_i.isGuestUser()&&(console.log("Window closing, exiting guest mode"),_i.exitGuestMode())})}initialize(){this.isInitialized||(window.addEventListener("beforeunload",this.handleWindowClose),this.isInitialized=!0,console.log("Window close service initialized - will only logout on browser close"))}cleanup(){window.removeEventListener("beforeunload",this.handleWindowClose),this.isInitialized=!1,console.log("Window close service cleaned up")}}const TH=new X7e,Ls=({children:t,allowGuest:e=!0})=>{const[n,r]=w.useState(!0),[i,s]=w.useState(!1),o=Ua(),{toast:l}=Tt(),c=lt(Oe);return w.useEffect(()=>{if(Rd())return s(!0),r(!1),()=>{};const u=()=>{const h=!!c.currentUser,p=ui.isGuestUser(),g=ui.isAuthenticated(),v=h||e&&p&&g;if(console.log("SimpleAuthGuard - Auth check:",{path:o.pathname,isFirebaseAuth:h,isGuestMode:p,isSessionValid:g,allowGuest:e,authenticated:v}),s(v),r(!1),!g&&h&&ui.refreshSession("logged-in"),!v&&!Rd()){l({title:"Authentication Required",description:e?"Please log in or continue as guest to access this page.":"This feature requires a full account. Please sign up to continue.",variant:"destructive"});const y=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"",b=encodeURIComponent(o.pathname),S=e?`${y}/auth/login?returnUrl=${b}`:`${y}/auth/signup?returnUrl=${b}`;window.location.href=S}};u();const f=bR(c,u);return()=>f()},[c,l,e,o.pathname]),n?a.jsx("div",{className:"flex items-center justify-center h-screen bg-safebite-dark-blue",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text",children:"Verifying authentication..."})]})}):!i&&!Rd()?a.jsx("div",{className:"flex items-center justify-center h-screen bg-safebite-dark-blue",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text",children:"Redirecting to login..."})]})}):a.jsx(a.Fragment,{children:t})},Q7e=()=>{const t=$n();return a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden min-h-screen",children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(Rn,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v3.0 - Production Ready"}),a.jsx(Rn,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg mt-8",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-1",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple animate-gradient-text",children:"Welcome to SafeBite!"})}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Your dashboard for health insights and food safety."})]}),a.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:a.jsxs(ee,{onClick:()=>t("/food-search"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),"Search Food"]})})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Key Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Ee,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-lg",children:[a.jsx(In,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Food Search"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Look up foods for nutrition facts and safety insights."}),a.jsxs(ee,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Try Search",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Ee,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-lg",children:[a.jsx(Vc,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Tools"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Use calculators for BMI, BMR, calories, and more."}),a.jsxs(ee,{onClick:()=>t("/healthbox"),className:"w-full sci-fi-button-alt",children:["Explore Tools",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Ee,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs(Qe,{className:"flex items-center text-lg",children:[a.jsx(Co,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Insights"]})}),a.jsxs(Fe,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Get AI-powered insights about food and nutrition."}),a.jsxs(ee,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Learn More",a.jsx(Pi,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),a.jsx("div",{className:"relative z-10 mb-10",children:a.jsxs(Ee,{className:"sci-fi-card relative overflow-hidden border-orange-500/30 bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-lg bg-gradient-to-r from-orange-600 via-red-500 to-yellow-500 opacity-75 blur animate-pulse-slow"}),a.jsx("div",{className:"relative p-6 bg-safebite-card-bg-alt rounded-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center",children:[a.jsx("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:mr-6",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg",children:a.jsx(Fr,{className:"h-8 w-8 text-white"})})}),a.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl font-semibold text-orange-400 mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Get nutritional insights for meals from Zomato & Swiggy directly within SafeBite."}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start",children:[a.jsx(Se,{variant:"outline",className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:"Now Live"}),a.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Try it now!"})]})]})]})})]})}),a.jsxs("div",{className:"text-center text-safebite-text-secondary text-sm mt-8",children:[a.jsx("p",{children:"SafeBite v3.0"}),a.jsxs("p",{className:"mt-2",children:[a.jsx(ee,{variant:"link",className:"p-0 h-auto text-safebite-teal",onClick:()=>t("/auth/signup"),children:"Sign up"})," for full access to all features."]})]})]})},J7e=new kde,Z7e=()=>{const t=lt(Oe),e=$t(Oe),[n,r]=w.useState(null);w.useEffect(()=>{const c=async()=>{const f=t.currentUser;if(f)try{const h=Ve(e,"users",f.uid),p=await Mt(h);p.exists()?r(p.data()):console.log("No user profile found in App component!")}catch(h){console.error("Error fetching user profile in App:",h)}else r(null)};c();const u=t.onAuthStateChanged(f=>{f?c():r(null)});return()=>u()},[t,e]),w.useEffect(()=>{_H(),TH.initialize();const c=setInterval(()=>{MI()&&!Rd()&&_H()},6e4),u=t.currentUser,f=_i.isGuestUser(),h=ui.isAuthenticated();return console.log("App - Initial auth state:",{path:window.location.pathname,isProtectedPage:MI(),isAuthPage:Rd(),hasUser:!!u,isGuestMode:f,isSessionValid:h}),()=>{TH.cleanup(),clearInterval(c)}},[t]);const[i,s]=X.useState(!1),[o,l]=w.useState(!1);return w.useEffect(()=>{(async()=>{const u=t.currentUser;if(u){const f=Ve(e,"users",u.uid);try{const h=await Mt(f);if(h.exists()){const p=h.data();if(p.weeklyCheckin&&p.weeklyCheckin.lastSubmitted){const g=p.weeklyCheckin.lastSubmitted.toDate(),y=Math.abs(new Date().getTime()-g.getTime()),S=Math.ceil(y/(1e3*60*60*24))<7;l(S),s(!S)}else s(!0)}else s(!0)}catch(h){console.error("Error checking weekly check-in status:",h)}}})()},[t,e]),a.jsx(H2,{children:a.jsxs(Cde,{client:J7e,children:[a.jsxs(Mh,{children:[a.jsx(tce,{}),a.jsx(Tce,{}),a.jsx(rK,{}),a.jsx(Nfe,{basename:"/SafeBite-V1/",children:a.jsxs(gfe,{children:[a.jsx(bn,{path:"/auth/login",element:a.jsx(B1e,{})}),a.jsx(bn,{path:"/auth/signup",element:a.jsx(U1e,{})}),a.jsx(bn,{path:"/auth/forgot-password",element:a.jsx(z1e,{})}),a.jsx(bn,{path:"/about",element:a.jsx(v7e,{})}),a.jsx(bn,{path:"/help",element:a.jsx(G7e,{})}),a.jsx(bn,{path:"/changelog",element:a.jsx(Y7e,{})}),a.jsx(bn,{path:"/",element:a.jsx(cxe,{})}),a.jsx(bn,{path:"/features",element:a.jsx(b7e,{})}),a.jsx(bn,{path:"/questionnaire",element:a.jsx(Ls,{allowGuest:!0,children:a.jsx(nje,{})})}),a.jsx(bn,{path:"/health-check",element:a.jsx(Ls,{children:a.jsx(F1e,{})})}),a.jsx(bn,{path:"/dashboard",element:a.jsx(Ls,{children:a.jsx(H2,{fallback:a.jsx(Q7e,{}),children:a.jsx(eHe,{})})})}),a.jsx(bn,{path:"/nutrition",element:a.jsx(Ls,{children:a.jsx(m7e,{userProfile:n})})}),a.jsx(bn,{path:"/food-search",element:a.jsx(ZL,{to:"/nutrition",replace:!0})}),a.jsx(bn,{path:"/food-delivery",element:a.jsx(Ls,{children:a.jsx(A7e,{})})}),a.jsx(bn,{path:"/product-recommendations",element:a.jsx(Ls,{children:a.jsx(LHe,{})})}),a.jsx(bn,{path:"/products",element:a.jsx(ZL,{to:"/grocery-products",replace:!0})}),a.jsx(bn,{path:"/grocery-products",element:a.jsx(Ls,{children:a.jsx(t7e,{})})}),a.jsx(bn,{path:"/community",element:a.jsx(Ls,{children:a.jsx(rHe,{})})}),a.jsx(bn,{path:"/healthbox",element:a.jsx(Ls,{children:a.jsx(THe,{})})}),a.jsx(bn,{path:"/reports",element:a.jsx(Ls,{children:a.jsx(aHe,{})})}),a.jsx(bn,{path:"/recipes",element:a.jsx(Ls,{children:a.jsx(bHe,{})})}),a.jsx(bn,{path:"/settings",element:a.jsx(Ls,{children:a.jsx(O1e,{})})}),a.jsx(bn,{path:"/admin/login",element:a.jsx(g7e,{})}),a.jsx(bn,{path:"/admin/panel",element:a.jsx(y7e,{})}),a.jsx(bn,{path:"*",element:a.jsx(p7e,{})})]})})]}),a.jsx(av,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or health!",currentPage:"global",userData:{profile:n,recentActivity:[]},autoOpen:!1}),a.jsx($l,{open:i,onOpenChange:s,children:a.jsxs(Vo,{children:[a.jsxs(af,{children:[a.jsx(of,{children:"Weekly Health Check-in"}),a.jsx(lf,{children:"Help us personalize your SafeBite experience by answering a few questions."})]}),a.jsx(AQ,{onComplete:()=>s(!1)})]})})]})})};Bae.createRoot(document.getElementById("root")).render(a.jsx(Z7e,{}));export{MS as A,ese as f};
